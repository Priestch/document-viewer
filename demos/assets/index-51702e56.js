var Js=Object.defineProperty;var Qs=(e,t,o)=>t in e?Js(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var Ke=(e,t,o)=>(Qs(e,typeof t!="symbol"?t+"":t,o),o),Jt=(e,t,o)=>{if(!t.has(e))throw TypeError("Cannot "+o)};var r=(e,t,o)=>(Jt(e,t,"read from private field"),o?o.call(e):t.get(e)),V=(e,t,o)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,o)},pe=(e,t,o,i)=>(Jt(e,t,"write to private field"),i?i.call(e,o):t.set(e,o),o);var lt=(e,t,o,i)=>({set _(u){pe(e,t,u,o)},get _(){return r(e,t,i)}}),X=(e,t,o)=>(Jt(e,t,"access private method"),o);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const L of u)if(L.type==="childList")for(const I of L.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&i(I)}).observe(document,{childList:!0,subtree:!0});function o(u){const L={};return u.integrity&&(L.integrity=u.integrity),u.referrerPolicy&&(L.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?L.credentials="include":u.crossOrigin==="anonymous"?L.credentials="omit":L.credentials="same-origin",L}function i(u){if(u.ep)return;u.ep=!0;const L=o(u);fetch(u.href,L)}})();const main="";function makeMap(e,t){const o=Object.create(null),i=e.split(",");for(let u=0;u<i.length;u++)o[i[u]]=!0;return t?u=>!!o[u.toLowerCase()]:u=>!!o[u]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>isObject(e)&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,o)=>o?o.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let o=0;o<e.length;o++)e[o](t)},def=(e,t,o)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:o})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray$1(e)){const t={};for(let o=0;o<e.length;o++){const i=e[o],u=isString(i)?parseStringStyle(i):normalizeStyle(i);if(u)for(const L in u)t[L]=u[L]}return t}else{if(isString(e))return e;if(isObject(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(o=>{if(o){const i=o.split(propertyDelimiterRE);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray$1(e))for(let o=0;o<e.length;o++){const i=normalizeClass(e[o]);i&&(t+=i+" ")}else if(isObject(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const o=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=o}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let o,i;for(o=0,i=this.effects.length;o<i;o++)this.effects[o].stop();for(o=0,i=this.cleanups.length;o<i;o++)this.cleanups[o]();if(this.scopes)for(o=0,i=this.scopes.length;o<i;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!t){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let o=0;for(let i=0;i<t.length;i++){const u=t[i];wasTracked(u)&&!newTracked(u)?u.delete(e):t[o++]=u,u.w&=~trackOpBit,u.n&=~trackOpBit}t.length=o}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,o=null,i){this.fn=t,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,i)}run(){if(!this.active)return this.fn();let t=activeEffect,o=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let o=0;o<t.length;o++)t[o].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,o){if(shouldTrack&&activeEffect){let i=targetMap.get(e);i||targetMap.set(e,i=new Map);let u=i.get(o);u||i.set(o,u=createDep()),trackEffects(u)}}function trackEffects(e,t){let o=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,o=!wasTracked(e)):o=!e.has(activeEffect),o&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,o,i,u,L){const I=targetMap.get(e);if(!I)return;let b=[];if(t==="clear")b=[...I.values()];else if(o==="length"&&isArray$1(e)){const f=Number(i);I.forEach((s,a)=>{(a==="length"||a>=f)&&b.push(s)})}else switch(o!==void 0&&b.push(I.get(o)),t){case"add":isArray$1(e)?isIntegerKey(o)&&b.push(I.get("length")):(b.push(I.get(ITERATE_KEY)),isMap(e)&&b.push(I.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(e)||(b.push(I.get(ITERATE_KEY)),isMap(e)&&b.push(I.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&b.push(I.get(ITERATE_KEY));break}if(b.length===1)b[0]&&triggerEffects(b[0]);else{const f=[];for(const s of b)s&&f.push(...s);triggerEffects(createDep(f))}}function triggerEffects(e,t){const o=isArray$1(e)?e:[...e];for(const i of o)i.computed&&triggerEffect(i);for(const i of o)i.computed||triggerEffect(i)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...o){const i=toRaw(this);for(let L=0,I=this.length;L<I;L++)track(i,"get",L+"");const u=i[t](...o);return u===-1||u===!1?i[t](...o.map(toRaw)):u}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...o){pauseTracking();const i=toRaw(this)[t].apply(this,o);return resetTracking(),i}}),e}function hasOwnProperty(e){const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}function createGetter(e=!1,t=!1){return function(i,u,L){if(u==="__v_isReactive")return!e;if(u==="__v_isReadonly")return e;if(u==="__v_isShallow")return t;if(u==="__v_raw"&&L===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(i))return i;const I=isArray$1(i);if(!e){if(I&&hasOwn(arrayInstrumentations,u))return Reflect.get(arrayInstrumentations,u,L);if(u==="hasOwnProperty")return hasOwnProperty}const b=Reflect.get(i,u,L);return(isSymbol(u)?builtInSymbols.has(u):isNonTrackableKeys(u))||(e||track(i,"get",u),t)?b:isRef(b)?I&&isIntegerKey(u)?b:b.value:isObject(b)?e?readonly(b):reactive(b):b}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(o,i,u,L){let I=o[i];if(isReadonly(I)&&isRef(I)&&!isRef(u))return!1;if(!e&&(!isShallow(u)&&!isReadonly(u)&&(I=toRaw(I),u=toRaw(u)),!isArray$1(o)&&isRef(I)&&!isRef(u)))return I.value=u,!0;const b=isArray$1(o)&&isIntegerKey(i)?Number(i)<o.length:hasOwn(o,i),f=Reflect.set(o,i,u,L);return o===toRaw(L)&&(b?hasChanged(u,I)&&trigger(o,"set",i,u):trigger(o,"add",i,u)),f}}function deleteProperty(e,t){const o=hasOwn(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&o&&trigger(e,"delete",t,void 0),i}function has$1(e,t){const o=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),o}function ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get(e,t,o=!1,i=!1){e=e.__v_raw;const u=toRaw(e),L=toRaw(t);o||(t!==L&&track(u,"get",t),track(u,"get",L));const{has:I}=getProto(u),b=i?toShallow:o?toReadonly:toReactive;if(I.call(u,t))return b(e.get(t));if(I.call(u,L))return b(e.get(L));e!==u&&e.get(t)}function has(e,t=!1){const o=this.__v_raw,i=toRaw(o),u=toRaw(e);return t||(e!==u&&track(i,"has",e),track(i,"has",u)),e===u?o.has(e):o.has(e)||o.has(u)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set(e,t){t=toRaw(t);const o=toRaw(this),{has:i,get:u}=getProto(o);let L=i.call(o,e);L||(e=toRaw(e),L=i.call(o,e));const I=u.call(o,e);return o.set(e,t),L?hasChanged(t,I)&&trigger(o,"set",e,t):trigger(o,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:o,get:i}=getProto(t);let u=o.call(t,e);u||(e=toRaw(e),u=o.call(t,e)),i&&i.call(t,e);const L=t.delete(e);return u&&trigger(t,"delete",e,void 0),L}function clear(){const e=toRaw(this),t=e.size!==0,o=e.clear();return t&&trigger(e,"clear",void 0,void 0),o}function createForEach(e,t){return function(i,u){const L=this,I=L.__v_raw,b=toRaw(I),f=t?toShallow:e?toReadonly:toReactive;return!e&&track(b,"iterate",ITERATE_KEY),I.forEach((s,a)=>i.call(u,f(s),f(a),L))}}function createIterableMethod(e,t,o){return function(...i){const u=this.__v_raw,L=toRaw(u),I=isMap(L),b=e==="entries"||e===Symbol.iterator&&I,f=e==="keys"&&I,s=u[e](...i),a=o?toShallow:t?toReadonly:toReactive;return!t&&track(L,"iterate",f?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:P,done:S}=s.next();return S?{value:P,done:S}:{value:b?[a(P[0]),a(P[1])]:a(P),done:S}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(L){return get(this,L)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(L){return get(this,L,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},o={get(L){return get(this,L,!0)},get size(){return size(this,!0)},has(L){return has.call(this,L,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},i={get(L){return get(this,L,!0,!0)},get size(){return size(this,!0)},has(L){return has.call(this,L,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(L=>{e[L]=createIterableMethod(L,!1,!1),o[L]=createIterableMethod(L,!0,!1),t[L]=createIterableMethod(L,!1,!0),i[L]=createIterableMethod(L,!0,!0)}),[e,o,t,i]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const o=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(i,u,L)=>u==="__v_isReactive"?!e:u==="__v_isReadonly"?e:u==="__v_raw"?i:Reflect.get(hasOwn(o,u)&&u in i?o:i,u,L)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,o,i,u){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const L=u.get(e);if(L)return L;const I=getTargetType(e);if(I===0)return e;const b=new Proxy(e,I===2?i:o);return u.set(e,b),b}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e);const o=e.dep;o&&triggerEffects(o)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?t:toRaw(t),this._value=o?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const o=this.__v_isShallow||isShallow(t)||isReadonly(t);t=o?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=o?t:toReactive(t),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,o)=>unref(Reflect.get(e,t,o)),set:(e,t,o,i)=>{const u=e[t];return isRef(u)&&!isRef(o)?(u.value=o,!0):Reflect.set(e,t,o,i)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(t,o,i,u){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=i}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function computed$1(e,t,o=!1){let i,u;const L=isFunction(e);return L?(i=e,u=NOOP):(i=e.get,u=e.set),new ComputedRefImpl(i,u,L||!u,o)}function warn(e,...t){}function callWithErrorHandling(e,t,o,i){let u;try{u=i?e(...i):e()}catch(L){handleError(L,t,o)}return u}function callWithAsyncErrorHandling(e,t,o,i){if(isFunction(e)){const L=callWithErrorHandling(e,t,o,i);return L&&isPromise(L)&&L.catch(I=>{handleError(I,t,o)}),L}const u=[];for(let L=0;L<e.length;L++)u.push(callWithAsyncErrorHandling(e[L],t,o,i));return u}function handleError(e,t,o,i=!0){const u=t?t.vnode:null;if(t){let L=t.parent;const I=t.proxy,b=o;for(;L;){const s=L.ec;if(s){for(let a=0;a<s.length;a++)if(s[a](e,I,b)===!1)return}L=L.parent}const f=t.appContext.config.errorHandler;if(f){callWithErrorHandling(f,null,10,[e,I,b]);return}}logError(e,o,u,i)}function logError(e,t,o,i=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,o=queue.length;for(;t<o;){const i=t+o>>>1;getId(queue[i])<e?t=i+1:o=i}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const o=queue[t];o&&o.pre&&(queue.splice(t,1),t--,o())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((o,i)=>getId(o)-getId(i)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const o=getId(e)-getId(t);if(o===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return o};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const o=queue[flushIndex];o&&o.active!==!1&&callWithErrorHandling(o,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(e,t,...o){if(e.isUnmounted)return;const i=e.vnode.props||EMPTY_OBJ;let u=o;const L=t.startsWith("update:"),I=L&&t.slice(7);if(I&&I in i){const a=`${I==="modelValue"?"model":I}Modifiers`,{number:P,trim:S}=i[a]||EMPTY_OBJ;S&&(u=o.map(R=>isString(R)?R.trim():R)),P&&(u=o.map(looseToNumber))}let b,f=i[b=toHandlerKey(t)]||i[b=toHandlerKey(camelize(t))];!f&&L&&(f=i[b=toHandlerKey(hyphenate(t))]),f&&callWithAsyncErrorHandling(f,e,6,u);const s=i[b+"Once"];if(s){if(!e.emitted)e.emitted={};else if(e.emitted[b])return;e.emitted[b]=!0,callWithAsyncErrorHandling(s,e,6,u)}}function normalizeEmitsOptions(e,t,o=!1){const i=t.emitsCache,u=i.get(e);if(u!==void 0)return u;const L=e.emits;let I={},b=!1;if(!isFunction(e)){const f=s=>{const a=normalizeEmitsOptions(s,t,!0);a&&(b=!0,extend(I,a))};!o&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!L&&!b?(isObject(e)&&i.set(e,null),null):(isArray$1(L)?L.forEach(f=>I[f]=null):extend(I,L),isObject(e)&&i.set(e,I),I)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,t=currentRenderingInstance,o){if(!t||e._n)return e;const i=(...u)=>{i._d&&setBlockTracking(-1);const L=setCurrentRenderingInstance(t);let I;try{I=e(...u)}finally{setCurrentRenderingInstance(L),i._d&&setBlockTracking(1)}return I};return i._n=!0,i._c=!0,i._d=!0,i}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:o,proxy:i,withProxy:u,props:L,propsOptions:[I],slots:b,attrs:f,emit:s,render:a,renderCache:P,data:S,setupState:R,ctx:n,inheritAttrs:g}=e;let m,A;const T=setCurrentRenderingInstance(e);try{if(o.shapeFlag&4){const C=u||i;m=normalizeVNode(a.call(C,C,P,L,R,S,n)),A=f}else{const C=t;m=normalizeVNode(C.length>1?C(L,{attrs:f,slots:b,emit:s}):C(L,null)),A=t.props?f:getFunctionalFallthrough(f)}}catch(C){blockStack.length=0,handleError(C,e,1),m=createVNode(Comment)}let E=m;if(A&&g!==!1){const C=Object.keys(A),{shapeFlag:l}=E;C.length&&l&7&&(I&&C.some(isModelListener)&&(A=filterModelListeners(A,I)),E=cloneVNode(E,A))}return o.dirs&&(E=cloneVNode(E),E.dirs=E.dirs?E.dirs.concat(o.dirs):o.dirs),o.transition&&(E.transition=o.transition),m=E,setCurrentRenderingInstance(T),m}const getFunctionalFallthrough=e=>{let t;for(const o in e)(o==="class"||o==="style"||isOn(o))&&((t||(t={}))[o]=e[o]);return t},filterModelListeners=(e,t)=>{const o={};for(const i in e)(!isModelListener(i)||!(i.slice(9)in t))&&(o[i]=e[i]);return o};function shouldUpdateComponent(e,t,o){const{props:i,children:u,component:L}=e,{props:I,children:b,patchFlag:f}=t,s=L.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&f>=0){if(f&1024)return!0;if(f&16)return i?hasPropsChanged(i,I,s):!!I;if(f&8){const a=t.dynamicProps;for(let P=0;P<a.length;P++){const S=a[P];if(I[S]!==i[S]&&!isEmitListener(s,S))return!0}}}else return(u||b)&&(!b||!b.$stable)?!0:i===I?!1:i?I?hasPropsChanged(i,I,s):!0:!!I;return!1}function hasPropsChanged(e,t,o){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let u=0;u<i.length;u++){const L=i[u];if(t[L]!==e[L]&&!isEmitListener(o,L))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},o){for(;t&&t.subTree===e;)(e=t.vnode).el=o,t=t.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$1(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const INITIAL_WATCHER_VALUE={};function watch(e,t,o){return doWatch(e,t,o)}function doWatch(e,t,{immediate:o,deep:i,flush:u,onTrack:L,onTrigger:I}=EMPTY_OBJ){var b;const f=getCurrentScope()===((b=currentInstance)==null?void 0:b.scope)?currentInstance:null;let s,a=!1,P=!1;if(isRef(e)?(s=()=>e.value,a=isShallow(e)):isReactive(e)?(s=()=>e,i=!0):isArray$1(e)?(P=!0,a=e.some(C=>isReactive(C)||isShallow(C)),s=()=>e.map(C=>{if(isRef(C))return C.value;if(isReactive(C))return traverse(C);if(isFunction(C))return callWithErrorHandling(C,f,2)})):isFunction(e)?t?s=()=>callWithErrorHandling(e,f,2):s=()=>{if(!(f&&f.isUnmounted))return S&&S(),callWithAsyncErrorHandling(e,f,3,[R])}:s=NOOP,t&&i){const C=s;s=()=>traverse(C())}let S,R=C=>{S=T.onStop=()=>{callWithErrorHandling(C,f,4)}},n;if(isInSSRComponentSetup)if(R=NOOP,t?o&&callWithAsyncErrorHandling(t,f,3,[s(),P?[]:void 0,R]):s(),u==="sync"){const C=useSSRContext();n=C.__watcherHandles||(C.__watcherHandles=[])}else return NOOP;let g=P?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const m=()=>{if(T.active)if(t){const C=T.run();(i||a||(P?C.some((l,c)=>hasChanged(l,g[c])):hasChanged(C,g)))&&(S&&S(),callWithAsyncErrorHandling(t,f,3,[C,g===INITIAL_WATCHER_VALUE?void 0:P&&g[0]===INITIAL_WATCHER_VALUE?[]:g,R]),g=C)}else T.run()};m.allowRecurse=!!t;let A;u==="sync"?A=m:u==="post"?A=()=>queuePostRenderEffect(m,f&&f.suspense):(m.pre=!0,f&&(m.id=f.uid),A=()=>queueJob(m));const T=new ReactiveEffect(s,A);t?o?m():g=T.run():u==="post"?queuePostRenderEffect(T.run.bind(T),f&&f.suspense):T.run();const E=()=>{T.stop(),f&&f.scope&&remove(f.scope.effects,T)};return n&&n.push(E),E}function instanceWatch(e,t,o){const i=this.proxy,u=isString(e)?e.includes(".")?createPathGetter(i,e):()=>i[e]:e.bind(i,i);let L;isFunction(t)?L=t:(L=t.handler,o=t);const I=currentInstance;setCurrentInstance(this);const b=doWatch(u,L.bind(i),o);return I?setCurrentInstance(I):unsetCurrentInstance(),b}function createPathGetter(e,t){const o=t.split(".");return()=>{let i=e;for(let u=0;u<o.length&&i;u++)i=i[o[u]];return i}}function traverse(e,t){if(!isObject(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray$1(e))for(let o=0;o<e.length;o++)traverse(e[o],t);else if(isSet(e)||isMap(e))e.forEach(o=>{traverse(o,t)});else if(isPlainObject(e))for(const o in e)traverse(e[o],t);return e}function invokeDirectiveHook(e,t,o,i){const u=e.dirs,L=t&&t.dirs;for(let I=0;I<u.length;I++){const b=u[I];L&&(b.oldValue=L[I].value);let f=b.dir[i];f&&(pauseTracking(),callWithAsyncErrorHandling(f,o,8,[e.el,b,e,t]),resetTracking())}}function defineComponent(e,t){return isFunction(e)?(()=>extend({name:e.name},t,{setup:e}))():e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,o=currentInstance){const i=e.__wdc||(e.__wdc=()=>{let u=o;for(;u;){if(u.isDeactivated)return;u=u.parent}return e()});if(injectHook(t,i,o),o){let u=o.parent;for(;u&&u.parent;)isKeepAlive(u.parent.vnode)&&injectToKeepAliveRoot(i,t,o,u),u=u.parent}}function injectToKeepAliveRoot(e,t,o,i){const u=injectHook(t,e,i,!0);onUnmounted(()=>{remove(i[t],u)},o)}function injectHook(e,t,o=currentInstance,i=!1){if(o){const u=o[e]||(o[e]=[]),L=t.__weh||(t.__weh=(...I)=>{if(o.isUnmounted)return;pauseTracking(),setCurrentInstance(o);const b=callWithAsyncErrorHandling(t,o,e,I);return unsetCurrentInstance(),resetTracking(),b});return i?u.unshift(L):u.push(L),L}}const createHook=e=>(t,o=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...i)=>t(...i),o),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc"),getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:o,setupState:i,data:u,props:L,accessCache:I,type:b,appContext:f}=e;let s;if(t[0]!=="$"){const R=I[t];if(R!==void 0)switch(R){case 1:return i[t];case 2:return u[t];case 4:return o[t];case 3:return L[t]}else{if(hasSetupBinding(i,t))return I[t]=1,i[t];if(u!==EMPTY_OBJ&&hasOwn(u,t))return I[t]=2,u[t];if((s=e.propsOptions[0])&&hasOwn(s,t))return I[t]=3,L[t];if(o!==EMPTY_OBJ&&hasOwn(o,t))return I[t]=4,o[t];shouldCacheAccess&&(I[t]=0)}}const a=publicPropertiesMap[t];let P,S;if(a)return t==="$attrs"&&track(e,"get",t),a(e);if((P=b.__cssModules)&&(P=P[t]))return P;if(o!==EMPTY_OBJ&&hasOwn(o,t))return I[t]=4,o[t];if(S=f.config.globalProperties,hasOwn(S,t))return S[t]},set({_:e},t,o){const{data:i,setupState:u,ctx:L}=e;return hasSetupBinding(u,t)?(u[t]=o,!0):i!==EMPTY_OBJ&&hasOwn(i,t)?(i[t]=o,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(L[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:i,appContext:u,propsOptions:L}},I){let b;return!!o[I]||e!==EMPTY_OBJ&&hasOwn(e,I)||hasSetupBinding(t,I)||(b=L[0])&&hasOwn(b,I)||hasOwn(i,I)||hasOwn(publicPropertiesMap,I)||hasOwn(u.config.globalProperties,I)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:hasOwn(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};function normalizePropsOrEmits(e){return isArray$1(e)?e.reduce((t,o)=>(t[o]=null,t),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),o=e.proxy,i=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,e,"bc");const{data:u,computed:L,methods:I,watch:b,provide:f,inject:s,created:a,beforeMount:P,mounted:S,beforeUpdate:R,updated:n,activated:g,deactivated:m,beforeDestroy:A,beforeUnmount:T,destroyed:E,unmounted:C,render:l,renderTracked:c,renderTriggered:y,errorCaptured:v,serverPrefetch:_,expose:O,inheritAttrs:F,components:K,directives:le,filters:B}=t;if(s&&resolveInjections(s,i,null),I)for(const ee in I){const N=I[ee];isFunction(N)&&(i[ee]=N.bind(o))}if(u){const ee=u.call(o,o);isObject(ee)&&(e.data=reactive(ee))}if(shouldCacheAccess=!0,L)for(const ee in L){const N=L[ee],q=isFunction(N)?N.bind(o,o):isFunction(N.get)?N.get.bind(o,o):NOOP,G=!isFunction(N)&&isFunction(N.set)?N.set.bind(o):NOOP,ge=computed({get:q,set:G});Object.defineProperty(i,ee,{enumerable:!0,configurable:!0,get:()=>ge.value,set:Pe=>ge.value=Pe})}if(b)for(const ee in b)createWatcher(b[ee],i,o,ee);if(f){const ee=isFunction(f)?f.call(o):f;Reflect.ownKeys(ee).forEach(N=>{provide(N,ee[N])})}a&&callHook(a,e,"c");function se(ee,N){isArray$1(N)?N.forEach(q=>ee(q.bind(o))):N&&ee(N.bind(o))}if(se(onBeforeMount,P),se(onMounted,S),se(onBeforeUpdate,R),se(onUpdated,n),se(onActivated,g),se(onDeactivated,m),se(onErrorCaptured,v),se(onRenderTracked,c),se(onRenderTriggered,y),se(onBeforeUnmount,T),se(onUnmounted,C),se(onServerPrefetch,_),isArray$1(O))if(O.length){const ee=e.exposed||(e.exposed={});O.forEach(N=>{Object.defineProperty(ee,N,{get:()=>o[N],set:q=>o[N]=q})})}else e.exposed||(e.exposed={});l&&e.render===NOOP&&(e.render=l),F!=null&&(e.inheritAttrs=F),K&&(e.components=K),le&&(e.directives=le)}function resolveInjections(e,t,o=NOOP){isArray$1(e)&&(e=normalizeInject(e));for(const i in e){const u=e[i];let L;isObject(u)?"default"in u?L=inject(u.from||i,u.default,!0):L=inject(u.from||i):L=inject(u),isRef(L)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>L.value,set:I=>L.value=I}):t[i]=L}}function callHook(e,t,o){callWithAsyncErrorHandling(isArray$1(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,o)}function createWatcher(e,t,o,i){const u=i.includes(".")?createPathGetter(o,i):()=>o[i];if(isString(e)){const L=t[e];isFunction(L)&&watch(u,L)}else if(isFunction(e))watch(u,e.bind(o));else if(isObject(e))if(isArray$1(e))e.forEach(L=>createWatcher(L,t,o,i));else{const L=isFunction(e.handler)?e.handler.bind(o):t[e.handler];isFunction(L)&&watch(u,L,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:o,extends:i}=t,{mixins:u,optionsCache:L,config:{optionMergeStrategies:I}}=e.appContext,b=L.get(t);let f;return b?f=b:!u.length&&!o&&!i?f=t:(f={},u.length&&u.forEach(s=>mergeOptions$1(f,s,I,!0)),mergeOptions$1(f,t,I)),isObject(t)&&L.set(t,f),f}function mergeOptions$1(e,t,o,i=!1){const{mixins:u,extends:L}=t;L&&mergeOptions$1(e,L,o,!0),u&&u.forEach(I=>mergeOptions$1(e,I,o,!0));for(const I in t)if(!(i&&I==="expose")){const b=internalOptionMergeStrats[I]||o&&o[I];e[I]=b?b(e[I],t[I]):t[I]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$1(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray$1(e)&&isArray$1(t)?[...new Set([...e,...t])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const o=extend(Object.create(null),e);for(const i in t)o[i]=mergeAsArray(e[i],t[i]);return o}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(i,u=null){isFunction(i)||(i=extend({},i)),u!=null&&!isObject(u)&&(u=null);const L=createAppContext(),I=new Set;let b=!1;const f=L.app={_uid:uid$1++,_component:i,_props:u,_container:null,_context:L,_instance:null,version,get config(){return L.config},set config(s){},use(s,...a){return I.has(s)||(s&&isFunction(s.install)?(I.add(s),s.install(f,...a)):isFunction(s)&&(I.add(s),s(f,...a))),f},mixin(s){return L.mixins.includes(s)||L.mixins.push(s),f},component(s,a){return a?(L.components[s]=a,f):L.components[s]},directive(s,a){return a?(L.directives[s]=a,f):L.directives[s]},mount(s,a,P){if(!b){const S=createVNode(i,u);return S.appContext=L,a&&t?t(S,s):e(S,s,P),b=!0,f._container=s,s.__vue_app__=f,getExposeProxy(S.component)||S.component.proxy}},unmount(){b&&(e(null,f._container),delete f._container.__vue_app__)},provide(s,a){return L.provides[s]=a,f},runWithContext(s){currentApp=f;try{return s()}finally{currentApp=null}}};return f}}let currentApp=null;function provide(e,t){if(currentInstance){let o=currentInstance.provides;const i=currentInstance.parent&&currentInstance.parent.provides;i===o&&(o=currentInstance.provides=Object.create(i)),o[e]=t}}function inject(e,t,o=!1){const i=currentInstance||currentRenderingInstance;if(i||currentApp){const u=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:currentApp._context.provides;if(u&&e in u)return u[e];if(arguments.length>1)return o&&isFunction(t)?t.call(i&&i.proxy):t}}function initProps(e,t,o,i=!1){const u={},L={};def(L,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,u,L);for(const I in e.propsOptions[0])I in u||(u[I]=void 0);o?e.props=i?u:shallowReactive(u):e.type.props?e.props=u:e.props=L,e.attrs=L}function updateProps(e,t,o,i){const{props:u,attrs:L,vnode:{patchFlag:I}}=e,b=toRaw(u),[f]=e.propsOptions;let s=!1;if((i||I>0)&&!(I&16)){if(I&8){const a=e.vnode.dynamicProps;for(let P=0;P<a.length;P++){let S=a[P];if(isEmitListener(e.emitsOptions,S))continue;const R=t[S];if(f)if(hasOwn(L,S))R!==L[S]&&(L[S]=R,s=!0);else{const n=camelize(S);u[n]=resolvePropValue(f,b,n,R,e,!1)}else R!==L[S]&&(L[S]=R,s=!0)}}}else{setFullProps(e,t,u,L)&&(s=!0);let a;for(const P in b)(!t||!hasOwn(t,P)&&((a=hyphenate(P))===P||!hasOwn(t,a)))&&(f?o&&(o[P]!==void 0||o[a]!==void 0)&&(u[P]=resolvePropValue(f,b,P,void 0,e,!0)):delete u[P]);if(L!==b)for(const P in L)(!t||!hasOwn(t,P))&&(delete L[P],s=!0)}s&&trigger(e,"set","$attrs")}function setFullProps(e,t,o,i){const[u,L]=e.propsOptions;let I=!1,b;if(t)for(let f in t){if(isReservedProp(f))continue;const s=t[f];let a;u&&hasOwn(u,a=camelize(f))?!L||!L.includes(a)?o[a]=s:(b||(b={}))[a]=s:isEmitListener(e.emitsOptions,f)||(!(f in i)||s!==i[f])&&(i[f]=s,I=!0)}if(L){const f=toRaw(o),s=b||EMPTY_OBJ;for(let a=0;a<L.length;a++){const P=L[a];o[P]=resolvePropValue(u,f,P,s[P],e,!hasOwn(s,P))}}return I}function resolvePropValue(e,t,o,i,u,L){const I=e[o];if(I!=null){const b=hasOwn(I,"default");if(b&&i===void 0){const f=I.default;if(I.type!==Function&&!I.skipFactory&&isFunction(f)){const{propsDefaults:s}=u;o in s?i=s[o]:(setCurrentInstance(u),i=s[o]=f.call(null,t),unsetCurrentInstance())}else i=f}I[0]&&(L&&!b?i=!1:I[1]&&(i===""||i===hyphenate(o))&&(i=!0))}return i}function normalizePropsOptions(e,t,o=!1){const i=t.propsCache,u=i.get(e);if(u)return u;const L=e.props,I={},b=[];let f=!1;if(!isFunction(e)){const a=P=>{f=!0;const[S,R]=normalizePropsOptions(P,t,!0);extend(I,S),R&&b.push(...R)};!o&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}if(!L&&!f)return isObject(e)&&i.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(L))for(let a=0;a<L.length;a++){const P=camelize(L[a]);validatePropName(P)&&(I[P]=EMPTY_OBJ)}else if(L)for(const a in L){const P=camelize(a);if(validatePropName(P)){const S=L[a],R=I[P]=isArray$1(S)||isFunction(S)?{type:S}:extend({},S);if(R){const n=getTypeIndex(Boolean,R.type),g=getTypeIndex(String,R.type);R[0]=n>-1,R[1]=g<0||n<g,(n>-1||hasOwn(R,"default"))&&b.push(P)}}}const s=[I,b];return isObject(e)&&i.set(e,s),s}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray$1(t)?t.findIndex(o=>isSameType(o,e)):isFunction(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot$1=(e,t,o)=>{if(t._n)return t;const i=withCtx((...u)=>normalizeSlotValue(t(...u)),o);return i._c=!1,i},normalizeObjectSlots=(e,t,o)=>{const i=e._ctx;for(const u in e){if(isInternalKey(u))continue;const L=e[u];if(isFunction(L))t[u]=normalizeSlot$1(u,L,i);else if(L!=null){const I=normalizeSlotValue(L);t[u]=()=>I}}},normalizeVNodeSlots=(e,t)=>{const o=normalizeSlotValue(t);e.slots.default=()=>o},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const o=t._;o?(e.slots=toRaw(t),def(t,"_",o)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,o)=>{const{vnode:i,slots:u}=e;let L=!0,I=EMPTY_OBJ;if(i.shapeFlag&32){const b=t._;b?o&&b===1?L=!1:(extend(u,t),!o&&b===1&&delete u._):(L=!t.$stable,normalizeObjectSlots(t,u)),I=t}else t&&(normalizeVNodeSlots(e,t),I={default:1});if(L)for(const b in u)!isInternalKey(b)&&!(b in I)&&delete u[b]};function setRef(e,t,o,i,u=!1){if(isArray$1(e)){e.forEach((S,R)=>setRef(S,t&&(isArray$1(t)?t[R]:t),o,i,u));return}if(isAsyncWrapper(i)&&!u)return;const L=i.shapeFlag&4?getExposeProxy(i.component)||i.component.proxy:i.el,I=u?null:L,{i:b,r:f}=e,s=t&&t.r,a=b.refs===EMPTY_OBJ?b.refs={}:b.refs,P=b.setupState;if(s!=null&&s!==f&&(isString(s)?(a[s]=null,hasOwn(P,s)&&(P[s]=null)):isRef(s)&&(s.value=null)),isFunction(f))callWithErrorHandling(f,b,12,[I,a]);else{const S=isString(f),R=isRef(f);if(S||R){const n=()=>{if(e.f){const g=S?hasOwn(P,f)?P[f]:a[f]:f.value;u?isArray$1(g)&&remove(g,L):isArray$1(g)?g.includes(L)||g.push(L):S?(a[f]=[L],hasOwn(P,f)&&(P[f]=a[f])):(f.value=[L],e.k&&(a[e.k]=f.value))}else S?(a[f]=I,hasOwn(P,f)&&(P[f]=I)):R&&(f.value=I,e.k&&(a[e.k]=I))};I?(n.id=-1,queuePostRenderEffect(n,o)):n()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const o=getGlobalThis();o.__VUE__=!0;const{insert:i,remove:u,patchProp:L,createElement:I,createText:b,createComment:f,setText:s,setElementText:a,parentNode:P,nextSibling:S,setScopeId:R=NOOP,insertStaticContent:n}=e,g=(U,z,j,te=null,fe=null,de=null,Ee=!1,Te=null,ve=!!z.dynamicChildren)=>{if(U===z)return;U&&!isSameVNodeType(U,z)&&(te=x(U),Pe(U,fe,de,!0),U=null),z.patchFlag===-2&&(ve=!1,z.dynamicChildren=null);const{type:Re,ref:ce,shapeFlag:ne}=z;switch(Re){case Text:m(U,z,j,te);break;case Comment:A(U,z,j,te);break;case Static:U==null&&T(z,j,te,Ee);break;case Fragment:K(U,z,j,te,fe,de,Ee,Te,ve);break;default:ne&1?l(U,z,j,te,fe,de,Ee,Te,ve):ne&6?le(U,z,j,te,fe,de,Ee,Te,ve):(ne&64||ne&128)&&Re.process(U,z,j,te,fe,de,Ee,Te,ve,$)}ce!=null&&fe&&setRef(ce,U&&U.ref,de,z||U,!z)},m=(U,z,j,te)=>{if(U==null)i(z.el=b(z.children),j,te);else{const fe=z.el=U.el;z.children!==U.children&&s(fe,z.children)}},A=(U,z,j,te)=>{U==null?i(z.el=f(z.children||""),j,te):z.el=U.el},T=(U,z,j,te)=>{[U.el,U.anchor]=n(U.children,z,j,te,U.el,U.anchor)},E=({el:U,anchor:z},j,te)=>{let fe;for(;U&&U!==z;)fe=S(U),i(U,j,te),U=fe;i(z,j,te)},C=({el:U,anchor:z})=>{let j;for(;U&&U!==z;)j=S(U),u(U),U=j;u(z)},l=(U,z,j,te,fe,de,Ee,Te,ve)=>{Ee=Ee||z.type==="svg",U==null?c(z,j,te,fe,de,Ee,Te,ve):_(U,z,fe,de,Ee,Te,ve)},c=(U,z,j,te,fe,de,Ee,Te)=>{let ve,Re;const{type:ce,props:ne,shapeFlag:ue,transition:me,dirs:ke}=U;if(ve=U.el=I(U.type,de,ne&&ne.is,ne),ue&8?a(ve,U.children):ue&16&&v(U.children,ve,null,te,fe,de&&ce!=="foreignObject",Ee,Te),ke&&invokeDirectiveHook(U,null,te,"created"),y(ve,U,U.scopeId,Ee,te),ne){for(const je in ne)je!=="value"&&!isReservedProp(je)&&L(ve,je,null,ne[je],de,U.children,te,fe,w);"value"in ne&&L(ve,"value",null,ne.value),(Re=ne.onVnodeBeforeMount)&&invokeVNodeHook(Re,te,U)}ke&&invokeDirectiveHook(U,null,te,"beforeMount");const Oe=(!fe||fe&&!fe.pendingBranch)&&me&&!me.persisted;Oe&&me.beforeEnter(ve),i(ve,z,j),((Re=ne&&ne.onVnodeMounted)||Oe||ke)&&queuePostRenderEffect(()=>{Re&&invokeVNodeHook(Re,te,U),Oe&&me.enter(ve),ke&&invokeDirectiveHook(U,null,te,"mounted")},fe)},y=(U,z,j,te,fe)=>{if(j&&R(U,j),te)for(let de=0;de<te.length;de++)R(U,te[de]);if(fe){let de=fe.subTree;if(z===de){const Ee=fe.vnode;y(U,Ee,Ee.scopeId,Ee.slotScopeIds,fe.parent)}}},v=(U,z,j,te,fe,de,Ee,Te,ve=0)=>{for(let Re=ve;Re<U.length;Re++){const ce=U[Re]=Te?cloneIfMounted(U[Re]):normalizeVNode(U[Re]);g(null,ce,z,j,te,fe,de,Ee,Te)}},_=(U,z,j,te,fe,de,Ee)=>{const Te=z.el=U.el;let{patchFlag:ve,dynamicChildren:Re,dirs:ce}=z;ve|=U.patchFlag&16;const ne=U.props||EMPTY_OBJ,ue=z.props||EMPTY_OBJ;let me;j&&toggleRecurse(j,!1),(me=ue.onVnodeBeforeUpdate)&&invokeVNodeHook(me,j,z,U),ce&&invokeDirectiveHook(z,U,j,"beforeUpdate"),j&&toggleRecurse(j,!0);const ke=fe&&z.type!=="foreignObject";if(Re?O(U.dynamicChildren,Re,Te,j,te,ke,de):Ee||N(U,z,Te,null,j,te,ke,de,!1),ve>0){if(ve&16)F(Te,z,ne,ue,j,te,fe);else if(ve&2&&ne.class!==ue.class&&L(Te,"class",null,ue.class,fe),ve&4&&L(Te,"style",ne.style,ue.style,fe),ve&8){const Oe=z.dynamicProps;for(let je=0;je<Oe.length;je++){const We=Oe[je],Ue=ne[We],ze=ue[We];(ze!==Ue||We==="value")&&L(Te,We,Ue,ze,fe,U.children,j,te,w)}}ve&1&&U.children!==z.children&&a(Te,z.children)}else!Ee&&Re==null&&F(Te,z,ne,ue,j,te,fe);((me=ue.onVnodeUpdated)||ce)&&queuePostRenderEffect(()=>{me&&invokeVNodeHook(me,j,z,U),ce&&invokeDirectiveHook(z,U,j,"updated")},te)},O=(U,z,j,te,fe,de,Ee)=>{for(let Te=0;Te<z.length;Te++){const ve=U[Te],Re=z[Te],ce=ve.el&&(ve.type===Fragment||!isSameVNodeType(ve,Re)||ve.shapeFlag&70)?P(ve.el):j;g(ve,Re,ce,null,te,fe,de,Ee,!0)}},F=(U,z,j,te,fe,de,Ee)=>{if(j!==te){if(j!==EMPTY_OBJ)for(const Te in j)!isReservedProp(Te)&&!(Te in te)&&L(U,Te,j[Te],null,Ee,z.children,fe,de,w);for(const Te in te){if(isReservedProp(Te))continue;const ve=te[Te],Re=j[Te];ve!==Re&&Te!=="value"&&L(U,Te,Re,ve,Ee,z.children,fe,de,w)}"value"in te&&L(U,"value",j.value,te.value)}},K=(U,z,j,te,fe,de,Ee,Te,ve)=>{const Re=z.el=U?U.el:b(""),ce=z.anchor=U?U.anchor:b("");let{patchFlag:ne,dynamicChildren:ue,slotScopeIds:me}=z;me&&(Te=Te?Te.concat(me):me),U==null?(i(Re,j,te),i(ce,j,te),v(z.children,j,ce,fe,de,Ee,Te,ve)):ne>0&&ne&64&&ue&&U.dynamicChildren?(O(U.dynamicChildren,ue,j,fe,de,Ee,Te),(z.key!=null||fe&&z===fe.subTree)&&traverseStaticChildren(U,z,!0)):N(U,z,j,ce,fe,de,Ee,Te,ve)},le=(U,z,j,te,fe,de,Ee,Te,ve)=>{z.slotScopeIds=Te,U==null?z.shapeFlag&512?fe.ctx.activate(z,j,te,Ee,ve):B(z,j,te,fe,de,Ee,ve):Y(U,z,ve)},B=(U,z,j,te,fe,de,Ee)=>{const Te=U.component=createComponentInstance(U,te,fe);if(isKeepAlive(U)&&(Te.ctx.renderer=$),setupComponent(Te),Te.asyncDep){if(fe&&fe.registerDep(Te,se),!U.el){const ve=Te.subTree=createVNode(Comment);A(null,ve,z,j)}return}se(Te,U,z,j,fe,de,Ee)},Y=(U,z,j)=>{const te=z.component=U.component;if(shouldUpdateComponent(U,z,j))if(te.asyncDep&&!te.asyncResolved){ee(te,z,j);return}else te.next=z,invalidateJob(te.update),te.update();else z.el=U.el,te.vnode=z},se=(U,z,j,te,fe,de,Ee)=>{const Te=()=>{if(U.isMounted){let{next:ce,bu:ne,u:ue,parent:me,vnode:ke}=U,Oe=ce,je;toggleRecurse(U,!1),ce?(ce.el=ke.el,ee(U,ce,Ee)):ce=ke,ne&&invokeArrayFns(ne),(je=ce.props&&ce.props.onVnodeBeforeUpdate)&&invokeVNodeHook(je,me,ce,ke),toggleRecurse(U,!0);const We=renderComponentRoot(U),Ue=U.subTree;U.subTree=We,g(Ue,We,P(Ue.el),x(Ue),U,fe,de),ce.el=We.el,Oe===null&&updateHOCHostEl(U,We.el),ue&&queuePostRenderEffect(ue,fe),(je=ce.props&&ce.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(je,me,ce,ke),fe)}else{let ce;const{el:ne,props:ue}=z,{bm:me,m:ke,parent:Oe}=U,je=isAsyncWrapper(z);if(toggleRecurse(U,!1),me&&invokeArrayFns(me),!je&&(ce=ue&&ue.onVnodeBeforeMount)&&invokeVNodeHook(ce,Oe,z),toggleRecurse(U,!0),ne&&he){const We=()=>{U.subTree=renderComponentRoot(U),he(ne,U.subTree,U,fe,null)};je?z.type.__asyncLoader().then(()=>!U.isUnmounted&&We()):We()}else{const We=U.subTree=renderComponentRoot(U);g(null,We,j,te,U,fe,de),z.el=We.el}if(ke&&queuePostRenderEffect(ke,fe),!je&&(ce=ue&&ue.onVnodeMounted)){const We=z;queuePostRenderEffect(()=>invokeVNodeHook(ce,Oe,We),fe)}(z.shapeFlag&256||Oe&&isAsyncWrapper(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&U.a&&queuePostRenderEffect(U.a,fe),U.isMounted=!0,z=j=te=null}},ve=U.effect=new ReactiveEffect(Te,()=>queueJob(Re),U.scope),Re=U.update=()=>ve.run();Re.id=U.uid,toggleRecurse(U,!0),Re()},ee=(U,z,j)=>{z.component=U;const te=U.vnode.props;U.vnode=z,U.next=null,updateProps(U,z.props,te,j),updateSlots(U,z.children,j),pauseTracking(),flushPreFlushCbs(),resetTracking()},N=(U,z,j,te,fe,de,Ee,Te,ve=!1)=>{const Re=U&&U.children,ce=U?U.shapeFlag:0,ne=z.children,{patchFlag:ue,shapeFlag:me}=z;if(ue>0){if(ue&128){G(Re,ne,j,te,fe,de,Ee,Te,ve);return}else if(ue&256){q(Re,ne,j,te,fe,de,Ee,Te,ve);return}}me&8?(ce&16&&w(Re,fe,de),ne!==Re&&a(j,ne)):ce&16?me&16?G(Re,ne,j,te,fe,de,Ee,Te,ve):w(Re,fe,de,!0):(ce&8&&a(j,""),me&16&&v(ne,j,te,fe,de,Ee,Te,ve))},q=(U,z,j,te,fe,de,Ee,Te,ve)=>{U=U||EMPTY_ARR,z=z||EMPTY_ARR;const Re=U.length,ce=z.length,ne=Math.min(Re,ce);let ue;for(ue=0;ue<ne;ue++){const me=z[ue]=ve?cloneIfMounted(z[ue]):normalizeVNode(z[ue]);g(U[ue],me,j,null,fe,de,Ee,Te,ve)}Re>ce?w(U,fe,de,!0,!1,ne):v(z,j,te,fe,de,Ee,Te,ve,ne)},G=(U,z,j,te,fe,de,Ee,Te,ve)=>{let Re=0;const ce=z.length;let ne=U.length-1,ue=ce-1;for(;Re<=ne&&Re<=ue;){const me=U[Re],ke=z[Re]=ve?cloneIfMounted(z[Re]):normalizeVNode(z[Re]);if(isSameVNodeType(me,ke))g(me,ke,j,null,fe,de,Ee,Te,ve);else break;Re++}for(;Re<=ne&&Re<=ue;){const me=U[ne],ke=z[ue]=ve?cloneIfMounted(z[ue]):normalizeVNode(z[ue]);if(isSameVNodeType(me,ke))g(me,ke,j,null,fe,de,Ee,Te,ve);else break;ne--,ue--}if(Re>ne){if(Re<=ue){const me=ue+1,ke=me<ce?z[me].el:te;for(;Re<=ue;)g(null,z[Re]=ve?cloneIfMounted(z[Re]):normalizeVNode(z[Re]),j,ke,fe,de,Ee,Te,ve),Re++}}else if(Re>ue)for(;Re<=ne;)Pe(U[Re],fe,de,!0),Re++;else{const me=Re,ke=Re,Oe=new Map;for(Re=ke;Re<=ue;Re++){const k=z[Re]=ve?cloneIfMounted(z[Re]):normalizeVNode(z[Re]);k.key!=null&&Oe.set(k.key,Re)}let je,We=0;const Ue=ue-ke+1;let ze=!1,Xe=0;const Ge=new Array(Ue);for(Re=0;Re<Ue;Re++)Ge[Re]=0;for(Re=me;Re<=ne;Re++){const k=U[Re];if(We>=Ue){Pe(k,fe,de,!0);continue}let Q;if(k.key!=null)Q=Oe.get(k.key);else for(je=ke;je<=ue;je++)if(Ge[je-ke]===0&&isSameVNodeType(k,z[je])){Q=je;break}Q===void 0?Pe(k,fe,de,!0):(Ge[Q-ke]=Re+1,Q>=Xe?Xe=Q:ze=!0,g(k,z[Q],j,null,fe,de,Ee,Te,ve),We++)}const De=ze?getSequence(Ge):EMPTY_ARR;for(je=De.length-1,Re=Ue-1;Re>=0;Re--){const k=ke+Re,Q=z[k],Ae=k+1<ce?z[k+1].el:te;Ge[Re]===0?g(null,Q,j,Ae,fe,de,Ee,Te,ve):ze&&(je<0||Re!==De[je]?ge(Q,j,Ae,2):je--)}}},ge=(U,z,j,te,fe=null)=>{const{el:de,type:Ee,transition:Te,children:ve,shapeFlag:Re}=U;if(Re&6){ge(U.component.subTree,z,j,te);return}if(Re&128){U.suspense.move(z,j,te);return}if(Re&64){Ee.move(U,z,j,$);return}if(Ee===Fragment){i(de,z,j);for(let ne=0;ne<ve.length;ne++)ge(ve[ne],z,j,te);i(U.anchor,z,j);return}if(Ee===Static){E(U,z,j);return}if(te!==2&&Re&1&&Te)if(te===0)Te.beforeEnter(de),i(de,z,j),queuePostRenderEffect(()=>Te.enter(de),fe);else{const{leave:ne,delayLeave:ue,afterLeave:me}=Te,ke=()=>i(de,z,j),Oe=()=>{ne(de,()=>{ke(),me&&me()})};ue?ue(de,ke,Oe):Oe()}else i(de,z,j)},Pe=(U,z,j,te=!1,fe=!1)=>{const{type:de,props:Ee,ref:Te,children:ve,dynamicChildren:Re,shapeFlag:ce,patchFlag:ne,dirs:ue}=U;if(Te!=null&&setRef(Te,null,j,U,!0),ce&256){z.ctx.deactivate(U);return}const me=ce&1&&ue,ke=!isAsyncWrapper(U);let Oe;if(ke&&(Oe=Ee&&Ee.onVnodeBeforeUnmount)&&invokeVNodeHook(Oe,z,U),ce&6)d(U.component,j,te);else{if(ce&128){U.suspense.unmount(j,te);return}me&&invokeDirectiveHook(U,null,z,"beforeUnmount"),ce&64?U.type.remove(U,z,j,fe,$,te):Re&&(de!==Fragment||ne>0&&ne&64)?w(Re,z,j,!1,!0):(de===Fragment&&ne&384||!fe&&ce&16)&&w(ve,z,j),te&&W(U)}(ke&&(Oe=Ee&&Ee.onVnodeUnmounted)||me)&&queuePostRenderEffect(()=>{Oe&&invokeVNodeHook(Oe,z,U),me&&invokeDirectiveHook(U,null,z,"unmounted")},j)},W=U=>{const{type:z,el:j,anchor:te,transition:fe}=U;if(z===Fragment){M(j,te);return}if(z===Static){C(U);return}const de=()=>{u(j),fe&&!fe.persisted&&fe.afterLeave&&fe.afterLeave()};if(U.shapeFlag&1&&fe&&!fe.persisted){const{leave:Ee,delayLeave:Te}=fe,ve=()=>Ee(j,de);Te?Te(U.el,de,ve):ve()}else de()},M=(U,z)=>{let j;for(;U!==z;)j=S(U),u(U),U=j;u(z)},d=(U,z,j)=>{const{bum:te,scope:fe,update:de,subTree:Ee,um:Te}=U;te&&invokeArrayFns(te),fe.stop(),de&&(de.active=!1,Pe(Ee,U,z,j)),Te&&queuePostRenderEffect(Te,z),queuePostRenderEffect(()=>{U.isUnmounted=!0},z),z&&z.pendingBranch&&!z.isUnmounted&&U.asyncDep&&!U.asyncResolved&&U.suspenseId===z.pendingId&&(z.deps--,z.deps===0&&z.resolve())},w=(U,z,j,te=!1,fe=!1,de=0)=>{for(let Ee=de;Ee<U.length;Ee++)Pe(U[Ee],z,j,te,fe)},x=U=>U.shapeFlag&6?x(U.component.subTree):U.shapeFlag&128?U.suspense.next():S(U.anchor||U.el),D=(U,z,j)=>{U==null?z._vnode&&Pe(z._vnode,null,null,!0):g(z._vnode||null,U,z,null,null,null,j),flushPreFlushCbs(),flushPostFlushCbs(),z._vnode=U},$={p:g,um:Pe,m:ge,r:W,mt:B,mc:v,pc:N,pbc:O,n:x,o:e};let ie,he;return t&&([ie,he]=t($)),{render:D,hydrate:ie,createApp:createAppAPI(D,ie)}}function toggleRecurse({effect:e,update:t},o){e.allowRecurse=t.allowRecurse=o}function traverseStaticChildren(e,t,o=!1){const i=e.children,u=t.children;if(isArray$1(i)&&isArray$1(u))for(let L=0;L<i.length;L++){const I=i[L];let b=u[L];b.shapeFlag&1&&!b.dynamicChildren&&((b.patchFlag<=0||b.patchFlag===32)&&(b=u[L]=cloneIfMounted(u[L]),b.el=I.el),o||traverseStaticChildren(I,b)),b.type===Text&&(b.el=I.el)}}function getSequence(e){const t=e.slice(),o=[0];let i,u,L,I,b;const f=e.length;for(i=0;i<f;i++){const s=e[i];if(s!==0){if(u=o[o.length-1],e[u]<s){t[i]=u,o.push(i);continue}for(L=0,I=o.length-1;L<I;)b=L+I>>1,e[o[b]]<s?L=b+1:I=b;s<e[o[L]]&&(L>0&&(t[i]=o[L-1]),o[L]=i)}}for(L=o.length,I=o[L-1];L-- >0;)o[L]=I,I=t[I];return o}const isTeleport=e=>e.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,o,i,u,L){return setupBlock(createBaseVNode(e,t,o,i,u,L,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!o}:e:null);function createBaseVNode(e,t=null,o=null,i=0,u=null,L=e===Fragment?0:1,I=!1,b=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:L,patchFlag:i,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return b?(normalizeChildren(f,o),L&128&&e.normalize(f)):o&&(f.shapeFlag|=isString(o)?8:16),isBlockTreeEnabled>0&&!I&&currentBlock&&(f.patchFlag>0||L&6)&&f.patchFlag!==32&&currentBlock.push(f),f}const createVNode=_createVNode;function _createVNode(e,t=null,o=null,i=0,u=null,L=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const b=cloneVNode(e,t,!0);return o&&normalizeChildren(b,o),isBlockTreeEnabled>0&&!L&&currentBlock&&(b.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=b:currentBlock.push(b)),b.patchFlag|=-2,b}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:b,style:f}=t;b&&!isString(b)&&(t.class=normalizeClass(b)),isObject(f)&&(isProxy(f)&&!isArray$1(f)&&(f=extend({},f)),t.style=normalizeStyle(f))}const I=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,o,i,u,I,L,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,o=!1){const{props:i,ref:u,patchFlag:L,children:I}=e,b=t?mergeProps(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:b,key:b&&normalizeKey(b),ref:t&&t.ref?o&&u?isArray$1(u)?u.concat(normalizeRef(t)):[u,normalizeRef(t)]:normalizeRef(t):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:I,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?L===-1?16:L|16:L,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let o=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(isArray$1(t))o=16;else if(typeof t=="object")if(i&65){const u=t.default;u&&(u._c&&(u._d=!1),normalizeChildren(e,u()),u._c&&(u._d=!0));return}else{o=32;const u=t._;!u&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:u===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},o=32):(t=String(t),i&64?(o=16,t=[createTextVNode(t)]):o=8);e.children=t,e.shapeFlag|=o}function mergeProps(...e){const t={};for(let o=0;o<e.length;o++){const i=e[o];for(const u in i)if(u==="class")t.class!==i.class&&(t.class=normalizeClass([t.class,i.class]));else if(u==="style")t.style=normalizeStyle([t.style,i.style]);else if(isOn(u)){const L=t[u],I=i[u];I&&L!==I&&!(isArray$1(L)&&L.includes(I))&&(t[u]=L?[].concat(L,I):I)}else u!==""&&(t[u]=i[u])}return t}function invokeVNodeHook(e,t,o,i=null){callWithAsyncErrorHandling(e,t,7,[o,i])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,o){const i=e.type,u=(t?t.appContext:e.appContext)||emptyAppContext,L={uid:uid++,vnode:e,type:i,parent:t,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(i,u),emitsOptions:normalizeEmitsOptions(i,u),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:i.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return L.ctx={_:L},L.root=t?t.root:L,L.emit=emit.bind(null,L),e.ce&&e.ce(L),L}let currentInstance=null,internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(e=>currentInstance=e),internalSetCurrentInstance=e=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(t=>t(e)):globalCurrentInstanceSetters[0](e)};const setCurrentInstance=e=>{internalSetCurrentInstance(e),e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:o,children:i}=e.vnode,u=isStatefulComponent(e);initProps(e,o,u,t),initSlots(e,i);const L=u?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,L}function setupStatefulComponent(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:i}=o;if(i){const u=e.setupContext=i.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const L=callWithErrorHandling(i,e,0,[e.props,u]);if(resetTracking(),unsetCurrentInstance(),isPromise(L)){if(L.then(unsetCurrentInstance,unsetCurrentInstance),t)return L.then(I=>{handleSetupResult(e,I,t)}).catch(I=>{handleError(I,e,0)});e.asyncDep=L}else handleSetupResult(e,L,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,o){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,o)}let compile;function finishComponentSetup(e,t,o){const i=e.type;if(!e.render){if(!t&&compile&&!i.render){const u=i.template||resolveMergedOptions(e).template;if(u){const{isCustomElement:L,compilerOptions:I}=e.appContext.config,{delimiters:b,compilerOptions:f}=i,s=extend(extend({isCustomElement:L,delimiters:b},I),f);i.render=compile(u,s)}}e.render=i.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,o){return track(e,"get","$attrs"),t[o]}}))}function createSetupContext(e){const t=o=>{e.exposed=o||{}};return{get attrs(){return getAttrsProxy(e)},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in publicPropertiesMap)return publicPropertiesMap[o](e)},has(t,o){return o in t||o in publicPropertiesMap}}))}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,o){const i=arguments.length;return i===2?isObject(t)&&!isArray$1(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(i>3?o=Array.prototype.slice.call(arguments,2):i===3&&isVNode(o)&&(o=[o]),createVNode(e,t,o))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,i)=>{const u=t?doc.createElementNS(svgNS,e):doc.createElement(e,o?{is:o}:void 0);return e==="select"&&i&&i.multiple!=null&&u.setAttribute("multiple",i.multiple),u},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,i,u,L){const I=o?o.previousSibling:t.lastChild;if(u&&(u===L||u.nextSibling))for(;t.insertBefore(u.cloneNode(!0),o),!(u===L||!(u=u.nextSibling)););else{templateContainer.innerHTML=i?`<svg>${e}</svg>`:e;const b=templateContainer.content;if(i){const f=b.firstChild;for(;f.firstChild;)b.appendChild(f.firstChild);b.removeChild(f)}t.insertBefore(b,o)}return[I?I.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}};function patchClass(e,t,o){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,o){const i=e.style,u=isString(o);if(o&&!u){if(t&&!isString(t))for(const L in t)o[L]==null&&setStyle(i,L,"");for(const L in o)setStyle(i,L,o[L])}else{const L=i.display;u?t!==o&&(i.cssText=o):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=L)}}const importantRE=/\s*!important$/;function setStyle(e,t,o){if(isArray$1(o))o.forEach(i=>setStyle(e,t,i));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const i=autoPrefix(e,t);importantRE.test(o)?e.setProperty(hyphenate(i),o.replace(importantRE,""),"important"):e[i]=o}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const o=prefixCache[t];if(o)return o;let i=camelize(t);if(i!=="filter"&&i in e)return prefixCache[t]=i;i=capitalize(i);for(let u=0;u<prefixes.length;u++){const L=prefixes[u]+i;if(L in e)return prefixCache[t]=L}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,o,i,u){if(i&&t.startsWith("xlink:"))o==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,o);else{const L=isSpecialBooleanAttr(t);o==null||L&&!includeBooleanAttr(o)?e.removeAttribute(t):e.setAttribute(t,L?"":o)}}function patchDOMProp(e,t,o,i,u,L,I){if(t==="innerHTML"||t==="textContent"){i&&I(i,u,L),e[t]=o??"";return}const b=e.tagName;if(t==="value"&&b!=="PROGRESS"&&!b.includes("-")){e._value=o;const s=b==="OPTION"?e.getAttribute("value"):e.value,a=o??"";s!==a&&(e.value=a),o==null&&e.removeAttribute(t);return}let f=!1;if(o===""||o==null){const s=typeof e[t];s==="boolean"?o=includeBooleanAttr(o):o==null&&s==="string"?(o="",f=!0):s==="number"&&(o=0,f=!0)}try{e[t]=o}catch{}f&&e.removeAttribute(t)}function addEventListener(e,t,o,i){e.addEventListener(t,o,i)}function removeEventListener(e,t,o,i){e.removeEventListener(t,o,i)}function patchEvent(e,t,o,i,u=null){const L=e._vei||(e._vei={}),I=L[t];if(i&&I)I.value=i;else{const[b,f]=parseName(t);if(i){const s=L[t]=createInvoker(i,u);addEventListener(e,b,s,f)}else I&&(removeEventListener(e,b,I,f),L[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let i;for(;i=e.match(optionsModifierRE);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const o=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=o.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(i,o.value),t,5,[i])};return o.value=e,o.attached=getNow(),o}function patchStopImmediatePropagation(e,t){if(isArray$1(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(i=>u=>!u._stopped&&i&&i(u))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,o,i,u=!1,L,I,b,f)=>{t==="class"?patchClass(e,i,u):t==="style"?patchStyle(e,o,i):isOn(t)?isModelListener(t)||patchEvent(e,t,o,i,I):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,i,u))?patchDOMProp(e,t,i,L,I,b,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),patchAttr(e,t,i,u))};function shouldSetAsProp(e,t,o,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction(o)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString(o)?!1:t in e}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:o}=t;return t.mount=i=>{const u=normalizeContainer(i);if(!u)return;const L=t._component;!isFunction(L)&&!L.render&&!L.template&&(L.template=u.innerHTML),u.innerHTML="";const I=o(u,!1,u instanceof SVGElement);return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),I},t};function normalizeContainer(e){return isString(e)?document.querySelector(e):e}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(e,t){const o={};for(const i in t){const u=t[i];o[i]=isArray(u)?u.map(e):e(u)}return o}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,t,o="/"){let i,u={},L="",I="";const b=t.indexOf("#");let f=t.indexOf("?");return b<f&&b>=0&&(f=-1),f>-1&&(i=t.slice(0,f),L=t.slice(f+1,b>-1?b:t.length),u=e(L)),b>-1&&(i=i||t.slice(0,b),I=t.slice(b,t.length)),i=resolveRelativePath(i??t,o),{fullPath:i+(L&&"?")+L+I,path:i,query:u,hash:I}}function stringifyURL(e,t){const o=t.query?e(t.query):"";return t.path+(o&&"?")+o+(t.hash||"")}function stripBase(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function isSameRouteLocation(e,t,o){const i=t.matched.length-1,u=o.matched.length-1;return i>-1&&i===u&&isSameRouteRecord(t.matched[i],o.matched[u])&&isSameRouteLocationParams(t.params,o.params)&&e(t.query)===e(o.query)&&t.hash===o.hash}function isSameRouteRecord(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function isSameRouteLocationParams(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!isSameRouteLocationParamsValue(e[o],t[o]))return!1;return!0}function isSameRouteLocationParamsValue(e,t){return isArray(e)?isEquivalentArray(e,t):isArray(t)?isEquivalentArray(t,e):e===t}function isEquivalentArray(e,t){return isArray(t)?e.length===t.length&&e.every((o,i)=>o===t[i]):e.length===1&&e[0]===t}function resolveRelativePath(e,t){if(e.startsWith("/"))return e;if(!e)return t;const o=t.split("/"),i=e.split("/"),u=i[i.length-1];(u===".."||u===".")&&i.push("");let L=o.length-1,I,b;for(I=0;I<i.length;I++)if(b=i[I],b!==".")if(b==="..")L>1&&L--;else break;return o.slice(0,L).join("/")+"/"+i.slice(I-(I===i.length?1:0)).join("/")}var NavigationType;(function(e){e.pop="pop",e.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(e){e.back="back",e.forward="forward",e.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(e){if(!e)if(isBrowser){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,t){return e.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(e,t){const o=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-o.left-(t.left||0),top:i.top-o.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(e){let t;if("el"in e){const o=e.el,i=typeof o=="string"&&o.startsWith("#"),u=typeof o=="string"?i?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!u)return;t=getElementPosition(u,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function getScrollKey(e,t){return(history.state?history.state.position-t:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,t){scrollPositions.set(e,t)}function getSavedScrollPosition(e){const t=scrollPositions.get(e);return scrollPositions.delete(e),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,t){const{pathname:o,search:i,hash:u}=t,L=e.indexOf("#");if(L>-1){let b=u.includes(e.slice(L))?e.slice(L).length:1,f=u.slice(b);return f[0]!=="/"&&(f="/"+f),stripBase(f,"")}return stripBase(o,e)+i+u}function useHistoryListeners(e,t,o,i){let u=[],L=[],I=null;const b=({state:S})=>{const R=createCurrentLocation(e,location),n=o.value,g=t.value;let m=0;if(S){if(o.value=R,t.value=S,I&&I===n){I=null;return}m=g?S.position-g.position:0}else i(R);u.forEach(A=>{A(o.value,n,{delta:m,type:NavigationType.pop,direction:m?m>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function f(){I=o.value}function s(S){u.push(S);const R=()=>{const n=u.indexOf(S);n>-1&&u.splice(n,1)};return L.push(R),R}function a(){const{history:S}=window;S.state&&S.replaceState(assign({},S.state,{scroll:computeScrollPosition()}),"")}function P(){for(const S of L)S();L=[],window.removeEventListener("popstate",b),window.removeEventListener("beforeunload",a)}return window.addEventListener("popstate",b),window.addEventListener("beforeunload",a,{passive:!0}),{pauseListeners:f,listen:s,destroy:P}}function buildState(e,t,o,i=!1,u=!1){return{back:e,current:t,forward:o,replaced:i,position:window.history.length,scroll:u?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:t,location:o}=window,i={value:createCurrentLocation(e,o)},u={value:t.state};u.value||L(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function L(f,s,a){const P=e.indexOf("#"),S=P>-1?(o.host&&document.querySelector("base")?e:e.slice(P))+f:createBaseLocation()+e+f;try{t[a?"replaceState":"pushState"](s,"",S),u.value=s}catch(R){console.error(R),o[a?"replace":"assign"](S)}}function I(f,s){const a=assign({},t.state,buildState(u.value.back,f,u.value.forward,!0),s,{position:u.value.position});L(f,a,!0),i.value=f}function b(f,s){const a=assign({},u.value,t.state,{forward:f,scroll:computeScrollPosition()});L(a.current,a,!0);const P=assign({},buildState(i.value,f,null),{position:a.position+1},s);L(f,P,!1),i.value=f}return{location:i,state:u,push:b,replace:I}}function createWebHistory(e){e=normalizeBase(e);const t=useHistoryStateNavigation(e),o=useHistoryListeners(e,t.state,t.location,t.replace);function i(L,I=!0){I||o.pauseListeners(),history.go(L)}const u=assign({location:"",base:e,go:i,createHref:createHref.bind(null,e)},t,o);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>t.state.value}),u}function createWebHashHistory(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),createWebHistory(e)}function isRouteLocation(e){return typeof e=="string"||e&&typeof e=="object"}function isRouteName(e){return typeof e=="string"||typeof e=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(e,t){return assign(new Error,{type:e,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(e,t){return e instanceof Error&&NavigationFailureSymbol in e&&(t==null||!!(e.type&t))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,t){const o=assign({},BASE_PATH_PARSER_OPTIONS,t),i=[];let u=o.start?"^":"";const L=[];for(const s of e){const a=s.length?[]:[90];o.strict&&!s.length&&(u+="/");for(let P=0;P<s.length;P++){const S=s[P];let R=40+(o.sensitive?.25:0);if(S.type===0)P||(u+="/"),u+=S.value.replace(REGEX_CHARS_RE,"\\$&"),R+=40;else if(S.type===1){const{value:n,repeatable:g,optional:m,regexp:A}=S;L.push({name:n,repeatable:g,optional:m});const T=A||BASE_PARAM_PATTERN;if(T!==BASE_PARAM_PATTERN){R+=10;try{new RegExp(`(${T})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${n}" (${T}): `+C.message)}}let E=g?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;P||(E=m&&s.length<2?`(?:/${E})`:"/"+E),m&&(E+="?"),u+=E,R+=20,m&&(R+=-8),g&&(R+=-20),T===".*"&&(R+=-50)}a.push(R)}i.push(a)}if(o.strict&&o.end){const s=i.length-1;i[s][i[s].length-1]+=.7000000000000001}o.strict||(u+="/?"),o.end?u+="$":o.strict&&(u+="(?:/|$)");const I=new RegExp(u,o.sensitive?"":"i");function b(s){const a=s.match(I),P={};if(!a)return null;for(let S=1;S<a.length;S++){const R=a[S]||"",n=L[S-1];P[n.name]=R&&n.repeatable?R.split("/"):R}return P}function f(s){let a="",P=!1;for(const S of e){(!P||!a.endsWith("/"))&&(a+="/"),P=!1;for(const R of S)if(R.type===0)a+=R.value;else if(R.type===1){const{value:n,repeatable:g,optional:m}=R,A=n in s?s[n]:"";if(isArray(A)&&!g)throw new Error(`Provided param "${n}" is an array but it is not repeatable (* or + modifiers)`);const T=isArray(A)?A.join("/"):A;if(!T)if(m)S.length<2&&(a.endsWith("/")?a=a.slice(0,-1):P=!0);else throw new Error(`Missing required param "${n}"`);a+=T}}return a||"/"}return{re:I,score:i,keys:L,parse:b,stringify:f}}function compareScoreArray(e,t){let o=0;for(;o<e.length&&o<t.length;){const i=t[o]-e[o];if(i)return i;o++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function comparePathParserScore(e,t){let o=0;const i=e.score,u=t.score;for(;o<i.length&&o<u.length;){const L=compareScoreArray(i[o],u[o]);if(L)return L;o++}if(Math.abs(u.length-i.length)===1){if(isLastScoreNegative(i))return 1;if(isLastScoreNegative(u))return-1}return u.length-i.length}function isLastScoreNegative(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if(e==="/")return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(R){throw new Error(`ERR (${o})/"${s}": ${R}`)}let o=0,i=o;const u=[];let L;function I(){L&&u.push(L),L=[]}let b=0,f,s="",a="";function P(){s&&(o===0?L.push({type:0,value:s}):o===1||o===2||o===3?(L.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${s}) must be alone in its segment. eg: '/:ids+.`),L.push({type:1,value:s,regexp:a,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),s="")}function S(){s+=f}for(;b<e.length;){if(f=e[b++],f==="\\"&&o!==2){i=o,o=4;continue}switch(o){case 0:f==="/"?(s&&P(),I()):f===":"?(P(),o=1):S();break;case 4:S(),o=i;break;case 1:f==="("?o=2:VALID_PARAM_RE.test(f)?S():(P(),o=0,f!=="*"&&f!=="?"&&f!=="+"&&b--);break;case 2:f===")"?a[a.length-1]=="\\"?a=a.slice(0,-1)+f:o=3:a+=f;break;case 3:P(),o=0,f!=="*"&&f!=="?"&&f!=="+"&&b--,a="";break;default:t("Unknown state");break}}return o===2&&t(`Unfinished custom RegExp for param "${s}"`),P(),I(),u}function createRouteRecordMatcher(e,t,o){const i=tokensToParser(tokenizePath(e.path),o),u=assign(i,{record:e,parent:t,children:[],alias:[]});return t&&!u.record.aliasOf==!t.record.aliasOf&&t.children.push(u),u}function createRouterMatcher(e,t){const o=[],i=new Map;t=mergeOptions({strict:!1,end:!0,sensitive:!1},t);function u(a){return i.get(a)}function L(a,P,S){const R=!S,n=normalizeRouteRecord(a);n.aliasOf=S&&S.record;const g=mergeOptions(t,a),m=[n];if("alias"in a){const E=typeof a.alias=="string"?[a.alias]:a.alias;for(const C of E)m.push(assign({},n,{components:S?S.record.components:n.components,path:C,aliasOf:S?S.record:n}))}let A,T;for(const E of m){const{path:C}=E;if(P&&C[0]!=="/"){const l=P.record.path,c=l[l.length-1]==="/"?"":"/";E.path=P.record.path+(C&&c+C)}if(A=createRouteRecordMatcher(E,P,g),S?S.alias.push(A):(T=T||A,T!==A&&T.alias.push(A),R&&a.name&&!isAliasRecord(A)&&I(a.name)),n.children){const l=n.children;for(let c=0;c<l.length;c++)L(l[c],A,S&&S.children[c])}S=S||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&f(A)}return T?()=>{I(T)}:noop}function I(a){if(isRouteName(a)){const P=i.get(a);P&&(i.delete(a),o.splice(o.indexOf(P),1),P.children.forEach(I),P.alias.forEach(I))}else{const P=o.indexOf(a);P>-1&&(o.splice(P,1),a.record.name&&i.delete(a.record.name),a.children.forEach(I),a.alias.forEach(I))}}function b(){return o}function f(a){let P=0;for(;P<o.length&&comparePathParserScore(a,o[P])>=0&&(a.record.path!==o[P].record.path||!isRecordChildOf(a,o[P]));)P++;o.splice(P,0,a),a.record.name&&!isAliasRecord(a)&&i.set(a.record.name,a)}function s(a,P){let S,R={},n,g;if("name"in a&&a.name){if(S=i.get(a.name),!S)throw createRouterError(1,{location:a});g=S.record.name,R=assign(paramsFromLocation(P.params,S.keys.filter(T=>!T.optional).map(T=>T.name)),a.params&&paramsFromLocation(a.params,S.keys.map(T=>T.name))),n=S.stringify(R)}else if("path"in a)n=a.path,S=o.find(T=>T.re.test(n)),S&&(R=S.parse(n),g=S.record.name);else{if(S=P.name?i.get(P.name):o.find(T=>T.re.test(P.path)),!S)throw createRouterError(1,{location:a,currentLocation:P});g=S.record.name,R=assign({},P.params,a.params),n=S.stringify(R)}const m=[];let A=S;for(;A;)m.unshift(A.record),A=A.parent;return{name:g,path:n,params:R,matched:m,meta:mergeMetaFields(m)}}return e.forEach(a=>L(a)),{addRoute:L,resolve:s,removeRoute:I,getRoutes:b,getRecordMatcher:u}}function paramsFromLocation(e,t){const o={};for(const i of t)i in e&&(o[i]=e[i]);return o}function normalizeRouteRecord(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function normalizeRecordProps(e){const t={},o=e.props||!1;if("component"in e)t.default=o;else for(const i in e.components)t[i]=typeof o=="object"?o[i]:o;return t}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((t,o)=>assign(t,o.meta),{})}function mergeOptions(e,t){const o={};for(const i in e)o[i]=i in t?t[i]:e[i];return o}function isRecordChildOf(e,t){return t.children.some(o=>o===e||isRecordChildOf(e,o))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return e==null?"":encodePath(e).replace(SLASH_RE,"%2F")}function decode(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function parseQuery(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let u=0;u<i.length;++u){const L=i[u].replace(PLUS_RE," "),I=L.indexOf("="),b=decode(I<0?L:L.slice(0,I)),f=I<0?null:decode(L.slice(I+1));if(b in t){let s=t[b];isArray(s)||(s=t[b]=[s]),s.push(f)}else t[b]=f}return t}function stringifyQuery(e){let t="";for(let o in e){const i=e[o];if(o=encodeQueryKey(o),i==null){i!==void 0&&(t+=(t.length?"&":"")+o);continue}(isArray(i)?i.map(L=>L&&encodeQueryValue(L)):[i&&encodeQueryValue(i)]).forEach(L=>{L!==void 0&&(t+=(t.length?"&":"")+o,L!=null&&(t+="="+L))})}return t}function normalizeQuery(e){const t={};for(const o in e){const i=e[o];i!==void 0&&(t[o]=isArray(i)?i.map(u=>u==null?null:""+u):i==null?i:""+i)}return t}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let e=[];function t(i){return e.push(i),()=>{const u=e.indexOf(i);u>-1&&e.splice(u,1)}}function o(){e=[]}return{add:t,list:()=>e.slice(),reset:o}}function guardToPromiseFn(e,t,o,i,u){const L=i&&(i.enterCallbacks[u]=i.enterCallbacks[u]||[]);return()=>new Promise((I,b)=>{const f=P=>{P===!1?b(createRouterError(4,{from:o,to:t})):P instanceof Error?b(P):isRouteLocation(P)?b(createRouterError(2,{from:t,to:P})):(L&&i.enterCallbacks[u]===L&&typeof P=="function"&&L.push(P),I())},s=e.call(i&&i.instances[u],t,o,f);let a=Promise.resolve(s);e.length<3&&(a=a.then(f)),a.catch(P=>b(P))})}function extractComponentsGuards(e,t,o,i){const u=[];for(const L of e)for(const I in L.components){let b=L.components[I];if(!(t!=="beforeRouteEnter"&&!L.instances[I]))if(isRouteComponent(b)){const s=(b.__vccOpts||b)[t];s&&u.push(guardToPromiseFn(s,o,i,L,I))}else{let f=b();u.push(()=>f.then(s=>{if(!s)return Promise.reject(new Error(`Couldn't resolve component "${I}" at "${L.path}"`));const a=isESModule(s)?s.default:s;L.components[I]=a;const S=(a.__vccOpts||a)[t];return S&&guardToPromiseFn(S,o,i,L,I)()}))}}return u}function isRouteComponent(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function useLink(e){const t=inject(routerKey),o=inject(routeLocationKey),i=computed(()=>t.resolve(unref(e.to))),u=computed(()=>{const{matched:f}=i.value,{length:s}=f,a=f[s-1],P=o.matched;if(!a||!P.length)return-1;const S=P.findIndex(isSameRouteRecord.bind(null,a));if(S>-1)return S;const R=getOriginalPath(f[s-2]);return s>1&&getOriginalPath(a)===R&&P[P.length-1].path!==R?P.findIndex(isSameRouteRecord.bind(null,f[s-2])):S}),L=computed(()=>u.value>-1&&includesParams(o.params,i.value.params)),I=computed(()=>u.value>-1&&u.value===o.matched.length-1&&isSameRouteLocationParams(o.params,i.value.params));function b(f={}){return guardEvent(f)?t[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop):Promise.resolve()}return{route:i,href:computed(()=>i.value.href),isActive:L,isExactActive:I,navigate:b}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(e,{slots:t}){const o=reactive(useLink(e)),{options:i}=inject(routerKey),u=computed(()=>({[getLinkClass(e.activeClass,i.linkActiveClass,"router-link-active")]:o.isActive,[getLinkClass(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const L=t.default&&t.default(o);return e.custom?L:h("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:u.value},L)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,t){for(const o in t){const i=t[o],u=e[o];if(typeof i=="string"){if(i!==u)return!1}else if(!isArray(u)||u.length!==i.length||i.some((L,I)=>L!==u[I]))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,t,o)=>e??t??o,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:o}){const i=inject(routerViewLocationKey),u=computed(()=>e.route||i.value),L=inject(viewDepthKey,0),I=computed(()=>{let s=unref(L);const{matched:a}=u.value;let P;for(;(P=a[s])&&!P.components;)s++;return s}),b=computed(()=>u.value.matched[I.value]);provide(viewDepthKey,computed(()=>I.value+1)),provide(matchedRouteKey,b),provide(routerViewLocationKey,u);const f=ref();return watch(()=>[f.value,b.value,e.name],([s,a,P],[S,R,n])=>{a&&(a.instances[P]=s,R&&R!==a&&s&&s===S&&(a.leaveGuards.size||(a.leaveGuards=R.leaveGuards),a.updateGuards.size||(a.updateGuards=R.updateGuards))),s&&a&&(!R||!isSameRouteRecord(a,R)||!S)&&(a.enterCallbacks[P]||[]).forEach(g=>g(s))},{flush:"post"}),()=>{const s=u.value,a=e.name,P=b.value,S=P&&P.components[a];if(!S)return normalizeSlot(o.default,{Component:S,route:s});const R=P.props[a],n=R?R===!0?s.params:typeof R=="function"?R(s):R:null,m=h(S,assign({},n,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(P.instances[a]=null)},ref:f}));return normalizeSlot(o.default,{Component:m,route:s})||m}}});function normalizeSlot(e,t){if(!e)return null;const o=e(t);return o.length===1?o[0]:o}const RouterView=RouterViewImpl;function createRouter(e){const t=createRouterMatcher(e.routes,e),o=e.parseQuery||parseQuery,i=e.stringifyQuery||stringifyQuery,u=e.history,L=useCallbacks(),I=useCallbacks(),b=useCallbacks(),f=shallowRef(START_LOCATION_NORMALIZED);let s=START_LOCATION_NORMALIZED;isBrowser&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const a=applyToParams.bind(null,x=>""+x),P=applyToParams.bind(null,encodeParam),S=applyToParams.bind(null,decode);function R(x,D){let $,ie;return isRouteName(x)?($=t.getRecordMatcher(x),ie=D):ie=x,t.addRoute(ie,$)}function n(x){const D=t.getRecordMatcher(x);D&&t.removeRoute(D)}function g(){return t.getRoutes().map(x=>x.record)}function m(x){return!!t.getRecordMatcher(x)}function A(x,D){if(D=assign({},D||f.value),typeof x=="string"){const j=parseURL(o,x,D.path),te=t.resolve({path:j.path},D),fe=u.createHref(j.fullPath);return assign(j,te,{params:S(te.params),hash:decode(j.hash),redirectedFrom:void 0,href:fe})}let $;if("path"in x)$=assign({},x,{path:parseURL(o,x.path,D.path).path});else{const j=assign({},x.params);for(const te in j)j[te]==null&&delete j[te];$=assign({},x,{params:P(j)}),D.params=P(D.params)}const ie=t.resolve($,D),he=x.hash||"";ie.params=a(S(ie.params));const U=stringifyURL(i,assign({},x,{hash:encodeHash(he),path:ie.path})),z=u.createHref(U);return assign({fullPath:U,hash:he,query:i===stringifyQuery?normalizeQuery(x.query):x.query||{}},ie,{redirectedFrom:void 0,href:z})}function T(x){return typeof x=="string"?parseURL(o,x,f.value.path):assign({},x)}function E(x,D){if(s!==x)return createRouterError(8,{from:D,to:x})}function C(x){return y(x)}function l(x){return C(assign(T(x),{replace:!0}))}function c(x){const D=x.matched[x.matched.length-1];if(D&&D.redirect){const{redirect:$}=D;let ie=typeof $=="function"?$(x):$;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=T(ie):{path:ie},ie.params={}),assign({query:x.query,hash:x.hash,params:"path"in ie?{}:x.params},ie)}}function y(x,D){const $=s=A(x),ie=f.value,he=x.state,U=x.force,z=x.replace===!0,j=c($);if(j)return y(assign(T(j),{state:typeof j=="object"?assign({},he,j.state):he,force:U,replace:z}),D||$);const te=$;te.redirectedFrom=D;let fe;return!U&&isSameRouteLocation(i,ie,$)&&(fe=createRouterError(16,{to:te,from:ie}),ge(ie,ie,!0,!1)),(fe?Promise.resolve(fe):O(te,ie)).catch(de=>isNavigationFailure(de)?isNavigationFailure(de,2)?de:G(de):N(de,te,ie)).then(de=>{if(de){if(isNavigationFailure(de,2))return y(assign({replace:z},T(de.to),{state:typeof de.to=="object"?assign({},he,de.to.state):he,force:U}),D||te)}else de=K(te,ie,!0,z,he);return F(te,ie,de),de})}function v(x,D){const $=E(x,D);return $?Promise.reject($):Promise.resolve()}function _(x){const D=M.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(x):x()}function O(x,D){let $;const[ie,he,U]=extractChangingRecords(x,D);$=extractComponentsGuards(ie.reverse(),"beforeRouteLeave",x,D);for(const j of ie)j.leaveGuards.forEach(te=>{$.push(guardToPromiseFn(te,x,D))});const z=v.bind(null,x,D);return $.push(z),w($).then(()=>{$=[];for(const j of L.list())$.push(guardToPromiseFn(j,x,D));return $.push(z),w($)}).then(()=>{$=extractComponentsGuards(he,"beforeRouteUpdate",x,D);for(const j of he)j.updateGuards.forEach(te=>{$.push(guardToPromiseFn(te,x,D))});return $.push(z),w($)}).then(()=>{$=[];for(const j of U)if(j.beforeEnter)if(isArray(j.beforeEnter))for(const te of j.beforeEnter)$.push(guardToPromiseFn(te,x,D));else $.push(guardToPromiseFn(j.beforeEnter,x,D));return $.push(z),w($)}).then(()=>(x.matched.forEach(j=>j.enterCallbacks={}),$=extractComponentsGuards(U,"beforeRouteEnter",x,D),$.push(z),w($))).then(()=>{$=[];for(const j of I.list())$.push(guardToPromiseFn(j,x,D));return $.push(z),w($)}).catch(j=>isNavigationFailure(j,8)?j:Promise.reject(j))}function F(x,D,$){b.list().forEach(ie=>_(()=>ie(x,D,$)))}function K(x,D,$,ie,he){const U=E(x,D);if(U)return U;const z=D===START_LOCATION_NORMALIZED,j=isBrowser?history.state:{};$&&(ie||z?u.replace(x.fullPath,assign({scroll:z&&j&&j.scroll},he)):u.push(x.fullPath,he)),f.value=x,ge(x,D,$,z),G()}let le;function B(){le||(le=u.listen((x,D,$)=>{if(!d.listening)return;const ie=A(x),he=c(ie);if(he){y(assign(he,{replace:!0}),ie).catch(noop);return}s=ie;const U=f.value;isBrowser&&saveScrollPosition(getScrollKey(U.fullPath,$.delta),computeScrollPosition()),O(ie,U).catch(z=>isNavigationFailure(z,12)?z:isNavigationFailure(z,2)?(y(z.to,ie).then(j=>{isNavigationFailure(j,20)&&!$.delta&&$.type===NavigationType.pop&&u.go(-1,!1)}).catch(noop),Promise.reject()):($.delta&&u.go(-$.delta,!1),N(z,ie,U))).then(z=>{z=z||K(ie,U,!1),z&&($.delta&&!isNavigationFailure(z,8)?u.go(-$.delta,!1):$.type===NavigationType.pop&&isNavigationFailure(z,20)&&u.go(-1,!1)),F(ie,U,z)}).catch(noop)}))}let Y=useCallbacks(),se=useCallbacks(),ee;function N(x,D,$){G(x);const ie=se.list();return ie.length?ie.forEach(he=>he(x,D,$)):console.error(x),Promise.reject(x)}function q(){return ee&&f.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((x,D)=>{Y.add([x,D])})}function G(x){return ee||(ee=!x,B(),Y.list().forEach(([D,$])=>x?$(x):D()),Y.reset()),x}function ge(x,D,$,ie){const{scrollBehavior:he}=e;if(!isBrowser||!he)return Promise.resolve();const U=!$&&getSavedScrollPosition(getScrollKey(x.fullPath,0))||(ie||!$)&&history.state&&history.state.scroll||null;return nextTick().then(()=>he(x,D,U)).then(z=>z&&scrollToPosition(z)).catch(z=>N(z,x,D))}const Pe=x=>u.go(x);let W;const M=new Set,d={currentRoute:f,listening:!0,addRoute:R,removeRoute:n,hasRoute:m,getRoutes:g,resolve:A,options:e,push:C,replace:l,go:Pe,back:()=>Pe(-1),forward:()=>Pe(1),beforeEach:L.add,beforeResolve:I.add,afterEach:b.add,onError:se.add,isReady:q,install(x){const D=this;x.component("RouterLink",RouterLink),x.component("RouterView",RouterView),x.config.globalProperties.$router=D,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(f)}),isBrowser&&!W&&f.value===START_LOCATION_NORMALIZED&&(W=!0,C(u.location).catch(he=>{}));const $={};for(const he in START_LOCATION_NORMALIZED)Object.defineProperty($,he,{get:()=>f.value[he],enumerable:!0});x.provide(routerKey,D),x.provide(routeLocationKey,shallowReactive($)),x.provide(routerViewLocationKey,f);const ie=x.unmount;M.add(x),x.unmount=function(){M.delete(x),M.size<1&&(s=START_LOCATION_NORMALIZED,le&&le(),le=null,f.value=START_LOCATION_NORMALIZED,W=!1,ee=!1),ie()}}};function w(x){return x.reduce((D,$)=>D.then(()=>_($)),Promise.resolve())}return d}function extractChangingRecords(e,t){const o=[],i=[],u=[],L=Math.max(t.matched.length,e.matched.length);for(let I=0;I<L;I++){const b=t.matched[I];b&&(e.matched.find(s=>isSameRouteRecord(s,b))?i.push(b):o.push(b));const f=e.matched[I];f&&(t.matched.find(s=>isSameRouteRecord(s,f))||u.push(f))}return[o,i,u]}function useRoute(){return inject(routeLocationKey)}const App_vue_vue_type_style_index_0_scoped_55b427dd_lang="",_export_sfc=(e,t)=>{const o=e.__vccOpts||e;for(const[i,u]of t)o[i]=u;return o},_sfc_main$2={__name:"App",setup(e){const t=useRoute();return console.log("route",t),(o,i)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("aside",null,[createBaseVNode("nav",null,[createVNode(unref(RouterLink),{class:normalizeClass(["nav-link",{active:unref(t).path==="/custom-toolbar"}]),to:"/custom-toolbar"},{default:withCtx(()=>[createTextVNode("Custom Toolbar")]),_:1},8,["class"]),createVNode(unref(RouterLink),{class:normalizeClass(["nav-link",{active:unref(t).path==="/multiple-pdf-files"}]),to:"/multiple-pdf-files"},{default:withCtx(()=>[createTextVNode("Multiple PDF")]),_:1},8,["class"])])]),createBaseVNode("main",null,[createVNode(unref(RouterView))])],64))}},App=_export_sfc(_sfc_main$2,[["__scopeId","data-v-55b427dd"]]);function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var o=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};o.prototype=t.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var u=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(o,i,u.get?u:{enumerable:!0,get:function(){return e[i]}})}),o}var app$1={exports:{}};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1),canvas=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(canvas);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(t,o){module.exports=t.pdfjsLib=o()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,t)=>{var Ge;Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=q,t.bytesToString=he,t.createValidAbsoluteUrl=ge,t.getModificationDate=Oe,t.getUuid=Xe,t.getVerbosityLevel=Y,t.info=se,t.isArrayBuffer=me,t.isArrayEqual=ke,t.isNodeJS=void 0,t.normalizeUnicode=ze,t.objectFromMap=te,t.objectSize=j,t.setVerbosityLevel=B,t.shadow=Pe,t.string32=z,t.stringToBytes=U,t.stringToPDFString=ce,t.stringToUTF8String=ne,t.unreachable=N,t.utf8StringToString=ue,t.warn=ee;const o=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=o;const i=[1,0,0,1,0,0];t.IDENTITY_MATRIX=i;const u=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=u;const L=1e7;t.MAX_IMAGE_SIZE_TO_CACHE=L;const I=1.35;t.LINE_FACTOR=I;const b=.35;t.LINE_DESCENT_FACTOR=b;const f=b/I;t.BASELINE_FACTOR=f;const s={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=s;const a={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=a;const P="pdfjs_internal_editor_";t.AnnotationEditorPrefix=P;const S={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};t.AnnotationEditorType=S;const R={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};t.AnnotationEditorParamsType=R;const n={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=n;const g={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=g;const m={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=m;const A={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=A;const T={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=T;const E={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=E;const C={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=C;const l={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=l;const c={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=c;const y={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=y;const v={O:"PageOpen",C:"PageClose"};t.PageActionEventType=v;const _={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=_;const O={NONE:0,BINARY:1};t.CMapCompressionType=O;const F={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=F;const K={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=K;let le=_.WARNINGS;function B(De){Number.isInteger(De)&&(le=De)}function Y(){return le}function se(De){le>=_.INFOS&&console.log(`Info: ${De}`)}function ee(De){le>=_.WARNINGS&&console.log(`Warning: ${De}`)}function N(De){throw new Error(De)}function q(De,k){De||N(k)}function G(De){switch(De==null?void 0:De.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ge(De,k=null,Q=null){if(!De)return null;try{if(Q&&typeof De=="string"){if(Q.addDefaultProtocol&&De.startsWith("www.")){const be=De.match(/\./g);(be==null?void 0:be.length)>=2&&(De=`http://${De}`)}if(Q.tryConvertEncoding)try{De=ne(De)}catch{}}const Ae=k?new URL(De,k):new URL(De);if(G(Ae))return Ae}catch{}return null}function Pe(De,k,Q,Ae=!1){return Object.defineProperty(De,k,{value:Q,enumerable:!Ae,configurable:!0,writable:!1}),Q}const W=function(){function k(Q,Ae){this.constructor===k&&N("Cannot initialize BaseException."),this.message=Q,this.name=Ae}return k.prototype=new Error,k.constructor=k,k}();t.BaseException=W;class M extends W{constructor(k,Q){super(k,"PasswordException"),this.code=Q}}t.PasswordException=M;class d extends W{constructor(k,Q){super(k,"UnknownErrorException"),this.details=Q}}t.UnknownErrorException=d;class w extends W{constructor(k){super(k,"InvalidPDFException")}}t.InvalidPDFException=w;class x extends W{constructor(k){super(k,"MissingPDFException")}}t.MissingPDFException=x;class D extends W{constructor(k,Q){super(k,"UnexpectedResponseException"),this.status=Q}}t.UnexpectedResponseException=D;class $ extends W{constructor(k){super(k,"FormatError")}}t.FormatError=$;class ie extends W{constructor(k){super(k,"AbortException")}}t.AbortException=ie;function he(De){(typeof De!="object"||(De==null?void 0:De.length)===void 0)&&N("Invalid argument for bytesToString");const k=De.length,Q=8192;if(k<Q)return String.fromCharCode.apply(null,De);const Ae=[];for(let be=0;be<k;be+=Q){const ye=Math.min(be+Q,k),we=De.subarray(be,ye);Ae.push(String.fromCharCode.apply(null,we))}return Ae.join("")}function U(De){typeof De!="string"&&N("Invalid argument for stringToBytes");const k=De.length,Q=new Uint8Array(k);for(let Ae=0;Ae<k;++Ae)Q[Ae]=De.charCodeAt(Ae)&255;return Q}function z(De){return String.fromCharCode(De>>24&255,De>>16&255,De>>8&255,De&255)}function j(De){return Object.keys(De).length}function te(De){const k=Object.create(null);for(const[Q,Ae]of De)k[Q]=Ae;return k}function fe(){const De=new Uint8Array(4);return De[0]=1,new Uint32Array(De.buffer,0,1)[0]===1}function de(){try{return new Function(""),!0}catch{return!1}}class Ee{static get isLittleEndian(){return Pe(this,"isLittleEndian",fe())}static get isEvalSupported(){return Pe(this,"isEvalSupported",de())}static get isOffscreenCanvasSupported(){return Pe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Pe(this,"platform",{isWin:!1,isMac:!1}):Pe(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var k,Q;return Pe(this,"isCSSRoundSupported",(Q=(k=globalThis.CSS)==null?void 0:k.supports)==null?void 0:Q.call(k,"width: round(1.5px, 1px)"))}}t.FeatureTest=Ee;const Te=[...Array(256).keys()].map(De=>De.toString(16).padStart(2,"0"));class ve{static makeHexColor(k,Q,Ae){return`#${Te[k]}${Te[Q]}${Te[Ae]}`}static scaleMinMax(k,Q){let Ae;k[0]?(k[0]<0&&(Ae=Q[0],Q[0]=Q[1],Q[1]=Ae),Q[0]*=k[0],Q[1]*=k[0],k[3]<0&&(Ae=Q[2],Q[2]=Q[3],Q[3]=Ae),Q[2]*=k[3],Q[3]*=k[3]):(Ae=Q[0],Q[0]=Q[2],Q[2]=Ae,Ae=Q[1],Q[1]=Q[3],Q[3]=Ae,k[1]<0&&(Ae=Q[2],Q[2]=Q[3],Q[3]=Ae),Q[2]*=k[1],Q[3]*=k[1],k[2]<0&&(Ae=Q[0],Q[0]=Q[1],Q[1]=Ae),Q[0]*=k[2],Q[1]*=k[2]),Q[0]+=k[4],Q[1]+=k[4],Q[2]+=k[5],Q[3]+=k[5]}static transform(k,Q){return[k[0]*Q[0]+k[2]*Q[1],k[1]*Q[0]+k[3]*Q[1],k[0]*Q[2]+k[2]*Q[3],k[1]*Q[2]+k[3]*Q[3],k[0]*Q[4]+k[2]*Q[5]+k[4],k[1]*Q[4]+k[3]*Q[5]+k[5]]}static applyTransform(k,Q){const Ae=k[0]*Q[0]+k[1]*Q[2]+Q[4],be=k[0]*Q[1]+k[1]*Q[3]+Q[5];return[Ae,be]}static applyInverseTransform(k,Q){const Ae=Q[0]*Q[3]-Q[1]*Q[2],be=(k[0]*Q[3]-k[1]*Q[2]+Q[2]*Q[5]-Q[4]*Q[3])/Ae,ye=(-k[0]*Q[1]+k[1]*Q[0]+Q[4]*Q[1]-Q[5]*Q[0])/Ae;return[be,ye]}static getAxialAlignedBoundingBox(k,Q){const Ae=this.applyTransform(k,Q),be=this.applyTransform(k.slice(2,4),Q),ye=this.applyTransform([k[0],k[3]],Q),we=this.applyTransform([k[2],k[1]],Q);return[Math.min(Ae[0],be[0],ye[0],we[0]),Math.min(Ae[1],be[1],ye[1],we[1]),Math.max(Ae[0],be[0],ye[0],we[0]),Math.max(Ae[1],be[1],ye[1],we[1])]}static inverseTransform(k){const Q=k[0]*k[3]-k[1]*k[2];return[k[3]/Q,-k[1]/Q,-k[2]/Q,k[0]/Q,(k[2]*k[5]-k[4]*k[3])/Q,(k[4]*k[1]-k[5]*k[0])/Q]}static singularValueDecompose2dScale(k){const Q=[k[0],k[2],k[1],k[3]],Ae=k[0]*Q[0]+k[1]*Q[2],be=k[0]*Q[1]+k[1]*Q[3],ye=k[2]*Q[0]+k[3]*Q[2],we=k[2]*Q[1]+k[3]*Q[3],xe=(Ae+we)/2,J=Math.sqrt((Ae+we)**2-4*(Ae*we-ye*be))/2,Ce=xe+J||1,Fe=xe-J||1;return[Math.sqrt(Ce),Math.sqrt(Fe)]}static normalizeRect(k){const Q=k.slice(0);return k[0]>k[2]&&(Q[0]=k[2],Q[2]=k[0]),k[1]>k[3]&&(Q[1]=k[3],Q[3]=k[1]),Q}static intersect(k,Q){const Ae=Math.max(Math.min(k[0],k[2]),Math.min(Q[0],Q[2])),be=Math.min(Math.max(k[0],k[2]),Math.max(Q[0],Q[2]));if(Ae>be)return null;const ye=Math.max(Math.min(k[1],k[3]),Math.min(Q[1],Q[3])),we=Math.min(Math.max(k[1],k[3]),Math.max(Q[1],Q[3]));return ye>we?null:[Ae,ye,be,we]}static bezierBoundingBox(k,Q,Ae,be,ye,we,xe,J){const Ce=[],Fe=[[],[]];let Le,Z,H,re,oe,_e,Me,Be;for(let Ve=0;Ve<2;++Ve){if(Ve===0?(Z=6*k-12*Ae+6*ye,Le=-3*k+9*Ae-9*ye+3*xe,H=3*Ae-3*k):(Z=6*Q-12*be+6*we,Le=-3*Q+9*be-9*we+3*J,H=3*be-3*Q),Math.abs(Le)<1e-12){if(Math.abs(Z)<1e-12)continue;re=-H/Z,0<re&&re<1&&Ce.push(re);continue}Me=Z*Z-4*H*Le,Be=Math.sqrt(Me),!(Me<0)&&(oe=(-Z+Be)/(2*Le),0<oe&&oe<1&&Ce.push(oe),_e=(-Z-Be)/(2*Le),0<_e&&_e<1&&Ce.push(_e))}let ae=Ce.length,Se;const Ie=ae;for(;ae--;)re=Ce[ae],Se=1-re,Fe[0][ae]=Se*Se*Se*k+3*Se*Se*re*Ae+3*Se*re*re*ye+re*re*re*xe,Fe[1][ae]=Se*Se*Se*Q+3*Se*Se*re*be+3*Se*re*re*we+re*re*re*J;return Fe[0][Ie]=k,Fe[1][Ie]=Q,Fe[0][Ie+1]=xe,Fe[1][Ie+1]=J,Fe[0].length=Fe[1].length=Ie+2,[Math.min(...Fe[0]),Math.min(...Fe[1]),Math.max(...Fe[0]),Math.max(...Fe[1])]}}t.Util=ve;const Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ce(De){if(De[0]>="ï"){let Q;if(De[0]==="þ"&&De[1]==="ÿ"?Q="utf-16be":De[0]==="ÿ"&&De[1]==="þ"?Q="utf-16le":De[0]==="ï"&&De[1]==="»"&&De[2]==="¿"&&(Q="utf-8"),Q)try{const Ae=new TextDecoder(Q,{fatal:!0}),be=U(De);return Ae.decode(be)}catch(Ae){ee(`stringToPDFString: "${Ae}".`)}}const k=[];for(let Q=0,Ae=De.length;Q<Ae;Q++){const be=Re[De.charCodeAt(Q)];k.push(be?String.fromCharCode(be):De.charAt(Q))}return k.join("")}function ne(De){return decodeURIComponent(escape(De))}function ue(De){return unescape(encodeURIComponent(De))}function me(De){return typeof De=="object"&&(De==null?void 0:De.byteLength)!==void 0}function ke(De,k){if(De.length!==k.length)return!1;for(let Q=0,Ae=De.length;Q<Ae;Q++)if(De[Q]!==k[Q])return!1;return!0}function Oe(De=new Date){return[De.getUTCFullYear().toString(),(De.getUTCMonth()+1).toString().padStart(2,"0"),De.getUTCDate().toString().padStart(2,"0"),De.getUTCHours().toString().padStart(2,"0"),De.getUTCMinutes().toString().padStart(2,"0"),De.getUTCSeconds().toString().padStart(2,"0")].join("")}class je{constructor(){V(this,Ge,!1);this.promise=new Promise((k,Q)=>{this.resolve=Ae=>{pe(this,Ge,!0),k(Ae)},this.reject=Ae=>{pe(this,Ge,!0),Q(Ae)}})}get settled(){return r(this,Ge)}}Ge=new WeakMap,t.PromiseCapability=je;let We=null,Ue=null;function ze(De){return We||(We=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ue=new Map([["ﬅ","ſt"]])),De.replaceAll(We,(k,Q,Ae)=>Q?Q.normalize("NFKC"):Ue.get(Ae))}function Xe(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const De=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(De);else for(let k=0;k<32;k++)De[k]=Math.floor(Math.random()*255);return he(De)}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,o,i,u,ct,I,It,f,s,a,P,S,R,n,g,m,kt,T,E,Qt,l,c;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(v){if(typeof v=="string"||v instanceof URL?v={url:v}:(0,_util.isArrayBuffer)(v)&&(v={data:v}),typeof v!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!v.url&&!v.data&&!v.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const _=new PDFDocumentLoadingTask,{docId:O}=_,F=v.url?getUrlProp(v.url):null,K=v.data?getDataProp(v.data):null,le=v.httpHeaders||null,B=v.withCredentials===!0,Y=v.password??null,se=v.range instanceof PDFDataRangeTransport?v.range:null,ee=Number.isInteger(v.rangeChunkSize)&&v.rangeChunkSize>0?v.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let N=v.worker instanceof PDFWorker?v.worker:null;const q=v.verbosity,G=typeof v.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(v.docBaseUrl)?v.docBaseUrl:null,ge=typeof v.cMapUrl=="string"?v.cMapUrl:null,Pe=v.cMapPacked!==!1,W=v.CMapReaderFactory||DefaultCMapReaderFactory,M=typeof v.standardFontDataUrl=="string"?v.standardFontDataUrl:null,d=v.StandardFontDataFactory||DefaultStandardFontDataFactory,w=v.stopAtErrors!==!0,x=Number.isInteger(v.maxImageSize)&&v.maxImageSize>-1?v.maxImageSize:-1,D=v.isEvalSupported!==!1,$=typeof v.isOffscreenCanvasSupported=="boolean"?v.isOffscreenCanvasSupported:!_util.isNodeJS,ie=Number.isInteger(v.canvasMaxAreaInBytes)?v.canvasMaxAreaInBytes:-1,he=typeof v.disableFontFace=="boolean"?v.disableFontFace:_util.isNodeJS,U=v.fontExtraProperties===!0,z=v.enableXfa===!0,j=v.ownerDocument||globalThis.document,te=v.disableRange===!0,fe=v.disableStream===!0,de=v.disableAutoFetch===!0,Ee=v.pdfBug===!0,Te=se?se.length:v.length??NaN,ve=typeof v.useSystemFonts=="boolean"?v.useSystemFonts:!_util.isNodeJS&&!he,Re=typeof v.useWorkerFetch=="boolean"?v.useWorkerFetch:W===_display_utils.DOMCMapReaderFactory&&d===_display_utils.DOMStandardFontDataFactory&&ge&&M&&(0,_display_utils.isValidFetchUrl)(ge,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(M,document.baseURI),ce=v.canvasFactory||new DefaultCanvasFactory({ownerDocument:j}),ne=v.filterFactory||new DefaultFilterFactory({docId:O,ownerDocument:j}),ue=null;(0,_util.setVerbosityLevel)(q);const me={canvasFactory:ce,filterFactory:ne};if(Re||(me.cMapReaderFactory=new W({baseUrl:ge,isCompressed:Pe}),me.standardFontDataFactory=new d({baseUrl:M})),!N){const je={verbosity:q,port:_worker_options.GlobalWorkerOptions.workerPort};N=je.port?PDFWorker.fromPort(je):new PDFWorker(je),_._worker=N}const ke={docId:O,apiVersion:"3.11.2",data:K,password:Y,disableAutoFetch:de,rangeChunkSize:ee,length:Te,docBaseUrl:G,enableXfa:z,evaluatorOptions:{maxImageSize:x,disableFontFace:he,ignoreErrors:w,isEvalSupported:D,isOffscreenCanvasSupported:$,canvasMaxAreaInBytes:ie,fontExtraProperties:U,useSystemFonts:ve,cMapUrl:Re?ge:null,standardFontDataUrl:Re?M:null}},Oe={ignoreErrors:w,isEvalSupported:D,disableFontFace:he,fontExtraProperties:U,enableXfa:z,ownerDocument:j,disableAutoFetch:de,pdfBug:Ee,styleElement:ue};return N.promise.then(function(){if(_.destroyed)throw new Error("Loading aborted");const je=_fetchDocument(N,ke),We=new Promise(function(Ue){let ze;se?ze=new _transport_stream.PDFDataTransportStream({length:Te,initialData:se.initialData,progressiveDone:se.progressiveDone,contentDispositionFilename:se.contentDispositionFilename,disableRange:te,disableStream:fe},se):K||(ze=(Ge=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Ge):(0,_display_utils.isValidFetchUrl)(Ge.url)?new _displayFetch_stream.PDFFetchStream(Ge):new _displayNetwork.PDFNetworkStream(Ge))({url:F,length:Te,httpHeaders:le,withCredentials:B,rangeChunkSize:ee,disableRange:te,disableStream:fe})),Ue(ze)});return Promise.all([je,We]).then(function([Ue,ze]){if(_.destroyed)throw new Error("Loading aborted");const Xe=new _message_handler.MessageHandler(O,Ue,N.port),Ge=new WorkerTransport(Xe,_,ze,Oe,me);_._transport=Ge,Xe.send("Ready",null)})}).catch(_._capability.reject),_}async function _fetchDocument(v,_){if(v.destroyed)throw new Error("Worker was destroyed");const O=await v.messageHandler.sendWithPromise("GetDocRequest",_,_.data?[_.data.buffer]:null);if(v.destroyed)throw new Error("Worker was destroyed");return O}function getUrlProp(v){if(v instanceof URL)return v.href;try{return new URL(v,window.location).href}catch{if(_util.isNodeJS&&typeof v=="string")return v}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(v){if(_util.isNodeJS&&typeof Buffer<"u"&&v instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(v instanceof Uint8Array&&v.byteLength===v.buffer.byteLength)return v;if(typeof v=="string")return(0,_util.stringToBytes)(v);if(typeof v=="object"&&!isNaN(v==null?void 0:v.length)||(0,_util.isArrayBuffer)(v))return new Uint8Array(v);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const t=class t{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${lt(t,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var _,O,F;this.destroyed=!0;try{(_=this._worker)!=null&&_.port&&(this._worker._pendingDestroy=!0),await((O=this._transport)==null?void 0:O.destroy())}catch(K){throw(F=this._worker)!=null&&F.port&&delete this._worker._pendingDestroy,K}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,V(t,e,0);let PDFDocumentLoadingTask=t;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(_,O,F=!1,K=null){this.length=_,this.initialData=O,this.progressiveDone=F,this.contentDispositionFilename=K,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(_){this._rangeListeners.push(_)}addProgressListener(_){this._progressListeners.push(_)}addProgressiveReadListener(_){this._progressiveReadListeners.push(_)}addProgressiveDoneListener(_){this._progressiveDoneListeners.push(_)}onDataRange(_,O){for(const F of this._rangeListeners)F(_,O)}onDataProgress(_,O){this._readyCapability.promise.then(()=>{for(const F of this._progressListeners)F(_,O)})}onDataProgressiveRead(_){this._readyCapability.promise.then(()=>{for(const O of this._progressiveReadListeners)O(_)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const _ of this._progressiveDoneListeners)_()})}transportReady(){this._readyCapability.resolve()}requestDataRange(_,O){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(_,O){this._pdfInfo=_,this._transport=O,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(F=>{if(!F)return F;const K=[];for(const le in F)K.push(...F[le]);return K}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(_){return this._transport.getPage(_)}getPageIndex(_){return this._transport.getPageIndex(_)}getDestinations(){return this._transport.getDestinations()}getDestination(_){return this._transport.getDestination(_)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(_=!1){return this._transport.startCleanup(_||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(_,O,F,K=!1){V(this,u);V(this,I);V(this,o,null);V(this,i,!1);this._pageIndex=_,this._pageInfo=O,this._transport=F,this._stats=K?new _display_utils.StatTimer:null,this._pdfBug=K,this.commonObjs=F.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:_,rotation:O=this.rotate,offsetX:F=0,offsetY:K=0,dontFlip:le=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:_,rotation:O,offsetX:F,offsetY:K,dontFlip:le})}getAnnotations({intent:_="display"}={}){const O=this._transport.getRenderingIntent(_);return this._transport.getAnnotations(this._pageIndex,O.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var _;return((_=this._transport._htmlForXfa)==null?void 0:_.children[this._pageIndex])||null}render({canvasContext:_,viewport:O,intent:F="display",annotationMode:K=_util.AnnotationMode.ENABLE,transform:le=null,background:B=null,optionalContentConfigPromise:Y=null,annotationCanvasMap:se=null,pageColors:ee=null,printAnnotationStorage:N=null}){var d,w;(d=this._stats)==null||d.time("Overall");const q=this._transport.getRenderingIntent(F,K,N);pe(this,i,!1),X(this,I,It).call(this),Y||(Y=this._transport.getOptionalContentConfig());let G=this._intentStates.get(q.cacheKey);G||(G=Object.create(null),this._intentStates.set(q.cacheKey,G)),G.streamReaderCancelTimeout&&(clearTimeout(G.streamReaderCancelTimeout),G.streamReaderCancelTimeout=null);const ge=!!(q.renderingIntent&_util.RenderingIntentFlag.PRINT);G.displayReadyCapability||(G.displayReadyCapability=new _util.PromiseCapability,G.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(w=this._stats)==null||w.time("Page Request"),this._pumpOperatorList(q));const Pe=x=>{var D,$;G.renderTasks.delete(W),(this._maybeCleanupAfterRender||ge)&&pe(this,i,!0),X(this,u,ct).call(this,!ge),x?(W.capability.reject(x),this._abortOperatorList({intentState:G,reason:x instanceof Error?x:new Error(x)})):W.capability.resolve(),(D=this._stats)==null||D.timeEnd("Rendering"),($=this._stats)==null||$.timeEnd("Overall")},W=new InternalRenderTask({callback:Pe,params:{canvasContext:_,viewport:O,transform:le,background:B},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:se,operatorList:G.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ge,pdfBug:this._pdfBug,pageColors:ee});(G.renderTasks||(G.renderTasks=new Set)).add(W);const M=W.task;return Promise.all([G.displayReadyCapability.promise,Y]).then(([x,D])=>{var $;if(this.destroyed){Pe();return}($=this._stats)==null||$.time("Rendering"),W.initializeGraphics({transparency:x,optionalContentConfig:D}),W.operatorListChanged()}).catch(Pe),M}getOperatorList({intent:_="display",annotationMode:O=_util.AnnotationMode.ENABLE,printAnnotationStorage:F=null}={}){var se;function K(){B.operatorList.lastChunk&&(B.opListReadCapability.resolve(B.operatorList),B.renderTasks.delete(Y))}const le=this._transport.getRenderingIntent(_,O,F,!0);let B=this._intentStates.get(le.cacheKey);B||(B=Object.create(null),this._intentStates.set(le.cacheKey,B));let Y;return B.opListReadCapability||(Y=Object.create(null),Y.operatorListChanged=K,B.opListReadCapability=new _util.PromiseCapability,(B.renderTasks||(B.renderTasks=new Set)).add(Y),B.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(se=this._stats)==null||se.time("Page Request"),this._pumpOperatorList(le)),B.opListReadCapability.promise}streamTextContent({includeMarkedContent:_=!1,disableNormalization:O=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:_===!0,disableNormalization:O===!0},{highWaterMark:100,size(K){return K.items.length}})}getTextContent(_={}){if(this._transport._htmlForXfa)return this.getXfa().then(F=>_xfa_text.XfaText.textContent(F));const O=this.streamTextContent(_);return new Promise(function(F,K){function le(){B.read().then(function({value:se,done:ee}){if(ee){F(Y);return}Object.assign(Y.styles,se.styles),Y.items.push(...se.items),le()},K)}const B=O.getReader(),Y={items:[],styles:Object.create(null)};le()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const _=[];for(const O of this._intentStates.values())if(this._abortOperatorList({intentState:O,reason:new Error("Page was destroyed."),force:!0}),!O.opListReadCapability)for(const F of O.renderTasks)_.push(F.completed),F.cancel();return this.objs.clear(),pe(this,i,!1),X(this,I,It).call(this),Promise.all(_)}cleanup(_=!1){pe(this,i,!0);const O=X(this,u,ct).call(this,!1);return _&&O&&this._stats&&(this._stats=new _display_utils.StatTimer),O}_startRenderPage(_,O){var K,le;const F=this._intentStates.get(O);F&&((K=this._stats)==null||K.timeEnd("Page Request"),(le=F.displayReadyCapability)==null||le.resolve(_))}_renderPageChunk(_,O){for(let F=0,K=_.length;F<K;F++)O.operatorList.fnArray.push(_.fnArray[F]),O.operatorList.argsArray.push(_.argsArray[F]);O.operatorList.lastChunk=_.lastChunk,O.operatorList.separateAnnots=_.separateAnnots;for(const F of O.renderTasks)F.operatorListChanged();_.lastChunk&&X(this,u,ct).call(this,!0)}_pumpOperatorList({renderingIntent:_,cacheKey:O,annotationStorageSerializable:F}){const{map:K,transfers:le}=F,Y=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:_,cacheKey:O,annotationStorage:K},le).getReader(),se=this._intentStates.get(O);se.streamReader=Y;const ee=()=>{Y.read().then(({value:N,done:q})=>{if(q){se.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(N,se),ee())},N=>{if(se.streamReader=null,!this._transport.destroyed){if(se.operatorList){se.operatorList.lastChunk=!0;for(const q of se.renderTasks)q.operatorListChanged();X(this,u,ct).call(this,!0)}if(se.displayReadyCapability)se.displayReadyCapability.reject(N);else if(se.opListReadCapability)se.opListReadCapability.reject(N);else throw N}})};ee()}_abortOperatorList({intentState:_,reason:O,force:F=!1}){if(_.streamReader){if(_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null),!F){if(_.renderTasks.size>0)return;if(O instanceof _display_utils.RenderingCancelledException){let K=RENDERING_CANCELLED_TIMEOUT;O.extraDelay>0&&O.extraDelay<1e3&&(K+=O.extraDelay),_.streamReaderCancelTimeout=setTimeout(()=>{_.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:_,reason:O,force:!0})},K);return}}if(_.streamReader.cancel(new _util.AbortException(O.message)).catch(()=>{}),_.streamReader=null,!this._transport.destroyed){for(const[K,le]of this._intentStates)if(le===_){this._intentStates.delete(K);break}this.cleanup()}}}get stats(){return this._stats}}o=new WeakMap,i=new WeakMap,u=new WeakSet,ct=function(_=!1){if(X(this,I,It).call(this),!r(this,i)||this.destroyed)return!1;if(_)return pe(this,o,setTimeout(()=>{pe(this,o,null),X(this,u,ct).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:O,operatorList:F}of this._intentStates.values())if(O.size>0||!F.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),pe(this,i,!1),!0},I=new WeakSet,It=function(){r(this,o)&&(clearTimeout(r(this,o)),pe(this,o,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){V(this,f,new Set);V(this,s,Promise.resolve())}postMessage(_,O){const F={data:structuredClone(_,O?{transfer:O}:null)};r(this,s).then(()=>{for(const K of r(this,f))K.call(this,F)})}addEventListener(_,O){r(this,f).add(O)}removeEventListener(_,O){r(this,f).delete(O)}terminate(){r(this,f).clear()}}f=new WeakMap,s=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const v=(a=document==null?void 0:document.currentScript)==null?void 0:a.src;v&&(PDFWorkerUtil.fallbackWorkerSrc=v.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(v,_){let O;try{if(O=new URL(v),!O.origin||O.origin==="null")return!1}catch{return!1}const F=new URL(_,O);return O.origin===F.origin},PDFWorkerUtil.createCDNWrapper=function(v){const _=`importScripts("${v}");`;return URL.createObjectURL(new Blob([_]))}}const _PDFWorker=class _PDFWorker{constructor({name:v=null,port:_=null,verbosity:O=(0,_util.getVerbosityLevel)()}={}){var F;if(this.name=v,this.destroyed=!1,this.verbosity=O,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,_){if((F=r(_PDFWorker,P))!=null&&F.has(_))throw new Error("Cannot use more than one PDFWorker per port.");(r(_PDFWorker,P)||pe(_PDFWorker,P,new WeakMap)).set(_,this),this._initializeFromPort(_);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(v){this._port=v,this._messageHandler=new _message_handler.MessageHandler("main","worker",v),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:v}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,v)||(v=PDFWorkerUtil.createCDNWrapper(new URL(v,window.location).href));const _=new Worker(v),O=new _message_handler.MessageHandler("main","worker",_),F=()=>{_.removeEventListener("error",K),O.destroy(),_.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},K=()=>{this._webWorker||F()};_.addEventListener("error",K),O.on("test",B=>{if(_.removeEventListener("error",K),this.destroyed){F();return}B?(this._messageHandler=O,this._port=_,this._webWorker=_,this._readyCapability.resolve(),O.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),O.destroy(),_.terminate())}),O.on("ready",B=>{if(_.removeEventListener("error",K),this.destroyed){F();return}try{le()}catch{this._setupFakeWorker()}});const le=()=>{const B=new Uint8Array;O.send("test",B,[B.buffer])};le();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(v=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const _=new LoopbackPort;this._port=_;const O=`fake${PDFWorkerUtil.fakeWorkerId++}`,F=new _message_handler.MessageHandler(O+"_worker",O,_);v.setup(F,_);const K=new _message_handler.MessageHandler(O,O+"_worker",_);this._messageHandler=K,this._readyCapability.resolve(),K.send("configure",{verbosity:this.verbosity})}).catch(v=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${v.message}".`))})}destroy(){var v;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(v=r(_PDFWorker,P))==null||v.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(v){var O;if(!(v!=null&&v.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const _=(O=r(this,P))==null?void 0:O.get(v.port);if(_){if(_._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return _}return new _PDFWorker(v)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var v;try{return((v=globalThis.pdfjsWorker)==null?void 0:v.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};P=new WeakMap,V(_PDFWorker,P,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(_,O,F,K,le){V(this,m);V(this,S,new Map);V(this,R,new Map);V(this,n,new Map);V(this,g,null);this.messageHandler=_,this.loadingTask=O,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:K.ownerDocument,styleElement:K.styleElement}),this._params=K,this.canvasFactory=le.canvasFactory,this.filterFactory=le.filterFactory,this.cMapReaderFactory=le.cMapReaderFactory,this.standardFontDataFactory=le.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=F,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(_,O=_util.AnnotationMode.ENABLE,F=null,K=!1){let le=_util.RenderingIntentFlag.DISPLAY,B=_annotation_storage.SerializableEmpty;switch(_){case"any":le=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":le=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${_}`)}switch(O){case _util.AnnotationMode.DISABLE:le+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:le+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:le+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,B=(le&_util.RenderingIntentFlag.PRINT&&F instanceof _annotation_storage.PrintAnnotationStorage?F:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${O}`)}return K&&(le+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:le,cacheKey:`${le}_${B.hash}`,annotationStorageSerializable:B}}destroy(){var F;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(F=r(this,g))==null||F.reject(new Error("Worker was destroyed during onPassword callback"));const _=[];for(const K of r(this,R).values())_.push(K._destroy());r(this,R).clear(),r(this,n).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const O=this.messageHandler.sendWithPromise("Terminate",null);return _.push(O),Promise.all(_).then(()=>{var K;this.commonObjs.clear(),this.fontLoader.clear(),r(this,S).clear(),this.filterFactory.destroy(),(K=this._networkStream)==null||K.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:_,loadingTask:O}=this;_.on("GetReader",(F,K)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=le=>{this._lastProgress={loaded:le.loaded,total:le.total}},K.onPull=()=>{this._fullReader.read().then(function({value:le,done:B}){if(B){K.close();return}(0,_util.assert)(le instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),K.enqueue(new Uint8Array(le),1,[le])}).catch(le=>{K.error(le)})},K.onCancel=le=>{this._fullReader.cancel(le),K.ready.catch(B=>{if(!this.destroyed)throw B})}}),_.on("ReaderHeadersReady",F=>{const K=new _util.PromiseCapability,le=this._fullReader;return le.headersReady.then(()=>{var B;(!le.isStreamingSupported||!le.isRangeSupported)&&(this._lastProgress&&((B=O.onProgress)==null||B.call(O,this._lastProgress)),le.onProgress=Y=>{var se;(se=O.onProgress)==null||se.call(O,{loaded:Y.loaded,total:Y.total})}),K.resolve({isStreamingSupported:le.isStreamingSupported,isRangeSupported:le.isRangeSupported,contentLength:le.contentLength})},K.reject),K.promise}),_.on("GetRangeReader",(F,K)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const le=this._networkStream.getRangeReader(F.begin,F.end);if(!le){K.close();return}K.onPull=()=>{le.read().then(function({value:B,done:Y}){if(Y){K.close();return}(0,_util.assert)(B instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),K.enqueue(new Uint8Array(B),1,[B])}).catch(B=>{K.error(B)})},K.onCancel=B=>{le.cancel(B),K.ready.catch(Y=>{if(!this.destroyed)throw Y})}}),_.on("GetDoc",({pdfInfo:F})=>{this._numPages=F.numPages,this._htmlForXfa=F.htmlForXfa,delete F.htmlForXfa,O._capability.resolve(new PDFDocumentProxy(F,this))}),_.on("DocException",function(F){let K;switch(F.name){case"PasswordException":K=new _util.PasswordException(F.message,F.code);break;case"InvalidPDFException":K=new _util.InvalidPDFException(F.message);break;case"MissingPDFException":K=new _util.MissingPDFException(F.message);break;case"UnexpectedResponseException":K=new _util.UnexpectedResponseException(F.message,F.status);break;case"UnknownErrorException":K=new _util.UnknownErrorException(F.message,F.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}O._capability.reject(K)}),_.on("PasswordRequest",F=>{if(pe(this,g,new _util.PromiseCapability),O.onPassword){const K=le=>{le instanceof Error?r(this,g).reject(le):r(this,g).resolve({password:le})};try{O.onPassword(K,F.code)}catch(le){r(this,g).reject(le)}}else r(this,g).reject(new _util.PasswordException(F.message,F.code));return r(this,g).promise}),_.on("DataLoaded",F=>{var K;(K=O.onProgress)==null||K.call(O,{loaded:F.length,total:F.length}),this.downloadInfoCapability.resolve(F)}),_.on("StartRenderPage",F=>{if(this.destroyed)return;r(this,R).get(F.pageIndex)._startRenderPage(F.transparency,F.cacheKey)}),_.on("commonobj",([F,K,le])=>{var B;if(!this.destroyed&&!this.commonObjs.has(F))switch(K){case"Font":const Y=this._params;if("error"in le){const N=le.error;(0,_util.warn)(`Error during font loading: ${N}`),this.commonObjs.resolve(F,N);break}const se=Y.pdfBug&&((B=globalThis.FontInspector)!=null&&B.enabled)?(N,q)=>globalThis.FontInspector.fontAdded(N,q):null,ee=new _font_loader.FontFaceObject(le,{isEvalSupported:Y.isEvalSupported,disableFontFace:Y.disableFontFace,ignoreErrors:Y.ignoreErrors,inspectFont:se});this.fontLoader.bind(ee).catch(N=>_.sendWithPromise("FontFallback",{id:F})).finally(()=>{!Y.fontExtraProperties&&ee.data&&(ee.data=null),this.commonObjs.resolve(F,ee)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(F,le);break;default:throw new Error(`Got unknown common object type ${K}`)}}),_.on("obj",([F,K,le,B])=>{var se;if(this.destroyed)return;const Y=r(this,R).get(K);if(!Y.objs.has(F))switch(le){case"Image":if(Y.objs.resolve(F,B),B){let ee;if(B.bitmap){const{width:N,height:q}=B;ee=N*q*4}else ee=((se=B.data)==null?void 0:se.length)||0;ee>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Y._maybeCleanupAfterRender=!0)}break;case"Pattern":Y.objs.resolve(F,B);break;default:throw new Error(`Got unknown object type ${le}`)}}),_.on("DocProgress",F=>{var K;this.destroyed||(K=O.onProgress)==null||K.call(O,{loaded:F.loaded,total:F.total})}),_.on("FetchBuiltInCMap",F=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(F):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),_.on("FetchStandardFontData",F=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(F):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var F;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:_,transfers:O}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:_,filename:((F=this._fullReader)==null?void 0:F.filename)??null},O).finally(()=>{this.annotationStorage.resetModified()})}getPage(_){if(!Number.isInteger(_)||_<=0||_>this._numPages)return Promise.reject(new Error("Invalid page request."));const O=_-1,F=r(this,n).get(O);if(F)return F;const K=this.messageHandler.sendWithPromise("GetPage",{pageIndex:O}).then(le=>{if(this.destroyed)throw new Error("Transport destroyed");const B=new PDFPageProxy(O,le,this,this._params.pdfBug);return r(this,R).set(O,B),B});return r(this,n).set(O,K),K}getPageIndex(_){return typeof _!="object"||_===null||!Number.isInteger(_.num)||_.num<0||!Number.isInteger(_.gen)||_.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:_.num,gen:_.gen})}getAnnotations(_,O){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:_,intent:O})}getFieldObjects(){return X(this,m,kt).call(this,"GetFieldObjects")}hasJSActions(){return X(this,m,kt).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(_){return typeof _!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:_})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return X(this,m,kt).call(this,"GetDocJSActions")}getPageJSActions(_){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:_})}getStructTree(_){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:_})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(_=>new _optional_content_config.OptionalContentConfig(_))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const _="GetMetadata",O=r(this,S).get(_);if(O)return O;const F=this.messageHandler.sendWithPromise(_,null).then(K=>{var le,B;return{info:K[0],metadata:K[1]?new _metadata.Metadata(K[1]):null,contentDispositionFilename:((le=this._fullReader)==null?void 0:le.filename)??null,contentLength:((B=this._fullReader)==null?void 0:B.contentLength)??null}});return r(this,S).set(_,F),F}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(_=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const O of r(this,R).values())if(!O.cleanup())throw new Error(`startCleanup: Page ${O.pageNumber} is currently rendering.`);this.commonObjs.clear(),_||this.fontLoader.clear(),r(this,S).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:_,enableXfa:O}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:_,enableXfa:O})}}S=new WeakMap,R=new WeakMap,n=new WeakMap,g=new WeakMap,m=new WeakSet,kt=function(_,O=null){const F=r(this,S).get(_);if(F)return F;const K=this.messageHandler.sendWithPromise(_,O);return r(this,S).set(_,K),K};class PDFObjects{constructor(){V(this,E);V(this,T,Object.create(null))}get(_,O=null){if(O){const K=X(this,E,Qt).call(this,_);return K.capability.promise.then(()=>O(K.data)),null}const F=r(this,T)[_];if(!(F!=null&&F.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${_}.`);return F.data}has(_){const O=r(this,T)[_];return(O==null?void 0:O.capability.settled)||!1}resolve(_,O=null){const F=X(this,E,Qt).call(this,_);F.data=O,F.capability.resolve()}clear(){var _;for(const O in r(this,T)){const{data:F}=r(this,T)[O];(_=F==null?void 0:F.bitmap)==null||_.close()}pe(this,T,Object.create(null))}}T=new WeakMap,E=new WeakSet,Qt=function(_){var O;return(O=r(this,T))[_]||(O[_]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(_){V(this,l,null);pe(this,l,_),this.onContinue=null}get promise(){return r(this,l).capability.promise}cancel(_=0){r(this,l).cancel(null,_)}get separateAnnots(){const{separateAnnots:_}=r(this,l).operatorList;if(!_)return!1;const{annotationCanvasMap:O}=r(this,l);return _.form||_.canvas&&(O==null?void 0:O.size)>0}}l=new WeakMap,exports.RenderTask=RenderTask;const y=class y{constructor({callback:_,params:O,objs:F,commonObjs:K,annotationCanvasMap:le,operatorList:B,pageIndex:Y,canvasFactory:se,filterFactory:ee,useRequestAnimationFrame:N=!1,pdfBug:q=!1,pageColors:G=null}){this.callback=_,this.params=O,this.objs=F,this.commonObjs=K,this.annotationCanvasMap=le,this.operatorListIdx=null,this.operatorList=B,this._pageIndex=Y,this.canvasFactory=se,this.filterFactory=ee,this._pdfBug=q,this.pageColors=G,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=N===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=O.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:_=!1,optionalContentConfig:O}){var Y,se;if(this.cancelled)return;if(this._canvas){if(r(y,c).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");r(y,c).add(this._canvas)}this._pdfBug&&((Y=globalThis.StepperManager)!=null&&Y.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:F,viewport:K,transform:le,background:B}=this.params;this.gfx=new _canvas.CanvasGraphics(F,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:O},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:le,viewport:K,transparency:_,background:B}),this.operatorListIdx=0,this.graphicsReady=!0,(se=this.graphicsReadyCallback)==null||se.call(this)}cancel(_=null,O=0){var F;this.running=!1,this.cancelled=!0,(F=this.gfx)==null||F.endDrawing(),this._canvas&&r(y,c).delete(this._canvas),this.callback(_||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,O))}operatorListChanged(){var _;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(_=this.stepper)==null||_.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(this.pageColors),this._canvas&&r(y,c).delete(this._canvas),this.callback())))}};c=new WeakMap,V(y,c,new WeakSet);let InternalRenderTask=y;const version="3.11.2";exports.version=version;const build="92f7653cf";exports.build=build},(e,t,o)=>{var s,a,P,hn,R;Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var i=o(1),u=o(4),L=o(8);const I=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=I;class b{constructor(){V(this,P);V(this,s,!1);V(this,a,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(g,m){const A=r(this,a).get(g);return A===void 0?m:Object.assign(m,A)}getRawValue(g){return r(this,a).get(g)}remove(g){if(r(this,a).delete(g),r(this,a).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const m of r(this,a).values())if(m instanceof u.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(g,m){const A=r(this,a).get(g);let T=!1;if(A!==void 0)for(const[E,C]of Object.entries(m))A[E]!==C&&(T=!0,A[E]=C);else T=!0,r(this,a).set(g,m);T&&X(this,P,hn).call(this),m instanceof u.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(m.constructor._type)}has(g){return r(this,a).has(g)}getAll(){return r(this,a).size>0?(0,i.objectFromMap)(r(this,a)):null}setAll(g){for(const[m,A]of Object.entries(g))this.setValue(m,A)}get size(){return r(this,a).size}resetModified(){r(this,s)&&(pe(this,s,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new f(this)}get serializable(){if(r(this,a).size===0)return I;const g=new Map,m=new L.MurmurHash3_64,A=[],T=Object.create(null);let E=!1;for(const[C,l]of r(this,a)){const c=l instanceof u.AnnotationEditor?l.serialize(!1,T):l;c&&(g.set(C,c),m.update(`${C}:${JSON.stringify(c)}`),E||(E=!!c.bitmap))}if(E)for(const C of g.values())C.bitmap&&A.push(C.bitmap);return g.size>0?{map:g,hash:m.hexdigest(),transfers:A}:I}}s=new WeakMap,a=new WeakMap,P=new WeakSet,hn=function(){r(this,s)||(pe(this,s,!0),typeof this.onSetModified=="function"&&this.onSetModified())},t.AnnotationStorage=b;class f extends b{constructor(m){super();V(this,R,void 0);const{map:A,hash:T,transfers:E}=m.serializable,C=structuredClone(A,E?{transfer:E}:null);pe(this,R,{map:C,hash:T,transfers:E})}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return r(this,R)}}R=new WeakMap,t.PrintAnnotationStorage=f},(e,t,o)=>{var b,f,s,a,P,S,R,n,g,m,ei,T,ti,C,ii,c,un,v,fn,O,pn,K,gn,B,mn;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var i=o(5),u=o(1);const se=class se{constructor(N){V(this,m);V(this,C);V(this,v);V(this,O);V(this,K);V(this,B);V(this,b,!1);V(this,f,null);V(this,s,this.focusin.bind(this));V(this,a,this.focusout.bind(this));V(this,P,!1);V(this,S,!1);V(this,R,!1);Ke(this,"_initialOptions",Object.create(null));Ke(this,"_uiManager",null);Ke(this,"_focusEventsAllowed",!0);V(this,n,!1);V(this,g,se._zIndex++);this.constructor===se&&(0,u.unreachable)("Cannot initialize AnnotationEditor."),this.parent=N.parent,this.id=N.id,this.width=this.height=null,this.pageIndex=N.parent.pageIndex,this.name=N.name,this.div=null,this._uiManager=N.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=N.isCentered;const{rotation:q,rawDims:{pageWidth:G,pageHeight:ge,pageX:Pe,pageY:W}}=this.parent.viewport;this.rotation=q,this.pageRotation=(360+q-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[G,ge],this.pageTranslation=[Pe,W];const[M,d]=this.parentDimensions;this.x=N.x/M,this.y=N.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _defaultLineColor(){return(0,u.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(N){const q=new I({id:N.parent.getNextId(),parent:N.parent,uiManager:N._uiManager});q.annotationElementId=N.annotationElementId,q.deleted=!0,q._uiManager.addToAnnotationStorage(q)}static initialize(N){}static updateDefaultParams(N,q){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(N){return!1}static paste(N,q){(0,u.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return r(this,n)}set _isDraggable(N){var q;pe(this,n,N),(q=this.div)==null||q.classList.toggle("draggable",N)}center(){const[N,q]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*q/(N*2),this.y+=this.width*N/(q*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*q/(N*2),this.y-=this.width*N/(q*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(N){this._uiManager.addCommands(N)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=r(this,g)}setParent(N){N!==null&&(this.pageIndex=N.pageIndex,this.pageDimensions=N.pageDimensions),this.parent=N}focusin(N){this._focusEventsAllowed&&(r(this,P)?pe(this,P,!1):this.parent.setSelected(this))}focusout(N){var G;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const q=N.relatedTarget;q!=null&&q.closest(`#${this.id}`)||(N.preventDefault(),(G=this.parent)!=null&&G.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(N,q,G,ge){const[Pe,W]=this.parentDimensions;[G,ge]=this.screenToPageTranslation(G,ge),this.x=(N+G)/Pe,this.y=(q+ge)/W,this.fixAndSetPosition()}translate(N,q){X(this,m,ei).call(this,this.parentDimensions,N,q)}translateInPage(N,q){X(this,m,ei).call(this,this.pageDimensions,N,q),this.moveInDOM(),this.div.scrollIntoView({block:"nearest"})}drag(N,q){const[G,ge]=this.parentDimensions;if(this.x+=N/G,this.y+=q/ge,this.x<0||this.x>1||this.y<0||this.y>1){const{x:Pe,y:W}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Pe,W)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}this.div.style.left=`${(100*this.x).toFixed(2)}%`,this.div.style.top=`${(100*this.y).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[N,q]=this.pageDimensions;let{x:G,y:ge,width:Pe,height:W}=this;switch(Pe*=N,W*=q,G*=N,ge*=q,this.rotation){case 0:G=Math.max(0,Math.min(N-Pe,G)),ge=Math.max(0,Math.min(q-W,ge));break;case 90:G=Math.max(0,Math.min(N-W,G)),ge=Math.min(q,Math.max(Pe,ge));break;case 180:G=Math.min(N,Math.max(Pe,G)),ge=Math.min(q,Math.max(W,ge));break;case 270:G=Math.min(N,Math.max(W,G)),ge=Math.max(0,Math.min(q-Pe,ge));break}this.x=G/N,this.y=ge/q,this.div.style.left=`${(100*this.x).toFixed(2)}%`,this.div.style.top=`${(100*this.y).toFixed(2)}%`}screenToPageTranslation(N,q){var G;return X(G=se,T,ti).call(G,N,q,this.parentRotation)}pageTranslationToScreen(N,q){var G;return X(G=se,T,ti).call(G,N,q,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:N,pageDimensions:[q,G]}=this,ge=q*N,Pe=G*N;return u.FeatureTest.isCSSRoundSupported?[Math.round(ge),Math.round(Pe)]:[ge,Pe]}setDims(N,q){const[G,ge]=this.parentDimensions;this.div.style.width=`${(100*N/G).toFixed(2)}%`,r(this,b)||(this.div.style.height=`${(100*q/ge).toFixed(2)}%`)}fixDims(){const{style:N}=this.div,{height:q,width:G}=N,ge=G.endsWith("%"),Pe=!r(this,b)&&q.endsWith("%");if(ge&&Pe)return;const[W,M]=this.parentDimensions;ge||(N.width=`${(100*parseFloat(G)/W).toFixed(2)}%`),!r(this,b)&&!Pe&&(N.height=`${(100*parseFloat(q)/M).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",r(this,s)),this.div.addEventListener("focusout",r(this,a));const[N,q]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*q/N).toFixed(2)}%`,this.div.style.maxHeight=`${(100*N/q).toFixed(2)}%`);const[G,ge]=this.getInitialTranslation();return this.translate(G,ge),(0,i.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(N){const{isMac:q}=u.FeatureTest.platform;if(N.button!==0||N.ctrlKey&&q){N.preventDefault();return}pe(this,P,!0),X(this,B,mn).call(this,N)}moveInDOM(){this.parent.moveEditorInDOM(this)}_setParentAndPosition(N,q,G){N.changeParent(this),this.x=q,this.y=G,this.fixAndSetPosition(),this.moveInDOM()}getRect(N,q){const G=this.parentScale,[ge,Pe]=this.pageDimensions,[W,M]=this.pageTranslation,d=N/G,w=q/G,x=this.x*ge,D=this.y*Pe,$=this.width*ge,ie=this.height*Pe;switch(this.rotation){case 0:return[x+d+W,Pe-D-w-ie+M,x+d+$+W,Pe-D-w+M];case 90:return[x+w+W,Pe-D+d+M,x+w+ie+W,Pe-D+d+$+M];case 180:return[x-d-$+W,Pe-D+w+M,x-d+W,Pe-D+w+ie+M];case 270:return[x-w-ie+W,Pe-D-d-$+M,x-w+W,Pe-D-d+M];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(N,q){const[G,ge,Pe,W]=N,M=Pe-G,d=W-ge;switch(this.rotation){case 0:return[G,q-W,M,d];case 90:return[G,q-ge,d,M];case 180:return[Pe,q-ge,M,d];case 270:return[Pe,q-W,d,M];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){pe(this,R,!0)}disableEditMode(){pe(this,R,!1)}isInEditMode(){return r(this,R)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var N,q;(N=this.div)==null||N.addEventListener("focusin",r(this,s)),(q=this.div)==null||q.addEventListener("focusout",r(this,a))}serialize(N=!1,q=null){(0,u.unreachable)("An editor must be serializable")}static deserialize(N,q,G){const ge=new this.prototype.constructor({parent:q,id:q.getNextId(),uiManager:G});ge.rotation=N.rotation;const[Pe,W]=ge.pageDimensions,[M,d,w,x]=ge.getRectInCurrentCoords(N.rect,W);return ge.x=M/Pe,ge.y=d/W,ge.width=w/Pe,ge.height=x/W,ge}remove(){this.div.removeEventListener("focusin",r(this,s)),this.div.removeEventListener("focusout",r(this,a)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this)}get isResizable(){return!1}makeResizable(){this.isResizable&&(X(this,v,fn).call(this),r(this,f).classList.remove("hidden"))}select(){var N;this.makeResizable(),(N=this.div)==null||N.classList.add("selectedEditor")}unselect(){var N,q,G;(N=r(this,f))==null||N.classList.add("hidden"),(q=this.div)==null||q.classList.remove("selectedEditor"),(G=this.div)!=null&&G.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(N,q){}disableEditing(){}enableEditing(){}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return r(this,S)}set isEditing(N){pe(this,S,N),this.parent&&(N?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(N,q){pe(this,b,!0);const G=N/q,{style:ge}=this.div;ge.aspectRatio=G,ge.height="auto"}static get MIN_SIZE(){return 16}};b=new WeakMap,f=new WeakMap,s=new WeakMap,a=new WeakMap,P=new WeakMap,S=new WeakMap,R=new WeakMap,n=new WeakMap,g=new WeakMap,m=new WeakSet,ei=function([N,q],G,ge){[G,ge]=this.screenToPageTranslation(G,ge),this.x+=G/N,this.y+=ge/q,this.fixAndSetPosition()},T=new WeakSet,ti=function(N,q,G){switch(G){case 90:return[q,-N];case 180:return[-N,-q];case 270:return[-q,N];default:return[N,q]}},C=new WeakSet,ii=function(N){switch(N){case 90:{const[q,G]=this.pageDimensions;return[0,-q/G,G/q,0]}case 180:return[-1,0,0,-1];case 270:{const[q,G]=this.pageDimensions;return[0,q/G,-G/q,0]}default:return[1,0,0,1]}},c=new WeakSet,un=function(N){N.preventDefault()},v=new WeakSet,fn=function(){if(r(this,f))return;pe(this,f,document.createElement("div")),r(this,f).classList.add("resizers");const N=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||N.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const q of N){const G=document.createElement("div");r(this,f).append(G),G.classList.add("resizer",q),G.addEventListener("pointerdown",X(this,O,pn).bind(this,q)),G.addEventListener("contextmenu",X(se,c,un))}this.div.prepend(r(this,f))},O=new WeakSet,pn=function(N,q){q.preventDefault();const{isMac:G}=u.FeatureTest.platform;if(q.button!==0||q.ctrlKey&&G)return;const ge=X(this,K,gn).bind(this,N),Pe=this._isDraggable;this._isDraggable=!1;const W={passive:!0,capture:!0};window.addEventListener("pointermove",ge,W);const M=this.x,d=this.y,w=this.width,x=this.height,D=this.parent.div.style.cursor,$=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(q.target).cursor;const ie=()=>{this._isDraggable=Pe,window.removeEventListener("pointerup",ie),window.removeEventListener("blur",ie),window.removeEventListener("pointermove",ge,W),this.parent.div.style.cursor=D,this.div.style.cursor=$;const he=this.x,U=this.y,z=this.width,j=this.height;he===M&&U===d&&z===w&&j===x||this.addCommands({cmd:()=>{this.width=z,this.height=j,this.x=he,this.y=U;const[te,fe]=this.parentDimensions;this.setDims(te*z,fe*j),this.fixAndSetPosition(),this.moveInDOM()},undo:()=>{this.width=w,this.height=x,this.x=M,this.y=d;const[te,fe]=this.parentDimensions;this.setDims(te*w,fe*x),this.fixAndSetPosition(),this.moveInDOM()},mustExec:!0})};window.addEventListener("pointerup",ie),window.addEventListener("blur",ie)},K=new WeakSet,gn=function(N,q){const[G,ge]=this.parentDimensions,Pe=this.x,W=this.y,M=this.width,d=this.height,w=se.MIN_SIZE/G,x=se.MIN_SIZE/ge,D=Ue=>Math.round(Ue*1e4)/1e4,$=X(this,C,ii).call(this,this.rotation),ie=(Ue,ze)=>[$[0]*Ue+$[2]*ze,$[1]*Ue+$[3]*ze],he=X(this,C,ii).call(this,360-this.rotation),U=(Ue,ze)=>[he[0]*Ue+he[2]*ze,he[1]*Ue+he[3]*ze];let z,j,te=!1,fe=!1;switch(N){case"topLeft":te=!0,z=(Ue,ze)=>[0,0],j=(Ue,ze)=>[Ue,ze];break;case"topMiddle":z=(Ue,ze)=>[Ue/2,0],j=(Ue,ze)=>[Ue/2,ze];break;case"topRight":te=!0,z=(Ue,ze)=>[Ue,0],j=(Ue,ze)=>[0,ze];break;case"middleRight":fe=!0,z=(Ue,ze)=>[Ue,ze/2],j=(Ue,ze)=>[0,ze/2];break;case"bottomRight":te=!0,z=(Ue,ze)=>[Ue,ze],j=(Ue,ze)=>[0,0];break;case"bottomMiddle":z=(Ue,ze)=>[Ue/2,ze],j=(Ue,ze)=>[Ue/2,0];break;case"bottomLeft":te=!0,z=(Ue,ze)=>[0,ze],j=(Ue,ze)=>[Ue,0];break;case"middleLeft":fe=!0,z=(Ue,ze)=>[0,ze/2],j=(Ue,ze)=>[Ue,ze/2];break}const de=z(M,d),Ee=j(M,d);let Te=ie(...Ee);const ve=D(Pe+Te[0]),Re=D(W+Te[1]);let ce=1,ne=1,[ue,me]=this.screenToPageTranslation(q.movementX,q.movementY);if([ue,me]=U(ue/G,me/ge),te){const Ue=Math.hypot(M,d);ce=ne=Math.max(Math.min(Math.hypot(Ee[0]-de[0]-ue,Ee[1]-de[1]-me)/Ue,1/M,1/d),w/M,x/d)}else fe?ce=Math.max(w,Math.min(1,Math.abs(Ee[0]-de[0]-ue)))/M:ne=Math.max(x,Math.min(1,Math.abs(Ee[1]-de[1]-me)))/d;const ke=D(M*ce),Oe=D(d*ne);Te=ie(...j(ke,Oe));const je=ve-Te[0],We=Re-Te[1];this.width=ke,this.height=Oe,this.x=je,this.y=We,this.setDims(G*ke,ge*Oe),this.fixAndSetPosition()},B=new WeakSet,mn=function(N){if(!this._isDraggable)return;const q=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let G,ge;q&&(G={passive:!0,capture:!0},ge=W=>{const[M,d]=this.screenToPageTranslation(W.movementX,W.movementY);this._uiManager.dragSelectedEditors(M,d)},window.addEventListener("pointermove",ge,G));const Pe=()=>{if(window.removeEventListener("pointerup",Pe),window.removeEventListener("blur",Pe),q&&window.removeEventListener("pointermove",ge,G),pe(this,P,!1),!this._uiManager.endDragSession()){const{isMac:W}=u.FeatureTest.platform;N.ctrlKey&&!W||N.shiftKey||N.metaKey&&W?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Pe),window.addEventListener("blur",Pe)},V(se,T),V(se,c),Ke(se,"_colorManager",new i.ColorManager),Ke(se,"_zIndex",1);let L=se;t.AnnotationEditor=L;class I extends L{constructor(N){super(N),this.annotationElementId=N.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,t,o)=>{var R,n,g,m,A,ni,C,l,c,y,v,bn,F,K,le,B,Y,se,ee,N,q,G,ge,Pe,W,M,d,w,x,D,$,ie,he,U,z,j,te,fe,de,Ee,Te,ve,Re,ce,ne,ue,me,_n,Oe,si,We,vn,ze,ri,Ge,wn,k,yn,Ae,st,ye,bt,xe,Sn,Ce,En,Le,ai,H,_t,oe,oi;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=L,t.opacityToHex=I;var i=o(1),u=o(6);function L(Be,ae,Se){for(const Ie of Se)ae.addEventListener(Ie,Be[Ie].bind(Be))}function I(Be){return Math.round(Math.min(255,Math.max(1,255*Be))).toString(16).padStart(2,"0")}class b{constructor(){V(this,R,0)}getId(){return`${i.AnnotationEditorPrefix}${lt(this,R)._++}`}}R=new WeakMap;const E=class E{constructor(){V(this,A);V(this,n,(0,i.getUuid)());V(this,g,0);V(this,m,null)}static get _isSVGFittingCanvas(){const ae='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Ie=new OffscreenCanvas(1,3).getContext("2d"),Ve=new Image;Ve.src=ae;const Ne=Ve.decode().then(()=>(Ie.drawImage(Ve,0,0,1,1,0,0,1,3),new Uint32Array(Ie.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,i.shadow)(this,"_isSVGFittingCanvas",Ne)}async getFromFile(ae){const{lastModified:Se,name:Ie,size:Ve,type:Ne}=ae;return X(this,A,ni).call(this,`${Se}_${Ie}_${Ve}_${Ne}`,ae)}async getFromUrl(ae){return X(this,A,ni).call(this,ae,ae)}async getFromId(ae){r(this,m)||pe(this,m,new Map);const Se=r(this,m).get(ae);return Se?Se.bitmap?(Se.refCounter+=1,Se):Se.file?this.getFromFile(Se.file):this.getFromUrl(Se.url):null}getSvgUrl(ae){const Se=r(this,m).get(ae);return Se!=null&&Se.isSvg?Se.svgUrl:null}deleteId(ae){r(this,m)||pe(this,m,new Map);const Se=r(this,m).get(ae);Se&&(Se.refCounter-=1,Se.refCounter===0&&(Se.bitmap=null))}isValidId(ae){return ae.startsWith(`image_${r(this,n)}_`)}};n=new WeakMap,g=new WeakMap,m=new WeakMap,A=new WeakSet,ni=async function(ae,Se){r(this,m)||pe(this,m,new Map);let Ie=r(this,m).get(ae);if(Ie===null)return null;if(Ie!=null&&Ie.bitmap)return Ie.refCounter+=1,Ie;try{Ie||(Ie={bitmap:null,id:`image_${r(this,n)}_${lt(this,g)._++}`,refCounter:0,isSvg:!1});let Ve;if(typeof Se=="string"){Ie.url=Se;const Ne=await fetch(Se);if(!Ne.ok)throw new Error(Ne.statusText);Ve=await Ne.blob()}else Ve=Ie.file=Se;if(Ve.type==="image/svg+xml"){const Ne=E._isSVGFittingCanvas,He=new FileReader,$e=new Image,qe=new Promise((Ye,Ze)=>{$e.onload=()=>{Ie.bitmap=$e,Ie.isSvg=!0,Ye()},He.onload=async()=>{const et=Ie.svgUrl=He.result;$e.src=await Ne?`${et}#svgView(preserveAspectRatio(none))`:et},$e.onerror=He.onerror=Ze});He.readAsDataURL(Ve),await qe}else Ie.bitmap=await createImageBitmap(Ve);Ie.refCounter=1}catch(Ve){console.error(Ve),Ie=null}return r(this,m).set(ae,Ie),Ie&&r(this,m).set(Ie.id,Ie),Ie};let f=E;class s{constructor(ae=128){V(this,C,[]);V(this,l,!1);V(this,c,void 0);V(this,y,-1);pe(this,c,ae)}add({cmd:ae,undo:Se,mustExec:Ie,type:Ve=NaN,overwriteIfSameType:Ne=!1,keepUndo:He=!1}){if(Ie&&ae(),r(this,l))return;const $e={cmd:ae,undo:Se,type:Ve};if(r(this,y)===-1){r(this,C).length>0&&(r(this,C).length=0),pe(this,y,0),r(this,C).push($e);return}if(Ne&&r(this,C)[r(this,y)].type===Ve){He&&($e.undo=r(this,C)[r(this,y)].undo),r(this,C)[r(this,y)]=$e;return}const qe=r(this,y)+1;qe===r(this,c)?r(this,C).splice(0,1):(pe(this,y,qe),qe<r(this,C).length&&r(this,C).splice(qe)),r(this,C).push($e)}undo(){r(this,y)!==-1&&(pe(this,l,!0),r(this,C)[r(this,y)].undo(),pe(this,l,!1),pe(this,y,r(this,y)-1))}redo(){r(this,y)<r(this,C).length-1&&(pe(this,y,r(this,y)+1),pe(this,l,!0),r(this,C)[r(this,y)].cmd(),pe(this,l,!1))}hasSomethingToUndo(){return r(this,y)!==-1}hasSomethingToRedo(){return r(this,y)<r(this,C).length-1}destroy(){pe(this,C,null)}}C=new WeakMap,l=new WeakMap,c=new WeakMap,y=new WeakMap,t.CommandManager=s;class a{constructor(ae){V(this,v);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Se}=i.FeatureTest.platform;for(const[Ie,Ve,Ne={}]of ae)for(const He of Ie){const $e=He.startsWith("mac+");Se&&$e?(this.callbacks.set(He.slice(4),{callback:Ve,options:Ne}),this.allKeys.add(He.split("+").at(-1))):!Se&&!$e&&(this.callbacks.set(He,{callback:Ve,options:Ne}),this.allKeys.add(He.split("+").at(-1)))}}exec(ae,Se){if(!this.allKeys.has(Se.key))return;const Ie=this.callbacks.get(X(this,v,bn).call(this,Se));if(!Ie)return;const{callback:Ve,options:{bubbles:Ne=!1,args:He=[],checker:$e=null}}=Ie;$e&&!$e(ae,Se)||(Ve.bind(ae,...He)(),Ne||(Se.stopPropagation(),Se.preventDefault()))}}v=new WeakSet,bn=function(ae){ae.altKey&&this.buffer.push("alt"),ae.ctrlKey&&this.buffer.push("ctrl"),ae.metaKey&&this.buffer.push("meta"),ae.shiftKey&&this.buffer.push("shift"),this.buffer.push(ae.key);const Se=this.buffer.join("+");return this.buffer.length=0,Se},t.KeyboardManager=a;const O=class O{get _colors(){const ae=new Map([["CanvasText",null],["Canvas",null]]);return(0,u.getColorValues)(ae),(0,i.shadow)(this,"_colors",ae)}convert(ae){const Se=(0,u.getRGB)(ae);if(!window.matchMedia("(forced-colors: active)").matches)return Se;for(const[Ie,Ve]of this._colors)if(Ve.every((Ne,He)=>Ne===Se[He]))return O._colorsMapping.get(Ie);return Se}getHexCode(ae){const Se=this._colors.get(ae);return Se?i.Util.makeHexColor(...Se):ae}};Ke(O,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let P=O;t.ColorManager=P;const Me=class Me{constructor(ae,Se,Ie,Ve,Ne){V(this,me);V(this,Oe);V(this,We);V(this,ze);V(this,Ge);V(this,k);V(this,Ae);V(this,ye);V(this,xe);V(this,Ce);V(this,Le);V(this,H);V(this,oe);V(this,F,null);V(this,K,new Map);V(this,le,new Map);V(this,B,null);V(this,Y,new s);V(this,se,0);V(this,ee,new Set);V(this,N,null);V(this,q,null);V(this,G,new Set);V(this,ge,null);V(this,Pe,null);V(this,W,new b);V(this,M,!1);V(this,d,!1);V(this,w,null);V(this,x,i.AnnotationEditorType.NONE);V(this,D,new Set);V(this,$,null);V(this,ie,this.blur.bind(this));V(this,he,this.focus.bind(this));V(this,U,this.copy.bind(this));V(this,z,this.cut.bind(this));V(this,j,this.paste.bind(this));V(this,te,this.keydown.bind(this));V(this,fe,this.onEditingAction.bind(this));V(this,de,this.onPageChanging.bind(this));V(this,Ee,this.onScaleChanging.bind(this));V(this,Te,this.onRotationChanging.bind(this));V(this,ve,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});V(this,Re,[0,0]);V(this,ce,null);V(this,ne,null);V(this,ue,null);pe(this,ne,ae),pe(this,ue,Se),pe(this,ge,Ie),r(this,ge)._on("editingaction",r(this,fe)),r(this,ge)._on("pagechanging",r(this,de)),r(this,ge)._on("scalechanging",r(this,Ee)),r(this,ge)._on("rotationchanging",r(this,Te)),pe(this,B,Ve.annotationStorage),pe(this,Pe,Ve.filterFactory),pe(this,$,Ne),this.viewParameters={realScale:u.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const ae=Me.prototype,Se=Ne=>{const{activeElement:He}=document;return He&&r(Ne,ne).contains(He)&&Ne.hasSomethingToControl()},Ie=this.TRANSLATE_SMALL,Ve=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new a([[["ctrl+a","mac+meta+a"],ae.selectAll],[["ctrl+z","mac+meta+z"],ae.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],ae.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],ae.delete],[["Escape","mac+Escape"],ae.unselectAll],[["ArrowLeft","mac+ArrowLeft"],ae.translateSelectedEditors,{args:[-Ie,0],checker:Se}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ae.translateSelectedEditors,{args:[-Ve,0],checker:Se}],[["ArrowRight","mac+ArrowRight"],ae.translateSelectedEditors,{args:[Ie,0],checker:Se}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ae.translateSelectedEditors,{args:[Ve,0],checker:Se}],[["ArrowUp","mac+ArrowUp"],ae.translateSelectedEditors,{args:[0,-Ie],checker:Se}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ae.translateSelectedEditors,{args:[0,-Ve],checker:Se}],[["ArrowDown","mac+ArrowDown"],ae.translateSelectedEditors,{args:[0,Ie],checker:Se}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ae.translateSelectedEditors,{args:[0,Ve],checker:Se}]]))}destroy(){X(this,ze,ri).call(this),X(this,Oe,si).call(this),r(this,ge)._off("editingaction",r(this,fe)),r(this,ge)._off("pagechanging",r(this,de)),r(this,ge)._off("scalechanging",r(this,Ee)),r(this,ge)._off("rotationchanging",r(this,Te));for(const ae of r(this,le).values())ae.destroy();r(this,le).clear(),r(this,K).clear(),r(this,G).clear(),pe(this,F,null),r(this,D).clear(),r(this,Y).destroy()}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",r(this,$)?r(this,Pe).addHCMFilter(r(this,$).foreground,r(this,$).background):"none")}onPageChanging({pageNumber:ae}){pe(this,se,ae-1)}focusMainContainer(){r(this,ne).focus()}findParent(ae,Se){for(const Ie of r(this,le).values()){const{x:Ve,y:Ne,width:He,height:$e}=Ie.div.getBoundingClientRect();if(ae>=Ve&&ae<=Ve+He&&Se>=Ne&&Se<=Ne+$e)return Ie}return null}disableUserSelect(ae=!1){r(this,ue).classList.toggle("noUserSelect",ae)}addShouldRescale(ae){r(this,G).add(ae)}removeShouldRescale(ae){r(this,G).delete(ae)}onScaleChanging({scale:ae}){this.commitOrRemove(),this.viewParameters.realScale=ae*u.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Se of r(this,G))Se.onScaleChanging()}onRotationChanging({pagesRotation:ae}){this.commitOrRemove(),this.viewParameters.rotation=ae}addToAnnotationStorage(ae){!ae.isEmpty()&&r(this,B)&&!r(this,B).has(ae.id)&&r(this,B).setValue(ae.id,ae)}blur(){if(!this.hasSelection)return;const{activeElement:ae}=document;for(const Se of r(this,D))if(Se.div.contains(ae)){pe(this,w,[Se,ae]),Se._focusEventsAllowed=!1;break}}focus(){if(!r(this,w))return;const[ae,Se]=r(this,w);pe(this,w,null),Se.addEventListener("focusin",()=>{ae._focusEventsAllowed=!0},{once:!0}),Se.focus()}copy(ae){var Ie;if(ae.preventDefault(),(Ie=r(this,F))==null||Ie.commitOrRemove(),!this.hasSelection)return;const Se=[];for(const Ve of r(this,D)){const Ne=Ve.serialize(!0);Ne&&Se.push(Ne)}Se.length!==0&&ae.clipboardData.setData("application/pdfjs",JSON.stringify(Se))}cut(ae){this.copy(ae),this.delete()}paste(ae){ae.preventDefault();const{clipboardData:Se}=ae;for(const Ne of Se.items)for(const He of r(this,q))if(He.isHandlingMimeForPasting(Ne.type)){He.paste(Ne,this.currentLayer);return}let Ie=Se.getData("application/pdfjs");if(!Ie)return;try{Ie=JSON.parse(Ie)}catch(Ne){(0,i.warn)(`paste: "${Ne.message}".`);return}if(!Array.isArray(Ie))return;this.unselectAll();const Ve=this.currentLayer;try{const Ne=[];for(const qe of Ie){const Ye=Ve.deserialize(qe);if(!Ye)return;Ne.push(Ye)}const He=()=>{for(const qe of Ne)X(this,Le,ai).call(this,qe);X(this,oe,oi).call(this,Ne)},$e=()=>{for(const qe of Ne)qe.remove()};this.addCommands({cmd:He,undo:$e,mustExec:!0})}catch(Ne){(0,i.warn)(`paste: "${Ne.message}".`)}}keydown(ae){var Se;(Se=this.getActive())!=null&&Se.shouldGetKeyboardEvents()||Me._keyboardManager.exec(this,ae)}onEditingAction(ae){["undo","redo","delete","selectAll"].includes(ae.name)&&this[ae.name]()}setEditingState(ae){ae?(X(this,me,_n).call(this),X(this,We,vn).call(this),X(this,Ge,wn).call(this),X(this,Ae,st).call(this,{isEditing:r(this,x)!==i.AnnotationEditorType.NONE,isEmpty:X(this,H,_t).call(this),hasSomethingToUndo:r(this,Y).hasSomethingToUndo(),hasSomethingToRedo:r(this,Y).hasSomethingToRedo(),hasSelectedEditor:!1})):(X(this,Oe,si).call(this),X(this,ze,ri).call(this),X(this,k,yn).call(this),X(this,Ae,st).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(ae){if(!r(this,q)){pe(this,q,ae);for(const Se of r(this,q))X(this,ye,bt).call(this,Se.defaultPropertiesToUpdate)}}getId(){return r(this,W).getId()}get currentLayer(){return r(this,le).get(r(this,se))}getLayer(ae){return r(this,le).get(ae)}get currentPageIndex(){return r(this,se)}addLayer(ae){r(this,le).set(ae.pageIndex,ae),r(this,M)?ae.enable():ae.disable()}removeLayer(ae){r(this,le).delete(ae.pageIndex)}updateMode(ae,Se=null){if(r(this,x)!==ae){if(pe(this,x,ae),ae===i.AnnotationEditorType.NONE){this.setEditingState(!1),X(this,Ce,En).call(this);return}this.setEditingState(!0),X(this,xe,Sn).call(this),this.unselectAll();for(const Ie of r(this,le).values())Ie.updateMode(ae);if(Se){for(const Ie of r(this,K).values())if(Ie.annotationElementId===Se){this.setSelected(Ie),Ie.enterInEditMode();break}}}}updateToolbar(ae){ae!==r(this,x)&&r(this,ge).dispatch("switchannotationeditormode",{source:this,mode:ae})}updateParams(ae,Se){if(r(this,q)){if(ae===i.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(ae);return}for(const Ie of r(this,D))Ie.updateParams(ae,Se);for(const Ie of r(this,q))Ie.updateDefaultParams(ae,Se)}}enableWaiting(ae=!1){if(r(this,d)!==ae){pe(this,d,ae);for(const Se of r(this,le).values())ae?Se.disableClick():Se.enableClick(),Se.div.classList.toggle("waiting",ae)}}getEditors(ae){const Se=[];for(const Ie of r(this,K).values())Ie.pageIndex===ae&&Se.push(Ie);return Se}getEditor(ae){return r(this,K).get(ae)}addEditor(ae){r(this,K).set(ae.id,ae)}removeEditor(ae){var Se;r(this,K).delete(ae.id),this.unselect(ae),(!ae.annotationElementId||!r(this,ee).has(ae.annotationElementId))&&((Se=r(this,B))==null||Se.remove(ae.id))}addDeletedAnnotationElement(ae){r(this,ee).add(ae.annotationElementId),ae.deleted=!0}isDeletedAnnotationElement(ae){return r(this,ee).has(ae)}removeDeletedAnnotationElement(ae){r(this,ee).delete(ae.annotationElementId),ae.deleted=!1}setActiveEditor(ae){r(this,F)!==ae&&(pe(this,F,ae),ae&&X(this,ye,bt).call(this,ae.propertiesToUpdate))}toggleSelected(ae){if(r(this,D).has(ae)){r(this,D).delete(ae),ae.unselect(),X(this,Ae,st).call(this,{hasSelectedEditor:this.hasSelection});return}r(this,D).add(ae),ae.select(),X(this,ye,bt).call(this,ae.propertiesToUpdate),X(this,Ae,st).call(this,{hasSelectedEditor:!0})}setSelected(ae){for(const Se of r(this,D))Se!==ae&&Se.unselect();r(this,D).clear(),r(this,D).add(ae),ae.select(),X(this,ye,bt).call(this,ae.propertiesToUpdate),X(this,Ae,st).call(this,{hasSelectedEditor:!0})}isSelected(ae){return r(this,D).has(ae)}unselect(ae){ae.unselect(),r(this,D).delete(ae),X(this,Ae,st).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return r(this,D).size!==0}undo(){r(this,Y).undo(),X(this,Ae,st).call(this,{hasSomethingToUndo:r(this,Y).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:X(this,H,_t).call(this)})}redo(){r(this,Y).redo(),X(this,Ae,st).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:r(this,Y).hasSomethingToRedo(),isEmpty:X(this,H,_t).call(this)})}addCommands(ae){r(this,Y).add(ae),X(this,Ae,st).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:X(this,H,_t).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const ae=[...r(this,D)],Se=()=>{for(const Ve of ae)Ve.remove()},Ie=()=>{for(const Ve of ae)X(this,Le,ai).call(this,Ve)};this.addCommands({cmd:Se,undo:Ie,mustExec:!0})}commitOrRemove(){var ae;(ae=r(this,F))==null||ae.commitOrRemove()}hasSomethingToControl(){return r(this,F)||this.hasSelection}selectAll(){for(const ae of r(this,D))ae.commit();X(this,oe,oi).call(this,r(this,K).values())}unselectAll(){if(r(this,F)){r(this,F).commitOrRemove();return}if(this.hasSelection){for(const ae of r(this,D))ae.unselect();r(this,D).clear(),X(this,Ae,st).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(ae,Se,Ie=!1){if(Ie||this.commitOrRemove(),!this.hasSelection)return;r(this,Re)[0]+=ae,r(this,Re)[1]+=Se;const[Ve,Ne]=r(this,Re),He=[...r(this,D)],$e=1e3;r(this,ce)&&clearTimeout(r(this,ce)),pe(this,ce,setTimeout(()=>{pe(this,ce,null),r(this,Re)[0]=r(this,Re)[1]=0,this.addCommands({cmd:()=>{for(const qe of He)r(this,K).has(qe.id)&&qe.translateInPage(Ve,Ne)},undo:()=>{for(const qe of He)r(this,K).has(qe.id)&&qe.translateInPage(-Ve,-Ne)},mustExec:!1})},$e));for(const qe of He)qe.translateInPage(ae,Se)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),pe(this,N,new Map);for(const ae of r(this,D))r(this,N).set(ae,{savedX:ae.x,savedY:ae.y,savedPageIndex:ae.parent.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!r(this,N))return!1;this.disableUserSelect(!1);const ae=r(this,N);pe(this,N,null);let Se=!1;for(const[{x:Ve,y:Ne,parent:He},$e]of ae)$e.newX=Ve,$e.newY=Ne,$e.newPageIndex=He.pageIndex,Se||(Se=Ve!==$e.savedX||Ne!==$e.savedY||He.pageIndex!==$e.savedPageIndex);if(!Se)return!1;const Ie=(Ve,Ne,He,$e)=>{if(r(this,K).has(Ve.id)){const qe=r(this,le).get($e);qe?Ve._setParentAndPosition(qe,Ne,He):(Ve.pageIndex=$e,Ve.x=Ne,Ve.y=He)}};return this.addCommands({cmd:()=>{for(const[Ve,{newX:Ne,newY:He,newPageIndex:$e}]of ae)Ie(Ve,Ne,He,$e)},undo:()=>{for(const[Ve,{savedX:Ne,savedY:He,savedPageIndex:$e}]of ae)Ie(Ve,Ne,He,$e)},mustExec:!0}),!0}dragSelectedEditors(ae,Se){if(r(this,N))for(const Ie of r(this,N).keys())Ie.drag(ae,Se)}rebuild(ae){if(ae.parent===null){const Se=this.getLayer(ae.pageIndex);Se?(Se.changeParent(ae),Se.addOrRebuild(ae)):(this.addEditor(ae),this.addToAnnotationStorage(ae),ae.rebuild())}else ae.parent.addOrRebuild(ae)}isActive(ae){return r(this,F)===ae}getActive(){return r(this,F)}getMode(){return r(this,x)}get imageManager(){return(0,i.shadow)(this,"imageManager",new f)}};F=new WeakMap,K=new WeakMap,le=new WeakMap,B=new WeakMap,Y=new WeakMap,se=new WeakMap,ee=new WeakMap,N=new WeakMap,q=new WeakMap,G=new WeakMap,ge=new WeakMap,Pe=new WeakMap,W=new WeakMap,M=new WeakMap,d=new WeakMap,w=new WeakMap,x=new WeakMap,D=new WeakMap,$=new WeakMap,ie=new WeakMap,he=new WeakMap,U=new WeakMap,z=new WeakMap,j=new WeakMap,te=new WeakMap,fe=new WeakMap,de=new WeakMap,Ee=new WeakMap,Te=new WeakMap,ve=new WeakMap,Re=new WeakMap,ce=new WeakMap,ne=new WeakMap,ue=new WeakMap,me=new WeakSet,_n=function(){window.addEventListener("focus",r(this,he)),window.addEventListener("blur",r(this,ie))},Oe=new WeakSet,si=function(){window.removeEventListener("focus",r(this,he)),window.removeEventListener("blur",r(this,ie))},We=new WeakSet,vn=function(){window.addEventListener("keydown",r(this,te),{capture:!0})},ze=new WeakSet,ri=function(){window.removeEventListener("keydown",r(this,te),{capture:!0})},Ge=new WeakSet,wn=function(){document.addEventListener("copy",r(this,U)),document.addEventListener("cut",r(this,z)),document.addEventListener("paste",r(this,j))},k=new WeakSet,yn=function(){document.removeEventListener("copy",r(this,U)),document.removeEventListener("cut",r(this,z)),document.removeEventListener("paste",r(this,j))},Ae=new WeakSet,st=function(ae){Object.entries(ae).some(([Ie,Ve])=>r(this,ve)[Ie]!==Ve)&&r(this,ge).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(r(this,ve),ae)})},ye=new WeakSet,bt=function(ae){r(this,ge).dispatch("annotationeditorparamschanged",{source:this,details:ae})},xe=new WeakSet,Sn=function(){if(!r(this,M)){pe(this,M,!0);for(const ae of r(this,le).values())ae.enable()}},Ce=new WeakSet,En=function(){if(this.unselectAll(),r(this,M)){pe(this,M,!1);for(const ae of r(this,le).values())ae.disable()}},Le=new WeakSet,ai=function(ae){const Se=r(this,le).get(ae.pageIndex);Se?Se.addOrRebuild(ae):this.addEditor(ae)},H=new WeakSet,_t=function(){if(r(this,K).size===0)return!0;if(r(this,K).size===1)for(const ae of r(this,K).values())return ae.isEmpty();return!1},oe=new WeakSet,oi=function(ae){r(this,D).clear();for(const Se of ae)Se.isEmpty()||(r(this,D).add(Se),Se.select());X(this,Ae,st).call(this,{hasSelectedEditor:!0})},Ke(Me,"TRANSLATE_SMALL",1),Ke(Me,"TRANSLATE_BIG",10);let S=Me;t.AnnotationEditorUIManager=S},(e,t,o)=>{var ee,N,q,G,ge,Pe,W,M,d,w,x,D,dt,ie,ht,U,li,j,Ot,fe,Ft,Ee,vt,ve,wt;Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=y,t.getColorValues=K,t.getCurrentTransform=le,t.getCurrentTransformInverse=B,t.getFilenameFromUrl=T,t.getPdfFilenameFromUrl=E,t.getRGB=F,t.getXfaPageViewport=O,t.isDataScheme=m,t.isPdfFile=A,t.isValidFetchUrl=l,t.loadScript=c,t.setLayerDimensions=Y;var i=o(7),u=o(1);const L="http://www.w3.org/2000/svg",I="pdfjs_internal_id_";t.AnnotationPrefix=I;const se=class se{};Ke(se,"CSS",96),Ke(se,"PDF",72),Ke(se,"PDF_TO_CSS_UNITS",se.CSS/se.PDF);let b=se;t.PixelsPerInch=b;class f extends i.BaseFilterFactory{constructor({docId:ue,ownerDocument:me=globalThis.document}={}){super();V(this,D);V(this,ie);V(this,U);V(this,j);V(this,fe);V(this,Ee);V(this,ve);V(this,ee,void 0);V(this,N,void 0);V(this,q,void 0);V(this,G,void 0);V(this,ge,void 0);V(this,Pe,void 0);V(this,W,void 0);V(this,M,void 0);V(this,d,void 0);V(this,w,void 0);V(this,x,0);pe(this,q,ue),pe(this,G,me)}addFilter(ue){if(!ue)return"none";let me=r(this,D,dt).get(ue);if(me)return me;let ke,Oe,je,We;if(ue.length===1){const Ge=ue[0],De=new Array(256);for(let k=0;k<256;k++)De[k]=Ge[k]/255;We=ke=Oe=je=De.join(",")}else{const[Ge,De,k]=ue,Q=new Array(256),Ae=new Array(256),be=new Array(256);for(let ye=0;ye<256;ye++)Q[ye]=Ge[ye]/255,Ae[ye]=De[ye]/255,be[ye]=k[ye]/255;ke=Q.join(","),Oe=Ae.join(","),je=be.join(","),We=`${ke}${Oe}${je}`}if(me=r(this,D,dt).get(We),me)return r(this,D,dt).set(ue,me),me;const Ue=`g_${r(this,q)}_transfer_map_${lt(this,x)._++}`,ze=`url(#${Ue})`;r(this,D,dt).set(ue,ze),r(this,D,dt).set(We,ze);const Xe=X(this,j,Ot).call(this,Ue);return X(this,Ee,vt).call(this,ke,Oe,je,Xe),ze}addHCMFilter(ue,me){var De;const ke=`${ue}-${me}`;if(r(this,Pe)===ke)return r(this,W);if(pe(this,Pe,ke),pe(this,W,"none"),(De=r(this,ge))==null||De.remove(),!ue||!me)return r(this,W);const Oe=X(this,ve,wt).call(this,ue);ue=u.Util.makeHexColor(...Oe);const je=X(this,ve,wt).call(this,me);if(me=u.Util.makeHexColor(...je),r(this,ie,ht).style.color="",ue==="#000000"&&me==="#ffffff"||ue===me)return r(this,W);const We=new Array(256);for(let k=0;k<=255;k++){const Q=k/255;We[k]=Q<=.03928?Q/12.92:((Q+.055)/1.055)**2.4}const Ue=We.join(","),ze=`g_${r(this,q)}_hcm_filter`,Xe=pe(this,M,X(this,j,Ot).call(this,ze));X(this,Ee,vt).call(this,Ue,Ue,Ue,Xe),X(this,U,li).call(this,Xe);const Ge=(k,Q)=>{const Ae=Oe[k]/255,be=je[k]/255,ye=new Array(Q+1);for(let we=0;we<=Q;we++)ye[we]=Ae+we/Q*(be-Ae);return ye.join(",")};return X(this,Ee,vt).call(this,Ge(0,5),Ge(1,5),Ge(2,5),Xe),pe(this,W,`url(#${ze})`),r(this,W)}addHighlightHCMFilter(ue,me,ke,Oe){var be;const je=`${ue}-${me}-${ke}-${Oe}`;if(r(this,d)===je)return r(this,w);if(pe(this,d,je),pe(this,w,"none"),(be=r(this,M))==null||be.remove(),!ue||!me)return r(this,w);const[We,Ue]=[ue,me].map(X(this,ve,wt).bind(this));let ze=Math.round(.2126*We[0]+.7152*We[1]+.0722*We[2]),Xe=Math.round(.2126*Ue[0]+.7152*Ue[1]+.0722*Ue[2]),[Ge,De]=[ke,Oe].map(X(this,ve,wt).bind(this));Xe<ze&&([ze,Xe,Ge,De]=[Xe,ze,De,Ge]),r(this,ie,ht).style.color="";const k=(ye,we,xe)=>{const J=new Array(256),Ce=(Xe-ze)/xe,Fe=ye/255,Le=(we-ye)/(255*xe);let Z=0;for(let H=0;H<=xe;H++){const re=Math.round(ze+H*Ce),oe=Fe+H*Le;for(let _e=Z;_e<=re;_e++)J[_e]=oe;Z=re+1}for(let H=Z;H<256;H++)J[H]=J[Z-1];return J.join(",")},Q=`g_${r(this,q)}_hcm_highlight_filter`,Ae=pe(this,M,X(this,j,Ot).call(this,Q));return X(this,U,li).call(this,Ae),X(this,Ee,vt).call(this,k(Ge[0],De[0],5),k(Ge[1],De[1],5),k(Ge[2],De[2],5),Ae),pe(this,w,`url(#${Q})`),r(this,w)}destroy(ue=!1){ue&&(r(this,W)||r(this,w))||(r(this,N)&&(r(this,N).parentNode.parentNode.remove(),pe(this,N,null)),r(this,ee)&&(r(this,ee).clear(),pe(this,ee,null)),pe(this,x,0))}}ee=new WeakMap,N=new WeakMap,q=new WeakMap,G=new WeakMap,ge=new WeakMap,Pe=new WeakMap,W=new WeakMap,M=new WeakMap,d=new WeakMap,w=new WeakMap,x=new WeakMap,D=new WeakSet,dt=function(){return r(this,ee)||pe(this,ee,new Map)},ie=new WeakSet,ht=function(){if(!r(this,N)){const ue=r(this,G).createElement("div"),{style:me}=ue;me.visibility="hidden",me.contain="strict",me.width=me.height=0,me.position="absolute",me.top=me.left=0,me.zIndex=-1;const ke=r(this,G).createElementNS(L,"svg");ke.setAttribute("width",0),ke.setAttribute("height",0),pe(this,N,r(this,G).createElementNS(L,"defs")),ue.append(ke),ke.append(r(this,N)),r(this,G).body.append(ue)}return r(this,N)},U=new WeakSet,li=function(ue){const me=r(this,G).createElementNS(L,"feColorMatrix");me.setAttribute("type","matrix"),me.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ue.append(me)},j=new WeakSet,Ot=function(ue){const me=r(this,G).createElementNS(L,"filter");return me.setAttribute("color-interpolation-filters","sRGB"),me.setAttribute("id",ue),r(this,ie,ht).append(me),me},fe=new WeakSet,Ft=function(ue,me,ke){const Oe=r(this,G).createElementNS(L,me);Oe.setAttribute("type","discrete"),Oe.setAttribute("tableValues",ke),ue.append(Oe)},Ee=new WeakSet,vt=function(ue,me,ke,Oe){const je=r(this,G).createElementNS(L,"feComponentTransfer");Oe.append(je),X(this,fe,Ft).call(this,je,"feFuncR",ue),X(this,fe,Ft).call(this,je,"feFuncG",me),X(this,fe,Ft).call(this,je,"feFuncB",ke)},ve=new WeakSet,wt=function(ue){return r(this,ie,ht).style.color=ue,F(getComputedStyle(r(this,ie,ht)).getPropertyValue("color"))},t.DOMFilterFactory=f;class s extends i.BaseCanvasFactory{constructor({ownerDocument:ne=globalThis.document}={}){super(),this._document=ne}_createCanvas(ne,ue){const me=this._document.createElement("canvas");return me.width=ne,me.height=ue,me}}t.DOMCanvasFactory=s;async function a(ce,ne=!1){if(l(ce,document.baseURI)){const ue=await fetch(ce);if(!ue.ok)throw new Error(ue.statusText);return ne?new Uint8Array(await ue.arrayBuffer()):(0,u.stringToBytes)(await ue.text())}return new Promise((ue,me)=>{const ke=new XMLHttpRequest;ke.open("GET",ce,!0),ne&&(ke.responseType="arraybuffer"),ke.onreadystatechange=()=>{if(ke.readyState===XMLHttpRequest.DONE){if(ke.status===200||ke.status===0){let Oe;if(ne&&ke.response?Oe=new Uint8Array(ke.response):!ne&&ke.responseText&&(Oe=(0,u.stringToBytes)(ke.responseText)),Oe){ue(Oe);return}}me(new Error(ke.statusText))}},ke.send(null)})}class P extends i.BaseCMapReaderFactory{_fetchData(ne,ue){return a(ne,this.isCompressed).then(me=>({cMapData:me,compressionType:ue}))}}t.DOMCMapReaderFactory=P;class S extends i.BaseStandardFontDataFactory{_fetchData(ne){return a(ne,!0)}}t.DOMStandardFontDataFactory=S;class R extends i.BaseSVGFactory{_createSVG(ne){return document.createElementNS(L,ne)}}t.DOMSVGFactory=R;class n{constructor({viewBox:ne,scale:ue,rotation:me,offsetX:ke=0,offsetY:Oe=0,dontFlip:je=!1}){this.viewBox=ne,this.scale=ue,this.rotation=me,this.offsetX=ke,this.offsetY=Oe;const We=(ne[2]+ne[0])/2,Ue=(ne[3]+ne[1])/2;let ze,Xe,Ge,De;switch(me%=360,me<0&&(me+=360),me){case 180:ze=-1,Xe=0,Ge=0,De=1;break;case 90:ze=0,Xe=1,Ge=1,De=0;break;case 270:ze=0,Xe=-1,Ge=-1,De=0;break;case 0:ze=1,Xe=0,Ge=0,De=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}je&&(Ge=-Ge,De=-De);let k,Q,Ae,be;ze===0?(k=Math.abs(Ue-ne[1])*ue+ke,Q=Math.abs(We-ne[0])*ue+Oe,Ae=(ne[3]-ne[1])*ue,be=(ne[2]-ne[0])*ue):(k=Math.abs(We-ne[0])*ue+ke,Q=Math.abs(Ue-ne[1])*ue+Oe,Ae=(ne[2]-ne[0])*ue,be=(ne[3]-ne[1])*ue),this.transform=[ze*ue,Xe*ue,Ge*ue,De*ue,k-ze*ue*We-Ge*ue*Ue,Q-Xe*ue*We-De*ue*Ue],this.width=Ae,this.height=be}get rawDims(){const{viewBox:ne}=this;return(0,u.shadow)(this,"rawDims",{pageWidth:ne[2]-ne[0],pageHeight:ne[3]-ne[1],pageX:ne[0],pageY:ne[1]})}clone({scale:ne=this.scale,rotation:ue=this.rotation,offsetX:me=this.offsetX,offsetY:ke=this.offsetY,dontFlip:Oe=!1}={}){return new n({viewBox:this.viewBox.slice(),scale:ne,rotation:ue,offsetX:me,offsetY:ke,dontFlip:Oe})}convertToViewportPoint(ne,ue){return u.Util.applyTransform([ne,ue],this.transform)}convertToViewportRectangle(ne){const ue=u.Util.applyTransform([ne[0],ne[1]],this.transform),me=u.Util.applyTransform([ne[2],ne[3]],this.transform);return[ue[0],ue[1],me[0],me[1]]}convertToPdfPoint(ne,ue){return u.Util.applyInverseTransform([ne,ue],this.transform)}}t.PageViewport=n;class g extends u.BaseException{constructor(ne,ue=0){super(ne,"RenderingCancelledException"),this.extraDelay=ue}}t.RenderingCancelledException=g;function m(ce){const ne=ce.length;let ue=0;for(;ue<ne&&ce[ue].trim()==="";)ue++;return ce.substring(ue,ue+5).toLowerCase()==="data:"}function A(ce){return typeof ce=="string"&&/\.pdf$/i.test(ce)}function T(ce,ne=!1){return ne||([ce]=ce.split(/[#?]/,1)),ce.substring(ce.lastIndexOf("/")+1)}function E(ce,ne="document.pdf"){if(typeof ce!="string")return ne;if(m(ce))return(0,u.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ne;const ue=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,me=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ke=ue.exec(ce);let Oe=me.exec(ke[1])||me.exec(ke[2])||me.exec(ke[3]);if(Oe&&(Oe=Oe[0],Oe.includes("%")))try{Oe=me.exec(decodeURIComponent(Oe))[0]}catch{}return Oe||ne}class C{constructor(){Ke(this,"started",Object.create(null));Ke(this,"times",[])}time(ne){ne in this.started&&(0,u.warn)(`Timer is already running for ${ne}`),this.started[ne]=Date.now()}timeEnd(ne){ne in this.started||(0,u.warn)(`Timer has not been started for ${ne}`),this.times.push({name:ne,start:this.started[ne],end:Date.now()}),delete this.started[ne]}toString(){const ne=[];let ue=0;for(const{name:me}of this.times)ue=Math.max(me.length,ue);for(const{name:me,start:ke,end:Oe}of this.times)ne.push(`${me.padEnd(ue)} ${Oe-ke}ms
`);return ne.join("")}}t.StatTimer=C;function l(ce,ne){try{const{protocol:ue}=ne?new URL(ce,ne):new URL(ce);return ue==="http:"||ue==="https:"}catch{return!1}}function c(ce,ne=!1){return new Promise((ue,me)=>{const ke=document.createElement("script");ke.src=ce,ke.onload=function(Oe){ne&&ke.remove(),ue(Oe)},ke.onerror=function(){me(new Error(`Cannot load script at: ${ke.src}`))},(document.head||document.documentElement).append(ke)})}function y(ce){console.log("Deprecated API usage: "+ce)}let v;class _{static toDateObject(ne){if(!ne||typeof ne!="string")return null;v||(v=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ue=v.exec(ne);if(!ue)return null;const me=parseInt(ue[1],10);let ke=parseInt(ue[2],10);ke=ke>=1&&ke<=12?ke-1:0;let Oe=parseInt(ue[3],10);Oe=Oe>=1&&Oe<=31?Oe:1;let je=parseInt(ue[4],10);je=je>=0&&je<=23?je:0;let We=parseInt(ue[5],10);We=We>=0&&We<=59?We:0;let Ue=parseInt(ue[6],10);Ue=Ue>=0&&Ue<=59?Ue:0;const ze=ue[7]||"Z";let Xe=parseInt(ue[8],10);Xe=Xe>=0&&Xe<=23?Xe:0;let Ge=parseInt(ue[9],10)||0;return Ge=Ge>=0&&Ge<=59?Ge:0,ze==="-"?(je+=Xe,We+=Ge):ze==="+"&&(je-=Xe,We-=Ge),new Date(Date.UTC(me,ke,Oe,je,We,Ue))}}t.PDFDateString=_;function O(ce,{scale:ne=1,rotation:ue=0}){const{width:me,height:ke}=ce.attributes.style,Oe=[0,0,parseInt(me),parseInt(ke)];return new n({viewBox:Oe,scale:ne,rotation:ue})}function F(ce){if(ce.startsWith("#")){const ne=parseInt(ce.slice(1),16);return[(ne&16711680)>>16,(ne&65280)>>8,ne&255]}return ce.startsWith("rgb(")?ce.slice(4,-1).split(",").map(ne=>parseInt(ne)):ce.startsWith("rgba(")?ce.slice(5,-1).split(",").map(ne=>parseInt(ne)).slice(0,3):((0,u.warn)(`Not a valid color format: "${ce}"`),[0,0,0])}function K(ce){const ne=document.createElement("span");ne.style.visibility="hidden",document.body.append(ne);for(const ue of ce.keys()){ne.style.color=ue;const me=window.getComputedStyle(ne).color;ce.set(ue,F(me))}ne.remove()}function le(ce){const{a:ne,b:ue,c:me,d:ke,e:Oe,f:je}=ce.getTransform();return[ne,ue,me,ke,Oe,je]}function B(ce){const{a:ne,b:ue,c:me,d:ke,e:Oe,f:je}=ce.getTransform().invertSelf();return[ne,ue,me,ke,Oe,je]}function Y(ce,ne,ue=!1,me=!0){if(ne instanceof n){const{pageWidth:ke,pageHeight:Oe}=ne.rawDims,{style:je}=ce,We=u.FeatureTest.isCSSRoundSupported,Ue=`var(--scale-factor) * ${ke}px`,ze=`var(--scale-factor) * ${Oe}px`,Xe=We?`round(${Ue}, 1px)`:`calc(${Ue})`,Ge=We?`round(${ze}, 1px)`:`calc(${ze})`;!ue||ne.rotation%180===0?(je.width=Xe,je.height=Ge):(je.width=Ge,je.height=Xe)}me&&ce.setAttribute("data-main-rotation",ne.rotation)}},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var i=o(1);class u{constructor(){this.constructor===u&&(0,i.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(a){return"none"}addHCMFilter(a,P){return"none"}addHighlightHCMFilter(a,P,S,R){return"none"}destroy(a=!1){}}t.BaseFilterFactory=u;class L{constructor(){this.constructor===L&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(a,P){if(a<=0||P<=0)throw new Error("Invalid canvas size");const S=this._createCanvas(a,P);return{canvas:S,context:S.getContext("2d")}}reset(a,P,S){if(!a.canvas)throw new Error("Canvas is not specified");if(P<=0||S<=0)throw new Error("Invalid canvas size");a.canvas.width=P,a.canvas.height=S}destroy(a){if(!a.canvas)throw new Error("Canvas is not specified");a.canvas.width=0,a.canvas.height=0,a.canvas=null,a.context=null}_createCanvas(a,P){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=L;class I{constructor({baseUrl:a=null,isCompressed:P=!0}){this.constructor===I&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=a,this.isCompressed=P}async fetch({name:a}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!a)throw new Error("CMap name must be specified.");const P=this.baseUrl+a+(this.isCompressed?".bcmap":""),S=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(P,S).catch(R=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${P}`)})}_fetchData(a,P){(0,i.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=I;class b{constructor({baseUrl:a=null}){this.constructor===b&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=a}async fetch({filename:a}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!a)throw new Error("Font filename must be specified.");const P=`${this.baseUrl}${a}`;return this._fetchData(P).catch(S=>{throw new Error(`Unable to load font data at: ${P}`)})}_fetchData(a){(0,i.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=b;class f{constructor(){this.constructor===f&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(a,P,S=!1){if(a<=0||P<=0)throw new Error("Invalid SVG dimensions");const R=this._createSVG("svg:svg");return R.setAttribute("version","1.1"),S||(R.setAttribute("width",`${a}px`),R.setAttribute("height",`${P}px`)),R.setAttribute("preserveAspectRatio","none"),R.setAttribute("viewBox",`0 0 ${a} ${P}`),R}createElement(a){if(typeof a!="string")throw new Error("Invalid SVG element type");return this._createSVG(a)}_createSVG(a){(0,i.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=f},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var i=o(1);const u=3285377520,L=4294901760,I=65535;class b{constructor(s){this.h1=s?s&4294967295:u,this.h2=s?s&4294967295:u}update(s){let a,P;if(typeof s=="string"){a=new Uint8Array(s.length*2),P=0;for(let y=0,v=s.length;y<v;y++){const _=s.charCodeAt(y);_<=255?a[P++]=_:(a[P++]=_>>>8,a[P++]=_&255)}}else if((0,i.isArrayBuffer)(s))a=s.slice(),P=a.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const S=P>>2,R=P-S*4,n=new Uint32Array(a.buffer,0,S);let g=0,m=0,A=this.h1,T=this.h2;const E=3432918353,C=461845907,l=E&I,c=C&I;for(let y=0;y<S;y++)y&1?(g=n[y],g=g*E&L|g*l&I,g=g<<15|g>>>17,g=g*C&L|g*c&I,A^=g,A=A<<13|A>>>19,A=A*5+3864292196):(m=n[y],m=m*E&L|m*l&I,m=m<<15|m>>>17,m=m*C&L|m*c&I,T^=m,T=T<<13|T>>>19,T=T*5+3864292196);switch(g=0,R){case 3:g^=a[S*4+2]<<16;case 2:g^=a[S*4+1]<<8;case 1:g^=a[S*4],g=g*E&L|g*l&I,g=g<<15|g>>>17,g=g*C&L|g*c&I,S&1?A^=g:T^=g}this.h1=A,this.h2=T}hexdigest(){let s=this.h1,a=this.h2;return s^=a>>>1,s=s*3981806797&L|s*36045&I,a=a*4283543511&L|((a<<16|s>>>16)*2950163797&L)>>>16,s^=a>>>1,s=s*444984403&L|s*60499&I,a=a*3301882366&L|((a<<16|s>>>16)*3120437893&L)>>>16,s^=a>>>1,(s>>>0).toString(16).padStart(8,"0")+(a>>>0).toString(16).padStart(8,"0")}}t.MurmurHash3_64=b},(e,t,o)=>{var I;Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var i=o(1);class u{constructor({ownerDocument:f=globalThis.document,styleElement:s=null}){V(this,I,new Set);this._document=f,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(f){this.nativeFontFaces.add(f),this._document.fonts.add(f)}removeNativeFontFace(f){this.nativeFontFaces.delete(f),this._document.fonts.delete(f)}insertRule(f){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const s=this.styleElement.sheet;s.insertRule(f,s.cssRules.length)}clear(){for(const f of this.nativeFontFaces)this._document.fonts.delete(f);this.nativeFontFaces.clear(),r(this,I).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(f){if(!(!f||r(this,I).has(f.loadedName))){if((0,i.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:a,style:P}=f,S=new FontFace(s,a,P);this.addNativeFontFace(S);try{await S.load(),r(this,I).add(s)}catch{(0,i.warn)(`Cannot load system font: ${f.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(S)}return}(0,i.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(f){if(f.attached||f.missingFile&&!f.systemFontInfo)return;if(f.attached=!0,f.systemFontInfo){await this.loadSystemFont(f.systemFontInfo);return}if(this.isFontLoadingAPISupported){const a=f.createNativeFontFace();if(a){this.addNativeFontFace(a);try{await a.loaded}catch(P){throw(0,i.warn)(`Failed to load font '${a.family}': '${P}'.`),f.disableFontFace=!0,P}}return}const s=f.createFontFaceRule();if(s){if(this.insertRule(s),this.isSyncFontLoadingSupported)return;await new Promise(a=>{const P=this._queueLoadingCallback(a);this._prepareFontLoadEvent(f,P)})}}get isFontLoadingAPISupported(){var s;const f=!!((s=this._document)!=null&&s.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",f)}get isSyncFontLoadingSupported(){let f=!1;return(i.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(f=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",f)}_queueLoadingCallback(f){function s(){for((0,i.assert)(!P.done,"completeRequest() cannot be called twice."),P.done=!0;a.length>0&&a[0].done;){const S=a.shift();setTimeout(S.callback,0)}}const{loadingRequests:a}=this,P={done:!1,complete:s,callback:f};return a.push(P),P}get _loadTestFont(){const f=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",f)}_prepareFontLoadEvent(f,s){function a(F,K){return F.charCodeAt(K)<<24|F.charCodeAt(K+1)<<16|F.charCodeAt(K+2)<<8|F.charCodeAt(K+3)&255}function P(F,K,le,B){const Y=F.substring(0,K),se=F.substring(K+le);return Y+B+se}let S,R;const n=this._document.createElement("canvas");n.width=1,n.height=1;const g=n.getContext("2d");let m=0;function A(F,K){if(++m>30){(0,i.warn)("Load test font never loaded."),K();return}if(g.font="30px "+F,g.fillText(".",0,20),g.getImageData(0,0,1,1).data[3]>0){K();return}setTimeout(A.bind(null,F,K))}const T=`lt${Date.now()}${this.loadTestFontId++}`;let E=this._loadTestFont;E=P(E,976,T.length,T);const l=16,c=1482184792;let y=a(E,l);for(S=0,R=T.length-3;S<R;S+=4)y=y-c+a(T,S)|0;S<T.length&&(y=y-c+a(T+"XXX",S)|0),E=P(E,l,4,(0,i.string32)(y));const v=`url(data:font/opentype;base64,${btoa(E)});`,_=`@font-face {font-family:"${T}";src:${v}}`;this.insertRule(_);const O=this._document.createElement("div");O.style.visibility="hidden",O.style.width=O.style.height="10px",O.style.position="absolute",O.style.top=O.style.left="0px";for(const F of[f.loadedName,T]){const K=this._document.createElement("span");K.textContent="Hi",K.style.fontFamily=F,O.append(K)}this._document.body.append(O),A(T,()=>{O.remove(),s.complete()})}}I=new WeakMap,t.FontLoader=u;class L{constructor(f,{isEvalSupported:s=!0,disableFontFace:a=!1,ignoreErrors:P=!1,inspectFont:S=null}){this.compiledGlyphs=Object.create(null);for(const R in f)this[R]=f[R];this.isEvalSupported=s!==!1,this.disableFontFace=a===!0,this.ignoreErrors=P===!0,this._inspectFont=S}createNativeFontFace(){var s;if(!this.data||this.disableFontFace)return null;let f;if(!this.cssFontInfo)f=new FontFace(this.loadedName,this.data,{});else{const a={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(a.style=`oblique ${this.cssFontInfo.italicAngle}deg`),f=new FontFace(this.cssFontInfo.fontFamily,this.data,a)}return(s=this._inspectFont)==null||s.call(this,this),f}createFontFaceRule(){var P;if(!this.data||this.disableFontFace)return null;const f=(0,i.bytesToString)(this.data),s=`url(data:${this.mimetype};base64,${btoa(f)});`;let a;if(!this.cssFontInfo)a=`@font-face {font-family:"${this.loadedName}";src:${s}}`;else{let S=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(S+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),a=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${S}src:${s}}`}return(P=this._inspectFont)==null||P.call(this,this,s),a}getPathGenerator(f,s){if(this.compiledGlyphs[s]!==void 0)return this.compiledGlyphs[s];let a;try{a=f.get(this.loadedName+"_path_"+s)}catch(P){if(!this.ignoreErrors)throw P;return(0,i.warn)(`getPathGenerator - ignoring character: "${P}".`),this.compiledGlyphs[s]=function(S,R){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const P=[];for(const S of a){const R=S.args!==void 0?S.args.join(","):"";P.push("c.",S.cmd,"(",R,`);
`)}return this.compiledGlyphs[s]=new Function("c","size",P.join(""))}return this.compiledGlyphs[s]=function(P,S){for(const R of a)R.cmd==="scale"&&(R.args=[S,-S]),P[R.cmd].apply(P,R.args)}}}t.FontFaceObject=L},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var i=o(7);o(1);const u=function(s){return new Promise((a,P)=>{require$$5.readFile(s,(R,n)=>{if(R||!n){P(new Error(R));return}a(new Uint8Array(n))})})};class L extends i.BaseFilterFactory{}t.NodeFilterFactory=L;class I extends i.BaseCanvasFactory{_createCanvas(a,P){return require$$1.createCanvas(a,P)}}t.NodeCanvasFactory=I;class b extends i.BaseCMapReaderFactory{_fetchData(a,P){return u(a).then(S=>({cMapData:S,compressionType:P}))}}t.NodeCMapReaderFactory=b;class f extends i.BaseStandardFontDataFactory{_fetchData(a){return u(a)}}t.NodeStandardFontDataFactory=f},(e,t,o)=>{var N,ci,G,di;Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var i=o(1),u=o(6),L=o(12),I=o(13);const b=16,f=100,s=4096,a=15,P=10,S=1e3,R=16;function n(W,M){if(W._removeMirroring)throw new Error("Context is already forwarding operations.");W.__originalSave=W.save,W.__originalRestore=W.restore,W.__originalRotate=W.rotate,W.__originalScale=W.scale,W.__originalTranslate=W.translate,W.__originalTransform=W.transform,W.__originalSetTransform=W.setTransform,W.__originalResetTransform=W.resetTransform,W.__originalClip=W.clip,W.__originalMoveTo=W.moveTo,W.__originalLineTo=W.lineTo,W.__originalBezierCurveTo=W.bezierCurveTo,W.__originalRect=W.rect,W.__originalClosePath=W.closePath,W.__originalBeginPath=W.beginPath,W._removeMirroring=()=>{W.save=W.__originalSave,W.restore=W.__originalRestore,W.rotate=W.__originalRotate,W.scale=W.__originalScale,W.translate=W.__originalTranslate,W.transform=W.__originalTransform,W.setTransform=W.__originalSetTransform,W.resetTransform=W.__originalResetTransform,W.clip=W.__originalClip,W.moveTo=W.__originalMoveTo,W.lineTo=W.__originalLineTo,W.bezierCurveTo=W.__originalBezierCurveTo,W.rect=W.__originalRect,W.closePath=W.__originalClosePath,W.beginPath=W.__originalBeginPath,delete W._removeMirroring},W.save=function(){M.save(),this.__originalSave()},W.restore=function(){M.restore(),this.__originalRestore()},W.translate=function(w,x){M.translate(w,x),this.__originalTranslate(w,x)},W.scale=function(w,x){M.scale(w,x),this.__originalScale(w,x)},W.transform=function(w,x,D,$,ie,he){M.transform(w,x,D,$,ie,he),this.__originalTransform(w,x,D,$,ie,he)},W.setTransform=function(w,x,D,$,ie,he){M.setTransform(w,x,D,$,ie,he),this.__originalSetTransform(w,x,D,$,ie,he)},W.resetTransform=function(){M.resetTransform(),this.__originalResetTransform()},W.rotate=function(w){M.rotate(w),this.__originalRotate(w)},W.clip=function(w){M.clip(w),this.__originalClip(w)},W.moveTo=function(d,w){M.moveTo(d,w),this.__originalMoveTo(d,w)},W.lineTo=function(d,w){M.lineTo(d,w),this.__originalLineTo(d,w)},W.bezierCurveTo=function(d,w,x,D,$,ie){M.bezierCurveTo(d,w,x,D,$,ie),this.__originalBezierCurveTo(d,w,x,D,$,ie)},W.rect=function(d,w,x,D){M.rect(d,w,x,D),this.__originalRect(d,w,x,D)},W.closePath=function(){M.closePath(),this.__originalClosePath()},W.beginPath=function(){M.beginPath(),this.__originalBeginPath()}}class g{constructor(M){this.canvasFactory=M,this.cache=Object.create(null)}getCanvas(M,d,w){let x;return this.cache[M]!==void 0?(x=this.cache[M],this.canvasFactory.reset(x,d,w)):(x=this.canvasFactory.create(d,w),this.cache[M]=x),x}delete(M){delete this.cache[M]}clear(){for(const M in this.cache){const d=this.cache[M];this.canvasFactory.destroy(d),delete this.cache[M]}}}function m(W,M,d,w,x,D,$,ie,he,U){const[z,j,te,fe,de,Ee]=(0,u.getCurrentTransform)(W);if(j===0&&te===0){const Re=$*z+de,ce=Math.round(Re),ne=ie*fe+Ee,ue=Math.round(ne),me=($+he)*z+de,ke=Math.abs(Math.round(me)-ce)||1,Oe=(ie+U)*fe+Ee,je=Math.abs(Math.round(Oe)-ue)||1;return W.setTransform(Math.sign(z),0,0,Math.sign(fe),ce,ue),W.drawImage(M,d,w,x,D,0,0,ke,je),W.setTransform(z,j,te,fe,de,Ee),[ke,je]}if(z===0&&fe===0){const Re=ie*te+de,ce=Math.round(Re),ne=$*j+Ee,ue=Math.round(ne),me=(ie+U)*te+de,ke=Math.abs(Math.round(me)-ce)||1,Oe=($+he)*j+Ee,je=Math.abs(Math.round(Oe)-ue)||1;return W.setTransform(0,Math.sign(j),Math.sign(te),0,ce,ue),W.drawImage(M,d,w,x,D,0,0,je,ke),W.setTransform(z,j,te,fe,de,Ee),[je,ke]}W.drawImage(M,d,w,x,D,$,ie,he,U);const Te=Math.hypot(z,j),ve=Math.hypot(te,fe);return[Te*he,ve*U]}function A(W){const{width:M,height:d}=W;if(M>S||d>S)return null;const w=1e3,x=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),D=M+1;let $=new Uint8Array(D*(d+1)),ie,he,U;const z=M+7&-8;let j=new Uint8Array(z*d),te=0;for(const ve of W.data){let Re=128;for(;Re>0;)j[te++]=ve&Re?0:255,Re>>=1}let fe=0;for(te=0,j[te]!==0&&($[0]=1,++fe),he=1;he<M;he++)j[te]!==j[te+1]&&($[he]=j[te]?2:1,++fe),te++;for(j[te]!==0&&($[he]=2,++fe),ie=1;ie<d;ie++){te=ie*z,U=ie*D,j[te-z]!==j[te]&&($[U]=j[te]?1:8,++fe);let ve=(j[te]?4:0)+(j[te-z]?8:0);for(he=1;he<M;he++)ve=(ve>>2)+(j[te+1]?4:0)+(j[te-z+1]?8:0),x[ve]&&($[U+he]=x[ve],++fe),te++;if(j[te-z]!==j[te]&&($[U+he]=j[te]?2:4,++fe),fe>w)return null}for(te=z*(d-1),U=ie*D,j[te]!==0&&($[U]=8,++fe),he=1;he<M;he++)j[te]!==j[te+1]&&($[U+he]=j[te]?4:8,++fe),te++;if(j[te]!==0&&($[U+he]=4,++fe),fe>w)return null;const de=new Int32Array([0,D,-1,0,-D,0,0,0,1]),Ee=new Path2D;for(ie=0;fe&&ie<=d;ie++){let ve=ie*D;const Re=ve+M;for(;ve<Re&&!$[ve];)ve++;if(ve===Re)continue;Ee.moveTo(ve%D,ie);const ce=ve;let ne=$[ve];do{const ue=de[ne];do ve+=ue;while(!$[ve]);const me=$[ve];me!==5&&me!==10?(ne=me,$[ve]=0):(ne=me&51*ne>>4,$[ve]&=ne>>2|ne<<2),Ee.lineTo(ve%D,ve/D|0),$[ve]||--fe}while(ce!==ve);--ie}return j=null,$=null,function(ve){ve.save(),ve.scale(1/M,-1/d),ve.translate(0,-d),ve.fill(Ee),ve.beginPath(),ve.restore()}}class T{constructor(M,d){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,M,d])}clone(){const M=Object.create(this);return M.clipBox=this.clipBox.slice(),M}setCurrentPoint(M,d){this.x=M,this.y=d}updatePathMinMax(M,d,w){[d,w]=i.Util.applyTransform([d,w],M),this.minX=Math.min(this.minX,d),this.minY=Math.min(this.minY,w),this.maxX=Math.max(this.maxX,d),this.maxY=Math.max(this.maxY,w)}updateRectMinMax(M,d){const w=i.Util.applyTransform(d,M),x=i.Util.applyTransform(d.slice(2),M);this.minX=Math.min(this.minX,w[0],x[0]),this.minY=Math.min(this.minY,w[1],x[1]),this.maxX=Math.max(this.maxX,w[0],x[0]),this.maxY=Math.max(this.maxY,w[1],x[1])}updateScalingPathMinMax(M,d){i.Util.scaleMinMax(M,d),this.minX=Math.min(this.minX,d[0]),this.maxX=Math.max(this.maxX,d[1]),this.minY=Math.min(this.minY,d[2]),this.maxY=Math.max(this.maxY,d[3])}updateCurvePathMinMax(M,d,w,x,D,$,ie,he,U,z){const j=i.Util.bezierBoundingBox(d,w,x,D,$,ie,he,U);if(z){z[0]=Math.min(z[0],j[0],j[2]),z[1]=Math.max(z[1],j[0],j[2]),z[2]=Math.min(z[2],j[1],j[3]),z[3]=Math.max(z[3],j[1],j[3]);return}this.updateRectMinMax(M,j)}getPathBoundingBox(M=L.PathType.FILL,d=null){const w=[this.minX,this.minY,this.maxX,this.maxY];if(M===L.PathType.STROKE){d||(0,i.unreachable)("Stroke bounding box must include transform.");const x=i.Util.singularValueDecompose2dScale(d),D=x[0]*this.lineWidth/2,$=x[1]*this.lineWidth/2;w[0]-=D,w[1]-=$,w[2]+=D,w[3]+=$}return w}updateClipFromPath(){const M=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(M||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(M){this.clipBox=M,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(M=L.PathType.FILL,d=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(M,d))}}function E(W,M){if(typeof ImageData<"u"&&M instanceof ImageData){W.putImageData(M,0,0);return}const d=M.height,w=M.width,x=d%R,D=(d-x)/R,$=x===0?D:D+1,ie=W.createImageData(w,R);let he=0,U;const z=M.data,j=ie.data;let te,fe,de,Ee;if(M.kind===i.ImageKind.GRAYSCALE_1BPP){const Te=z.byteLength,ve=new Uint32Array(j.buffer,0,j.byteLength>>2),Re=ve.length,ce=w+7>>3,ne=4294967295,ue=i.FeatureTest.isLittleEndian?4278190080:255;for(te=0;te<$;te++){for(de=te<D?R:x,U=0,fe=0;fe<de;fe++){const me=Te-he;let ke=0;const Oe=me>ce?w:me*8-7,je=Oe&-8;let We=0,Ue=0;for(;ke<je;ke+=8)Ue=z[he++],ve[U++]=Ue&128?ne:ue,ve[U++]=Ue&64?ne:ue,ve[U++]=Ue&32?ne:ue,ve[U++]=Ue&16?ne:ue,ve[U++]=Ue&8?ne:ue,ve[U++]=Ue&4?ne:ue,ve[U++]=Ue&2?ne:ue,ve[U++]=Ue&1?ne:ue;for(;ke<Oe;ke++)We===0&&(Ue=z[he++],We=128),ve[U++]=Ue&We?ne:ue,We>>=1}for(;U<Re;)ve[U++]=0;W.putImageData(ie,0,te*R)}}else if(M.kind===i.ImageKind.RGBA_32BPP){for(fe=0,Ee=w*R*4,te=0;te<D;te++)j.set(z.subarray(he,he+Ee)),he+=Ee,W.putImageData(ie,0,fe),fe+=R;te<$&&(Ee=w*x*4,j.set(z.subarray(he,he+Ee)),W.putImageData(ie,0,fe))}else if(M.kind===i.ImageKind.RGB_24BPP)for(de=R,Ee=w*de,te=0;te<$;te++){for(te>=D&&(de=x,Ee=w*de),U=0,fe=Ee;fe--;)j[U++]=z[he++],j[U++]=z[he++],j[U++]=z[he++],j[U++]=255;W.putImageData(ie,0,te*R)}else throw new Error(`bad image kind: ${M.kind}`)}function C(W,M){if(M.bitmap){W.drawImage(M.bitmap,0,0);return}const d=M.height,w=M.width,x=d%R,D=(d-x)/R,$=x===0?D:D+1,ie=W.createImageData(w,R);let he=0;const U=M.data,z=ie.data;for(let j=0;j<$;j++){const te=j<D?R:x;({srcPos:he}=(0,I.convertBlackAndWhiteToRGBA)({src:U,srcPos:he,dest:z,width:w,height:te,nonBlackColor:0})),W.putImageData(ie,0,j*R)}}function l(W,M){const d=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const w of d)W[w]!==void 0&&(M[w]=W[w]);W.setLineDash!==void 0&&(M.setLineDash(W.getLineDash()),M.lineDashOffset=W.lineDashOffset)}function c(W){if(W.strokeStyle=W.fillStyle="#000000",W.fillRule="nonzero",W.globalAlpha=1,W.lineWidth=1,W.lineCap="butt",W.lineJoin="miter",W.miterLimit=10,W.globalCompositeOperation="source-over",W.font="10px sans-serif",W.setLineDash!==void 0&&(W.setLineDash([]),W.lineDashOffset=0),!i.isNodeJS){const{filter:M}=W;M!=="none"&&M!==""&&(W.filter="none")}}function y(W,M,d,w){const x=W.length;for(let D=3;D<x;D+=4){const $=W[D];if($===0)W[D-3]=M,W[D-2]=d,W[D-1]=w;else if($<255){const ie=255-$;W[D-3]=W[D-3]*$+M*ie>>8,W[D-2]=W[D-2]*$+d*ie>>8,W[D-1]=W[D-1]*$+w*ie>>8}}}function v(W,M,d){const w=W.length,x=1/255;for(let D=3;D<w;D+=4){const $=d?d[W[D]]:W[D];M[D]=M[D]*$*x|0}}function _(W,M,d){const w=W.length;for(let x=3;x<w;x+=4){const D=W[x-3]*77+W[x-2]*152+W[x-1]*28;M[x]=d?M[x]*d[D>>8]>>8:M[x]*D>>16}}function O(W,M,d,w,x,D,$,ie,he,U,z){const j=!!D,te=j?D[0]:0,fe=j?D[1]:0,de=j?D[2]:0,Ee=x==="Luminosity"?_:v,ve=Math.min(w,Math.ceil(1048576/d));for(let Re=0;Re<w;Re+=ve){const ce=Math.min(ve,w-Re),ne=W.getImageData(ie-U,Re+(he-z),d,ce),ue=M.getImageData(ie,Re+he,d,ce);j&&y(ne.data,te,fe,de),Ee(ne.data,ue.data,$),M.putImageData(ue,ie,Re+he)}}function F(W,M,d,w){const x=w[0],D=w[1],$=w[2]-x,ie=w[3]-D;$===0||ie===0||(O(M.context,d,$,ie,M.subtype,M.backdrop,M.transferMap,x,D,M.offsetX,M.offsetY),W.save(),W.globalAlpha=1,W.globalCompositeOperation="source-over",W.setTransform(1,0,0,1,0,0),W.drawImage(d.canvas,0,0),W.restore())}function K(W,M){const d=i.Util.singularValueDecompose2dScale(W);d[0]=Math.fround(d[0]),d[1]=Math.fround(d[1]);const w=Math.fround((globalThis.devicePixelRatio||1)*u.PixelsPerInch.PDF_TO_CSS_UNITS);return M!==void 0?M:d[0]<=w||d[1]<=w}const le=["butt","round","square"],B=["miter","round","bevel"],Y={},se={},Pe=class Pe{constructor(M,d,w,x,D,{optionalContentConfig:$,markedContentStack:ie=null},he,U){V(this,N);V(this,G);this.ctx=M,this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=d,this.objs=w,this.canvasFactory=x,this.filterFactory=D,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=ie||[],this.optionalContentConfig=$,this.cachedCanvases=new g(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=he,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=U,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(M,d=null){return typeof M=="string"?M.startsWith("g_")?this.commonObjs.get(M):this.objs.get(M):d}beginDrawing({transform:M,viewport:d,transparency:w=!1,background:x=null}){const D=this.ctx.canvas.width,$=this.ctx.canvas.height,ie=this.ctx.fillStyle;if(this.ctx.fillStyle=x||"#ffffff",this.ctx.fillRect(0,0,D,$),this.ctx.fillStyle=ie,w){const he=this.cachedCanvases.getCanvas("transparent",D,$);this.compositeCtx=this.ctx,this.transparentCanvas=he.canvas,this.ctx=he.context,this.ctx.save(),this.ctx.transform(...(0,u.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),c(this.ctx),M&&(this.ctx.transform(...M),this.outputScaleX=M[0],this.outputScaleY=M[0]),this.ctx.transform(...d.transform),this.viewportScale=d.scale,this.baseTransform=(0,u.getCurrentTransform)(this.ctx)}executeOperatorList(M,d,w,x){const D=M.argsArray,$=M.fnArray;let ie=d||0;const he=D.length;if(he===ie)return ie;const U=he-ie>P&&typeof w=="function",z=U?Date.now()+a:0;let j=0;const te=this.commonObjs,fe=this.objs;let de;for(;;){if(x!==void 0&&ie===x.nextBreakPoint)return x.breakIt(ie,w),ie;if(de=$[ie],de!==i.OPS.dependency)this[de].apply(this,D[ie]);else for(const Ee of D[ie]){const Te=Ee.startsWith("g_")?te:fe;if(!Te.has(Ee))return Te.get(Ee,w),ie}if(ie++,ie===he)return ie;if(U&&++j>P){if(Date.now()>z)return w(),ie;j=0}}}endDrawing(){X(this,N,ci).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const M of this._cachedBitmapsMap.values()){for(const d of M.values())typeof HTMLCanvasElement<"u"&&d instanceof HTMLCanvasElement&&(d.width=d.height=0);M.clear()}this._cachedBitmapsMap.clear(),X(this,G,di).call(this)}_scaleImage(M,d){const w=M.width,x=M.height;let D=Math.max(Math.hypot(d[0],d[1]),1),$=Math.max(Math.hypot(d[2],d[3]),1),ie=w,he=x,U="prescale1",z,j;for(;D>2&&ie>1||$>2&&he>1;){let te=ie,fe=he;D>2&&ie>1&&(te=ie>=16384?Math.floor(ie/2)-1||1:Math.ceil(ie/2),D/=ie/te),$>2&&he>1&&(fe=he>=16384?Math.floor(he/2)-1||1:Math.ceil(he)/2,$/=he/fe),z=this.cachedCanvases.getCanvas(U,te,fe),j=z.context,j.clearRect(0,0,te,fe),j.drawImage(M,0,0,ie,he,0,0,te,fe),M=z.canvas,ie=te,he=fe,U=U==="prescale1"?"prescale2":"prescale1"}return{img:M,paintWidth:ie,paintHeight:he}}_createMaskCanvas(M){const d=this.ctx,{width:w,height:x}=M,D=this.current.fillColor,$=this.current.patternFill,ie=(0,u.getCurrentTransform)(d);let he,U,z,j;if((M.bitmap||M.data)&&M.count>1){const ke=M.bitmap||M.data.buffer;U=JSON.stringify($?ie:[ie.slice(0,4),D]),he=this._cachedBitmapsMap.get(ke),he||(he=new Map,this._cachedBitmapsMap.set(ke,he));const Oe=he.get(U);if(Oe&&!$){const je=Math.round(Math.min(ie[0],ie[2])+ie[4]),We=Math.round(Math.min(ie[1],ie[3])+ie[5]);return{canvas:Oe,offsetX:je,offsetY:We}}z=Oe}z||(j=this.cachedCanvases.getCanvas("maskCanvas",w,x),C(j.context,M));let te=i.Util.transform(ie,[1/w,0,0,-1/x,0,0]);te=i.Util.transform(te,[1,0,0,1,0,-x]);const fe=i.Util.applyTransform([0,0],te),de=i.Util.applyTransform([w,x],te),Ee=i.Util.normalizeRect([fe[0],fe[1],de[0],de[1]]),Te=Math.round(Ee[2]-Ee[0])||1,ve=Math.round(Ee[3]-Ee[1])||1,Re=this.cachedCanvases.getCanvas("fillCanvas",Te,ve),ce=Re.context,ne=Math.min(fe[0],de[0]),ue=Math.min(fe[1],de[1]);ce.translate(-ne,-ue),ce.transform(...te),z||(z=this._scaleImage(j.canvas,(0,u.getCurrentTransformInverse)(ce)),z=z.img,he&&$&&he.set(U,z)),ce.imageSmoothingEnabled=K((0,u.getCurrentTransform)(ce),M.interpolate),m(ce,z,0,0,z.width,z.height,0,0,w,x),ce.globalCompositeOperation="source-in";const me=i.Util.transform((0,u.getCurrentTransformInverse)(ce),[1,0,0,1,-ne,-ue]);return ce.fillStyle=$?D.getPattern(d,this,me,L.PathType.FILL):D,ce.fillRect(0,0,w,x),he&&!$&&(this.cachedCanvases.delete("fillCanvas"),he.set(U,Re.canvas)),{canvas:Re.canvas,offsetX:Math.round(ne),offsetY:Math.round(ue)}}setLineWidth(M){M!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=M,this.ctx.lineWidth=M}setLineCap(M){this.ctx.lineCap=le[M]}setLineJoin(M){this.ctx.lineJoin=B[M]}setMiterLimit(M){this.ctx.miterLimit=M}setDash(M,d){const w=this.ctx;w.setLineDash!==void 0&&(w.setLineDash(M),w.lineDashOffset=d)}setRenderingIntent(M){}setFlatness(M){}setGState(M){for(const[d,w]of M)switch(d){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w[0],w[1]);break;case"CA":this.current.strokeAlpha=w;break;case"ca":this.current.fillAlpha=w,this.ctx.globalAlpha=w;break;case"BM":this.ctx.globalCompositeOperation=w;break;case"SMask":this.current.activeSMask=w?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(w);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const M=this.inSMaskMode;this.current.activeSMask&&!M?this.beginSMaskMode():!this.current.activeSMask&&M&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const M=this.ctx.canvas.width,d=this.ctx.canvas.height,w="smaskGroupAt"+this.groupLevel,x=this.cachedCanvases.getCanvas(w,M,d);this.suspendedCtx=this.ctx,this.ctx=x.context;const D=this.ctx;D.setTransform(...(0,u.getCurrentTransform)(this.suspendedCtx)),l(this.suspendedCtx,D),n(D,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),l(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(M){if(!this.current.activeSMask)return;M?(M[0]=Math.floor(M[0]),M[1]=Math.floor(M[1]),M[2]=Math.ceil(M[2]),M[3]=Math.ceil(M[3])):M=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const d=this.current.activeSMask,w=this.suspendedCtx;F(w,d,this.ctx,M),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(l(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const M=this.current;this.stateStack.push(M),this.current=M.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),l(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(M,d,w,x,D,$){this.ctx.transform(M,d,w,x,D,$),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(M,d,w){const x=this.ctx,D=this.current;let $=D.x,ie=D.y,he,U;const z=(0,u.getCurrentTransform)(x),j=z[0]===0&&z[3]===0||z[1]===0&&z[2]===0,te=j?w.slice(0):null;for(let fe=0,de=0,Ee=M.length;fe<Ee;fe++)switch(M[fe]|0){case i.OPS.rectangle:$=d[de++],ie=d[de++];const Te=d[de++],ve=d[de++],Re=$+Te,ce=ie+ve;x.moveTo($,ie),Te===0||ve===0?x.lineTo(Re,ce):(x.lineTo(Re,ie),x.lineTo(Re,ce),x.lineTo($,ce)),j||D.updateRectMinMax(z,[$,ie,Re,ce]),x.closePath();break;case i.OPS.moveTo:$=d[de++],ie=d[de++],x.moveTo($,ie),j||D.updatePathMinMax(z,$,ie);break;case i.OPS.lineTo:$=d[de++],ie=d[de++],x.lineTo($,ie),j||D.updatePathMinMax(z,$,ie);break;case i.OPS.curveTo:he=$,U=ie,$=d[de+4],ie=d[de+5],x.bezierCurveTo(d[de],d[de+1],d[de+2],d[de+3],$,ie),D.updateCurvePathMinMax(z,he,U,d[de],d[de+1],d[de+2],d[de+3],$,ie,te),de+=6;break;case i.OPS.curveTo2:he=$,U=ie,x.bezierCurveTo($,ie,d[de],d[de+1],d[de+2],d[de+3]),D.updateCurvePathMinMax(z,he,U,$,ie,d[de],d[de+1],d[de+2],d[de+3],te),$=d[de+2],ie=d[de+3],de+=4;break;case i.OPS.curveTo3:he=$,U=ie,$=d[de+2],ie=d[de+3],x.bezierCurveTo(d[de],d[de+1],$,ie,$,ie),D.updateCurvePathMinMax(z,he,U,d[de],d[de+1],$,ie,$,ie,te),de+=4;break;case i.OPS.closePath:x.closePath();break}j&&D.updateScalingPathMinMax(z,te),D.setCurrentPoint($,ie)}closePath(){this.ctx.closePath()}stroke(M=!0){const d=this.ctx,w=this.current.strokeColor;d.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof w=="object"&&(w!=null&&w.getPattern)?(d.save(),d.strokeStyle=w.getPattern(d,this,(0,u.getCurrentTransformInverse)(d),L.PathType.STROKE),this.rescaleAndStroke(!1),d.restore()):this.rescaleAndStroke(!0)),M&&this.consumePath(this.current.getClippedPathBoundingBox()),d.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(M=!0){const d=this.ctx,w=this.current.fillColor,x=this.current.patternFill;let D=!1;x&&(d.save(),d.fillStyle=w.getPattern(d,this,(0,u.getCurrentTransformInverse)(d),L.PathType.FILL),D=!0);const $=this.current.getClippedPathBoundingBox();this.contentVisible&&$!==null&&(this.pendingEOFill?(d.fill("evenodd"),this.pendingEOFill=!1):d.fill()),D&&d.restore(),M&&this.consumePath($)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Y}eoClip(){this.pendingClip=se}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const M=this.pendingTextPaths,d=this.ctx;if(M===void 0){d.beginPath();return}d.save(),d.beginPath();for(const w of M)d.setTransform(...w.transform),d.translate(w.x,w.y),w.addToPath(d,w.fontSize);d.restore(),d.clip(),d.beginPath(),delete this.pendingTextPaths}setCharSpacing(M){this.current.charSpacing=M}setWordSpacing(M){this.current.wordSpacing=M}setHScale(M){this.current.textHScale=M/100}setLeading(M){this.current.leading=-M}setFont(M,d){var z;const w=this.commonObjs.get(M),x=this.current;if(!w)throw new Error(`Can't find font for ${M}`);if(x.fontMatrix=w.fontMatrix||i.FONT_IDENTITY_MATRIX,(x.fontMatrix[0]===0||x.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+M),d<0?(d=-d,x.fontDirection=-1):x.fontDirection=1,this.current.font=w,this.current.fontSize=d,w.isType3Font)return;const D=w.loadedName||"sans-serif",$=((z=w.systemFontInfo)==null?void 0:z.css)||`"${D}", ${w.fallbackName}`;let ie="normal";w.black?ie="900":w.bold&&(ie="bold");const he=w.italic?"italic":"normal";let U=d;d<b?U=b:d>f&&(U=f),this.current.fontSizeScale=d/U,this.ctx.font=`${he} ${ie} ${U}px ${$}`}setTextRenderingMode(M){this.current.textRenderingMode=M}setTextRise(M){this.current.textRise=M}moveText(M,d){this.current.x=this.current.lineX+=M,this.current.y=this.current.lineY+=d}setLeadingMoveText(M,d){this.setLeading(-d),this.moveText(M,d)}setTextMatrix(M,d,w,x,D,$){this.current.textMatrix=[M,d,w,x,D,$],this.current.textMatrixScale=Math.hypot(M,d),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(M,d,w,x){const D=this.ctx,$=this.current,ie=$.font,he=$.textRenderingMode,U=$.fontSize/$.fontSizeScale,z=he&i.TextRenderingMode.FILL_STROKE_MASK,j=!!(he&i.TextRenderingMode.ADD_TO_PATH_FLAG),te=$.patternFill&&!ie.missingFile;let fe;(ie.disableFontFace||j||te)&&(fe=ie.getPathGenerator(this.commonObjs,M)),ie.disableFontFace||te?(D.save(),D.translate(d,w),D.beginPath(),fe(D,U),x&&D.setTransform(...x),(z===i.TextRenderingMode.FILL||z===i.TextRenderingMode.FILL_STROKE)&&D.fill(),(z===i.TextRenderingMode.STROKE||z===i.TextRenderingMode.FILL_STROKE)&&D.stroke(),D.restore()):((z===i.TextRenderingMode.FILL||z===i.TextRenderingMode.FILL_STROKE)&&D.fillText(M,d,w),(z===i.TextRenderingMode.STROKE||z===i.TextRenderingMode.FILL_STROKE)&&D.strokeText(M,d,w)),j&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,u.getCurrentTransform)(D),x:d,y:w,fontSize:U,addToPath:fe})}get isFontSubpixelAAEnabled(){const{context:M}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);M.scale(1.5,1),M.fillText("I",0,10);const d=M.getImageData(0,0,10,10).data;let w=!1;for(let x=3;x<d.length;x+=4)if(d[x]>0&&d[x]<255){w=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",w)}showText(M){const d=this.current,w=d.font;if(w.isType3Font)return this.showType3Text(M);const x=d.fontSize;if(x===0)return;const D=this.ctx,$=d.fontSizeScale,ie=d.charSpacing,he=d.wordSpacing,U=d.fontDirection,z=d.textHScale*U,j=M.length,te=w.vertical,fe=te?1:-1,de=w.defaultVMetrics,Ee=x*d.fontMatrix[0],Te=d.textRenderingMode===i.TextRenderingMode.FILL&&!w.disableFontFace&&!d.patternFill;D.save(),D.transform(...d.textMatrix),D.translate(d.x,d.y+d.textRise),U>0?D.scale(z,-1):D.scale(z,1);let ve;if(d.patternFill){D.save();const me=d.fillColor.getPattern(D,this,(0,u.getCurrentTransformInverse)(D),L.PathType.FILL);ve=(0,u.getCurrentTransform)(D),D.restore(),D.fillStyle=me}let Re=d.lineWidth;const ce=d.textMatrixScale;if(ce===0||Re===0){const me=d.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(me===i.TextRenderingMode.STROKE||me===i.TextRenderingMode.FILL_STROKE)&&(Re=this.getSinglePixelWidth())}else Re/=ce;if($!==1&&(D.scale($,$),Re/=$),D.lineWidth=Re,w.isInvalidPDFjsFont){const me=[];let ke=0;for(const Oe of M)me.push(Oe.unicode),ke+=Oe.width;D.fillText(me.join(""),0,0),d.x+=ke*Ee*z,D.restore(),this.compose();return}let ne=0,ue;for(ue=0;ue<j;++ue){const me=M[ue];if(typeof me=="number"){ne+=fe*me*x/1e3;continue}let ke=!1;const Oe=(me.isSpace?he:0)+ie,je=me.fontChar,We=me.accent;let Ue,ze,Xe=me.width;if(te){const De=me.vmetric||de,k=-(me.vmetric?De[1]:Xe*.5)*Ee,Q=De[2]*Ee;Xe=De?-De[0]:Xe,Ue=k/$,ze=(ne+Q)/$}else Ue=ne/$,ze=0;if(w.remeasure&&Xe>0){const De=D.measureText(je).width*1e3/x*$;if(Xe<De&&this.isFontSubpixelAAEnabled){const k=Xe/De;ke=!0,D.save(),D.scale(k,1),Ue/=k}else Xe!==De&&(Ue+=(Xe-De)/2e3*x/$)}if(this.contentVisible&&(me.isInFont||w.missingFile)){if(Te&&!We)D.fillText(je,Ue,ze);else if(this.paintChar(je,Ue,ze,ve),We){const De=Ue+x*We.offset.x/$,k=ze-x*We.offset.y/$;this.paintChar(We.fontChar,De,k,ve)}}const Ge=te?Xe*Ee-Oe*U:Xe*Ee+Oe*U;ne+=Ge,ke&&D.restore()}te?d.y-=ne:d.x+=ne*z,D.restore(),this.compose()}showType3Text(M){const d=this.ctx,w=this.current,x=w.font,D=w.fontSize,$=w.fontDirection,ie=x.vertical?1:-1,he=w.charSpacing,U=w.wordSpacing,z=w.textHScale*$,j=w.fontMatrix||i.FONT_IDENTITY_MATRIX,te=M.length,fe=w.textRenderingMode===i.TextRenderingMode.INVISIBLE;let de,Ee,Te,ve;if(!(fe||D===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,d.save(),d.transform(...w.textMatrix),d.translate(w.x,w.y),d.scale(z,$),de=0;de<te;++de){if(Ee=M[de],typeof Ee=="number"){ve=ie*Ee*D/1e3,this.ctx.translate(ve,0),w.x+=ve*z;continue}const Re=(Ee.isSpace?U:0)+he,ce=x.charProcOperatorList[Ee.operatorListId];if(!ce){(0,i.warn)(`Type3 character "${Ee.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ee,this.save(),d.scale(D,D),d.transform(...j),this.executeOperatorList(ce),this.restore()),Te=i.Util.applyTransform([Ee.width,0],j)[0]*D+Re,d.translate(Te,0),w.x+=Te*z}d.restore(),this.processingType3=null}}setCharWidth(M,d){}setCharWidthAndBounds(M,d,w,x,D,$){this.ctx.rect(w,x,D-w,$-x),this.ctx.clip(),this.endPath()}getColorN_Pattern(M){let d;if(M[0]==="TilingPattern"){const w=M[1],x=this.baseTransform||(0,u.getCurrentTransform)(this.ctx),D={createCanvasGraphics:$=>new Pe($,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};d=new L.TilingPattern(M,w,this.ctx,D,x)}else d=this._getPattern(M[1],M[2]);return d}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(M,d,w){const x=i.Util.makeHexColor(M,d,w);this.ctx.strokeStyle=x,this.current.strokeColor=x}setFillRGBColor(M,d,w){const x=i.Util.makeHexColor(M,d,w);this.ctx.fillStyle=x,this.current.fillColor=x,this.current.patternFill=!1}_getPattern(M,d=null){let w;return this.cachedPatterns.has(M)?w=this.cachedPatterns.get(M):(w=(0,L.getShadingPattern)(this.getObject(M)),this.cachedPatterns.set(M,w)),d&&(w.matrix=d),w}shadingFill(M){if(!this.contentVisible)return;const d=this.ctx;this.save();const w=this._getPattern(M);d.fillStyle=w.getPattern(d,this,(0,u.getCurrentTransformInverse)(d),L.PathType.SHADING);const x=(0,u.getCurrentTransformInverse)(d);if(x){const{width:D,height:$}=d.canvas,[ie,he,U,z]=i.Util.getAxialAlignedBoundingBox([0,0,D,$],x);this.ctx.fillRect(ie,he,U-ie,z-he)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(M,d){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(M)&&M.length===6&&this.transform(...M),this.baseTransform=(0,u.getCurrentTransform)(this.ctx),d)){const w=d[2]-d[0],x=d[3]-d[1];this.ctx.rect(d[0],d[1],w,x),this.current.updateRectMinMax((0,u.getCurrentTransform)(this.ctx),d),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(M){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const d=this.ctx;M.isolated||(0,i.info)("TODO: Support non-isolated groups."),M.knockout&&(0,i.warn)("Knockout groups not supported.");const w=(0,u.getCurrentTransform)(d);if(M.matrix&&d.transform(...M.matrix),!M.bbox)throw new Error("Bounding box is required.");let x=i.Util.getAxialAlignedBoundingBox(M.bbox,(0,u.getCurrentTransform)(d));const D=[0,0,d.canvas.width,d.canvas.height];x=i.Util.intersect(x,D)||[0,0,0,0];const $=Math.floor(x[0]),ie=Math.floor(x[1]);let he=Math.max(Math.ceil(x[2])-$,1),U=Math.max(Math.ceil(x[3])-ie,1),z=1,j=1;he>s&&(z=he/s,he=s),U>s&&(j=U/s,U=s),this.current.startNewPathAndClipBox([0,0,he,U]);let te="groupAt"+this.groupLevel;M.smask&&(te+="_smask_"+this.smaskCounter++%2);const fe=this.cachedCanvases.getCanvas(te,he,U),de=fe.context;de.scale(1/z,1/j),de.translate(-$,-ie),de.transform(...w),M.smask?this.smaskStack.push({canvas:fe.canvas,context:de,offsetX:$,offsetY:ie,scaleX:z,scaleY:j,subtype:M.smask.subtype,backdrop:M.smask.backdrop,transferMap:M.smask.transferMap||null,startTransformInverse:null}):(d.setTransform(1,0,0,1,0,0),d.translate($,ie),d.scale(z,j),d.save()),l(d,de),this.ctx=de,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(d),this.groupLevel++}endGroup(M){if(!this.contentVisible)return;this.groupLevel--;const d=this.ctx,w=this.groupStack.pop();if(this.ctx=w,this.ctx.imageSmoothingEnabled=!1,M.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const x=(0,u.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...x);const D=i.Util.getAxialAlignedBoundingBox([0,0,d.canvas.width,d.canvas.height],x);this.ctx.drawImage(d.canvas,0,0),this.ctx.restore(),this.compose(D)}}beginAnnotation(M,d,w,x,D){if(X(this,N,ci).call(this),c(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(d)&&d.length===4){const $=d[2]-d[0],ie=d[3]-d[1];if(D&&this.annotationCanvasMap){w=w.slice(),w[4]-=d[0],w[5]-=d[1],d=d.slice(),d[0]=d[1]=0,d[2]=$,d[3]=ie;const[he,U]=i.Util.singularValueDecompose2dScale((0,u.getCurrentTransform)(this.ctx)),{viewportScale:z}=this,j=Math.ceil($*this.outputScaleX*z),te=Math.ceil(ie*this.outputScaleY*z);this.annotationCanvas=this.canvasFactory.create(j,te);const{canvas:fe,context:de}=this.annotationCanvas;this.annotationCanvasMap.set(M,fe),this.annotationCanvas.savedCtx=this.ctx,this.ctx=de,this.ctx.save(),this.ctx.setTransform(he,0,0,-U,0,ie*U),c(this.ctx)}else c(this.ctx),this.ctx.rect(d[0],d[1],$,ie),this.ctx.clip(),this.endPath()}this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...w),this.transform(...x)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),X(this,G,di).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(M){if(!this.contentVisible)return;const d=M.count;M=this.getObject(M.data,M),M.count=d;const w=this.ctx,x=this.processingType3;if(x&&(x.compiled===void 0&&(x.compiled=A(M)),x.compiled)){x.compiled(w);return}const D=this._createMaskCanvas(M),$=D.canvas;w.save(),w.setTransform(1,0,0,1,0,0),w.drawImage($,D.offsetX,D.offsetY),w.restore(),this.compose()}paintImageMaskXObjectRepeat(M,d,w=0,x=0,D,$){if(!this.contentVisible)return;M=this.getObject(M.data,M);const ie=this.ctx;ie.save();const he=(0,u.getCurrentTransform)(ie);ie.transform(d,w,x,D,0,0);const U=this._createMaskCanvas(M);ie.setTransform(1,0,0,1,U.offsetX-he[4],U.offsetY-he[5]);for(let z=0,j=$.length;z<j;z+=2){const te=i.Util.transform(he,[d,w,x,D,$[z],$[z+1]]),[fe,de]=i.Util.applyTransform([0,0],te);ie.drawImage(U.canvas,fe,de)}ie.restore(),this.compose()}paintImageMaskXObjectGroup(M){if(!this.contentVisible)return;const d=this.ctx,w=this.current.fillColor,x=this.current.patternFill;for(const D of M){const{data:$,width:ie,height:he,transform:U}=D,z=this.cachedCanvases.getCanvas("maskCanvas",ie,he),j=z.context;j.save();const te=this.getObject($,D);C(j,te),j.globalCompositeOperation="source-in",j.fillStyle=x?w.getPattern(j,this,(0,u.getCurrentTransformInverse)(d),L.PathType.FILL):w,j.fillRect(0,0,ie,he),j.restore(),d.save(),d.transform(...U),d.scale(1,-1),m(d,z.canvas,0,0,ie,he,0,-1,1,1),d.restore()}this.compose()}paintImageXObject(M){if(!this.contentVisible)return;const d=this.getObject(M);if(!d){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(d)}paintImageXObjectRepeat(M,d,w,x){if(!this.contentVisible)return;const D=this.getObject(M);if(!D){(0,i.warn)("Dependent image isn't ready yet");return}const $=D.width,ie=D.height,he=[];for(let U=0,z=x.length;U<z;U+=2)he.push({transform:[d,0,0,w,x[U],x[U+1]],x:0,y:0,w:$,h:ie});this.paintInlineImageXObjectGroup(D,he)}applyTransferMapsToCanvas(M){return this.current.transferMaps!=="none"&&(M.filter=this.current.transferMaps,M.drawImage(M.canvas,0,0),M.filter="none"),M.canvas}applyTransferMapsToBitmap(M){if(this.current.transferMaps==="none")return M.bitmap;const{bitmap:d,width:w,height:x}=M,D=this.cachedCanvases.getCanvas("inlineImage",w,x),$=D.context;return $.filter=this.current.transferMaps,$.drawImage(d,0,0),$.filter="none",D.canvas}paintInlineImageXObject(M){if(!this.contentVisible)return;const d=M.width,w=M.height,x=this.ctx;if(this.save(),!i.isNodeJS){const{filter:ie}=x;ie!=="none"&&ie!==""&&(x.filter="none")}x.scale(1/d,-1/w);let D;if(M.bitmap)D=this.applyTransferMapsToBitmap(M);else if(typeof HTMLElement=="function"&&M instanceof HTMLElement||!M.data)D=M;else{const he=this.cachedCanvases.getCanvas("inlineImage",d,w).context;E(he,M),D=this.applyTransferMapsToCanvas(he)}const $=this._scaleImage(D,(0,u.getCurrentTransformInverse)(x));x.imageSmoothingEnabled=K((0,u.getCurrentTransform)(x),M.interpolate),m(x,$.img,0,0,$.paintWidth,$.paintHeight,0,-w,d,w),this.compose(),this.restore()}paintInlineImageXObjectGroup(M,d){if(!this.contentVisible)return;const w=this.ctx;let x;if(M.bitmap)x=M.bitmap;else{const D=M.width,$=M.height,he=this.cachedCanvases.getCanvas("inlineImage",D,$).context;E(he,M),x=this.applyTransferMapsToCanvas(he)}for(const D of d)w.save(),w.transform(...D.transform),w.scale(1,-1),m(w,x,D.x,D.y,D.w,D.h,0,-1,1,1),w.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(M){}markPointProps(M,d){}beginMarkedContent(M){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(M,d){M==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(d)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(M){const d=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(M);const w=this.ctx;this.pendingClip&&(d||(this.pendingClip===se?w.clip("evenodd"):w.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),w.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const M=(0,u.getCurrentTransform)(this.ctx);if(M[1]===0&&M[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(M[0]),Math.abs(M[3]));else{const d=Math.abs(M[0]*M[3]-M[2]*M[1]),w=Math.hypot(M[0],M[2]),x=Math.hypot(M[1],M[3]);this._cachedGetSinglePixelWidth=Math.max(w,x)/d}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:M}=this.current,{a:d,b:w,c:x,d:D}=this.ctx.getTransform();let $,ie;if(w===0&&x===0){const he=Math.abs(d),U=Math.abs(D);if(he===U)if(M===0)$=ie=1/he;else{const z=he*M;$=ie=z<1?1/z:1}else if(M===0)$=1/he,ie=1/U;else{const z=he*M,j=U*M;$=z<1?1/z:1,ie=j<1?1/j:1}}else{const he=Math.abs(d*D-w*x),U=Math.hypot(d,w),z=Math.hypot(x,D);if(M===0)$=z/he,ie=U/he;else{const j=M*he;$=z>j?z/j:1,ie=U>j?U/j:1}}this._cachedScaleForStroking[0]=$,this._cachedScaleForStroking[1]=ie}return this._cachedScaleForStroking}rescaleAndStroke(M){const{ctx:d}=this,{lineWidth:w}=this.current,[x,D]=this.getScaleForStroking();if(d.lineWidth=w||1,x===1&&D===1){d.stroke();return}const $=d.getLineDash();if(M&&d.save(),d.scale(x,D),$.length>0){const ie=Math.max(x,D);d.setLineDash($.map(he=>he/ie)),d.lineDashOffset/=ie}d.stroke(),M&&d.restore()}isContentVisible(){for(let M=this.markedContentStack.length-1;M>=0;M--)if(!this.markedContentStack[M].visible)return!1;return!0}};N=new WeakSet,ci=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},G=new WeakSet,di=function(){if(this.pageColors){const M=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(M!=="none"){const d=this.ctx.filter;this.ctx.filter=M,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=d}}};let ee=Pe;t.CanvasGraphics=ee;for(const W in i.OPS)ee.prototype[W]!==void 0&&(ee.prototype[i.OPS[W]]=ee.prototype[W])},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=R;var i=o(1),u=o(6);const L={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=L;function I(A,T){if(!T)return;const E=T[2]-T[0],C=T[3]-T[1],l=new Path2D;l.rect(T[0],T[1],E,C),A.clip(l)}class b{constructor(){this.constructor===b&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class f extends b{constructor(T){super(),this._type=T[1],this._bbox=T[2],this._colorStops=T[3],this._p0=T[4],this._p1=T[5],this._r0=T[6],this._r1=T[7],this.matrix=null}_createGradient(T){let E;this._type==="axial"?E=T.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(E=T.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const C of this._colorStops)E.addColorStop(C[0],C[1]);return E}getPattern(T,E,C,l){let c;if(l===L.STROKE||l===L.FILL){const y=E.current.getClippedPathBoundingBox(l,(0,u.getCurrentTransform)(T))||[0,0,0,0],v=Math.ceil(y[2]-y[0])||1,_=Math.ceil(y[3]-y[1])||1,O=E.cachedCanvases.getCanvas("pattern",v,_,!0),F=O.context;F.clearRect(0,0,F.canvas.width,F.canvas.height),F.beginPath(),F.rect(0,0,F.canvas.width,F.canvas.height),F.translate(-y[0],-y[1]),C=i.Util.transform(C,[1,0,0,1,y[0],y[1]]),F.transform(...E.baseTransform),this.matrix&&F.transform(...this.matrix),I(F,this._bbox),F.fillStyle=this._createGradient(F),F.fill(),c=T.createPattern(O.canvas,"no-repeat");const K=new DOMMatrix(C);c.setTransform(K)}else I(T,this._bbox),c=this._createGradient(T);return c}}function s(A,T,E,C,l,c,y,v){const _=T.coords,O=T.colors,F=A.data,K=A.width*4;let le;_[E+1]>_[C+1]&&(le=E,E=C,C=le,le=c,c=y,y=le),_[C+1]>_[l+1]&&(le=C,C=l,l=le,le=y,y=v,v=le),_[E+1]>_[C+1]&&(le=E,E=C,C=le,le=c,c=y,y=le);const B=(_[E]+T.offsetX)*T.scaleX,Y=(_[E+1]+T.offsetY)*T.scaleY,se=(_[C]+T.offsetX)*T.scaleX,ee=(_[C+1]+T.offsetY)*T.scaleY,N=(_[l]+T.offsetX)*T.scaleX,q=(_[l+1]+T.offsetY)*T.scaleY;if(Y>=q)return;const G=O[c],ge=O[c+1],Pe=O[c+2],W=O[y],M=O[y+1],d=O[y+2],w=O[v],x=O[v+1],D=O[v+2],$=Math.round(Y),ie=Math.round(q);let he,U,z,j,te,fe,de,Ee;for(let Te=$;Te<=ie;Te++){if(Te<ee){const ue=Te<Y?0:(Y-Te)/(Y-ee);he=B-(B-se)*ue,U=G-(G-W)*ue,z=ge-(ge-M)*ue,j=Pe-(Pe-d)*ue}else{let ue;Te>q?ue=1:ee===q?ue=0:ue=(ee-Te)/(ee-q),he=se-(se-N)*ue,U=W-(W-w)*ue,z=M-(M-x)*ue,j=d-(d-D)*ue}let ve;Te<Y?ve=0:Te>q?ve=1:ve=(Y-Te)/(Y-q),te=B-(B-N)*ve,fe=G-(G-w)*ve,de=ge-(ge-x)*ve,Ee=Pe-(Pe-D)*ve;const Re=Math.round(Math.min(he,te)),ce=Math.round(Math.max(he,te));let ne=K*Te+Re*4;for(let ue=Re;ue<=ce;ue++)ve=(he-ue)/(he-te),ve<0?ve=0:ve>1&&(ve=1),F[ne++]=U-(U-fe)*ve|0,F[ne++]=z-(z-de)*ve|0,F[ne++]=j-(j-Ee)*ve|0,F[ne++]=255}}function a(A,T,E){const C=T.coords,l=T.colors;let c,y;switch(T.type){case"lattice":const v=T.verticesPerRow,_=Math.floor(C.length/v)-1,O=v-1;for(c=0;c<_;c++){let F=c*v;for(let K=0;K<O;K++,F++)s(A,E,C[F],C[F+1],C[F+v],l[F],l[F+1],l[F+v]),s(A,E,C[F+v+1],C[F+1],C[F+v],l[F+v+1],l[F+1],l[F+v])}break;case"triangles":for(c=0,y=C.length;c<y;c+=3)s(A,E,C[c],C[c+1],C[c+2],l[c],l[c+1],l[c+2]);break;default:throw new Error("illegal figure")}}class P extends b{constructor(T){super(),this._coords=T[2],this._colors=T[3],this._figures=T[4],this._bounds=T[5],this._bbox=T[7],this._background=T[8],this.matrix=null}_createMeshCanvas(T,E,C){const v=Math.floor(this._bounds[0]),_=Math.floor(this._bounds[1]),O=Math.ceil(this._bounds[2])-v,F=Math.ceil(this._bounds[3])-_,K=Math.min(Math.ceil(Math.abs(O*T[0]*1.1)),3e3),le=Math.min(Math.ceil(Math.abs(F*T[1]*1.1)),3e3),B=O/K,Y=F/le,se={coords:this._coords,colors:this._colors,offsetX:-v,offsetY:-_,scaleX:1/B,scaleY:1/Y},ee=K+2*2,N=le+2*2,q=C.getCanvas("mesh",ee,N,!1),G=q.context,ge=G.createImageData(K,le);if(E){const W=ge.data;for(let M=0,d=W.length;M<d;M+=4)W[M]=E[0],W[M+1]=E[1],W[M+2]=E[2],W[M+3]=255}for(const W of this._figures)a(ge,W,se);return G.putImageData(ge,2,2),{canvas:q.canvas,offsetX:v-2*B,offsetY:_-2*Y,scaleX:B,scaleY:Y}}getPattern(T,E,C,l){I(T,this._bbox);let c;if(l===L.SHADING)c=i.Util.singularValueDecompose2dScale((0,u.getCurrentTransform)(T));else if(c=i.Util.singularValueDecompose2dScale(E.baseTransform),this.matrix){const v=i.Util.singularValueDecompose2dScale(this.matrix);c=[c[0]*v[0],c[1]*v[1]]}const y=this._createMeshCanvas(c,l===L.SHADING?null:this._background,E.cachedCanvases);return l!==L.SHADING&&(T.setTransform(...E.baseTransform),this.matrix&&T.transform(...this.matrix)),T.translate(y.offsetX,y.offsetY),T.scale(y.scaleX,y.scaleY),T.createPattern(y.canvas,"no-repeat")}}class S extends b{getPattern(){return"hotpink"}}function R(A){switch(A[0]){case"RadialAxial":return new f(A);case"Mesh":return new P(A);case"Dummy":return new S}throw new Error(`Unknown IR type: ${A[0]}`)}const n={COLORED:1,UNCOLORED:2},m=class m{constructor(T,E,C,l,c){this.operatorList=T[2],this.matrix=T[3]||[1,0,0,1,0,0],this.bbox=T[4],this.xstep=T[5],this.ystep=T[6],this.paintType=T[7],this.tilingType=T[8],this.color=E,this.ctx=C,this.canvasGraphicsFactory=l,this.baseTransform=c}createPatternCanvas(T){const E=this.operatorList,C=this.bbox,l=this.xstep,c=this.ystep,y=this.paintType,v=this.tilingType,_=this.color,O=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+v);const F=C[0],K=C[1],le=C[2],B=C[3],Y=i.Util.singularValueDecompose2dScale(this.matrix),se=i.Util.singularValueDecompose2dScale(this.baseTransform),ee=[Y[0]*se[0],Y[1]*se[1]],N=this.getSizeAndScale(l,this.ctx.canvas.width,ee[0]),q=this.getSizeAndScale(c,this.ctx.canvas.height,ee[1]),G=T.cachedCanvases.getCanvas("pattern",N.size,q.size,!0),ge=G.context,Pe=O.createCanvasGraphics(ge);Pe.groupLevel=T.groupLevel,this.setFillAndStrokeStyleToContext(Pe,y,_);let W=F,M=K,d=le,w=B;return F<0&&(W=0,d+=Math.abs(F)),K<0&&(M=0,w+=Math.abs(K)),ge.translate(-(N.scale*W),-(q.scale*M)),Pe.transform(N.scale,0,0,q.scale,0,0),ge.save(),this.clipBbox(Pe,W,M,d,w),Pe.baseTransform=(0,u.getCurrentTransform)(Pe.ctx),Pe.executeOperatorList(E),Pe.endDrawing(),{canvas:G.canvas,scaleX:N.scale,scaleY:q.scale,offsetX:W,offsetY:M}}getSizeAndScale(T,E,C){T=Math.abs(T);const l=Math.max(m.MAX_PATTERN_SIZE,E);let c=Math.ceil(T*C);return c>=l?c=l:C=c/T,{scale:C,size:c}}clipBbox(T,E,C,l,c){const y=l-E,v=c-C;T.ctx.rect(E,C,y,v),T.current.updateRectMinMax((0,u.getCurrentTransform)(T.ctx),[E,C,l,c]),T.clip(),T.endPath()}setFillAndStrokeStyleToContext(T,E,C){const l=T.ctx,c=T.current;switch(E){case n.COLORED:const y=this.ctx;l.fillStyle=y.fillStyle,l.strokeStyle=y.strokeStyle,c.fillColor=y.fillStyle,c.strokeColor=y.strokeStyle;break;case n.UNCOLORED:const v=i.Util.makeHexColor(C[0],C[1],C[2]);l.fillStyle=v,l.strokeStyle=v,c.fillColor=v,c.strokeColor=v;break;default:throw new i.FormatError(`Unsupported paint type: ${E}`)}}getPattern(T,E,C,l){let c=C;l!==L.SHADING&&(c=i.Util.transform(c,E.baseTransform),this.matrix&&(c=i.Util.transform(c,this.matrix)));const y=this.createPatternCanvas(E);let v=new DOMMatrix(c);v=v.translate(y.offsetX,y.offsetY),v=v.scale(1/y.scaleX,1/y.scaleY);const _=T.createPattern(y.canvas,"repeat");return _.setTransform(v),_}};Ke(m,"MAX_PATTERN_SIZE",3e3);let g=m;t.TilingPattern=g},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=L,t.convertToRGBA=u,t.grayToRGBA=b;var i=o(1);function u(f){switch(f.kind){case i.ImageKind.GRAYSCALE_1BPP:return L(f);case i.ImageKind.RGB_24BPP:return I(f)}return null}function L({src:f,srcPos:s=0,dest:a,width:P,height:S,nonBlackColor:R=4294967295,inverseDecode:n=!1}){const g=i.FeatureTest.isLittleEndian?4278190080:255,[m,A]=n?[R,g]:[g,R],T=P>>3,E=P&7,C=f.length;a=new Uint32Array(a.buffer);let l=0;for(let c=0;c<S;c++){for(const v=s+T;s<v;s++){const _=s<C?f[s]:255;a[l++]=_&128?A:m,a[l++]=_&64?A:m,a[l++]=_&32?A:m,a[l++]=_&16?A:m,a[l++]=_&8?A:m,a[l++]=_&4?A:m,a[l++]=_&2?A:m,a[l++]=_&1?A:m}if(E===0)continue;const y=s<C?f[s++]:255;for(let v=0;v<E;v++)a[l++]=y&1<<7-v?A:m}return{srcPos:s,destPos:l}}function I({src:f,srcPos:s=0,dest:a,destPos:P=0,width:S,height:R}){let n=0;const g=f.length>>2,m=new Uint32Array(f.buffer,s,g);if(i.FeatureTest.isLittleEndian){for(;n<g-2;n+=3,P+=4){const A=m[n],T=m[n+1],E=m[n+2];a[P]=A|4278190080,a[P+1]=A>>>24|T<<8|4278190080,a[P+2]=T>>>16|E<<16|4278190080,a[P+3]=E>>>8|4278190080}for(let A=n*4,T=f.length;A<T;A+=3)a[P++]=f[A]|f[A+1]<<8|f[A+2]<<16|4278190080}else{for(;n<g-2;n+=3,P+=4){const A=m[n],T=m[n+1],E=m[n+2];a[P]=A|255,a[P+1]=A<<24|T>>>8|255,a[P+2]=T<<16|E>>>16|255,a[P+3]=E<<8|255}for(let A=n*4,T=f.length;A<T;A+=3)a[P++]=f[A]<<24|f[A+1]<<16|f[A+2]<<8|255}return{srcPos:s,destPos:P}}function b(f,s){if(i.FeatureTest.isLittleEndian)for(let a=0,P=f.length;a<P;a++)s[a]=f[a]*65793|4278190080;else for(let a=0,P=f.length;a<P;a++)s[a]=f[a]*16843008|255}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const o=Object.create(null);t.GlobalWorkerOptions=o,o.workerPort=null,o.workerSrc=""},(e,t,o)=>{var f,An,a,Pn,S,Nt;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var i=o(1);const u={UNKNOWN:0,DATA:1,ERROR:2},L={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function I(n){switch(n instanceof Error||typeof n=="object"&&n!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new i.AbortException(n.message);case"MissingPDFException":return new i.MissingPDFException(n.message);case"PasswordException":return new i.PasswordException(n.message,n.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(n.message,n.status);case"UnknownErrorException":return new i.UnknownErrorException(n.message,n.details);default:return new i.UnknownErrorException(n.message,n.toString())}}class b{constructor(g,m,A){V(this,f);V(this,a);V(this,S);this.sourceName=g,this.targetName=m,this.comObj=A,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=T=>{const E=T.data;if(E.targetName!==this.sourceName)return;if(E.stream){X(this,a,Pn).call(this,E);return}if(E.callback){const l=E.callbackId,c=this.callbackCapabilities[l];if(!c)throw new Error(`Cannot resolve callback ${l}`);if(delete this.callbackCapabilities[l],E.callback===u.DATA)c.resolve(E.data);else if(E.callback===u.ERROR)c.reject(I(E.reason));else throw new Error("Unexpected callback case");return}const C=this.actionHandler[E.action];if(!C)throw new Error(`Unknown action from worker: ${E.action}`);if(E.callbackId){const l=this.sourceName,c=E.sourceName;new Promise(function(y){y(C(E.data))}).then(function(y){A.postMessage({sourceName:l,targetName:c,callback:u.DATA,callbackId:E.callbackId,data:y})},function(y){A.postMessage({sourceName:l,targetName:c,callback:u.ERROR,callbackId:E.callbackId,reason:I(y)})});return}if(E.streamId){X(this,f,An).call(this,E);return}C(E.data)},A.addEventListener("message",this._onComObjOnMessage)}on(g,m){const A=this.actionHandler;if(A[g])throw new Error(`There is already an actionName called "${g}"`);A[g]=m}send(g,m,A){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:g,data:m},A)}sendWithPromise(g,m,A){const T=this.callbackId++,E=new i.PromiseCapability;this.callbackCapabilities[T]=E;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:g,callbackId:T,data:m},A)}catch(C){E.reject(C)}return E.promise}sendWithStream(g,m,A,T){const E=this.streamId++,C=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:y=>{const v=new i.PromiseCapability;return this.streamControllers[E]={controller:y,startCall:v,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:C,targetName:l,action:g,streamId:E,data:m,desiredSize:y.desiredSize},T),v.promise},pull:y=>{const v=new i.PromiseCapability;return this.streamControllers[E].pullCall=v,c.postMessage({sourceName:C,targetName:l,stream:L.PULL,streamId:E,desiredSize:y.desiredSize}),v.promise},cancel:y=>{(0,i.assert)(y instanceof Error,"cancel must have a valid reason");const v=new i.PromiseCapability;return this.streamControllers[E].cancelCall=v,this.streamControllers[E].isClosed=!0,c.postMessage({sourceName:C,targetName:l,stream:L.CANCEL,streamId:E,reason:I(y)}),v.promise}},A)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}f=new WeakSet,An=function(g){const m=g.streamId,A=this.sourceName,T=g.sourceName,E=this.comObj,C=this,l=this.actionHandler[g.action],c={enqueue(y,v=1,_){if(this.isCancelled)return;const O=this.desiredSize;this.desiredSize-=v,O>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),E.postMessage({sourceName:A,targetName:T,stream:L.ENQUEUE,streamId:m,chunk:y},_)},close(){this.isCancelled||(this.isCancelled=!0,E.postMessage({sourceName:A,targetName:T,stream:L.CLOSE,streamId:m}),delete C.streamSinks[m])},error(y){(0,i.assert)(y instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,E.postMessage({sourceName:A,targetName:T,stream:L.ERROR,streamId:m,reason:I(y)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:g.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[m]=c,new Promise(function(y){y(l(g.data,c))}).then(function(){E.postMessage({sourceName:A,targetName:T,stream:L.START_COMPLETE,streamId:m,success:!0})},function(y){E.postMessage({sourceName:A,targetName:T,stream:L.START_COMPLETE,streamId:m,reason:I(y)})})},a=new WeakSet,Pn=function(g){const m=g.streamId,A=this.sourceName,T=g.sourceName,E=this.comObj,C=this.streamControllers[m],l=this.streamSinks[m];switch(g.stream){case L.START_COMPLETE:g.success?C.startCall.resolve():C.startCall.reject(I(g.reason));break;case L.PULL_COMPLETE:g.success?C.pullCall.resolve():C.pullCall.reject(I(g.reason));break;case L.PULL:if(!l){E.postMessage({sourceName:A,targetName:T,stream:L.PULL_COMPLETE,streamId:m,success:!0});break}l.desiredSize<=0&&g.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=g.desiredSize,new Promise(function(c){var y;c((y=l.onPull)==null?void 0:y.call(l))}).then(function(){E.postMessage({sourceName:A,targetName:T,stream:L.PULL_COMPLETE,streamId:m,success:!0})},function(c){E.postMessage({sourceName:A,targetName:T,stream:L.PULL_COMPLETE,streamId:m,reason:I(c)})});break;case L.ENQUEUE:if((0,i.assert)(C,"enqueue should have stream controller"),C.isClosed)break;C.controller.enqueue(g.chunk);break;case L.CLOSE:if((0,i.assert)(C,"close should have stream controller"),C.isClosed)break;C.isClosed=!0,C.controller.close(),X(this,S,Nt).call(this,C,m);break;case L.ERROR:(0,i.assert)(C,"error should have stream controller"),C.controller.error(I(g.reason)),X(this,S,Nt).call(this,C,m);break;case L.CANCEL_COMPLETE:g.success?C.cancelCall.resolve():C.cancelCall.reject(I(g.reason)),X(this,S,Nt).call(this,C,m);break;case L.CANCEL:if(!l)break;new Promise(function(c){var y;c((y=l.onCancel)==null?void 0:y.call(l,I(g.reason)))}).then(function(){E.postMessage({sourceName:A,targetName:T,stream:L.CANCEL_COMPLETE,streamId:m,success:!0})},function(c){E.postMessage({sourceName:A,targetName:T,stream:L.CANCEL_COMPLETE,streamId:m,reason:I(c)})}),l.sinkCapability.reject(I(g.reason)),l.isCancelled=!0,delete this.streamSinks[m];break;default:throw new Error("Unexpected stream case")}},S=new WeakSet,Nt=async function(g,m){var A,T,E;await Promise.allSettled([(A=g.startCall)==null?void 0:A.promise,(T=g.pullCall)==null?void 0:T.promise,(E=g.cancelCall)==null?void 0:E.promise]),delete this.streamControllers[m]},t.MessageHandler=b},(e,t,o)=>{var L,I;Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var i=o(1);class u{constructor({parsedData:f,rawData:s}){V(this,L,void 0);V(this,I,void 0);pe(this,L,f),pe(this,I,s)}getRaw(){return r(this,I)}get(f){return r(this,L).get(f)??null}getAll(){return(0,i.objectFromMap)(r(this,L))}has(f){return r(this,L).has(f)}}L=new WeakMap,I=new WeakMap,t.Metadata=u},(e,t,o)=>{var f,s,a,P,S,R,hi;Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var i=o(1),u=o(8);const L=Symbol("INTERNAL");class I{constructor(m,A){V(this,f,!0);this.name=m,this.intent=A}get visible(){return r(this,f)}_setVisible(m,A){m!==L&&(0,i.unreachable)("Internal method `_setVisible` called."),pe(this,f,A)}}f=new WeakMap;class b{constructor(m){V(this,R);V(this,s,null);V(this,a,new Map);V(this,P,null);V(this,S,null);if(this.name=null,this.creator=null,m!==null){this.name=m.name,this.creator=m.creator,pe(this,S,m.order);for(const A of m.groups)r(this,a).set(A.id,new I(A.name,A.intent));if(m.baseState==="OFF")for(const A of r(this,a).values())A._setVisible(L,!1);for(const A of m.on)r(this,a).get(A)._setVisible(L,!0);for(const A of m.off)r(this,a).get(A)._setVisible(L,!1);pe(this,P,this.getHash())}}isVisible(m){if(r(this,a).size===0)return!0;if(!m)return(0,i.warn)("Optional content group not defined."),!0;if(m.type==="OCG")return r(this,a).has(m.id)?r(this,a).get(m.id).visible:((0,i.warn)(`Optional content group not found: ${m.id}`),!0);if(m.type==="OCMD"){if(m.expression)return X(this,R,hi).call(this,m.expression);if(!m.policy||m.policy==="AnyOn"){for(const A of m.ids){if(!r(this,a).has(A))return(0,i.warn)(`Optional content group not found: ${A}`),!0;if(r(this,a).get(A).visible)return!0}return!1}else if(m.policy==="AllOn"){for(const A of m.ids){if(!r(this,a).has(A))return(0,i.warn)(`Optional content group not found: ${A}`),!0;if(!r(this,a).get(A).visible)return!1}return!0}else if(m.policy==="AnyOff"){for(const A of m.ids){if(!r(this,a).has(A))return(0,i.warn)(`Optional content group not found: ${A}`),!0;if(!r(this,a).get(A).visible)return!0}return!1}else if(m.policy==="AllOff"){for(const A of m.ids){if(!r(this,a).has(A))return(0,i.warn)(`Optional content group not found: ${A}`),!0;if(r(this,a).get(A).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${m.policy}.`),!0}return(0,i.warn)(`Unknown group type ${m.type}.`),!0}setVisibility(m,A=!0){if(!r(this,a).has(m)){(0,i.warn)(`Optional content group not found: ${m}`);return}r(this,a).get(m)._setVisible(L,!!A),pe(this,s,null)}get hasInitialVisibility(){return r(this,P)===null||this.getHash()===r(this,P)}getOrder(){return r(this,a).size?r(this,S)?r(this,S).slice():[...r(this,a).keys()]:null}getGroups(){return r(this,a).size>0?(0,i.objectFromMap)(r(this,a)):null}getGroup(m){return r(this,a).get(m)||null}getHash(){if(r(this,s)!==null)return r(this,s);const m=new u.MurmurHash3_64;for(const[A,T]of r(this,a))m.update(`${A}:${T.visible}`);return pe(this,s,m.hexdigest())}}s=new WeakMap,a=new WeakMap,P=new WeakMap,S=new WeakMap,R=new WeakSet,hi=function(m){const A=m.length;if(A<2)return!0;const T=m[0];for(let E=1;E<A;E++){const C=m[E];let l;if(Array.isArray(C))l=X(this,R,hi).call(this,C);else if(r(this,a).has(C))l=r(this,a).get(C).visible;else return(0,i.warn)(`Optional content group not found: ${C}`),!0;switch(T){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return T==="And"},t.OptionalContentConfig=b},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var i=o(1),u=o(6);class L{constructor({length:s,initialData:a,progressiveDone:P=!1,contentDispositionFilename:S=null,disableRange:R=!1,disableStream:n=!1},g){if((0,i.assert)(g,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=P,this._contentDispositionFilename=S,(a==null?void 0:a.length)>0){const m=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(m)}this._pdfDataRangeTransport=g,this._isStreamingSupported=!n,this._isRangeSupported=!R,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((m,A)=>{this._onReceiveData({begin:m,chunk:A})}),this._pdfDataRangeTransport.addProgressListener((m,A)=>{this._onProgress({loaded:m,total:A})}),this._pdfDataRangeTransport.addProgressiveReadListener(m=>{this._onReceiveData({chunk:m})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:s,chunk:a}){const P=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;if(s===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(P):this._queuedChunks.push(P);else{const S=this._rangeReaders.some(function(R){return R._begin!==s?!1:(R._enqueue(P),!0)});(0,i.assert)(S,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var s;return((s=this._fullRequestReader)==null?void 0:s._loaded)??0}_onProgress(s){var a,P,S,R;s.total===void 0?(P=(a=this._rangeReaders[0])==null?void 0:a.onProgress)==null||P.call(a,{loaded:s.loaded}):(R=(S=this._fullRequestReader)==null?void 0:S.onProgress)==null||R.call(S,{loaded:s.loaded,total:s.total})}_onProgressiveDone(){var s;(s=this._fullRequestReader)==null||s.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(s){const a=this._rangeReaders.indexOf(s);a>=0&&this._rangeReaders.splice(a,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const s=this._queuedChunks;return this._queuedChunks=null,new I(this,s,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(s,a){if(a<=this._progressiveDataLength)return null;const P=new b(this,s,a);return this._pdfDataRangeTransport.requestDataRange(s,a),this._rangeReaders.push(P),P}cancelAllRequests(s){var a;(a=this._fullRequestReader)==null||a.cancel(s);for(const P of this._rangeReaders.slice(0))P.cancel(s);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=L;class I{constructor(s,a,P=!1,S=null){this._stream=s,this._done=P||!1,this._filename=(0,u.isPdfFile)(S)?S:null,this._queuedChunks=a||[],this._loaded=0;for(const R of this._queuedChunks)this._loaded+=R.byteLength;this._requests=[],this._headersReady=Promise.resolve(),s._fullRequestReader=this,this.onProgress=null}_enqueue(s){this._done||(this._requests.length>0?this._requests.shift().resolve({value:s,done:!1}):this._queuedChunks.push(s),this._loaded+=s.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const s=new i.PromiseCapability;return this._requests.push(s),s.promise}cancel(s){this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class b{constructor(s,a,P){this._stream=s,this._begin=a,this._end=P,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(s){if(!this._done){if(this._requests.length===0)this._queuedChunk=s;else{this._requests.shift().resolve({value:s,done:!1});for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const a=this._queuedChunk;return this._queuedChunk=null,{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};const s=new i.PromiseCapability;return this._requests.push(s),s.promise}cancel(s){this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var i=o(1),u=o(20);function L(P,S,R){return{method:"GET",headers:P,signal:R.signal,mode:"cors",credentials:S?"include":"same-origin",redirect:"follow"}}function I(P){const S=new Headers;for(const R in P){const n=P[R];n!==void 0&&S.append(R,n)}return S}function b(P){return P instanceof Uint8Array?P.buffer:P instanceof ArrayBuffer?P:((0,i.warn)(`getArrayBuffer - unexpected data format: ${P}`),new Uint8Array(P).buffer)}class f{constructor(S){this.source=S,this.isHttp=/^https?:/i.test(S.url),this.httpHeaders=this.isHttp&&S.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var S;return((S=this._fullRequestReader)==null?void 0:S._loaded)??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new s(this),this._fullRequestReader}getRangeReader(S,R){if(R<=this._progressiveDataLength)return null;const n=new a(this,S,R);return this._rangeRequestReaders.push(n),n}cancelAllRequests(S){var R;(R=this._fullRequestReader)==null||R.cancel(S);for(const n of this._rangeRequestReaders.slice(0))n.cancel(S)}}t.PDFFetchStream=f;class s{constructor(S){this._stream=S,this._reader=null,this._loaded=0,this._filename=null;const R=S.source;this._withCredentials=R.withCredentials||!1,this._contentLength=R.length,this._headersCapability=new i.PromiseCapability,this._disableRange=R.disableRange||!1,this._rangeChunkSize=R.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!R.disableStream,this._isRangeSupported=!R.disableRange,this._headers=I(this._stream.httpHeaders);const n=R.url;fetch(n,L(this._headers,this._withCredentials,this._abortController)).then(g=>{if(!(0,u.validateResponseStatus)(g.status))throw(0,u.createResponseStatusError)(g.status,n);this._reader=g.body.getReader(),this._headersCapability.resolve();const m=E=>g.headers.get(E),{allowRangeRequests:A,suggestedLength:T}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=T||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(m),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:S,done:R}=await this._reader.read();return R?{value:S,done:R}:(this._loaded+=S.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:b(S),done:!1})}cancel(S){var R;(R=this._reader)==null||R.cancel(S),this._abortController.abort()}}class a{constructor(S,R,n){this._stream=S,this._reader=null,this._loaded=0;const g=S.source;this._withCredentials=g.withCredentials||!1,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!g.disableStream,this._abortController=new AbortController,this._headers=I(this._stream.httpHeaders),this._headers.append("Range",`bytes=${R}-${n-1}`);const m=g.url;fetch(m,L(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,u.validateResponseStatus)(A.status))throw(0,u.createResponseStatusError)(A.status,m);this._readCapability.resolve(),this._reader=A.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:S,done:R}=await this._reader.read();return R?{value:S,done:R}:(this._loaded+=S.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:b(S),done:!1})}cancel(S){var R;(R=this._reader)==null||R.cancel(S),this._abortController.abort()}}},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=f,t.extractFilenameFromHeader=b,t.validateRangeRequestCapabilities=I,t.validateResponseStatus=s;var i=o(1),u=o(21),L=o(6);function I({getResponseHeader:a,isHttp:P,rangeChunkSize:S,disableRange:R}){const n={allowRangeRequests:!1,suggestedLength:void 0},g=parseInt(a("Content-Length"),10);return!Number.isInteger(g)||(n.suggestedLength=g,g<=2*S)||R||!P||a("Accept-Ranges")!=="bytes"||(a("Content-Encoding")||"identity")!=="identity"||(n.allowRangeRequests=!0),n}function b(a){const P=a("Content-Disposition");if(P){let S=(0,u.getFilenameFromContentDispositionHeader)(P);if(S.includes("%"))try{S=decodeURIComponent(S)}catch{}if((0,L.isPdfFile)(S))return S}return null}function f(a,P){return a===404||a===0&&P.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+P+'".'):new i.UnexpectedResponseException(`Unexpected server response (${a}) while retrieving PDF "${P}".`,a)}function s(a){return a===200||a===206}},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=u;var i=o(1);function u(L){let I=!0,b=f("filename\\*","i").exec(L);if(b){b=b[1];let g=S(b);return g=unescape(g),g=R(g),g=n(g),a(g)}if(b=P(L),b){const g=n(b);return a(g)}if(b=f("filename","i").exec(L),b){b=b[1];let g=S(b);return g=n(g),a(g)}function f(g,m){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function s(g,m){if(g){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const A=new TextDecoder(g,{fatal:!0}),T=(0,i.stringToBytes)(m);m=A.decode(T),I=!1}catch{}}return m}function a(g){return I&&/[\x80-\xff]/.test(g)&&(g=s("utf-8",g),I&&(g=s("iso-8859-1",g))),g}function P(g){const m=[];let A;const T=f("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(A=T.exec(g))!==null;){let[,C,l,c]=A;if(C=parseInt(C,10),C in m){if(C===0)break;continue}m[C]=[l,c]}const E=[];for(let C=0;C<m.length&&C in m;++C){let[l,c]=m[C];c=S(c),l&&(c=unescape(c),C===0&&(c=R(c))),E.push(c)}return E.join("")}function S(g){if(g.startsWith('"')){const m=g.slice(1).split('\\"');for(let A=0;A<m.length;++A){const T=m[A].indexOf('"');T!==-1&&(m[A]=m[A].slice(0,T),m.length=A+1),m[A]=m[A].replaceAll(/\\(.)/g,"$1")}g=m.join('"')}return g}function R(g){const m=g.indexOf("'");if(m===-1)return g;const A=g.slice(0,m),E=g.slice(m+1).replace(/^[^']*'/,"");return s(A,E)}function n(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,A,T,E){if(T==="q"||T==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,l){return String.fromCharCode(parseInt(l,16))}),s(A,E);try{E=atob(E)}catch{}return s(A,E)})}return""}},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var i=o(1),u=o(20);const L=200,I=206;function b(S){const R=S.response;return typeof R!="string"?R:(0,i.stringToBytes)(R).buffer}class f{constructor(R,n={}){this.url=R,this.isHttp=/^https?:/i.test(R),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(R,n,g){const m={begin:R,end:n};for(const A in g)m[A]=g[A];return this.request(m)}requestFull(R){return this.request(R)}request(R){const n=new XMLHttpRequest,g=this.currXhrId++,m=this.pendingRequests[g]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const A in this.httpHeaders){const T=this.httpHeaders[A];T!==void 0&&n.setRequestHeader(A,T)}return this.isHttp&&"begin"in R&&"end"in R?(n.setRequestHeader("Range",`bytes=${R.begin}-${R.end-1}`),m.expectedStatus=I):m.expectedStatus=L,n.responseType="arraybuffer",R.onError&&(n.onerror=function(A){R.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,g),n.onprogress=this.onProgress.bind(this,g),m.onHeadersReceived=R.onHeadersReceived,m.onDone=R.onDone,m.onError=R.onError,m.onProgress=R.onProgress,n.send(null),g}onProgress(R,n){var m;const g=this.pendingRequests[R];g&&((m=g.onProgress)==null||m.call(g,n))}onStateChange(R,n){var C,l,c;const g=this.pendingRequests[R];if(!g)return;const m=g.xhr;if(m.readyState>=2&&g.onHeadersReceived&&(g.onHeadersReceived(),delete g.onHeadersReceived),m.readyState!==4||!(R in this.pendingRequests))return;if(delete this.pendingRequests[R],m.status===0&&this.isHttp){(C=g.onError)==null||C.call(g,m.status);return}const A=m.status||L;if(!(A===L&&g.expectedStatus===I)&&A!==g.expectedStatus){(l=g.onError)==null||l.call(g,m.status);return}const E=b(m);if(A===I){const y=m.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);g.onDone({begin:parseInt(v[1],10),chunk:E})}else E?g.onDone({begin:0,chunk:E}):(c=g.onError)==null||c.call(g,m.status)}getRequestXhr(R){return this.pendingRequests[R].xhr}isPendingRequest(R){return R in this.pendingRequests}abortRequest(R){const n=this.pendingRequests[R].xhr;delete this.pendingRequests[R],n.abort()}}class s{constructor(R){this._source=R,this._manager=new f(R.url,{httpHeaders:R.httpHeaders,withCredentials:R.withCredentials}),this._rangeChunkSize=R.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(R){const n=this._rangeRequestReaders.indexOf(R);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}getRangeReader(R,n){const g=new P(this._manager,R,n);return g.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(g),g}cancelAllRequests(R){var n;(n=this._fullRequestReader)==null||n.cancel(R);for(const g of this._rangeRequestReaders.slice(0))g.cancel(R)}}t.PDFNetworkStream=s;class a{constructor(R,n){this._manager=R;const g={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=R.requestFull(g),this._headersReceivedCapability=new i.PromiseCapability,this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const R=this._fullRequestId,n=this._manager.getRequestXhr(R),g=T=>n.getResponseHeader(T),{allowRangeRequests:m,suggestedLength:A}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});m&&(this._isRangeSupported=!0),this._contentLength=A||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(g),this._isRangeSupported&&this._manager.abortRequest(R),this._headersReceivedCapability.resolve()}_onDone(R){if(R&&(this._requests.length>0?this._requests.shift().resolve({value:R.chunk,done:!1}):this._cachedChunks.push(R.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(R){this._storedError=(0,u.createResponseStatusError)(R,this._url),this._headersReceivedCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(R){var n;(n=this.onProgress)==null||n.call(this,{loaded:R.loaded,total:R.lengthComputable?R.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const R=new i.PromiseCapability;return this._requests.push(R),R.promise}cancel(R){this._done=!0,this._headersReceivedCapability.reject(R);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class P{constructor(R,n,g){this._manager=R;const m={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=R.url,this._requestId=R.requestRange(n,g,m),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var R;(R=this.onClosed)==null||R.call(this,this)}_onDone(R){const n=R.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(R){this._storedError=(0,u.createResponseStatusError)(R,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(R){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:R.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const R=new i.PromiseCapability;return this._requests.push(R),R.promise}cancel(R){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var i=o(1),u=o(20);const L=/^file:\/\/\/[a-zA-Z]:\//;function I(g){const m=require$$5,A=m.parse(g);return A.protocol==="file:"||A.host?A:/^[a-z]:[/\\]/i.test(g)?m.parse(`file:///${g}`):(A.host||(A.protocol="file:"),A)}class b{constructor(m){this.source=m,this.url=I(m.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var m;return((m=this._fullRequestReader)==null?void 0:m._loaded)??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new R(this):new P(this),this._fullRequestReader}getRangeReader(m,A){if(A<=this._progressiveDataLength)return null;const T=this.isFsUrl?new n(this,m,A):new S(this,m,A);return this._rangeRequestReaders.push(T),T}cancelAllRequests(m){var A;(A=this._fullRequestReader)==null||A.cancel(m);for(const T of this._rangeRequestReaders.slice(0))T.cancel(m)}}t.PDFNodeStream=b;class f{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null;const A=m.source;this._contentLength=A.length,this._loaded=0,this._filename=null,this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var T;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const m=this._readableStream.read();return m===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=m.length,(T=this.onProgress)==null||T.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(m).buffer,done:!1})}cancel(m){if(!this._readableStream){this._error(m);return}this._readableStream.destroy(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",A=>{this._error(A)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class s{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability;const A=m.source;this._isStreamingSupported=!A.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var T;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const m=this._readableStream.read();return m===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=m.length,(T=this.onProgress)==null||T.call(this,{loaded:this._loaded}),{value:new Uint8Array(m).buffer,done:!1})}cancel(m){if(!this._readableStream){this._error(m);return}this._readableStream.destroy(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",A=>{this._error(A)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function a(g,m){return{protocol:g.protocol,auth:g.auth,host:g.hostname,port:g.port,path:g.path,method:"GET",headers:m}}class P extends f{constructor(m){super(m);const A=T=>{if(T.statusCode===404){const c=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=c,this._headersCapability.reject(c);return}this._headersCapability.resolve(),this._setReadableStream(T);const E=c=>this._readableStream.headers[c.toLowerCase()],{allowRangeRequests:C,suggestedLength:l}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:E,isHttp:m.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=C,this._contentLength=l||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(E)};if(this._request=null,this._url.protocol==="http:"){const T=require$$5;this._request=T.request(a(this._url,m.httpHeaders),A)}else{const T=require$$5;this._request=T.request(a(this._url,m.httpHeaders),A)}this._request.on("error",T=>{this._storedError=T,this._headersCapability.reject(T)}),this._request.end()}}class S extends s{constructor(m,A,T){super(m),this._httpHeaders={};for(const C in m.httpHeaders){const l=m.httpHeaders[C];l!==void 0&&(this._httpHeaders[C]=l)}this._httpHeaders.Range=`bytes=${A}-${T-1}`;const E=C=>{if(C.statusCode===404){const l=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=l;return}this._setReadableStream(C)};if(this._request=null,this._url.protocol==="http:"){const C=require$$5;this._request=C.request(a(this._url,this._httpHeaders),E)}else{const C=require$$5;this._request=C.request(a(this._url,this._httpHeaders),E)}this._request.on("error",C=>{this._storedError=C}),this._request.end()}}class R extends f{constructor(m){super(m);let A=decodeURIComponent(this._url.path);L.test(this._url.href)&&(A=A.replace(/^\//,""));const T=require$$5;T.lstat(A,(E,C)=>{if(E){E.code==="ENOENT"&&(E=new i.MissingPDFException(`Missing PDF "${A}".`)),this._storedError=E,this._headersCapability.reject(E);return}this._contentLength=C.size,this._setReadableStream(T.createReadStream(A)),this._headersCapability.resolve()})}}class n extends s{constructor(m,A,T){super(m);let E=decodeURIComponent(this._url.path);L.test(this._url.href)&&(E=E.replace(/^\//,""));const C=require$$5;this._setReadableStream(C.createReadStream(E,{start:A,end:T-1}))}}},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var i=o(6),u=o(1);const L={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},I="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/1999/xlink",f=["butt","round","square"],s=["miter","round","bevel"],a=function(C,l="",c=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!c)return URL.createObjectURL(new Blob([C],{type:l}));const y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let v=`data:${l};base64,`;for(let _=0,O=C.length;_<O;_+=3){const F=C[_]&255,K=C[_+1]&255,le=C[_+2]&255,B=F>>2,Y=(F&3)<<4|K>>4,se=_+1<O?(K&15)<<2|le>>6:64,ee=_+2<O?le&63:64;v+=y[B]+y[Y]+y[se]+y[ee]}return v},P=function(){const C=new Uint8Array([137,80,78,71,13,10,26,10]),l=12,c=new Int32Array(256);for(let le=0;le<256;le++){let B=le;for(let Y=0;Y<8;Y++)B=B&1?3988292384^B>>1&2147483647:B>>1&2147483647;c[le]=B}function y(le,B,Y){let se=-1;for(let ee=B;ee<Y;ee++){const N=(se^le[ee])&255,q=c[N];se=se>>>8^q}return se^-1}function v(le,B,Y,se){let ee=se;const N=B.length;Y[ee]=N>>24&255,Y[ee+1]=N>>16&255,Y[ee+2]=N>>8&255,Y[ee+3]=N&255,ee+=4,Y[ee]=le.charCodeAt(0)&255,Y[ee+1]=le.charCodeAt(1)&255,Y[ee+2]=le.charCodeAt(2)&255,Y[ee+3]=le.charCodeAt(3)&255,ee+=4,Y.set(B,ee),ee+=B.length;const q=y(Y,se+4,ee);Y[ee]=q>>24&255,Y[ee+1]=q>>16&255,Y[ee+2]=q>>8&255,Y[ee+3]=q&255}function _(le,B,Y){let se=1,ee=0;for(let N=B;N<Y;++N)se=(se+(le[N]&255))%65521,ee=(ee+se)%65521;return ee<<16|se}function O(le){if(!u.isNodeJS)return F(le);try{const B=parseInt(process.versions.node)>=8?le:Buffer.from(le),Y=require$$5.deflateSync(B,{level:9});return Y instanceof Uint8Array?Y:new Uint8Array(Y)}catch(B){(0,u.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+B)}return F(le)}function F(le){let B=le.length;const Y=65535,se=Math.ceil(B/Y),ee=new Uint8Array(2+B+se*5+4);let N=0;ee[N++]=120,ee[N++]=156;let q=0;for(;B>Y;)ee[N++]=0,ee[N++]=255,ee[N++]=255,ee[N++]=0,ee[N++]=0,ee.set(le.subarray(q,q+Y),N),N+=Y,q+=Y,B-=Y;ee[N++]=1,ee[N++]=B&255,ee[N++]=B>>8&255,ee[N++]=~B&65535&255,ee[N++]=(~B&65535)>>8&255,ee.set(le.subarray(q),N),N+=le.length-q;const G=_(le,0,le.length);return ee[N++]=G>>24&255,ee[N++]=G>>16&255,ee[N++]=G>>8&255,ee[N++]=G&255,ee}function K(le,B,Y,se){const ee=le.width,N=le.height;let q,G,ge;const Pe=le.data;switch(B){case u.ImageKind.GRAYSCALE_1BPP:G=0,q=1,ge=ee+7>>3;break;case u.ImageKind.RGB_24BPP:G=2,q=8,ge=ee*3;break;case u.ImageKind.RGBA_32BPP:G=6,q=8,ge=ee*4;break;default:throw new Error("invalid format")}const W=new Uint8Array((1+ge)*N);let M=0,d=0;for(let he=0;he<N;++he)W[M++]=0,W.set(Pe.subarray(d,d+ge),M),d+=ge,M+=ge;if(B===u.ImageKind.GRAYSCALE_1BPP&&se){M=0;for(let he=0;he<N;he++){M++;for(let U=0;U<ge;U++)W[M++]^=255}}const w=new Uint8Array([ee>>24&255,ee>>16&255,ee>>8&255,ee&255,N>>24&255,N>>16&255,N>>8&255,N&255,q,G,0,0,0]),x=O(W),D=C.length+l*3+w.length+x.length,$=new Uint8Array(D);let ie=0;return $.set(C,ie),ie+=C.length,v("IHDR",w,$,ie),ie+=l+w.length,v("IDATA",x,$,ie),ie+=l+x.length,v("IEND",new Uint8Array(0),$,ie),a($,"image/png",Y)}return function(B,Y,se){const ee=B.kind===void 0?u.ImageKind.GRAYSCALE_1BPP:B.kind;return K(B,ee,Y,se)}}();class S{constructor(){this.fontSizeScale=1,this.fontWeight=L.fontWeight,this.fontSize=0,this.textMatrix=u.IDENTITY_MATRIX,this.fontMatrix=u.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=u.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=L.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(l,c){this.x=l,this.y=c}}function R(C){let l=[];const c=[];for(const y of C){if(y.fn==="save"){l.push({fnId:92,fn:"group",items:[]}),c.push(l),l=l.at(-1).items;continue}y.fn==="restore"?l=c.pop():l.push(y)}return l}function n(C){if(Number.isInteger(C))return C.toString();const l=C.toFixed(10);let c=l.length-1;if(l[c]!=="0")return l;do c--;while(l[c]==="0");return l.substring(0,l[c]==="."?c:c+1)}function g(C){if(C[4]===0&&C[5]===0){if(C[1]===0&&C[2]===0)return C[0]===1&&C[3]===1?"":`scale(${n(C[0])} ${n(C[3])})`;if(C[0]===C[3]&&C[1]===-C[2]){const l=Math.acos(C[0])*180/Math.PI;return`rotate(${n(l)})`}}else if(C[0]===1&&C[1]===0&&C[2]===0&&C[3]===1)return`translate(${n(C[4])} ${n(C[5])})`;return`matrix(${n(C[0])} ${n(C[1])} ${n(C[2])} ${n(C[3])} ${n(C[4])} ${n(C[5])})`}let m=0,A=0,T=0;class E{constructor(l,c,y=!1){(0,i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new i.DOMSVGFactory,this.current=new S,this.transformMatrix=u.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=l,this.objs=c,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!y,this._operatorIdMapping=[];for(const v in u.OPS)this._operatorIdMapping[u.OPS[v]]=v}getObject(l,c=null){return typeof l=="string"?l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l):c}save(){this.transformStack.push(this.transformMatrix);const l=this.current;this.extraStack.push(l),this.current=l.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(l){this.save(),this.executeOpTree(l),this.restore()}loadDependencies(l){const c=l.fnArray,y=l.argsArray;for(let v=0,_=c.length;v<_;v++)if(c[v]===u.OPS.dependency)for(const O of y[v]){const F=O.startsWith("g_")?this.commonObjs:this.objs,K=new Promise(le=>{F.get(O,le)});this.current.dependencies.push(K)}return Promise.all(this.current.dependencies)}transform(l,c,y,v,_,O){const F=[l,c,y,v,_,O];this.transformMatrix=u.Util.transform(this.transformMatrix,F),this.tgrp=null}getSVG(l,c){this.viewport=c;const y=this._initialize(c);return this.loadDependencies(l).then(()=>(this.transformMatrix=u.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(l)),y))}convertOpList(l){const c=this._operatorIdMapping,y=l.argsArray,v=l.fnArray,_=[];for(let O=0,F=v.length;O<F;O++){const K=v[O];_.push({fnId:K,fn:c[K],args:y[O]})}return R(_)}executeOpTree(l){for(const c of l){const y=c.fn,v=c.fnId,_=c.args;switch(v|0){case u.OPS.beginText:this.beginText();break;case u.OPS.dependency:break;case u.OPS.setLeading:this.setLeading(_);break;case u.OPS.setLeadingMoveText:this.setLeadingMoveText(_[0],_[1]);break;case u.OPS.setFont:this.setFont(_);break;case u.OPS.showText:this.showText(_[0]);break;case u.OPS.showSpacedText:this.showText(_[0]);break;case u.OPS.endText:this.endText();break;case u.OPS.moveText:this.moveText(_[0],_[1]);break;case u.OPS.setCharSpacing:this.setCharSpacing(_[0]);break;case u.OPS.setWordSpacing:this.setWordSpacing(_[0]);break;case u.OPS.setHScale:this.setHScale(_[0]);break;case u.OPS.setTextMatrix:this.setTextMatrix(_[0],_[1],_[2],_[3],_[4],_[5]);break;case u.OPS.setTextRise:this.setTextRise(_[0]);break;case u.OPS.setTextRenderingMode:this.setTextRenderingMode(_[0]);break;case u.OPS.setLineWidth:this.setLineWidth(_[0]);break;case u.OPS.setLineJoin:this.setLineJoin(_[0]);break;case u.OPS.setLineCap:this.setLineCap(_[0]);break;case u.OPS.setMiterLimit:this.setMiterLimit(_[0]);break;case u.OPS.setFillRGBColor:this.setFillRGBColor(_[0],_[1],_[2]);break;case u.OPS.setStrokeRGBColor:this.setStrokeRGBColor(_[0],_[1],_[2]);break;case u.OPS.setStrokeColorN:this.setStrokeColorN(_);break;case u.OPS.setFillColorN:this.setFillColorN(_);break;case u.OPS.shadingFill:this.shadingFill(_[0]);break;case u.OPS.setDash:this.setDash(_[0],_[1]);break;case u.OPS.setRenderingIntent:this.setRenderingIntent(_[0]);break;case u.OPS.setFlatness:this.setFlatness(_[0]);break;case u.OPS.setGState:this.setGState(_[0]);break;case u.OPS.fill:this.fill();break;case u.OPS.eoFill:this.eoFill();break;case u.OPS.stroke:this.stroke();break;case u.OPS.fillStroke:this.fillStroke();break;case u.OPS.eoFillStroke:this.eoFillStroke();break;case u.OPS.clip:this.clip("nonzero");break;case u.OPS.eoClip:this.clip("evenodd");break;case u.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case u.OPS.paintImageXObject:this.paintImageXObject(_[0]);break;case u.OPS.paintInlineImageXObject:this.paintInlineImageXObject(_[0]);break;case u.OPS.paintImageMaskXObject:this.paintImageMaskXObject(_[0]);break;case u.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(_[0],_[1]);break;case u.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case u.OPS.closePath:this.closePath();break;case u.OPS.closeStroke:this.closeStroke();break;case u.OPS.closeFillStroke:this.closeFillStroke();break;case u.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case u.OPS.nextLine:this.nextLine();break;case u.OPS.transform:this.transform(_[0],_[1],_[2],_[3],_[4],_[5]);break;case u.OPS.constructPath:this.constructPath(_[0],_[1]);break;case u.OPS.endPath:this.endPath();break;case 92:this.group(c.items);break;default:(0,u.warn)(`Unimplemented operator ${y}`);break}}}setWordSpacing(l){this.current.wordSpacing=l}setCharSpacing(l){this.current.charSpacing=l}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(l,c,y,v,_,O){const F=this.current;F.textMatrix=F.lineMatrix=[l,c,y,v,_,O],F.textMatrixScale=Math.hypot(l,c),F.x=F.lineX=0,F.y=F.lineY=0,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${n(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",n(-F.y)),F.txtElement=this.svgFactory.createElement("svg:text"),F.txtElement.append(F.tspan)}beginText(){const l=this.current;l.x=l.lineX=0,l.y=l.lineY=0,l.textMatrix=u.IDENTITY_MATRIX,l.lineMatrix=u.IDENTITY_MATRIX,l.textMatrixScale=1,l.tspan=this.svgFactory.createElement("svg:tspan"),l.txtElement=this.svgFactory.createElement("svg:text"),l.txtgrp=this.svgFactory.createElement("svg:g"),l.xcoords=[],l.ycoords=[]}moveText(l,c){const y=this.current;y.x=y.lineX+=l,y.y=y.lineY+=c,y.xcoords=[],y.ycoords=[],y.tspan=this.svgFactory.createElement("svg:tspan"),y.tspan.setAttributeNS(null,"font-family",y.fontFamily),y.tspan.setAttributeNS(null,"font-size",`${n(y.fontSize)}px`),y.tspan.setAttributeNS(null,"y",n(-y.y))}showText(l){const c=this.current,y=c.font,v=c.fontSize;if(v===0)return;const _=c.fontSizeScale,O=c.charSpacing,F=c.wordSpacing,K=c.fontDirection,le=c.textHScale*K,B=y.vertical,Y=B?1:-1,se=y.defaultVMetrics,ee=v*c.fontMatrix[0];let N=0;for(const ge of l){if(ge===null){N+=K*F;continue}else if(typeof ge=="number"){N+=Y*ge*v/1e3;continue}const Pe=(ge.isSpace?F:0)+O,W=ge.fontChar;let M,d,w=ge.width;if(B){let D;const $=ge.vmetric||se;D=ge.vmetric?$[1]:w*.5,D=-D*ee;const ie=$[2]*ee;w=$?-$[0]:w,M=D/_,d=(N+ie)/_}else M=N/_,d=0;(ge.isInFont||y.missingFile)&&(c.xcoords.push(c.x+M),B&&c.ycoords.push(-c.y+d),c.tspan.textContent+=W);const x=B?w*ee-Pe*K:w*ee+Pe*K;N+=x}c.tspan.setAttributeNS(null,"x",c.xcoords.map(n).join(" ")),B?c.tspan.setAttributeNS(null,"y",c.ycoords.map(n).join(" ")):c.tspan.setAttributeNS(null,"y",n(-c.y)),B?c.y-=N:c.x+=N*le,c.tspan.setAttributeNS(null,"font-family",c.fontFamily),c.tspan.setAttributeNS(null,"font-size",`${n(c.fontSize)}px`),c.fontStyle!==L.fontStyle&&c.tspan.setAttributeNS(null,"font-style",c.fontStyle),c.fontWeight!==L.fontWeight&&c.tspan.setAttributeNS(null,"font-weight",c.fontWeight);const q=c.textRenderingMode&u.TextRenderingMode.FILL_STROKE_MASK;if(q===u.TextRenderingMode.FILL||q===u.TextRenderingMode.FILL_STROKE?(c.fillColor!==L.fillColor&&c.tspan.setAttributeNS(null,"fill",c.fillColor),c.fillAlpha<1&&c.tspan.setAttributeNS(null,"fill-opacity",c.fillAlpha)):c.textRenderingMode===u.TextRenderingMode.ADD_TO_PATH?c.tspan.setAttributeNS(null,"fill","transparent"):c.tspan.setAttributeNS(null,"fill","none"),q===u.TextRenderingMode.STROKE||q===u.TextRenderingMode.FILL_STROKE){const ge=1/(c.textMatrixScale||1);this._setStrokeAttributes(c.tspan,ge)}let G=c.textMatrix;c.textRise!==0&&(G=G.slice(),G[5]+=c.textRise),c.txtElement.setAttributeNS(null,"transform",`${g(G)} scale(${n(le)}, -1)`),c.txtElement.setAttributeNS(I,"xml:space","preserve"),c.txtElement.append(c.tspan),c.txtgrp.append(c.txtElement),this._ensureTransformGroup().append(c.txtElement)}setLeadingMoveText(l,c){this.setLeading(-c),this.moveText(l,c)}addFontStyle(l){if(!l.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const c=a(l.data,l.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${l.loadedName}"; src: url(${c}); }
`}setFont(l){const c=this.current,y=this.commonObjs.get(l[0]);let v=l[1];c.font=y,this.embedFonts&&!y.missingFile&&!this.embeddedFonts[y.loadedName]&&(this.addFontStyle(y),this.embeddedFonts[y.loadedName]=y),c.fontMatrix=y.fontMatrix||u.FONT_IDENTITY_MATRIX;let _="normal";y.black?_="900":y.bold&&(_="bold");const O=y.italic?"italic":"normal";v<0?(v=-v,c.fontDirection=-1):c.fontDirection=1,c.fontSize=v,c.fontFamily=y.loadedName,c.fontWeight=_,c.fontStyle=O,c.tspan=this.svgFactory.createElement("svg:tspan"),c.tspan.setAttributeNS(null,"y",n(-c.y)),c.xcoords=[],c.ycoords=[]}endText(){var c;const l=this.current;l.textRenderingMode&u.TextRenderingMode.ADD_TO_PATH_FLAG&&((c=l.txtElement)!=null&&c.hasChildNodes())&&(l.element=l.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(l){l>0&&(this.current.lineWidth=l)}setLineCap(l){this.current.lineCap=f[l]}setLineJoin(l){this.current.lineJoin=s[l]}setMiterLimit(l){this.current.miterLimit=l}setStrokeAlpha(l){this.current.strokeAlpha=l}setStrokeRGBColor(l,c,y){this.current.strokeColor=u.Util.makeHexColor(l,c,y)}setFillAlpha(l){this.current.fillAlpha=l}setFillRGBColor(l,c,y){this.current.fillColor=u.Util.makeHexColor(l,c,y),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(l){this.current.strokeColor=this._makeColorN_Pattern(l)}setFillColorN(l){this.current.fillColor=this._makeColorN_Pattern(l)}shadingFill(l){const{width:c,height:y}=this.viewport,v=u.Util.inverseTransform(this.transformMatrix),[_,O,F,K]=u.Util.getAxialAlignedBoundingBox([0,0,c,y],v),le=this.svgFactory.createElement("svg:rect");le.setAttributeNS(null,"x",_),le.setAttributeNS(null,"y",O),le.setAttributeNS(null,"width",F-_),le.setAttributeNS(null,"height",K-O),le.setAttributeNS(null,"fill",this._makeShadingPattern(l)),this.current.fillAlpha<1&&le.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(le)}_makeColorN_Pattern(l){return l[0]==="TilingPattern"?this._makeTilingPattern(l):this._makeShadingPattern(l)}_makeTilingPattern(l){const c=l[1],y=l[2],v=l[3]||u.IDENTITY_MATRIX,[_,O,F,K]=l[4],le=l[5],B=l[6],Y=l[7],se=`shading${T++}`,[ee,N,q,G]=u.Util.normalizeRect([...u.Util.applyTransform([_,O],v),...u.Util.applyTransform([F,K],v)]),[ge,Pe]=u.Util.singularValueDecompose2dScale(v),W=le*ge,M=B*Pe,d=this.svgFactory.createElement("svg:pattern");d.setAttributeNS(null,"id",se),d.setAttributeNS(null,"patternUnits","userSpaceOnUse"),d.setAttributeNS(null,"width",W),d.setAttributeNS(null,"height",M),d.setAttributeNS(null,"x",`${ee}`),d.setAttributeNS(null,"y",`${N}`);const w=this.svg,x=this.transformMatrix,D=this.current.fillColor,$=this.current.strokeColor,ie=this.svgFactory.create(q-ee,G-N);if(this.svg=ie,this.transformMatrix=v,Y===2){const he=u.Util.makeHexColor(...c);this.current.fillColor=he,this.current.strokeColor=he}return this.executeOpTree(this.convertOpList(y)),this.svg=w,this.transformMatrix=x,this.current.fillColor=D,this.current.strokeColor=$,d.append(ie.childNodes[0]),this.defs.append(d),`url(#${se})`}_makeShadingPattern(l){switch(typeof l=="string"&&(l=this.objs.get(l)),l[0]){case"RadialAxial":const c=`shading${T++}`,y=l[3];let v;switch(l[1]){case"axial":const _=l[4],O=l[5];v=this.svgFactory.createElement("svg:linearGradient"),v.setAttributeNS(null,"id",c),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"x1",_[0]),v.setAttributeNS(null,"y1",_[1]),v.setAttributeNS(null,"x2",O[0]),v.setAttributeNS(null,"y2",O[1]);break;case"radial":const F=l[4],K=l[5],le=l[6],B=l[7];v=this.svgFactory.createElement("svg:radialGradient"),v.setAttributeNS(null,"id",c),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"cx",K[0]),v.setAttributeNS(null,"cy",K[1]),v.setAttributeNS(null,"r",B),v.setAttributeNS(null,"fx",F[0]),v.setAttributeNS(null,"fy",F[1]),v.setAttributeNS(null,"fr",le);break;default:throw new Error(`Unknown RadialAxial type: ${l[1]}`)}for(const _ of y){const O=this.svgFactory.createElement("svg:stop");O.setAttributeNS(null,"offset",_[0]),O.setAttributeNS(null,"stop-color",_[1]),v.append(O)}return this.defs.append(v),`url(#${c})`;case"Mesh":return(0,u.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${l[0]}`)}}setDash(l,c){this.current.dashArray=l,this.current.dashPhase=c}constructPath(l,c){const y=this.current;let v=y.x,_=y.y,O=[],F=0;for(const K of l)switch(K|0){case u.OPS.rectangle:v=c[F++],_=c[F++];const le=c[F++],B=c[F++],Y=v+le,se=_+B;O.push("M",n(v),n(_),"L",n(Y),n(_),"L",n(Y),n(se),"L",n(v),n(se),"Z");break;case u.OPS.moveTo:v=c[F++],_=c[F++],O.push("M",n(v),n(_));break;case u.OPS.lineTo:v=c[F++],_=c[F++],O.push("L",n(v),n(_));break;case u.OPS.curveTo:v=c[F+4],_=c[F+5],O.push("C",n(c[F]),n(c[F+1]),n(c[F+2]),n(c[F+3]),n(v),n(_)),F+=6;break;case u.OPS.curveTo2:O.push("C",n(v),n(_),n(c[F]),n(c[F+1]),n(c[F+2]),n(c[F+3])),v=c[F+2],_=c[F+3],F+=4;break;case u.OPS.curveTo3:v=c[F+2],_=c[F+3],O.push("C",n(c[F]),n(c[F+1]),n(v),n(_),n(v),n(_)),F+=4;break;case u.OPS.closePath:O.push("Z");break}O=O.join(" "),y.path&&l.length>0&&l[0]!==u.OPS.rectangle&&l[0]!==u.OPS.moveTo?O=y.path.getAttributeNS(null,"d")+O:(y.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(y.path)),y.path.setAttributeNS(null,"d",O),y.path.setAttributeNS(null,"fill","none"),y.element=y.path,y.setCurrentPoint(v,_)}endPath(){const l=this.current;if(l.path=null,!this.pendingClip)return;if(!l.element){this.pendingClip=null;return}const c=`clippath${m++}`,y=this.svgFactory.createElement("svg:clipPath");y.setAttributeNS(null,"id",c),y.setAttributeNS(null,"transform",g(this.transformMatrix));const v=l.element.cloneNode(!0);if(this.pendingClip==="evenodd"?v.setAttributeNS(null,"clip-rule","evenodd"):v.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,y.append(v),this.defs.append(y),l.activeClipUrl){l.clipGroup=null;for(const _ of this.extraStack)_.clipGroup=null;y.setAttributeNS(null,"clip-path",l.activeClipUrl)}l.activeClipUrl=`url(#${c})`,this.tgrp=null}clip(l){this.pendingClip=l}closePath(){const l=this.current;if(l.path){const c=`${l.path.getAttributeNS(null,"d")}Z`;l.path.setAttributeNS(null,"d",c)}}setLeading(l){this.current.leading=-l}setTextRise(l){this.current.textRise=l}setTextRenderingMode(l){this.current.textRenderingMode=l}setHScale(l){this.current.textHScale=l/100}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(const[c,y]of l)switch(c){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y);break;case"CA":this.setStrokeAlpha(y);break;case"ca":this.setFillAlpha(y);break;default:(0,u.warn)(`Unimplemented graphic state operator ${c}`);break}}fill(){const l=this.current;l.element&&(l.element.setAttributeNS(null,"fill",l.fillColor),l.element.setAttributeNS(null,"fill-opacity",l.fillAlpha),this.endPath())}stroke(){const l=this.current;l.element&&(this._setStrokeAttributes(l.element),l.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(l,c=1){const y=this.current;let v=y.dashArray;c!==1&&v.length>0&&(v=v.map(function(_){return c*_})),l.setAttributeNS(null,"stroke",y.strokeColor),l.setAttributeNS(null,"stroke-opacity",y.strokeAlpha),l.setAttributeNS(null,"stroke-miterlimit",n(y.miterLimit)),l.setAttributeNS(null,"stroke-linecap",y.lineCap),l.setAttributeNS(null,"stroke-linejoin",y.lineJoin),l.setAttributeNS(null,"stroke-width",n(c*y.lineWidth)+"px"),l.setAttributeNS(null,"stroke-dasharray",v.map(n).join(" ")),l.setAttributeNS(null,"stroke-dashoffset",n(c*y.dashPhase)+"px")}eoFill(){var l;(l=this.current.element)==null||l.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var l;(l=this.current.element)==null||l.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width","1px"),l.setAttributeNS(null,"height","1px"),l.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(l)}paintImageXObject(l){const c=this.getObject(l);if(!c){(0,u.warn)(`Dependent image with object ID ${l} is not ready yet`);return}this.paintInlineImageXObject(c)}paintInlineImageXObject(l,c){const y=l.width,v=l.height,_=P(l,this.forceDataSchema,!!c),O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y","0"),O.setAttributeNS(null,"width",n(y)),O.setAttributeNS(null,"height",n(v)),this.current.element=O,this.clip("nonzero");const F=this.svgFactory.createElement("svg:image");F.setAttributeNS(b,"xlink:href",_),F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y",n(-v)),F.setAttributeNS(null,"width",n(y)+"px"),F.setAttributeNS(null,"height",n(v)+"px"),F.setAttributeNS(null,"transform",`scale(${n(1/y)} ${n(-1/v)})`),c?c.append(F):this._ensureTransformGroup().append(F)}paintImageMaskXObject(l){const c=this.getObject(l.data,l);if(c.bitmap){(0,u.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const y=this.current,v=c.width,_=c.height,O=y.fillColor;y.maskId=`mask${A++}`;const F=this.svgFactory.createElement("svg:mask");F.setAttributeNS(null,"id",y.maskId);const K=this.svgFactory.createElement("svg:rect");K.setAttributeNS(null,"x","0"),K.setAttributeNS(null,"y","0"),K.setAttributeNS(null,"width",n(v)),K.setAttributeNS(null,"height",n(_)),K.setAttributeNS(null,"fill",O),K.setAttributeNS(null,"mask",`url(#${y.maskId})`),this.defs.append(F),this._ensureTransformGroup().append(K),this.paintInlineImageXObject(c,F)}paintFormXObjectBegin(l,c){if(Array.isArray(l)&&l.length===6&&this.transform(l[0],l[1],l[2],l[3],l[4],l[5]),c){const y=c[2]-c[0],v=c[3]-c[1],_=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x",c[0]),_.setAttributeNS(null,"y",c[1]),_.setAttributeNS(null,"width",n(y)),_.setAttributeNS(null,"height",n(v)),this.current.element=_,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(l){const c=this.svgFactory.create(l.width,l.height),y=this.svgFactory.createElement("svg:defs");c.append(y),this.defs=y;const v=this.svgFactory.createElement("svg:g");return v.setAttributeNS(null,"transform",g(l.transform)),c.append(v),this.svg=v,c}_ensureClipGroup(){if(!this.current.clipGroup){const l=this.svgFactory.createElement("svg:g");l.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(l),this.current.clipGroup=l}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",g(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}t.SVGGraphics=E},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class o{static textContent(u){const L=[],I={items:L,styles:Object.create(null)};function b(f){var P;if(!f)return;let s=null;const a=f.name;if(a==="#text")s=f.value;else if(o.shouldBuildText(a))(P=f==null?void 0:f.attributes)!=null&&P.textContent?s=f.attributes.textContent:f.value&&(s=f.value);else return;if(s!==null&&L.push({str:s}),!!f.children)for(const S of f.children)b(S)}return b(u),I}static shouldBuildText(u){return!(u==="textarea"||u==="input"||u==="option"||u==="select")}}t.XfaText=o},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=g,t.updateTextLayer=m;var i=o(1),u=o(6);const L=1e5,I=30,b=.8,f=new Map;function s(A,T){let E;if(T&&i.FeatureTest.isOffscreenCanvasSupported)E=new OffscreenCanvas(A,A).getContext("2d",{alpha:!1});else{const C=document.createElement("canvas");C.width=C.height=A,E=C.getContext("2d",{alpha:!1})}return E}function a(A,T){const E=f.get(A);if(E)return E;const C=s(I,T);C.font=`${I}px ${A}`;const l=C.measureText("");let c=l.fontBoundingBoxAscent,y=Math.abs(l.fontBoundingBoxDescent);if(c){const _=c/(c+y);return f.set(A,_),C.canvas.width=C.canvas.height=0,_}C.strokeStyle="red",C.clearRect(0,0,I,I),C.strokeText("g",0,0);let v=C.getImageData(0,0,I,I).data;y=0;for(let _=v.length-1-3;_>=0;_-=4)if(v[_]>0){y=Math.ceil(_/4/I);break}C.clearRect(0,0,I,I),C.strokeText("A",0,I),v=C.getImageData(0,0,I,I).data,c=0;for(let _=0,O=v.length;_<O;_+=4)if(v[_]>0){c=I-Math.floor(_/4/I);break}if(C.canvas.width=C.canvas.height=0,c){const _=c/(c+y);return f.set(A,_),_}return f.set(A,b),b}function P(A,T,E){const C=document.createElement("span"),l={angle:0,canvasWidth:0,hasText:T.str!=="",hasEOL:T.hasEOL,fontSize:0};A._textDivs.push(C);const c=i.Util.transform(A._transform,T.transform);let y=Math.atan2(c[1],c[0]);const v=E[T.fontName];v.vertical&&(y+=Math.PI/2);const _=Math.hypot(c[2],c[3]),O=_*a(v.fontFamily,A._isOffscreenCanvasSupported);let F,K;y===0?(F=c[4],K=c[5]-O):(F=c[4]+O*Math.sin(y),K=c[5]-O*Math.cos(y));const le="calc(var(--scale-factor)*",B=C.style;A._container===A._rootContainer?(B.left=`${(100*F/A._pageWidth).toFixed(2)}%`,B.top=`${(100*K/A._pageHeight).toFixed(2)}%`):(B.left=`${le}${F.toFixed(2)}px)`,B.top=`${le}${K.toFixed(2)}px)`),B.fontSize=`${le}${_.toFixed(2)}px)`,B.fontFamily=v.fontFamily,l.fontSize=_,C.setAttribute("role","presentation"),C.textContent=T.str,C.dir=T.dir,A._fontInspectorEnabled&&(C.dataset.fontName=T.fontName),y!==0&&(l.angle=y*(180/Math.PI));let Y=!1;if(T.str.length>1)Y=!0;else if(T.str!==" "&&T.transform[0]!==T.transform[3]){const se=Math.abs(T.transform[0]),ee=Math.abs(T.transform[3]);se!==ee&&Math.max(se,ee)/Math.min(se,ee)>1.5&&(Y=!0)}Y&&(l.canvasWidth=v.vertical?T.height:T.width),A._textDivProperties.set(C,l),A._isReadableStream&&A._layoutText(C)}function S(A){const{div:T,scale:E,properties:C,ctx:l,prevFontSize:c,prevFontFamily:y}=A,{style:v}=T;let _="";if(C.canvasWidth!==0&&C.hasText){const{fontFamily:O}=v,{canvasWidth:F,fontSize:K}=C;(c!==K||y!==O)&&(l.font=`${K*E}px ${O}`,A.prevFontSize=K,A.prevFontFamily=O);const{width:le}=l.measureText(T.textContent);le>0&&(_=`scaleX(${F*E/le})`)}C.angle!==0&&(_=`rotate(${C.angle}deg) ${_}`),_.length>0&&(v.transform=_)}function R(A){if(A._canceled)return;const T=A._textDivs,E=A._capability;if(T.length>L){E.resolve();return}if(!A._isReadableStream)for(const l of T)A._layoutText(l);E.resolve()}class n{constructor({textContentSource:T,container:E,viewport:C,textDivs:l,textDivProperties:c,textContentItemsStr:y,isOffscreenCanvasSupported:v}){var le;this._textContentSource=T,this._isReadableStream=T instanceof ReadableStream,this._container=this._rootContainer=E,this._textDivs=l||[],this._textContentItemsStr=y||[],this._isOffscreenCanvasSupported=v,this._fontInspectorEnabled=!!((le=globalThis.FontInspector)!=null&&le.enabled),this._reader=null,this._textDivProperties=c||new WeakMap,this._canceled=!1,this._capability=new i.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:C.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:s(0,v)};const{pageWidth:_,pageHeight:O,pageX:F,pageY:K}=C.rawDims;this._transform=[1,0,0,-1,-F,K+O],this._pageWidth=_,this._pageHeight=O,(0,u.setLayerDimensions)(E,C),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(T,E){for(const C of T){if(C.str===void 0){if(C.type==="beginMarkedContentProps"||C.type==="beginMarkedContent"){const l=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),C.id!==null&&this._container.setAttribute("id",`${C.id}`),l.append(this._container)}else C.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(C.str),P(this,C,E)}}_layoutText(T){const E=this._layoutTextParams.properties=this._textDivProperties.get(T);if(this._layoutTextParams.div=T,S(this._layoutTextParams),E.hasText&&this._container.append(T),E.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),this._container.append(C)}}_render(){const T=new i.PromiseCapability;let E=Object.create(null);if(this._isReadableStream){const C=()=>{this._reader.read().then(({value:l,done:c})=>{if(c){T.resolve();return}Object.assign(E,l.styles),this._processItems(l.items,E),C()},T.reject)};this._reader=this._textContentSource.getReader(),C()}else if(this._textContentSource){const{items:C,styles:l}=this._textContentSource;this._processItems(C,l),T.resolve()}else throw new Error('No "textContentSource" parameter specified.');T.promise.then(()=>{E=null,R(this)},this._capability.reject)}}t.TextLayerRenderTask=n;function g(A){!A.textContentSource&&(A.textContent||A.textContentStream)&&((0,u.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),A.textContentSource=A.textContent||A.textContentStream);const{container:T,viewport:E}=A,C=getComputedStyle(T),l=C.getPropertyValue("visibility"),c=parseFloat(C.getPropertyValue("--scale-factor"));l==="visible"&&(!c||Math.abs(c-E.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const y=new n(A);return y._render(),y}function m({container:A,viewport:T,textDivs:E,textDivProperties:C,isOffscreenCanvasSupported:l,mustRotate:c=!0,mustRescale:y=!0}){if(c&&(0,u.setLayerDimensions)(A,{rotation:T.rotation}),y){const v=s(0,l),O={prevFontSize:null,prevFontFamily:null,div:null,scale:T.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:v};for(const F of E)O.properties=C.get(F),O.div=F,S(O)}}},(e,t,o)=>{var a,P,S,R,n,g,m,A,T,E,C,ui,c,Dt,v,fi,O,pi;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var i=o(1),u=o(4),L=o(28),I=o(33),b=o(6),f=o(34);const K=class K{constructor({uiManager:B,pageIndex:Y,div:se,accessibilityManager:ee,annotationLayer:N,viewport:q,l10n:G}){V(this,C);V(this,c);V(this,v);V(this,O);V(this,a,void 0);V(this,P,!1);V(this,S,null);V(this,R,this.pointerup.bind(this));V(this,n,this.pointerdown.bind(this));V(this,g,new Map);V(this,m,!1);V(this,A,!1);V(this,T,!1);V(this,E,void 0);const ge=[L.FreeTextEditor,I.InkEditor,f.StampEditor];if(!K._initialized){K._initialized=!0;for(const Pe of ge)Pe.initialize(G)}B.registerEditorTypes(ge),pe(this,E,B),this.pageIndex=Y,this.div=se,pe(this,a,ee),pe(this,S,N),this.viewport=q,r(this,E).addLayer(this)}get isEmpty(){return r(this,g).size===0}updateToolbar(B){r(this,E).updateToolbar(B)}updateMode(B=r(this,E).getMode()){X(this,O,pi).call(this),B===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),B!==i.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",B===i.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",B===i.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",B===i.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(B){if(!B&&r(this,E).getMode()!==i.AnnotationEditorType.INK)return;if(!B){for(const se of r(this,g).values())if(se.isEmpty()){se.setInBackground();return}}X(this,c,Dt).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(B){r(this,E).setEditingState(B)}addCommands(B){r(this,E).addCommands(B)}enable(){this.div.style.pointerEvents="auto";const B=new Set;for(const se of r(this,g).values())se.enableEditing(),se.annotationElementId&&B.add(se.annotationElementId);if(!r(this,S))return;const Y=r(this,S).getEditableAnnotations();for(const se of Y){if(se.hide(),r(this,E).isDeletedAnnotationElement(se.data.id)||B.has(se.data.id))continue;const ee=this.deserialize(se);ee&&(this.addOrRebuild(ee),ee.enableEditing())}}disable(){var Y;pe(this,T,!0),this.div.style.pointerEvents="none";const B=new Set;for(const se of r(this,g).values()){if(se.disableEditing(),!se.annotationElementId||se.serialize()!==null){B.add(se.annotationElementId);continue}(Y=this.getEditableAnnotation(se.annotationElementId))==null||Y.show(),se.remove()}if(r(this,S)){const se=r(this,S).getEditableAnnotations();for(const ee of se){const{id:N}=ee.data;B.has(N)||r(this,E).isDeletedAnnotationElement(N)||ee.show()}}X(this,O,pi).call(this),this.isEmpty&&(this.div.hidden=!0),pe(this,T,!1)}getEditableAnnotation(B){var Y;return((Y=r(this,S))==null?void 0:Y.getEditableAnnotation(B))||null}setActiveEditor(B){r(this,E).getActive()!==B&&r(this,E).setActiveEditor(B)}enableClick(){this.div.addEventListener("pointerdown",r(this,n)),this.div.addEventListener("pointerup",r(this,R))}disableClick(){this.div.removeEventListener("pointerdown",r(this,n)),this.div.removeEventListener("pointerup",r(this,R))}attach(B){r(this,g).set(B.id,B);const{annotationElementId:Y}=B;Y&&r(this,E).isDeletedAnnotationElement(Y)&&r(this,E).removeDeletedAnnotationElement(B)}detach(B){var Y;r(this,g).delete(B.id),(Y=r(this,a))==null||Y.removePointerInTextLayer(B.contentDiv),!r(this,T)&&B.annotationElementId&&r(this,E).addDeletedAnnotationElement(B)}remove(B){this.detach(B),r(this,E).removeEditor(B),B.div.contains(document.activeElement)&&setTimeout(()=>{r(this,E).focusMainContainer()},0),B.div.remove(),B.isAttachedToDOM=!1,r(this,A)||this.addInkEditorIfNeeded(!1)}changeParent(B){var Y;B.parent!==this&&(B.annotationElementId&&(r(this,E).addDeletedAnnotationElement(B.annotationElementId),u.AnnotationEditor.deleteAnnotationElement(B),B.annotationElementId=null),this.attach(B),(Y=B.parent)==null||Y.detach(B),B.setParent(this),B.div&&B.isAttachedToDOM&&(B.div.remove(),this.div.append(B.div)))}add(B){if(this.changeParent(B),r(this,E).addEditor(B),this.attach(B),!B.isAttachedToDOM){const Y=B.render();this.div.append(Y),B.isAttachedToDOM=!0}this.moveEditorInDOM(B),B.onceAdded(),r(this,E).addToAnnotationStorage(B)}moveEditorInDOM(B){var se;if(!B.isAttachedToDOM)return;const{activeElement:Y}=document;B.div.contains(Y)&&(B._focusEventsAllowed=!1,setTimeout(()=>{B.div.addEventListener("focusin",()=>{B._focusEventsAllowed=!0},{once:!0}),Y.focus()},0)),(se=r(this,a))==null||se.moveElementInDOM(this.div,B.div,B.contentDiv,!0)}addOrRebuild(B){B.needsToBeRebuilt()?B.rebuild():this.add(B)}addUndoableEditor(B){const Y=()=>B._uiManager.rebuild(B),se=()=>{B.remove()};this.addCommands({cmd:Y,undo:se,mustExec:!1})}getNextId(){return r(this,E).getId()}pasteEditor(B,Y){r(this,E).updateToolbar(B),r(this,E).updateMode(B);const{offsetX:se,offsetY:ee}=X(this,v,fi).call(this),N=this.getNextId(),q=X(this,C,ui).call(this,{parent:this,id:N,x:se,y:ee,uiManager:r(this,E),isCentered:!0,...Y});q&&this.add(q)}deserialize(B){switch(B.annotationType??B.annotationEditorType){case i.AnnotationEditorType.FREETEXT:return L.FreeTextEditor.deserialize(B,this,r(this,E));case i.AnnotationEditorType.INK:return I.InkEditor.deserialize(B,this,r(this,E));case i.AnnotationEditorType.STAMP:return f.StampEditor.deserialize(B,this,r(this,E))}return null}addNewEditor(){X(this,c,Dt).call(this,X(this,v,fi).call(this),!0)}setSelected(B){r(this,E).setSelected(B)}toggleSelected(B){r(this,E).toggleSelected(B)}isSelected(B){return r(this,E).isSelected(B)}unselect(B){r(this,E).unselect(B)}pointerup(B){const{isMac:Y}=i.FeatureTest.platform;if(!(B.button!==0||B.ctrlKey&&Y)&&B.target===this.div&&r(this,m)){if(pe(this,m,!1),!r(this,P)){pe(this,P,!0);return}if(r(this,E).getMode()===i.AnnotationEditorType.STAMP){r(this,E).unselectAll();return}X(this,c,Dt).call(this,B,!1)}}pointerdown(B){if(r(this,m)){pe(this,m,!1);return}const{isMac:Y}=i.FeatureTest.platform;if(B.button!==0||B.ctrlKey&&Y||B.target!==this.div)return;pe(this,m,!0);const se=r(this,E).getActive();pe(this,P,!se||se.isEmpty())}findNewParent(B,Y,se){const ee=r(this,E).findParent(Y,se);return ee===null||ee===this?!1:(ee.changeParent(B),!0)}destroy(){var B,Y;((B=r(this,E).getActive())==null?void 0:B.parent)===this&&r(this,E).setActiveEditor(null);for(const se of r(this,g).values())(Y=r(this,a))==null||Y.removePointerInTextLayer(se.contentDiv),se.setParent(null),se.isAttachedToDOM=!1,se.div.remove();this.div=null,r(this,g).clear(),r(this,E).removeLayer(this)}render({viewport:B}){this.viewport=B,(0,b.setLayerDimensions)(this.div,B);for(const Y of r(this,E).getEditors(this.pageIndex))this.add(Y);this.updateMode()}update({viewport:B}){r(this,E).commitOrRemove(),this.viewport=B,(0,b.setLayerDimensions)(this.div,{rotation:B.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:B,pageHeight:Y}=this.viewport.rawDims;return[B,Y]}};a=new WeakMap,P=new WeakMap,S=new WeakMap,R=new WeakMap,n=new WeakMap,g=new WeakMap,m=new WeakMap,A=new WeakMap,T=new WeakMap,E=new WeakMap,C=new WeakSet,ui=function(B){switch(r(this,E).getMode()){case i.AnnotationEditorType.FREETEXT:return new L.FreeTextEditor(B);case i.AnnotationEditorType.INK:return new I.InkEditor(B);case i.AnnotationEditorType.STAMP:return new f.StampEditor(B)}return null},c=new WeakSet,Dt=function(B,Y){const se=this.getNextId(),ee=X(this,C,ui).call(this,{parent:this,id:se,x:B.offsetX,y:B.offsetY,uiManager:r(this,E),isCentered:Y});return ee&&this.add(ee),ee},v=new WeakSet,fi=function(){const{x:B,y:Y,width:se,height:ee}=this.div.getBoundingClientRect(),N=Math.max(0,B),q=Math.max(0,Y),G=Math.min(window.innerWidth,B+se),ge=Math.min(window.innerHeight,Y+ee),Pe=(N+G)/2-B,W=(q+ge)/2-Y,[M,d]=this.viewport.rotation%180===0?[Pe,W]:[W,Pe];return{offsetX:M,offsetY:d}},O=new WeakSet,pi=function(){pe(this,A,!0);for(const B of r(this,g).values())B.isEmpty()&&B.remove();pe(this,A,!1)},Ke(K,"_initialized",!1);let s=K;t.AnnotationEditorLayer=s},(e,t,o)=>{var f,s,a,P,S,R,n,g,m,A,Cn,E,Tn,l,Rn,y,yt,_,gi,F,Mn,le,mi;Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var i=o(1),u=o(5),L=o(4),I=o(29);const Y=class Y extends L.AnnotationEditor{constructor(N){super({...N,name:"freeTextEditor"});V(this,A);V(this,E);V(this,l);V(this,y);V(this,_);V(this,F);V(this,le);V(this,f,this.editorDivBlur.bind(this));V(this,s,this.editorDivFocus.bind(this));V(this,a,this.editorDivInput.bind(this));V(this,P,this.editorDivKeydown.bind(this));V(this,S,void 0);V(this,R,"");V(this,n,`${this.id}-editor`);V(this,g,void 0);V(this,m,null);pe(this,S,N.color||Y._defaultColor||L.AnnotationEditor._defaultLineColor),pe(this,g,N.fontSize||Y._defaultFontSize)}static get _keyboardManager(){const N=Y.prototype,q=Pe=>Pe.isEmpty(),G=u.AnnotationEditorUIManager.TRANSLATE_SMALL,ge=u.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new u.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],N.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],N.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],N._translateEmpty,{args:[-G,0],checker:q}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],N._translateEmpty,{args:[-ge,0],checker:q}],[["ArrowRight","mac+ArrowRight"],N._translateEmpty,{args:[G,0],checker:q}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],N._translateEmpty,{args:[ge,0],checker:q}],[["ArrowUp","mac+ArrowUp"],N._translateEmpty,{args:[0,-G],checker:q}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],N._translateEmpty,{args:[0,-ge],checker:q}],[["ArrowDown","mac+ArrowDown"],N._translateEmpty,{args:[0,G],checker:q}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],N._translateEmpty,{args:[0,ge],checker:q}]]))}static initialize(N){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(G=>[G,N.get(G)]));const q=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(q.getPropertyValue("--freetext-padding"))}static updateDefaultParams(N,q){switch(N){case i.AnnotationEditorParamsType.FREETEXT_SIZE:Y._defaultFontSize=q;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:Y._defaultColor=q;break}}updateParams(N,q){switch(N){case i.AnnotationEditorParamsType.FREETEXT_SIZE:X(this,A,Cn).call(this,q);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:X(this,E,Tn).call(this,q);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,Y._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,Y._defaultColor||L.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,r(this,g)],[i.AnnotationEditorParamsType.FREETEXT_COLOR,r(this,S)]]}_translateEmpty(N,q){this._uiManager.translateSelectedEditors(N,q,!0)}getInitialTranslation(){const N=this.parentScale;return[-Y._internalPadding*N,-(Y._internalPadding+r(this,g))*N]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",r(this,P)),this.editorDiv.addEventListener("focus",r(this,s)),this.editorDiv.addEventListener("blur",r(this,f)),this.editorDiv.addEventListener("input",r(this,a)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",r(this,n)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",r(this,P)),this.editorDiv.removeEventListener("focus",r(this,s)),this.editorDiv.removeEventListener("blur",r(this,f)),this.editorDiv.removeEventListener("input",r(this,a)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(N){this._focusEventsAllowed&&(super.focusin(N),N.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var N;if(this.width){X(this,le,mi).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(N=this._initialOptions)!=null&&N.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const N=r(this,R),q=pe(this,R,X(this,l,Rn).call(this).trimEnd());if(N===q)return;const G=ge=>{if(pe(this,R,ge),!ge){this.remove();return}X(this,_,gi).call(this),this._uiManager.rebuild(this),X(this,y,yt).call(this)};this.addCommands({cmd:()=>{G(q)},undo:()=>{G(N)},mustExec:!1}),X(this,y,yt).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(N){this.enterInEditMode()}keydown(N){N.target===this.div&&N.key==="Enter"&&(this.enterInEditMode(),N.preventDefault())}editorDivKeydown(N){Y._keyboardManager.exec(this,N)}editorDivFocus(N){this.isEditing=!0}editorDivBlur(N){this.isEditing=!1}editorDivInput(N){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let N,q;this.width&&(N=this.x,q=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",r(this,n)),this.enableEditing(),Y._l10nPromise.get("editor_free_text2_aria_label").then(ge=>{var Pe;return(Pe=this.editorDiv)==null?void 0:Pe.setAttribute("aria-label",ge)}),Y._l10nPromise.get("free_text2_default_content").then(ge=>{var Pe;return(Pe=this.editorDiv)==null?void 0:Pe.setAttribute("default-content",ge)}),this.editorDiv.contentEditable=!0;const{style:G}=this.editorDiv;if(G.fontSize=`calc(${r(this,g)}px * var(--scale-factor))`,G.color=r(this,S),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,u.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ge,Pe]=this.parentDimensions;if(this.annotationElementId){const{position:W}=r(this,m);let[M,d]=this.getInitialTranslation();[M,d]=this.pageTranslationToScreen(M,d);const[w,x]=this.pageDimensions,[D,$]=this.pageTranslation;let ie,he;switch(this.rotation){case 0:ie=N+(W[0]-D)/w,he=q+this.height-(W[1]-$)/x;break;case 90:ie=N+(W[0]-D)/w,he=q-(W[1]-$)/x,[M,d]=[d,-M];break;case 180:ie=N-this.width+(W[0]-D)/w,he=q-(W[1]-$)/x,[M,d]=[-M,-d];break;case 270:ie=N+(W[0]-D-this.height*x)/w,he=q+(W[1]-$-this.width*w)/x,[M,d]=[-d,M];break}this.setAt(ie*ge,he*Pe,M,d)}else this.setAt(N*ge,q*Pe,this.width*ge,this.height*Pe);X(this,_,gi).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(N,q,G){let ge=null;if(N instanceof I.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:W,fontColor:M},rect:d,rotation:w,id:x},textContent:D,textPosition:$,parent:{page:{pageNumber:ie}}}=N;if(!D||D.length===0)return null;ge=N={annotationType:i.AnnotationEditorType.FREETEXT,color:Array.from(M),fontSize:W,value:D.join(`
`),position:$,pageIndex:ie-1,rect:d,rotation:w,id:x,deleted:!1}}const Pe=super.deserialize(N,q,G);return pe(Pe,g,N.fontSize),pe(Pe,S,i.Util.makeHexColor(...N.color)),pe(Pe,R,N.value),Pe.annotationElementId=N.id||null,pe(Pe,m,ge),Pe}serialize(N=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const q=Y._internalPadding*this.parentScale,G=this.getRect(q,q),ge=L.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:r(this,S)),Pe={annotationType:i.AnnotationEditorType.FREETEXT,color:ge,fontSize:r(this,g),value:r(this,R),pageIndex:this.pageIndex,rect:G,rotation:this.rotation};return N?Pe:this.annotationElementId&&!X(this,F,Mn).call(this,Pe)?null:(Pe.id=this.annotationElementId,Pe)}};f=new WeakMap,s=new WeakMap,a=new WeakMap,P=new WeakMap,S=new WeakMap,R=new WeakMap,n=new WeakMap,g=new WeakMap,m=new WeakMap,A=new WeakSet,Cn=function(N){const q=ge=>{this.editorDiv.style.fontSize=`calc(${ge}px * var(--scale-factor))`,this.translate(0,-(ge-r(this,g))*this.parentScale),pe(this,g,ge),X(this,y,yt).call(this)},G=r(this,g);this.addCommands({cmd:()=>{q(N)},undo:()=>{q(G)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},E=new WeakSet,Tn=function(N){const q=r(this,S);this.addCommands({cmd:()=>{pe(this,S,this.editorDiv.style.color=N)},undo:()=>{pe(this,S,this.editorDiv.style.color=q)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},l=new WeakSet,Rn=function(){const N=this.editorDiv.getElementsByTagName("div");if(N.length===0)return this.editorDiv.innerText;const q=[];for(const G of N)q.push(G.innerText.replace(/\r\n?|\n/,""));return q.join(`
`)},y=new WeakSet,yt=function(){const[N,q]=this.parentDimensions;let G;if(this.isAttachedToDOM)G=this.div.getBoundingClientRect();else{const{currentLayer:ge,div:Pe}=this,W=Pe.style.display;Pe.style.display="hidden",ge.div.append(this.div),G=Pe.getBoundingClientRect(),Pe.remove(),Pe.style.display=W}this.rotation%180===this.parentRotation%180?(this.width=G.width/N,this.height=G.height/q):(this.width=G.height/N,this.height=G.width/q),this.fixAndSetPosition()},_=new WeakSet,gi=function(){if(this.editorDiv.replaceChildren(),!!r(this,R))for(const N of r(this,R).split(`
`)){const q=document.createElement("div");q.append(N?document.createTextNode(N):document.createElement("br")),this.editorDiv.append(q)}},F=new WeakSet,Mn=function(N){const{value:q,fontSize:G,color:ge,rect:Pe,pageIndex:W}=r(this,m);return N.value!==q||N.fontSize!==G||N.rect.some((M,d)=>Math.abs(M-Pe[d])>=1)||N.color.some((M,d)=>M!==ge[d])||N.pageIndex!==W},le=new WeakSet,mi=function(N=!1){if(!this.annotationElementId)return;if(X(this,y,yt).call(this),!N&&(this.width===0||this.height===0)){setTimeout(()=>X(this,le,mi).call(this,!0),0);return}const q=Y._internalPadding*this.parentScale;r(this,m).rect=this.getRect(q,q)},Ke(Y,"_freeTextDefaultContent",""),Ke(Y,"_l10nPromise"),Ke(Y,"_internalPadding",0),Ke(Y,"_defaultColor",null),Ke(Y,"_defaultFontSize",10),Ke(Y,"_type","freetext");let b=Y;t.FreeTextEditor=b},(e,t,o)=>{var d,w,ot,D,xn,ie,he,U,z,j,te,fe,de,Ee,Te,ve,Re,ce,ne,ue,me,ke,bi,je,_i,Ue,vi,Xe,Ge,De,k,Q,Ae,be,ye,we,xe,Ln,Ce,wi;Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var i=o(1),u=o(6),L=o(3),I=o(30),b=o(31),f=o(32);const s=1e3,a=9,P=new WeakSet;function S(Le){return{width:Le[2]-Le[0],height:Le[3]-Le[1]}}class R{static create(Z){switch(Z.data.annotationType){case i.AnnotationType.LINK:return new g(Z);case i.AnnotationType.TEXT:return new m(Z);case i.AnnotationType.WIDGET:switch(Z.data.fieldType){case"Tx":return new T(Z);case"Btn":return Z.data.radioButton?new l(Z):Z.data.checkBox?new C(Z):new c(Z);case"Ch":return new y(Z);case"Sig":return new E(Z)}return new A(Z);case i.AnnotationType.POPUP:return new v(Z);case i.AnnotationType.FREETEXT:return new O(Z);case i.AnnotationType.LINE:return new F(Z);case i.AnnotationType.SQUARE:return new K(Z);case i.AnnotationType.CIRCLE:return new le(Z);case i.AnnotationType.POLYLINE:return new B(Z);case i.AnnotationType.CARET:return new se(Z);case i.AnnotationType.INK:return new ee(Z);case i.AnnotationType.POLYGON:return new Y(Z);case i.AnnotationType.HIGHLIGHT:return new N(Z);case i.AnnotationType.UNDERLINE:return new q(Z);case i.AnnotationType.SQUIGGLY:return new G(Z);case i.AnnotationType.STRIKEOUT:return new ge(Z);case i.AnnotationType.STAMP:return new Pe(Z);case i.AnnotationType.FILEATTACHMENT:return new W(Z);default:return new n(Z)}}}class n{constructor(Z,{isRenderable:H=!1,ignoreBorder:re=!1,createQuadrilaterals:oe=!1}={}){V(this,d,!1);this.isRenderable=H,this.data=Z.data,this.layer=Z.layer,this.linkService=Z.linkService,this.downloadManager=Z.downloadManager,this.imageResourcesPath=Z.imageResourcesPath,this.renderForms=Z.renderForms,this.svgFactory=Z.svgFactory,this.annotationStorage=Z.annotationStorage,this.enableScripting=Z.enableScripting,this.hasJSActions=Z.hasJSActions,this._fieldObjects=Z.fieldObjects,this.parent=Z.parent,H&&(this.container=this._createContainer(re)),oe&&this._createQuadrilaterals()}_createContainer(Z){const{data:H,parent:{page:re,viewport:oe}}=this,_e=document.createElement("section");_e.setAttribute("data-annotation-id",H.id),_e.style.zIndex=this.parent.zIndex++,this.data.popupRef&&_e.setAttribute("aria-haspopup","dialog"),H.noRotate&&_e.classList.add("norotate");const{pageWidth:Me,pageHeight:Be,pageX:ae,pageY:Se}=oe.rawDims;if(!H.rect||this instanceof v){const{rotation:$e}=H;return!H.hasOwnCanvas&&$e!==0&&this.setRotation($e,_e),_e}const{width:Ie,height:Ve}=S(H.rect),Ne=i.Util.normalizeRect([H.rect[0],re.view[3]-H.rect[1]+re.view[1],H.rect[2],re.view[3]-H.rect[3]+re.view[1]]);if(!Z&&H.borderStyle.width>0){_e.style.borderWidth=`${H.borderStyle.width}px`;const $e=H.borderStyle.horizontalCornerRadius,qe=H.borderStyle.verticalCornerRadius;if($e>0||qe>0){const Ze=`calc(${$e}px * var(--scale-factor)) / calc(${qe}px * var(--scale-factor))`;_e.style.borderRadius=Ze}else if(this instanceof l){const Ze=`calc(${Ie}px * var(--scale-factor)) / calc(${Ve}px * var(--scale-factor))`;_e.style.borderRadius=Ze}switch(H.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:_e.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:_e.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:_e.style.borderBottomStyle="solid";break}const Ye=H.borderColor||null;Ye?(pe(this,d,!0),_e.style.borderColor=i.Util.makeHexColor(Ye[0]|0,Ye[1]|0,Ye[2]|0)):_e.style.borderWidth=0}_e.style.left=`${100*(Ne[0]-ae)/Me}%`,_e.style.top=`${100*(Ne[1]-Se)/Be}%`;const{rotation:He}=H;return H.hasOwnCanvas||He===0?(_e.style.width=`${100*Ie/Me}%`,_e.style.height=`${100*Ve/Be}%`):this.setRotation(He,_e),_e}setRotation(Z,H=this.container){if(!this.data.rect)return;const{pageWidth:re,pageHeight:oe}=this.parent.viewport.rawDims,{width:_e,height:Me}=S(this.data.rect);let Be,ae;Z%180===0?(Be=100*_e/re,ae=100*Me/oe):(Be=100*Me/re,ae=100*_e/oe),H.style.width=`${Be}%`,H.style.height=`${ae}%`,H.setAttribute("data-main-rotation",(360-Z)%360)}get _commonActions(){const Z=(H,re,oe)=>{const _e=oe.detail[H],Me=_e[0],Be=_e.slice(1);oe.target.style[re]=I.ColorConverters[`${Me}_HTML`](Be),this.annotationStorage.setValue(this.data.id,{[re]:I.ColorConverters[`${Me}_rgb`](Be)})};return(0,i.shadow)(this,"_commonActions",{display:H=>{const{display:re}=H.detail,oe=re%2===1;this.container.style.visibility=oe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:oe,noPrint:re===1||re===2})},print:H=>{this.annotationStorage.setValue(this.data.id,{noPrint:!H.detail.print})},hidden:H=>{const{hidden:re}=H.detail;this.container.style.visibility=re?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:re,noView:re})},focus:H=>{setTimeout(()=>H.target.focus({preventScroll:!1}),0)},userName:H=>{H.target.title=H.detail.userName},readonly:H=>{H.target.disabled=H.detail.readonly},required:H=>{this._setRequired(H.target,H.detail.required)},bgColor:H=>{Z("bgColor","backgroundColor",H)},fillColor:H=>{Z("fillColor","backgroundColor",H)},fgColor:H=>{Z("fgColor","color",H)},textColor:H=>{Z("textColor","color",H)},borderColor:H=>{Z("borderColor","borderColor",H)},strokeColor:H=>{Z("strokeColor","borderColor",H)},rotation:H=>{const re=H.detail.rotation;this.setRotation(re),this.annotationStorage.setValue(this.data.id,{rotation:re})}})}_dispatchEventFromSandbox(Z,H){const re=this._commonActions;for(const oe of Object.keys(H.detail)){const _e=Z[oe]||re[oe];_e==null||_e(H)}}_setDefaultPropertiesFromJS(Z){if(!this.enableScripting)return;const H=this.annotationStorage.getRawValue(this.data.id);if(!H)return;const re=this._commonActions;for(const[oe,_e]of Object.entries(H)){const Me=re[oe];if(Me){const Be={detail:{[oe]:_e},target:Z};Me(Be),delete H[oe]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Z}=this.data;if(!Z)return;const[H,re,oe,_e]=this.data.rect;if(Z.length===1){const[,{x:qe,y:Ye},{x:Ze,y:et}]=Z[0];if(oe===qe&&_e===Ye&&H===Ze&&re===et)return}const{style:Me}=this.container;let Be;if(r(this,d)){const{borderColor:qe,borderWidth:Ye}=Me;Me.borderWidth=0,Be=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${qe}" stroke-width="${Ye}">`],this.container.classList.add("hasBorder")}const ae=oe-H,Se=_e-re,{svgFactory:Ie}=this,Ve=Ie.createElement("svg");Ve.classList.add("quadrilateralsContainer"),Ve.setAttribute("width",0),Ve.setAttribute("height",0);const Ne=Ie.createElement("defs");Ve.append(Ne);const He=Ie.createElement("clipPath"),$e=`clippath_${this.data.id}`;He.setAttribute("id",$e),He.setAttribute("clipPathUnits","objectBoundingBox"),Ne.append(He);for(const[,{x:qe,y:Ye},{x:Ze,y:et}]of Z){const Je=Ie.createElement("rect"),Qe=(Ze-H)/ae,it=(_e-Ye)/Se,tt=(qe-Ze)/ae,nt=(Ye-et)/Se;Je.setAttribute("x",Qe),Je.setAttribute("y",it),Je.setAttribute("width",tt),Je.setAttribute("height",nt),He.append(Je),Be==null||Be.push(`<rect vector-effect="non-scaling-stroke" x="${Qe}" y="${it}" width="${tt}" height="${nt}"/>`)}r(this,d)&&(Be.push("</g></svg>')"),Me.backgroundImage=Be.join("")),this.container.append(Ve),this.container.style.clipPath=`url(#${$e})`}_createPopup(){const{container:Z,data:H}=this;Z.setAttribute("aria-haspopup","dialog");const re=new v({data:{color:H.color,titleObj:H.titleObj,modificationDate:H.modificationDate,contentsObj:H.contentsObj,richText:H.richText,parentRect:H.rect,borderStyle:0,id:`popup_${H.id}`,rotation:H.rotation},parent:this.parent,elements:[this]});this.parent.div.append(re.render())}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Z,H=null){const re=[];if(this._fieldObjects){const oe=this._fieldObjects[Z];if(oe)for(const{page:_e,id:Me,exportValues:Be}of oe){if(_e===-1||Me===H)continue;const ae=typeof Be=="string"?Be:null,Se=document.querySelector(`[data-element-id="${Me}"]`);if(Se&&!P.has(Se)){(0,i.warn)(`_getElementsByName - element not allowed: ${Me}`);continue}re.push({id:Me,exportValue:ae,domElement:Se})}return re}for(const oe of document.getElementsByName(Z)){const{exportValue:_e}=oe,Me=oe.getAttribute("data-element-id");Me!==H&&P.has(oe)&&re.push({id:Me,exportValue:_e,domElement:oe})}return re}show(){var Z;this.container&&(this.container.hidden=!1),(Z=this.popup)==null||Z.maybeShow()}hide(){var Z;this.container&&(this.container.hidden=!0),(Z=this.popup)==null||Z.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Z=this.getElementsToTriggerPopup();if(Array.isArray(Z))for(const H of Z)H.classList.add("highlightArea");else Z.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Z,data:{id:H}}=this;this.container.addEventListener("dblclick",()=>{var re;(re=this.linkService.eventBus)==null||re.dispatch("switchannotationeditormode",{source:this,mode:Z,editId:H})})}}d=new WeakMap;class g extends n{constructor(H,re=null){super(H,{isRenderable:!0,ignoreBorder:!!(re!=null&&re.ignoreBorder),createQuadrilaterals:!0});V(this,w);V(this,D);this.isTooltipOnly=H.data.isTooltipOnly}render(){const{data:H,linkService:re}=this,oe=document.createElement("a");oe.setAttribute("data-element-id",H.id);let _e=!1;return H.url?(re.addLinkAttributes(oe,H.url,H.newWindow),_e=!0):H.action?(this._bindNamedAction(oe,H.action),_e=!0):H.attachment?(this._bindAttachment(oe,H.attachment),_e=!0):H.setOCGState?(X(this,D,xn).call(this,oe,H.setOCGState),_e=!0):H.dest?(this._bindLink(oe,H.dest),_e=!0):(H.actions&&(H.actions.Action||H.actions["Mouse Up"]||H.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(oe,H),_e=!0),H.resetForm?(this._bindResetFormAction(oe,H.resetForm),_e=!0):this.isTooltipOnly&&!_e&&(this._bindLink(oe,""),_e=!0)),this.container.classList.add("linkAnnotation"),_e&&this.container.append(oe),this.container}_bindLink(H,re){H.href=this.linkService.getDestinationHash(re),H.onclick=()=>(re&&this.linkService.goToDestination(re),!1),(re||re==="")&&X(this,w,ot).call(this)}_bindNamedAction(H,re){H.href=this.linkService.getAnchorUrl(""),H.onclick=()=>(this.linkService.executeNamedAction(re),!1),X(this,w,ot).call(this)}_bindAttachment(H,re){H.href=this.linkService.getAnchorUrl(""),H.onclick=()=>{var oe;return(oe=this.downloadManager)==null||oe.openOrDownloadData(this.container,re.content,re.filename),!1},X(this,w,ot).call(this)}_bindJSAction(H,re){H.href=this.linkService.getAnchorUrl("");const oe=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const _e of Object.keys(re.actions)){const Me=oe.get(_e);Me&&(H[Me]=()=>{var Be;return(Be=this.linkService.eventBus)==null||Be.dispatch("dispatcheventinsandbox",{source:this,detail:{id:re.id,name:_e}}),!1})}H.onclick||(H.onclick=()=>!1),X(this,w,ot).call(this)}_bindResetFormAction(H,re){const oe=H.onclick;if(oe||(H.href=this.linkService.getAnchorUrl("")),X(this,w,ot).call(this),!this._fieldObjects){(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),oe||(H.onclick=()=>!1);return}H.onclick=()=>{var Ve;oe==null||oe();const{fields:_e,refs:Me,include:Be}=re,ae=[];if(_e.length!==0||Me.length!==0){const Ne=new Set(Me);for(const He of _e){const $e=this._fieldObjects[He]||[];for(const{id:qe}of $e)Ne.add(qe)}for(const He of Object.values(this._fieldObjects))for(const $e of He)Ne.has($e.id)===Be&&ae.push($e)}else for(const Ne of Object.values(this._fieldObjects))ae.push(...Ne);const Se=this.annotationStorage,Ie=[];for(const Ne of ae){const{id:He}=Ne;switch(Ie.push(He),Ne.type){case"text":{const qe=Ne.defaultValue||"";Se.setValue(He,{value:qe});break}case"checkbox":case"radiobutton":{const qe=Ne.defaultValue===Ne.exportValues;Se.setValue(He,{value:qe});break}case"combobox":case"listbox":{const qe=Ne.defaultValue||"";Se.setValue(He,{value:qe});break}default:continue}const $e=document.querySelector(`[data-element-id="${He}"]`);if($e){if(!P.has($e)){(0,i.warn)(`_bindResetFormAction - element not allowed: ${He}`);continue}}else continue;$e.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Ve=this.linkService.eventBus)==null||Ve.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ie,name:"ResetForm"}})),!1}}}w=new WeakSet,ot=function(){this.container.setAttribute("data-internal-link","")},D=new WeakSet,xn=function(H,re){H.href=this.linkService.getAnchorUrl(""),H.onclick=()=>(this.linkService.executeSetOCGState(re),!1),X(this,w,ot).call(this)};class m extends n{constructor(Z){var re,oe,_e;const H=!!(Z.data.popupRef||(re=Z.data.titleObj)!=null&&re.str||(oe=Z.data.contentsObj)!=null&&oe.str||(_e=Z.data.richText)!=null&&_e.str);super(Z,{isRenderable:H})}render(){this.container.classList.add("textAnnotation");const Z=document.createElement("img");return Z.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Z.alt="[{{type}} Annotation]",Z.dataset.l10nId="text_annotation_type",Z.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.popupRef||this._createPopup(),this.container.append(Z),this.container}}class A extends n{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Z){var H;this.data.hasOwnCanvas&&(((H=Z.previousSibling)==null?void 0:H.nodeName)==="CANVAS"&&(Z.previousSibling.hidden=!0),Z.hidden=!1)}_getKeyModifier(Z){const{isWin:H,isMac:re}=i.FeatureTest.platform;return H&&Z.ctrlKey||re&&Z.metaKey}_setEventListener(Z,H,re,oe){H.includes("mouse")?Z.addEventListener(H,_e=>{var Me;(Me=this.linkService.eventBus)==null||Me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:re,value:oe(_e),shift:_e.shiftKey,modifier:this._getKeyModifier(_e)}})}):Z.addEventListener(H,_e=>{var Me;(Me=this.linkService.eventBus)==null||Me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:re,value:oe(_e)}})})}_setEventListeners(Z,H,re){var oe;for(const[_e,Me]of H)(Me==="Action"||(oe=this.data.actions)!=null&&oe[Me])&&this._setEventListener(Z,_e,Me,re)}_setBackgroundColor(Z){const H=this.data.backgroundColor||null;Z.style.backgroundColor=H===null?"transparent":i.Util.makeHexColor(H[0],H[1],H[2])}_setTextStyle(Z){const H=["left","center","right"],{fontColor:re}=this.data.defaultAppearanceData,oe=this.data.defaultAppearanceData.fontSize||a,_e=Z.style;let Me;const Be=2,ae=Se=>Math.round(10*Se)/10;if(this.data.multiLine){const Se=Math.abs(this.data.rect[3]-this.data.rect[1]-Be),Ie=Math.round(Se/(i.LINE_FACTOR*oe))||1,Ve=Se/Ie;Me=Math.min(oe,ae(Ve/i.LINE_FACTOR))}else{const Se=Math.abs(this.data.rect[3]-this.data.rect[1]-Be);Me=Math.min(oe,ae(Se/i.LINE_FACTOR))}_e.fontSize=`calc(${Me}px * var(--scale-factor))`,_e.color=i.Util.makeHexColor(re[0],re[1],re[2]),this.data.textAlignment!==null&&(_e.textAlign=H[this.data.textAlignment])}_setRequired(Z,H){H?Z.setAttribute("required",!0):Z.removeAttribute("required"),Z.setAttribute("aria-required",H)}}class T extends A{constructor(Z){const H=Z.renderForms||!Z.data.hasAppearance&&!!Z.data.fieldValue;super(Z,{isRenderable:H})}setPropertyOnSiblings(Z,H,re,oe){const _e=this.annotationStorage;for(const Me of this._getElementsByName(Z.name,Z.id))Me.domElement&&(Me.domElement[H]=re),_e.setValue(Me.id,{[oe]:re})}render(){var oe,_e;const Z=this.annotationStorage,H=this.data.id;this.container.classList.add("textWidgetAnnotation");let re=null;if(this.renderForms){const Me=Z.getValue(H,{value:this.data.fieldValue});let Be=Me.value||"";const ae=Z.getValue(H,{charLimit:this.data.maxLen}).charLimit;ae&&Be.length>ae&&(Be=Be.slice(0,ae));let Se=Me.formattedValue||((oe=this.data.textContent)==null?void 0:oe.join(`
`))||null;Se&&this.data.comb&&(Se=Se.replaceAll(/\s+/g,""));const Ie={userValue:Be,formattedValue:Se,lastCommittedValue:null,commitKey:1};this.data.multiLine?(re=document.createElement("textarea"),re.textContent=Se??Be,this.data.doNotScroll&&(re.style.overflowY="hidden")):(re=document.createElement("input"),re.type="text",re.setAttribute("value",Se??Be),this.data.doNotScroll&&(re.style.overflowX="hidden")),this.data.hasOwnCanvas&&(re.hidden=!0),P.add(re),re.setAttribute("data-element-id",H),re.disabled=this.data.readOnly,re.name=this.data.fieldName,re.tabIndex=s,this._setRequired(re,this.data.required),ae&&(re.maxLength=ae),re.addEventListener("input",Ne=>{Z.setValue(H,{value:Ne.target.value}),this.setPropertyOnSiblings(re,"value",Ne.target.value,"value"),Ie.formattedValue=null}),re.addEventListener("resetform",Ne=>{const He=this.data.defaultFieldValue??"";re.value=Ie.userValue=He,Ie.formattedValue=null});let Ve=Ne=>{const{formattedValue:He}=Ie;He!=null&&(Ne.target.value=He),Ne.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){re.addEventListener("focus",He=>{const{target:$e}=He;Ie.userValue&&($e.value=Ie.userValue),Ie.lastCommittedValue=$e.value,Ie.commitKey=1}),re.addEventListener("updatefromsandbox",He=>{this.showElementAndHideCanvas(He.target);const $e={value(qe){Ie.userValue=qe.detail.value??"",Z.setValue(H,{value:Ie.userValue.toString()}),qe.target.value=Ie.userValue},formattedValue(qe){const{formattedValue:Ye}=qe.detail;Ie.formattedValue=Ye,Ye!=null&&qe.target!==document.activeElement&&(qe.target.value=Ye),Z.setValue(H,{formattedValue:Ye})},selRange(qe){qe.target.setSelectionRange(...qe.detail.selRange)},charLimit:qe=>{var Je;const{charLimit:Ye}=qe.detail,{target:Ze}=qe;if(Ye===0){Ze.removeAttribute("maxLength");return}Ze.setAttribute("maxLength",Ye);let et=Ie.userValue;!et||et.length<=Ye||(et=et.slice(0,Ye),Ze.value=Ie.userValue=et,Z.setValue(H,{value:et}),(Je=this.linkService.eventBus)==null||Je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:H,name:"Keystroke",value:et,willCommit:!0,commitKey:1,selStart:Ze.selectionStart,selEnd:Ze.selectionEnd}}))}};this._dispatchEventFromSandbox($e,He)}),re.addEventListener("keydown",He=>{var Ye;Ie.commitKey=1;let $e=-1;if(He.key==="Escape"?$e=0:He.key==="Enter"&&!this.data.multiLine?$e=2:He.key==="Tab"&&(Ie.commitKey=3),$e===-1)return;const{value:qe}=He.target;Ie.lastCommittedValue!==qe&&(Ie.lastCommittedValue=qe,Ie.userValue=qe,(Ye=this.linkService.eventBus)==null||Ye.dispatch("dispatcheventinsandbox",{source:this,detail:{id:H,name:"Keystroke",value:qe,willCommit:!0,commitKey:$e,selStart:He.target.selectionStart,selEnd:He.target.selectionEnd}}))});const Ne=Ve;Ve=null,re.addEventListener("blur",He=>{var qe;if(!He.relatedTarget)return;const{value:$e}=He.target;Ie.userValue=$e,Ie.lastCommittedValue!==$e&&((qe=this.linkService.eventBus)==null||qe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:H,name:"Keystroke",value:$e,willCommit:!0,commitKey:Ie.commitKey,selStart:He.target.selectionStart,selEnd:He.target.selectionEnd}})),Ne(He)}),(_e=this.data.actions)!=null&&_e.Keystroke&&re.addEventListener("beforeinput",He=>{var it;Ie.lastCommittedValue=null;const{data:$e,target:qe}=He,{value:Ye,selectionStart:Ze,selectionEnd:et}=qe;let Je=Ze,Qe=et;switch(He.inputType){case"deleteWordBackward":{const tt=Ye.substring(0,Ze).match(/\w*[^\w]*$/);tt&&(Je-=tt[0].length);break}case"deleteWordForward":{const tt=Ye.substring(Ze).match(/^[^\w]*\w*/);tt&&(Qe+=tt[0].length);break}case"deleteContentBackward":Ze===et&&(Je-=1);break;case"deleteContentForward":Ze===et&&(Qe+=1);break}He.preventDefault(),(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:H,name:"Keystroke",value:Ye,change:$e||"",willCommit:!1,selStart:Je,selEnd:Qe}})}),this._setEventListeners(re,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],He=>He.target.value)}if(Ve&&re.addEventListener("blur",Ve),this.data.comb){const He=(this.data.rect[2]-this.data.rect[0])/ae;re.classList.add("comb"),re.style.letterSpacing=`calc(${He}px * var(--scale-factor) - 1ch)`}}else re=document.createElement("div"),re.textContent=this.data.fieldValue,re.style.verticalAlign="middle",re.style.display="table-cell";return this._setTextStyle(re),this._setBackgroundColor(re),this._setDefaultPropertiesFromJS(re),this.container.append(re),this.container}}class E extends A{constructor(Z){super(Z,{isRenderable:!!Z.data.hasOwnCanvas})}}class C extends A{constructor(Z){super(Z,{isRenderable:Z.renderForms})}render(){const Z=this.annotationStorage,H=this.data,re=H.id;let oe=Z.getValue(re,{value:H.exportValue===H.fieldValue}).value;typeof oe=="string"&&(oe=oe!=="Off",Z.setValue(re,{value:oe})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const _e=document.createElement("input");return P.add(_e),_e.setAttribute("data-element-id",re),_e.disabled=H.readOnly,this._setRequired(_e,this.data.required),_e.type="checkbox",_e.name=H.fieldName,oe&&_e.setAttribute("checked",!0),_e.setAttribute("exportValue",H.exportValue),_e.tabIndex=s,_e.addEventListener("change",Me=>{const{name:Be,checked:ae}=Me.target;for(const Se of this._getElementsByName(Be,re)){const Ie=ae&&Se.exportValue===H.exportValue;Se.domElement&&(Se.domElement.checked=Ie),Z.setValue(Se.id,{value:Ie})}Z.setValue(re,{value:ae})}),_e.addEventListener("resetform",Me=>{const Be=H.defaultFieldValue||"Off";Me.target.checked=Be===H.exportValue}),this.enableScripting&&this.hasJSActions&&(_e.addEventListener("updatefromsandbox",Me=>{const Be={value(ae){ae.target.checked=ae.detail.value!=="Off",Z.setValue(re,{value:ae.target.checked})}};this._dispatchEventFromSandbox(Be,Me)}),this._setEventListeners(_e,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Me=>Me.target.checked)),this._setBackgroundColor(_e),this._setDefaultPropertiesFromJS(_e),this.container.append(_e),this.container}}class l extends A{constructor(Z){super(Z,{isRenderable:Z.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Z=this.annotationStorage,H=this.data,re=H.id;let oe=Z.getValue(re,{value:H.fieldValue===H.buttonValue}).value;typeof oe=="string"&&(oe=oe!==H.buttonValue,Z.setValue(re,{value:oe}));const _e=document.createElement("input");if(P.add(_e),_e.setAttribute("data-element-id",re),_e.disabled=H.readOnly,this._setRequired(_e,this.data.required),_e.type="radio",_e.name=H.fieldName,oe&&_e.setAttribute("checked",!0),_e.tabIndex=s,_e.addEventListener("change",Me=>{const{name:Be,checked:ae}=Me.target;for(const Se of this._getElementsByName(Be,re))Z.setValue(Se.id,{value:!1});Z.setValue(re,{value:ae})}),_e.addEventListener("resetform",Me=>{const Be=H.defaultFieldValue;Me.target.checked=Be!=null&&Be===H.buttonValue}),this.enableScripting&&this.hasJSActions){const Me=H.buttonValue;_e.addEventListener("updatefromsandbox",Be=>{const ae={value:Se=>{const Ie=Me===Se.detail.value;for(const Ve of this._getElementsByName(Se.target.name)){const Ne=Ie&&Ve.id===re;Ve.domElement&&(Ve.domElement.checked=Ne),Z.setValue(Ve.id,{value:Ne})}}};this._dispatchEventFromSandbox(ae,Be)}),this._setEventListeners(_e,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Be=>Be.target.checked)}return this._setBackgroundColor(_e),this._setDefaultPropertiesFromJS(_e),this.container.append(_e),this.container}}class c extends g{constructor(Z){super(Z,{ignoreBorder:Z.data.hasAppearance})}render(){const Z=super.render();Z.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Z.title=this.data.alternativeText);const H=Z.lastChild;return this.enableScripting&&this.hasJSActions&&H&&(this._setDefaultPropertiesFromJS(H),H.addEventListener("updatefromsandbox",re=>{this._dispatchEventFromSandbox({},re)})),Z}}class y extends A{constructor(Z){super(Z,{isRenderable:Z.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Z=this.annotationStorage,H=this.data.id,re=Z.getValue(H,{value:this.data.fieldValue}),oe=document.createElement("select");P.add(oe),oe.setAttribute("data-element-id",H),oe.disabled=this.data.readOnly,this._setRequired(oe,this.data.required),oe.name=this.data.fieldName,oe.tabIndex=s;let _e=this.data.combo&&this.data.options.length>0;this.data.combo||(oe.size=this.data.options.length,this.data.multiSelect&&(oe.multiple=!0)),oe.addEventListener("resetform",Ie=>{const Ve=this.data.defaultFieldValue;for(const Ne of oe.options)Ne.selected=Ne.value===Ve});for(const Ie of this.data.options){const Ve=document.createElement("option");Ve.textContent=Ie.displayValue,Ve.value=Ie.exportValue,re.value.includes(Ie.exportValue)&&(Ve.setAttribute("selected",!0),_e=!1),oe.append(Ve)}let Me=null;if(_e){const Ie=document.createElement("option");Ie.value=" ",Ie.setAttribute("hidden",!0),Ie.setAttribute("selected",!0),oe.prepend(Ie),Me=()=>{Ie.remove(),oe.removeEventListener("input",Me),Me=null},oe.addEventListener("input",Me)}const Be=Ie=>{const Ve=Ie?"value":"textContent",{options:Ne,multiple:He}=oe;return He?Array.prototype.filter.call(Ne,$e=>$e.selected).map($e=>$e[Ve]):Ne.selectedIndex===-1?null:Ne[Ne.selectedIndex][Ve]};let ae=Be(!1);const Se=Ie=>{const Ve=Ie.target.options;return Array.prototype.map.call(Ve,Ne=>({displayValue:Ne.textContent,exportValue:Ne.value}))};return this.enableScripting&&this.hasJSActions?(oe.addEventListener("updatefromsandbox",Ie=>{const Ve={value(Ne){Me==null||Me();const He=Ne.detail.value,$e=new Set(Array.isArray(He)?He:[He]);for(const qe of oe.options)qe.selected=$e.has(qe.value);Z.setValue(H,{value:Be(!0)}),ae=Be(!1)},multipleSelection(Ne){oe.multiple=!0},remove(Ne){const He=oe.options,$e=Ne.detail.remove;He[$e].selected=!1,oe.remove($e),He.length>0&&Array.prototype.findIndex.call(He,Ye=>Ye.selected)===-1&&(He[0].selected=!0),Z.setValue(H,{value:Be(!0),items:Se(Ne)}),ae=Be(!1)},clear(Ne){for(;oe.length!==0;)oe.remove(0);Z.setValue(H,{value:null,items:[]}),ae=Be(!1)},insert(Ne){const{index:He,displayValue:$e,exportValue:qe}=Ne.detail.insert,Ye=oe.children[He],Ze=document.createElement("option");Ze.textContent=$e,Ze.value=qe,Ye?Ye.before(Ze):oe.append(Ze),Z.setValue(H,{value:Be(!0),items:Se(Ne)}),ae=Be(!1)},items(Ne){const{items:He}=Ne.detail;for(;oe.length!==0;)oe.remove(0);for(const $e of He){const{displayValue:qe,exportValue:Ye}=$e,Ze=document.createElement("option");Ze.textContent=qe,Ze.value=Ye,oe.append(Ze)}oe.options.length>0&&(oe.options[0].selected=!0),Z.setValue(H,{value:Be(!0),items:Se(Ne)}),ae=Be(!1)},indices(Ne){const He=new Set(Ne.detail.indices);for(const $e of Ne.target.options)$e.selected=He.has($e.index);Z.setValue(H,{value:Be(!0)}),ae=Be(!1)},editable(Ne){Ne.target.disabled=!Ne.detail.editable}};this._dispatchEventFromSandbox(Ve,Ie)}),oe.addEventListener("input",Ie=>{var Ne;const Ve=Be(!0);Z.setValue(H,{value:Ve}),Ie.preventDefault(),(Ne=this.linkService.eventBus)==null||Ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:H,name:"Keystroke",value:ae,changeEx:Ve,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(oe,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ie=>Ie.target.value)):oe.addEventListener("input",function(Ie){Z.setValue(H,{value:Be(!0)})}),this.data.combo&&this._setTextStyle(oe),this._setBackgroundColor(oe),this._setDefaultPropertiesFromJS(oe),this.container.append(oe),this.container}}class v extends n{constructor(Z){var _e,Me,Be;const{data:H,elements:re}=Z,oe=!!((_e=H.titleObj)!=null&&_e.str||(Me=H.contentsObj)!=null&&Me.str||(Be=H.richText)!=null&&Be.str);super(Z,{isRenderable:oe}),this.elements=re}render(){this.container.classList.add("popupAnnotation");const Z=new _({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),H=[];for(const re of this.elements)re.popup=Z,H.push(re.data.id),re.addHighlightArea();return this.container.setAttribute("aria-controls",H.join(",")),this.container}}class _{constructor({container:Z,color:H,elements:re,titleObj:oe,modificationDate:_e,contentsObj:Me,richText:Be,parent:ae,rect:Se,parentRect:Ie,open:Ve}){V(this,ke);V(this,je);V(this,Ue);V(this,ie,null);V(this,he,X(this,Ue,vi).bind(this));V(this,U,X(this,je,_i).bind(this));V(this,z,X(this,ke,bi).bind(this));V(this,j,null);V(this,te,null);V(this,fe,null);V(this,de,null);V(this,Ee,null);V(this,Te,null);V(this,ve,!1);V(this,Re,null);V(this,ce,null);V(this,ne,null);V(this,ue,null);V(this,me,!1);pe(this,te,Z),pe(this,ue,oe),pe(this,fe,Me),pe(this,ne,Be),pe(this,Ee,ae),pe(this,j,H),pe(this,ce,Se),pe(this,Te,Ie),pe(this,de,re);const Ne=u.PDFDateString.toDateObject(_e);Ne&&pe(this,ie,ae.l10n.get("annotation_date_string",{date:Ne.toLocaleDateString(),time:Ne.toLocaleTimeString()})),this.trigger=re.flatMap(He=>He.getElementsToTriggerPopup());for(const He of this.trigger)He.addEventListener("click",r(this,z)),He.addEventListener("mouseenter",r(this,U)),He.addEventListener("mouseleave",r(this,he));r(this,te).hidden=!0,Ve&&X(this,ke,bi).call(this)}render(){if(r(this,Re))return;const{page:{view:Z},viewport:{rawDims:{pageWidth:H,pageHeight:re,pageX:oe,pageY:_e}}}=r(this,Ee),Me=pe(this,Re,document.createElement("div"));if(Me.className="popup",r(this,j)){const Je=Me.style.outlineColor=i.Util.makeHexColor(...r(this,j));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Me.style.backgroundColor=`color-mix(in srgb, ${Je} 30%, white)`:Me.style.backgroundColor=i.Util.makeHexColor(...r(this,j).map(it=>Math.floor(.7*(255-it)+it)))}const Be=document.createElement("span");Be.className="header";const ae=document.createElement("h1");if(Be.append(ae),{dir:ae.dir,str:ae.textContent}=r(this,ue),Me.append(Be),r(this,ie)){const Je=document.createElement("span");Je.classList.add("popupDate"),r(this,ie).then(Qe=>{Je.textContent=Qe}),Be.append(Je)}const Se=r(this,fe),Ie=r(this,ne);if(Ie!=null&&Ie.str&&(!(Se!=null&&Se.str)||Se.str===Ie.str))f.XfaLayer.render({xfaHtml:Ie.html,intent:"richText",div:Me}),Me.lastChild.classList.add("richText","popupContent");else{const Je=this._formatContents(Se);Me.append(Je)}let Ve=!!r(this,Te),Ne=Ve?r(this,Te):r(this,ce);for(const Je of r(this,de))if(!Ne||i.Util.intersect(Je.data.rect,Ne)!==null){Ne=Je.data.rect,Ve=!0;break}const He=i.Util.normalizeRect([Ne[0],Z[3]-Ne[1]+Z[1],Ne[2],Z[3]-Ne[3]+Z[1]]),$e=5,qe=Ve?Ne[2]-Ne[0]+$e:0,Ye=He[0]+qe,Ze=He[1],{style:et}=r(this,te);et.left=`${100*(Ye-oe)/H}%`,et.top=`${100*(Ze-_e)/re}%`,r(this,te).append(Me)}_formatContents({str:Z,dir:H}){const re=document.createElement("p");re.classList.add("popupContent"),re.dir=H;const oe=Z.split(/(?:\r\n?|\n)/);for(let _e=0,Me=oe.length;_e<Me;++_e){const Be=oe[_e];re.append(document.createTextNode(Be)),_e<Me-1&&re.append(document.createElement("br"))}return re}forceHide(){pe(this,me,this.isVisible),r(this,me)&&(r(this,te).hidden=!0)}maybeShow(){r(this,me)&&(pe(this,me,!1),r(this,te).hidden=!1)}get isVisible(){return r(this,te).hidden===!1}}ie=new WeakMap,he=new WeakMap,U=new WeakMap,z=new WeakMap,j=new WeakMap,te=new WeakMap,fe=new WeakMap,de=new WeakMap,Ee=new WeakMap,Te=new WeakMap,ve=new WeakMap,Re=new WeakMap,ce=new WeakMap,ne=new WeakMap,ue=new WeakMap,me=new WeakMap,ke=new WeakSet,bi=function(){pe(this,ve,!r(this,ve)),r(this,ve)?(X(this,je,_i).call(this),r(this,te).addEventListener("click",r(this,z))):(X(this,Ue,vi).call(this),r(this,te).removeEventListener("click",r(this,z)))},je=new WeakSet,_i=function(){r(this,Re)||this.render(),this.isVisible?r(this,ve)&&r(this,te).classList.add("focused"):(r(this,te).hidden=!1,r(this,te).style.zIndex=parseInt(r(this,te).style.zIndex)+1e3)},Ue=new WeakSet,vi=function(){r(this,te).classList.remove("focused"),!(r(this,ve)||!this.isVisible)&&(r(this,te).hidden=!0,r(this,te).style.zIndex=parseInt(r(this,te).style.zIndex)-1e3)};class O extends n{constructor(Z){var re,oe,_e;const H=!!(Z.data.popupRef||(re=Z.data.titleObj)!=null&&re.str||(oe=Z.data.contentsObj)!=null&&oe.str||(_e=Z.data.richText)!=null&&_e.str);super(Z,{isRenderable:H,ignoreBorder:!0}),this.textContent=Z.data.textContent,this.textPosition=Z.data.textPosition,this.annotationEditorType=i.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Z=document.createElement("div");Z.classList.add("annotationTextContent"),Z.setAttribute("role","comment");for(const H of this.textContent){const re=document.createElement("span");re.textContent=H,Z.append(re)}this.container.append(Z)}return this.data.popupRef||this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=O;class F extends n{constructor(H){var oe,_e,Me;const re=!!(H.data.popupRef||(oe=H.data.titleObj)!=null&&oe.str||(_e=H.data.contentsObj)!=null&&_e.str||(Me=H.data.richText)!=null&&Me.str);super(H,{isRenderable:re,ignoreBorder:!0});V(this,Xe,null)}render(){this.container.classList.add("lineAnnotation");const H=this.data,{width:re,height:oe}=S(H.rect),_e=this.svgFactory.create(re,oe,!0),Me=pe(this,Xe,this.svgFactory.createElement("svg:line"));return Me.setAttribute("x1",H.rect[2]-H.lineCoordinates[0]),Me.setAttribute("y1",H.rect[3]-H.lineCoordinates[1]),Me.setAttribute("x2",H.rect[2]-H.lineCoordinates[2]),Me.setAttribute("y2",H.rect[3]-H.lineCoordinates[3]),Me.setAttribute("stroke-width",H.borderStyle.width||1),Me.setAttribute("stroke","transparent"),Me.setAttribute("fill","transparent"),_e.append(Me),this.container.append(_e),H.popupRef||this._createPopup(),this.container}getElementsToTriggerPopup(){return r(this,Xe)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xe=new WeakMap;class K extends n{constructor(H){var oe,_e,Me;const re=!!(H.data.popupRef||(oe=H.data.titleObj)!=null&&oe.str||(_e=H.data.contentsObj)!=null&&_e.str||(Me=H.data.richText)!=null&&Me.str);super(H,{isRenderable:re,ignoreBorder:!0});V(this,Ge,null)}render(){this.container.classList.add("squareAnnotation");const H=this.data,{width:re,height:oe}=S(H.rect),_e=this.svgFactory.create(re,oe,!0),Me=H.borderStyle.width,Be=pe(this,Ge,this.svgFactory.createElement("svg:rect"));return Be.setAttribute("x",Me/2),Be.setAttribute("y",Me/2),Be.setAttribute("width",re-Me),Be.setAttribute("height",oe-Me),Be.setAttribute("stroke-width",Me||1),Be.setAttribute("stroke","transparent"),Be.setAttribute("fill","transparent"),_e.append(Be),this.container.append(_e),H.popupRef||this._createPopup(),this.container}getElementsToTriggerPopup(){return r(this,Ge)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ge=new WeakMap;class le extends n{constructor(H){var oe,_e,Me;const re=!!(H.data.popupRef||(oe=H.data.titleObj)!=null&&oe.str||(_e=H.data.contentsObj)!=null&&_e.str||(Me=H.data.richText)!=null&&Me.str);super(H,{isRenderable:re,ignoreBorder:!0});V(this,De,null)}render(){this.container.classList.add("circleAnnotation");const H=this.data,{width:re,height:oe}=S(H.rect),_e=this.svgFactory.create(re,oe,!0),Me=H.borderStyle.width,Be=pe(this,De,this.svgFactory.createElement("svg:ellipse"));return Be.setAttribute("cx",re/2),Be.setAttribute("cy",oe/2),Be.setAttribute("rx",re/2-Me/2),Be.setAttribute("ry",oe/2-Me/2),Be.setAttribute("stroke-width",Me||1),Be.setAttribute("stroke","transparent"),Be.setAttribute("fill","transparent"),_e.append(Be),this.container.append(_e),H.popupRef||this._createPopup(),this.container}getElementsToTriggerPopup(){return r(this,De)}addHighlightArea(){this.container.classList.add("highlightArea")}}De=new WeakMap;class B extends n{constructor(H){var oe,_e,Me;const re=!!(H.data.popupRef||(oe=H.data.titleObj)!=null&&oe.str||(_e=H.data.contentsObj)!=null&&_e.str||(Me=H.data.richText)!=null&&Me.str);super(H,{isRenderable:re,ignoreBorder:!0});V(this,k,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const H=this.data,{width:re,height:oe}=S(H.rect),_e=this.svgFactory.create(re,oe,!0);let Me=[];for(const ae of H.vertices){const Se=ae.x-H.rect[0],Ie=H.rect[3]-ae.y;Me.push(Se+","+Ie)}Me=Me.join(" ");const Be=pe(this,k,this.svgFactory.createElement(this.svgElementName));return Be.setAttribute("points",Me),Be.setAttribute("stroke-width",H.borderStyle.width||1),Be.setAttribute("stroke","transparent"),Be.setAttribute("fill","transparent"),_e.append(Be),this.container.append(_e),H.popupRef||this._createPopup(Be,H),this.container}getElementsToTriggerPopup(){return r(this,k)}addHighlightArea(){this.container.classList.add("highlightArea")}}k=new WeakMap;class Y extends B{constructor(Z){super(Z),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class se extends n{constructor(Z){var re,oe,_e;const H=!!(Z.data.popupRef||(re=Z.data.titleObj)!=null&&re.str||(oe=Z.data.contentsObj)!=null&&oe.str||(_e=Z.data.richText)!=null&&_e.str);super(Z,{isRenderable:H,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.popupRef||this._createPopup(),this.container}}class ee extends n{constructor(H){var oe,_e,Me;const re=!!(H.data.popupRef||(oe=H.data.titleObj)!=null&&oe.str||(_e=H.data.contentsObj)!=null&&_e.str||(Me=H.data.richText)!=null&&Me.str);super(H,{isRenderable:re,ignoreBorder:!0});V(this,Q,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=i.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const H=this.data,{width:re,height:oe}=S(H.rect),_e=this.svgFactory.create(re,oe,!0);for(const Me of H.inkLists){let Be=[];for(const Se of Me){const Ie=Se.x-H.rect[0],Ve=H.rect[3]-Se.y;Be.push(`${Ie},${Ve}`)}Be=Be.join(" ");const ae=this.svgFactory.createElement(this.svgElementName);r(this,Q).push(ae),ae.setAttribute("points",Be),ae.setAttribute("stroke-width",H.borderStyle.width||1),ae.setAttribute("stroke","transparent"),ae.setAttribute("fill","transparent"),H.popupRef||this._createPopup(ae,H),_e.append(ae)}return this.container.append(_e),this.container}getElementsToTriggerPopup(){return r(this,Q)}addHighlightArea(){this.container.classList.add("highlightArea")}}Q=new WeakMap,t.InkAnnotationElement=ee;class N extends n{constructor(Z){var re,oe,_e;const H=!!(Z.data.popupRef||(re=Z.data.titleObj)!=null&&re.str||(oe=Z.data.contentsObj)!=null&&oe.str||(_e=Z.data.richText)!=null&&_e.str);super(Z,{isRenderable:H,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.popupRef||this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class q extends n{constructor(Z){var re,oe,_e;const H=!!(Z.data.popupRef||(re=Z.data.titleObj)!=null&&re.str||(oe=Z.data.contentsObj)!=null&&oe.str||(_e=Z.data.richText)!=null&&_e.str);super(Z,{isRenderable:H,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.popupRef||this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class G extends n{constructor(Z){var re,oe,_e;const H=!!(Z.data.popupRef||(re=Z.data.titleObj)!=null&&re.str||(oe=Z.data.contentsObj)!=null&&oe.str||(_e=Z.data.richText)!=null&&_e.str);super(Z,{isRenderable:H,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.popupRef||this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ge extends n{constructor(Z){var re,oe,_e;const H=!!(Z.data.popupRef||(re=Z.data.titleObj)!=null&&re.str||(oe=Z.data.contentsObj)!=null&&oe.str||(_e=Z.data.richText)!=null&&_e.str);super(Z,{isRenderable:H,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.popupRef||this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Pe extends n{constructor(Z){var re,oe,_e;const H=!!(Z.data.popupRef||(re=Z.data.titleObj)!=null&&re.str||(oe=Z.data.contentsObj)!=null&&oe.str||(_e=Z.data.richText)!=null&&_e.str);super(Z,{isRenderable:H,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.popupRef||this._createPopup(),this.container}}t.StampAnnotationElement=Pe;class W extends n{constructor(H){var _e;super(H,{isRenderable:!0});V(this,Ae,null);const{filename:re,content:oe}=this.data.file;this.filename=(0,u.getFilenameFromUrl)(re,!0),this.content=oe,(_e=this.linkService.eventBus)==null||_e.dispatch("fileattachmentannotation",{source:this,filename:re,content:oe})}render(){var oe,_e;this.container.classList.add("fileAttachmentAnnotation");const{data:H}=this;let re;return H.hasAppearance||H.fillAlpha===0?re=document.createElement("div"):(re=document.createElement("img"),re.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(H.name)?"paperclip":"pushpin"}.svg`,H.fillAlpha&&H.fillAlpha<1&&(re.style=`filter: opacity(${Math.round(H.fillAlpha*100)}%);`)),re.classList.add("popupTriggerArea"),re.addEventListener("dblclick",this._download.bind(this)),pe(this,Ae,re),!H.popupRef&&((oe=H.titleObj)!=null&&oe.str||(_e=H.contentsObj)!=null&&_e.str||H.richText)&&this._createPopup(),this.container.append(re),this.container}getElementsToTriggerPopup(){return r(this,Ae)}addHighlightArea(){this.container.classList.add("highlightArea")}_download(){var H;(H=this.downloadManager)==null||H.openOrDownloadData(this.container,this.content,this.filename)}}Ae=new WeakMap;class M{constructor({div:Z,accessibilityManager:H,annotationCanvasMap:re,l10n:oe,page:_e,viewport:Me}){V(this,xe);V(this,Ce);V(this,be,null);V(this,ye,null);V(this,we,new Map);this.div=Z,pe(this,be,H),pe(this,ye,re),this.l10n=oe,this.page=_e,this.viewport=Me,this.zIndex=0,this.l10n||(this.l10n=b.NullL10n)}async render(Z){const{annotations:H}=Z,re=this.div;(0,u.setLayerDimensions)(re,this.viewport);const oe=new Map,_e={data:null,layer:re,linkService:Z.linkService,downloadManager:Z.downloadManager,imageResourcesPath:Z.imageResourcesPath||"",renderForms:Z.renderForms!==!1,svgFactory:new u.DOMSVGFactory,annotationStorage:Z.annotationStorage||new L.AnnotationStorage,enableScripting:Z.enableScripting===!0,hasJSActions:Z.hasJSActions,fieldObjects:Z.fieldObjects,parent:this,elements:null};for(const Me of H){if(Me.noHTML)continue;const Be=Me.annotationType===i.AnnotationType.POPUP;if(Be){const Ie=oe.get(Me.id);if(!Ie)continue;_e.elements=Ie}else{const{width:Ie,height:Ve}=S(Me.rect);if(Ie<=0||Ve<=0)continue}_e.data=Me;const ae=R.create(_e);if(!ae.isRenderable)continue;if(!Be&&Me.popupRef){const Ie=oe.get(Me.popupRef);Ie?Ie.push(ae):oe.set(Me.popupRef,[ae])}ae.annotationEditorType>0&&r(this,we).set(ae.data.id,ae);const Se=ae.render();Me.hidden&&(Se.style.visibility="hidden"),X(this,xe,Ln).call(this,Se,Me.id)}X(this,Ce,wi).call(this),await this.l10n.translate(re)}update({viewport:Z}){const H=this.div;this.viewport=Z,(0,u.setLayerDimensions)(H,{rotation:Z.rotation}),X(this,Ce,wi).call(this),H.hidden=!1}getEditableAnnotations(){return Array.from(r(this,we).values())}getEditableAnnotation(Z){return r(this,we).get(Z)}}be=new WeakMap,ye=new WeakMap,we=new WeakMap,xe=new WeakSet,Ln=function(Z,H){var oe;const re=Z.firstChild||Z;re.id=`${u.AnnotationPrefix}${H}`,this.div.append(Z),(oe=r(this,be))==null||oe.moveElementInDOM(this.div,Z,re,!1)},Ce=new WeakSet,wi=function(){if(!r(this,ye))return;const Z=this.div;for(const[H,re]of r(this,ye)){const oe=Z.querySelector(`[data-annotation-id="${H}"]`);if(!oe)continue;const{firstChild:_e}=oe;_e?_e.nodeName==="CANVAS"?_e.replaceWith(re):_e.before(re):oe.append(re)}r(this,ye).clear()},t.AnnotationLayer=M},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function o(L){return Math.floor(Math.max(0,Math.min(1,L))*255).toString(16).padStart(2,"0")}function i(L){return Math.max(0,Math.min(255,255*L))}class u{static CMYK_G([I,b,f,s]){return["G",1-Math.min(1,.3*I+.59*f+.11*b+s)]}static G_CMYK([I]){return["CMYK",0,0,0,1-I]}static G_RGB([I]){return["RGB",I,I,I]}static G_rgb([I]){return I=i(I),[I,I,I]}static G_HTML([I]){const b=o(I);return`#${b}${b}${b}`}static RGB_G([I,b,f]){return["G",.3*I+.59*b+.11*f]}static RGB_rgb(I){return I.map(i)}static RGB_HTML(I){return`#${I.map(o).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([I,b,f,s]){return["RGB",1-Math.min(1,I+s),1-Math.min(1,f+s),1-Math.min(1,b+s)]}static CMYK_rgb([I,b,f,s]){return[i(1-Math.min(1,I+s)),i(1-Math.min(1,f+s)),i(1-Math.min(1,b+s))]}static CMYK_HTML(I){const b=this.CMYK_RGB(I).slice(1);return this.RGB_HTML(b)}static RGB_CMYK([I,b,f]){const s=1-I,a=1-b,P=1-f,S=Math.min(s,a,P);return["CMYK",s,a,P,S]}}t.ColorConverters=u},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=i;const o={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image"};o.print_progress_percent="{{progress}}%";function i(I,b){switch(I){case"find_match_count":I=`find_match_count[${b.total===1?"one":"other"}]`;break;case"find_match_count_limit":I=`find_match_count_limit[${b.limit===1?"one":"other"}]`;break}return o[I]||""}function u(I,b){return b?I.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(f,s)=>s in b?b[s]:"{{"+s+"}}"):I}const L={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(I,b=null,f=i(I,b)){return u(f,b)},async translate(I){}};t.NullL10n=L},(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var i=o(25);class u{static setupStorage(I,b,f,s,a){const P=s.getValue(b,{value:null});switch(f.name){case"textarea":if(P.value!==null&&(I.textContent=P.value),a==="print")break;I.addEventListener("input",S=>{s.setValue(b,{value:S.target.value})});break;case"input":if(f.attributes.type==="radio"||f.attributes.type==="checkbox"){if(P.value===f.attributes.xfaOn?I.setAttribute("checked",!0):P.value===f.attributes.xfaOff&&I.removeAttribute("checked"),a==="print")break;I.addEventListener("change",S=>{s.setValue(b,{value:S.target.checked?S.target.getAttribute("xfaOn"):S.target.getAttribute("xfaOff")})})}else{if(P.value!==null&&I.setAttribute("value",P.value),a==="print")break;I.addEventListener("input",S=>{s.setValue(b,{value:S.target.value})})}break;case"select":if(P.value!==null){I.setAttribute("value",P.value);for(const S of f.children)S.attributes.value===P.value?S.attributes.selected=!0:S.attributes.hasOwnProperty("selected")&&delete S.attributes.selected}I.addEventListener("input",S=>{const R=S.target.options,n=R.selectedIndex===-1?"":R[R.selectedIndex].value;s.setValue(b,{value:n})});break}}static setAttributes({html:I,element:b,storage:f=null,intent:s,linkService:a}){const{attributes:P}=b,S=I instanceof HTMLAnchorElement;P.type==="radio"&&(P.name=`${P.name}-${s}`);for(const[R,n]of Object.entries(P))if(n!=null)switch(R){case"class":n.length&&I.setAttribute(R,n.join(" "));break;case"dataId":break;case"id":I.setAttribute("data-element-id",n);break;case"style":Object.assign(I.style,n);break;case"textContent":I.textContent=n;break;default:(!S||R!=="href"&&R!=="newWindow")&&I.setAttribute(R,n)}S&&a.addLinkAttributes(I,P.href,P.newWindow),f&&P.dataId&&this.setupStorage(I,P.dataId,b,f)}static render(I){var g;const b=I.annotationStorage,f=I.linkService,s=I.xfaHtml,a=I.intent||"display",P=document.createElement(s.name);s.attributes&&this.setAttributes({html:P,element:s,intent:a,linkService:f});const S=[[s,-1,P]],R=I.div;if(R.append(P),I.viewport){const m=`matrix(${I.viewport.transform.join(",")})`;R.style.transform=m}a!=="richText"&&R.setAttribute("class","xfaLayer xfaFont");const n=[];for(;S.length>0;){const[m,A,T]=S.at(-1);if(A+1===m.children.length){S.pop();continue}const E=m.children[++S.at(-1)[1]];if(E===null)continue;const{name:C}=E;if(C==="#text"){const c=document.createTextNode(E.value);n.push(c),T.append(c);continue}const l=(g=E==null?void 0:E.attributes)!=null&&g.xmlns?document.createElementNS(E.attributes.xmlns,C):document.createElement(C);if(T.append(l),E.attributes&&this.setAttributes({html:l,element:E,storage:b,intent:a,linkService:f}),E.children&&E.children.length>0)S.push([E,-1,l]);else if(E.value){const c=document.createTextNode(E.value);i.XfaText.shouldBuildText(C)&&n.push(c),l.append(c)}}for(const m of R.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:n}}static update(I){const b=`matrix(${I.viewport.transform.join(",")})`;I.div.style.transform=b,I.div.hidden=!1}}t.XfaLayer=u},(e,t,o)=>{var f,s,a,P,S,R,n,g,m,A,T,E,C,l,c,y,In,_,kn,F,On,le,Fn,Y,yi,ee,Nn,q,Si,ge,Dn,W,Bn,d,Vn,x,Un,$,Hn,he,rt,z,Ei,te,Bt,de,Vt,Te,ut,Re,Ai,ne,Ut,me,jn,Oe,Pi,We,zn,ze,Wn,Ge,Ci,k,Ht,Ae,ft;Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var i=o(1),u=o(4),L=o(29),I=o(5);const ye=class ye extends u.AnnotationEditor{constructor(J){super({...J,name:"inkEditor"});V(this,y);V(this,_);V(this,F);V(this,le);V(this,Y);V(this,ee);V(this,q);V(this,ge);V(this,W);V(this,d);V(this,x);V(this,$);V(this,he);V(this,z);V(this,te);V(this,de);V(this,Te);V(this,Re);V(this,ne);V(this,ze);V(this,Ge);V(this,k);V(this,Ae);V(this,f,0);V(this,s,0);V(this,a,this.canvasContextMenu.bind(this));V(this,P,this.canvasPointermove.bind(this));V(this,S,this.canvasPointerleave.bind(this));V(this,R,this.canvasPointerup.bind(this));V(this,n,this.canvasPointerdown.bind(this));V(this,g,new Path2D);V(this,m,!1);V(this,A,!1);V(this,T,!1);V(this,E,null);V(this,C,0);V(this,l,0);V(this,c,null);this.color=J.color||null,this.thickness=J.thickness||null,this.opacity=J.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(J){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(Ce=>[Ce,J.get(Ce)]))}static updateDefaultParams(J,Ce){switch(J){case i.AnnotationEditorParamsType.INK_THICKNESS:ye._defaultThickness=Ce;break;case i.AnnotationEditorParamsType.INK_COLOR:ye._defaultColor=Ce;break;case i.AnnotationEditorParamsType.INK_OPACITY:ye._defaultOpacity=Ce/100;break}}updateParams(J,Ce){switch(J){case i.AnnotationEditorParamsType.INK_THICKNESS:X(this,y,In).call(this,Ce);break;case i.AnnotationEditorParamsType.INK_COLOR:X(this,_,kn).call(this,Ce);break;case i.AnnotationEditorParamsType.INK_OPACITY:X(this,F,On).call(this,Ce);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,ye._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,ye._defaultColor||u.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(ye._defaultOpacity*100)]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ye._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||ye._defaultColor||u.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??ye._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(X(this,te,Bt).call(this),X(this,de,Vt).call(this)),this.isAttachedToDOM||(this.parent.add(this),X(this,Te,ut).call(this)),X(this,Ae,ft).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,r(this,E).disconnect(),pe(this,E,null),super.remove())}setParent(J){!this.parent&&J?this._uiManager.removeShouldRescale(this):this.parent&&J===null&&this._uiManager.addShouldRescale(this),super.setParent(J)}onScaleChanging(){const[J,Ce]=this.parentDimensions,Fe=this.width*J,Le=this.height*Ce;this.setDimensions(Fe,Le)}enableEditMode(){r(this,m)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",r(this,n)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",r(this,n)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){r(this,m)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),pe(this,m,!0),this.div.classList.add("disabled"),X(this,Ae,ft).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(J){this._focusEventsAllowed&&(super.focusin(J),this.enableEditMode())}canvasPointerdown(J){J.button!==0||!this.isInEditMode()||r(this,m)||(this.setInForeground(),J.preventDefault(),J.type!=="mouse"&&this.div.focus(),X(this,ee,Nn).call(this,J.offsetX,J.offsetY))}canvasContextMenu(J){J.preventDefault()}canvasPointermove(J){J.preventDefault(),X(this,q,Si).call(this,J.offsetX,J.offsetY)}canvasPointerup(J){J.preventDefault(),X(this,z,Ei).call(this,J)}canvasPointerleave(J){X(this,z,Ei).call(this,J)}get isResizable(){return!this.isEmpty()&&r(this,m)}render(){if(this.div)return this.div;let J,Ce;this.width&&(J=this.x,Ce=this.y),super.render(),ye._l10nPromise.get("editor_ink2_aria_label").then(re=>{var oe;return(oe=this.div)==null?void 0:oe.setAttribute("aria-label",re)});const[Fe,Le,Z,H]=X(this,le,Fn).call(this);if(this.setAt(Fe,Le,0,0),this.setDims(Z,H),X(this,te,Bt).call(this),this.width){const[re,oe]=this.parentDimensions;this.setAspectRatio(this.width*re,this.height*oe),this.setAt(J*re,Ce*oe,this.width*re,this.height*oe),pe(this,T,!0),X(this,Te,ut).call(this),this.setDims(this.width*re,this.height*oe),X(this,he,rt).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return X(this,de,Vt).call(this),this.div}setDimensions(J,Ce){const Fe=Math.round(J),Le=Math.round(Ce);if(r(this,C)===Fe&&r(this,l)===Le)return;pe(this,C,Fe),pe(this,l,Le),this.canvas.style.visibility="hidden";const[Z,H]=this.parentDimensions;this.width=J/Z,this.height=Ce/H,this.fixAndSetPosition(),r(this,m)&&X(this,Re,Ai).call(this,J,Ce),X(this,Te,ut).call(this),X(this,he,rt).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(J,Ce,Fe){var Ve,Ne,He;if(J instanceof L.InkAnnotationElement)return null;const Le=super.deserialize(J,Ce,Fe);Le.thickness=J.thickness,Le.color=i.Util.makeHexColor(...J.color),Le.opacity=J.opacity;const[Z,H]=Le.pageDimensions,re=Le.width*Z,oe=Le.height*H,_e=Le.parentScale,Me=J.thickness/2;pe(Le,m,!0),pe(Le,C,Math.round(re)),pe(Le,l,Math.round(oe));const{paths:Be,rect:ae,rotation:Se}=J;for(let{bezier:$e}of Be){$e=X(Ve=ye,We,zn).call(Ve,$e,ae,Se);const qe=[];Le.paths.push(qe);let Ye=_e*($e[0]-Me),Ze=_e*($e[1]-Me);for(let Je=2,Qe=$e.length;Je<Qe;Je+=6){const it=_e*($e[Je]-Me),tt=_e*($e[Je+1]-Me),nt=_e*($e[Je+2]-Me),Zs=_e*($e[Je+3]-Me),cn=_e*($e[Je+4]-Me),dn=_e*($e[Je+5]-Me);qe.push([[Ye,Ze],[it,tt],[nt,Zs],[cn,dn]]),Ye=cn,Ze=dn}const et=X(this,me,jn).call(this,qe);Le.bezierPath2D.push(et)}const Ie=X(Ne=Le,Ge,Ci).call(Ne);return pe(Le,s,Math.max(u.AnnotationEditor.MIN_SIZE,Ie[2]-Ie[0])),pe(Le,f,Math.max(u.AnnotationEditor.MIN_SIZE,Ie[3]-Ie[1])),X(He=Le,Re,Ai).call(He,re,oe),Le}serialize(){if(this.isEmpty())return null;const J=this.getRect(0,0),Ce=u.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:Ce,thickness:this.thickness,opacity:this.opacity,paths:X(this,ze,Wn).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,J),pageIndex:this.pageIndex,rect:J,rotation:this.rotation}}};f=new WeakMap,s=new WeakMap,a=new WeakMap,P=new WeakMap,S=new WeakMap,R=new WeakMap,n=new WeakMap,g=new WeakMap,m=new WeakMap,A=new WeakMap,T=new WeakMap,E=new WeakMap,C=new WeakMap,l=new WeakMap,c=new WeakMap,y=new WeakSet,In=function(J){const Ce=this.thickness;this.addCommands({cmd:()=>{this.thickness=J,X(this,Ae,ft).call(this)},undo:()=>{this.thickness=Ce,X(this,Ae,ft).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},_=new WeakSet,kn=function(J){const Ce=this.color;this.addCommands({cmd:()=>{this.color=J,X(this,he,rt).call(this)},undo:()=>{this.color=Ce,X(this,he,rt).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},F=new WeakSet,On=function(J){J/=100;const Ce=this.opacity;this.addCommands({cmd:()=>{this.opacity=J,X(this,he,rt).call(this)},undo:()=>{this.opacity=Ce,X(this,he,rt).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},le=new WeakSet,Fn=function(){const{parentRotation:J,parentDimensions:[Ce,Fe]}=this;switch(J){case 90:return[0,Fe,Fe,Ce];case 180:return[Ce,Fe,Ce,Fe];case 270:return[Ce,0,Fe,Ce];default:return[0,0,Ce,Fe]}},Y=new WeakSet,yi=function(){const{ctx:J,color:Ce,opacity:Fe,thickness:Le,parentScale:Z,scaleFactor:H}=this;J.lineWidth=Le*Z/H,J.lineCap="round",J.lineJoin="round",J.miterLimit=10,J.strokeStyle=`${Ce}${(0,I.opacityToHex)(Fe)}`},ee=new WeakSet,Nn=function(J,Ce){this.canvas.addEventListener("contextmenu",r(this,a)),this.canvas.addEventListener("pointerleave",r(this,S)),this.canvas.addEventListener("pointermove",r(this,P)),this.canvas.addEventListener("pointerup",r(this,R)),this.canvas.removeEventListener("pointerdown",r(this,n)),this.isEditing=!0,r(this,T)||(pe(this,T,!0),X(this,Te,ut).call(this),this.thickness||(this.thickness=ye._defaultThickness),this.color||(this.color=ye._defaultColor||u.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=ye._defaultOpacity)),this.currentPath.push([J,Ce]),pe(this,A,!1),X(this,Y,yi).call(this),pe(this,c,()=>{X(this,d,Vn).call(this),r(this,c)&&window.requestAnimationFrame(r(this,c))}),window.requestAnimationFrame(r(this,c))},q=new WeakSet,Si=function(J,Ce){const[Fe,Le]=this.currentPath.at(-1);if(this.currentPath.length>1&&J===Fe&&Ce===Le)return;const Z=this.currentPath;let H=r(this,g);if(Z.push([J,Ce]),pe(this,A,!0),Z.length<=2){H.moveTo(...Z[0]),H.lineTo(J,Ce);return}Z.length===3&&(pe(this,g,H=new Path2D),H.moveTo(...Z[0])),X(this,x,Un).call(this,H,...Z.at(-3),...Z.at(-2),J,Ce)},ge=new WeakSet,Dn=function(){if(this.currentPath.length===0)return;const J=this.currentPath.at(-1);r(this,g).lineTo(...J)},W=new WeakSet,Bn=function(J,Ce){pe(this,c,null),J=Math.min(Math.max(J,0),this.canvas.width),Ce=Math.min(Math.max(Ce,0),this.canvas.height),X(this,q,Si).call(this,J,Ce),X(this,ge,Dn).call(this);let Fe;if(this.currentPath.length!==1)Fe=X(this,$,Hn).call(this);else{const oe=[J,Ce];Fe=[[oe,oe.slice(),oe.slice(),oe]]}const Le=r(this,g),Z=this.currentPath;this.currentPath=[],pe(this,g,new Path2D);const H=()=>{this.allRawPaths.push(Z),this.paths.push(Fe),this.bezierPath2D.push(Le),this.rebuild()},re=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(X(this,te,Bt).call(this),X(this,de,Vt).call(this)),X(this,Ae,ft).call(this))};this.addCommands({cmd:H,undo:re,mustExec:!0})},d=new WeakSet,Vn=function(){if(!r(this,A))return;pe(this,A,!1);const J=Math.ceil(this.thickness*this.parentScale),Ce=this.currentPath.slice(-3),Fe=Ce.map(H=>H[0]),Le=Ce.map(H=>H[1]);Math.min(...Fe)-J,Math.max(...Fe)+J,Math.min(...Le)-J,Math.max(...Le)+J;const{ctx:Z}=this;Z.save(),Z.clearRect(0,0,this.canvas.width,this.canvas.height);for(const H of this.bezierPath2D)Z.stroke(H);Z.stroke(r(this,g)),Z.restore()},x=new WeakSet,Un=function(J,Ce,Fe,Le,Z,H,re){const oe=(Ce+Le)/2,_e=(Fe+Z)/2,Me=(Le+H)/2,Be=(Z+re)/2;J.bezierCurveTo(oe+2*(Le-oe)/3,_e+2*(Z-_e)/3,Me+2*(Le-Me)/3,Be+2*(Z-Be)/3,Me,Be)},$=new WeakSet,Hn=function(){const J=this.currentPath;if(J.length<=2)return[[J[0],J[0],J.at(-1),J.at(-1)]];const Ce=[];let Fe,[Le,Z]=J[0];for(Fe=1;Fe<J.length-2;Fe++){const[ae,Se]=J[Fe],[Ie,Ve]=J[Fe+1],Ne=(ae+Ie)/2,He=(Se+Ve)/2,$e=[Le+2*(ae-Le)/3,Z+2*(Se-Z)/3],qe=[Ne+2*(ae-Ne)/3,He+2*(Se-He)/3];Ce.push([[Le,Z],$e,qe,[Ne,He]]),[Le,Z]=[Ne,He]}const[H,re]=J[Fe],[oe,_e]=J[Fe+1],Me=[Le+2*(H-Le)/3,Z+2*(re-Z)/3],Be=[oe+2*(H-oe)/3,_e+2*(re-_e)/3];return Ce.push([[Le,Z],Me,Be,[oe,_e]]),Ce},he=new WeakSet,rt=function(){if(this.isEmpty()){X(this,ne,Ut).call(this);return}X(this,Y,yi).call(this);const{canvas:J,ctx:Ce}=this;Ce.setTransform(1,0,0,1,0,0),Ce.clearRect(0,0,J.width,J.height),X(this,ne,Ut).call(this);for(const Fe of this.bezierPath2D)Ce.stroke(Fe)},z=new WeakSet,Ei=function(J){this.canvas.removeEventListener("pointerleave",r(this,S)),this.canvas.removeEventListener("pointermove",r(this,P)),this.canvas.removeEventListener("pointerup",r(this,R)),this.canvas.addEventListener("pointerdown",r(this,n)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",r(this,a))},10),X(this,W,Bn).call(this,J.offsetX,J.offsetY),this.addToAnnotationStorage(),this.setInBackground()},te=new WeakSet,Bt=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ye._l10nPromise.get("editor_ink_canvas_aria_label").then(J=>{var Ce;return(Ce=this.canvas)==null?void 0:Ce.setAttribute("aria-label",J)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},de=new WeakSet,Vt=function(){pe(this,E,new ResizeObserver(J=>{const Ce=J[0].contentRect;Ce.width&&Ce.height&&this.setDimensions(Ce.width,Ce.height)})),r(this,E).observe(this.div)},Te=new WeakSet,ut=function(){if(!r(this,T))return;const[J,Ce]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*J),this.canvas.height=Math.ceil(this.height*Ce),X(this,ne,Ut).call(this)},Re=new WeakSet,Ai=function(J,Ce){const Fe=X(this,k,Ht).call(this),Le=(J-Fe)/r(this,s),Z=(Ce-Fe)/r(this,f);this.scaleFactor=Math.min(Le,Z)},ne=new WeakSet,Ut=function(){const J=X(this,k,Ht).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+J,this.translationY*this.scaleFactor+J)},me=new WeakSet,jn=function(J){const Ce=new Path2D;for(let Fe=0,Le=J.length;Fe<Le;Fe++){const[Z,H,re,oe]=J[Fe];Fe===0&&Ce.moveTo(...Z),Ce.bezierCurveTo(H[0],H[1],re[0],re[1],oe[0],oe[1])}return Ce},Oe=new WeakSet,Pi=function(J,Ce,Fe){const[Le,Z,H,re]=Ce;switch(Fe){case 0:for(let oe=0,_e=J.length;oe<_e;oe+=2)J[oe]+=Le,J[oe+1]=re-J[oe+1];break;case 90:for(let oe=0,_e=J.length;oe<_e;oe+=2){const Me=J[oe];J[oe]=J[oe+1]+Le,J[oe+1]=Me+Z}break;case 180:for(let oe=0,_e=J.length;oe<_e;oe+=2)J[oe]=H-J[oe],J[oe+1]+=Z;break;case 270:for(let oe=0,_e=J.length;oe<_e;oe+=2){const Me=J[oe];J[oe]=H-J[oe+1],J[oe+1]=re-Me}break;default:throw new Error("Invalid rotation")}return J},We=new WeakSet,zn=function(J,Ce,Fe){const[Le,Z,H,re]=Ce;switch(Fe){case 0:for(let oe=0,_e=J.length;oe<_e;oe+=2)J[oe]-=Le,J[oe+1]=re-J[oe+1];break;case 90:for(let oe=0,_e=J.length;oe<_e;oe+=2){const Me=J[oe];J[oe]=J[oe+1]-Z,J[oe+1]=Me-Le}break;case 180:for(let oe=0,_e=J.length;oe<_e;oe+=2)J[oe]=H-J[oe],J[oe+1]-=Z;break;case 270:for(let oe=0,_e=J.length;oe<_e;oe+=2){const Me=J[oe];J[oe]=re-J[oe+1],J[oe+1]=H-Me}break;default:throw new Error("Invalid rotation")}return J},ze=new WeakSet,Wn=function(J,Ce,Fe,Le){var _e,Me;const Z=[],H=this.thickness/2,re=J*Ce+H,oe=J*Fe+H;for(const Be of this.paths){const ae=[],Se=[];for(let Ie=0,Ve=Be.length;Ie<Ve;Ie++){const[Ne,He,$e,qe]=Be[Ie],Ye=J*Ne[0]+re,Ze=J*Ne[1]+oe,et=J*He[0]+re,Je=J*He[1]+oe,Qe=J*$e[0]+re,it=J*$e[1]+oe,tt=J*qe[0]+re,nt=J*qe[1]+oe;Ie===0&&(ae.push(Ye,Ze),Se.push(Ye,Ze)),ae.push(et,Je,Qe,it,tt,nt),Se.push(et,Je),Ie===Ve-1&&Se.push(tt,nt)}Z.push({bezier:X(_e=ye,Oe,Pi).call(_e,ae,Le,this.rotation),points:X(Me=ye,Oe,Pi).call(Me,Se,Le,this.rotation)})}return Z},Ge=new WeakSet,Ci=function(){let J=1/0,Ce=-1/0,Fe=1/0,Le=-1/0;for(const Z of this.paths)for(const[H,re,oe,_e]of Z){const Me=i.Util.bezierBoundingBox(...H,...re,...oe,..._e);J=Math.min(J,Me[0]),Fe=Math.min(Fe,Me[1]),Ce=Math.max(Ce,Me[2]),Le=Math.max(Le,Me[3])}return[J,Fe,Ce,Le]},k=new WeakSet,Ht=function(){return r(this,m)?Math.ceil(this.thickness*this.parentScale):0},Ae=new WeakSet,ft=function(J=!1){if(this.isEmpty())return;if(!r(this,m)){X(this,he,rt).call(this);return}const Ce=X(this,Ge,Ci).call(this),Fe=X(this,k,Ht).call(this);pe(this,s,Math.max(u.AnnotationEditor.MIN_SIZE,Ce[2]-Ce[0])),pe(this,f,Math.max(u.AnnotationEditor.MIN_SIZE,Ce[3]-Ce[1]));const Le=Math.ceil(Fe+r(this,s)*this.scaleFactor),Z=Math.ceil(Fe+r(this,f)*this.scaleFactor),[H,re]=this.parentDimensions;this.width=Le/H,this.height=Z/re,this.setAspectRatio(Le,Z);const oe=this.translationX,_e=this.translationY;this.translationX=-Ce[0],this.translationY=-Ce[1],X(this,Te,ut).call(this),X(this,he,rt).call(this),pe(this,C,Le),pe(this,l,Z),this.setDims(Le,Z);const Me=J?Fe/this.scaleFactor/2:0;this.translate(oe-this.translationX-Me,_e-this.translationY-Me)},V(ye,me),V(ye,Oe),V(ye,We),Ke(ye,"_defaultColor",null),Ke(ye,"_defaultOpacity",1),Ke(ye,"_defaultThickness",1),Ke(ye,"_l10nPromise"),Ke(ye,"_type","ink");let b=ye;t.InkEditor=b},(e,t,o)=>{var f,s,a,P,S,R,n,g,m,A,T,St,C,Et,c,jt,v,Ti,O,$n,K,Gn,B,Ri,se,zt,N,qn;Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var i=o(1),u=o(4),L=o(6),I=o(29);const G=class G extends u.AnnotationEditor{constructor(W){super({...W,name:"stampEditor"});V(this,T);V(this,C);V(this,c);V(this,v);V(this,O);V(this,K);V(this,B);V(this,se);V(this,N);V(this,f,null);V(this,s,null);V(this,a,null);V(this,P,null);V(this,S,null);V(this,R,null);V(this,n,null);V(this,g,null);V(this,m,!1);V(this,A,!1);pe(this,P,W.bitmapUrl),pe(this,S,W.bitmapFile)}static get supportedTypes(){const W=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,i.shadow)(this,"supportedTypes",W.map(M=>`image/${M}`))}static get supportedTypesStr(){return(0,i.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(W){return this.supportedTypes.includes(W)}static paste(W,M){M.pasteEditor(i.AnnotationEditorType.STAMP,{bitmapFile:W.getAsFile()})}remove(){var W,M;r(this,s)&&(pe(this,f,null),this._uiManager.imageManager.deleteId(r(this,s)),(W=r(this,R))==null||W.remove(),pe(this,R,null),(M=r(this,n))==null||M.disconnect(),pe(this,n,null)),super.remove()}rebuild(){if(!this.parent){r(this,s)&&X(this,c,jt).call(this);return}super.rebuild(),this.div!==null&&(r(this,s)&&X(this,c,jt).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(r(this,a)||r(this,f)||r(this,P)||r(this,S))}get isResizable(){return!0}render(){if(this.div)return this.div;let W,M;if(this.width&&(W=this.x,M=this.y),super.render(),this.div.hidden=!0,r(this,f)?X(this,v,Ti).call(this):X(this,c,jt).call(this),this.width){const[d,w]=this.parentDimensions;this.setAt(W*d,M*w,this.width*d,this.height*w)}return this.div}static deserialize(W,M,d){if(W instanceof I.StampAnnotationElement)return null;const w=super.deserialize(W,M,d),{rect:x,bitmapUrl:D,bitmapId:$,isSvg:ie}=W;$&&d.imageManager.isValidId($)?pe(w,s,$):pe(w,P,D),pe(w,m,ie);const[he,U]=w.pageDimensions;return w.width=(x[2]-x[0])/he,w.height=(x[3]-x[1])/U,w}serialize(W=!1,M=null){if(this.isEmpty())return null;const d={annotationType:i.AnnotationEditorType.STAMP,bitmapId:r(this,s),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:r(this,m)};if(W)return d.bitmapUrl=X(this,se,zt).call(this,!0),d;if(M===null)return d;M.stamps||(M.stamps=new Map);const w=r(this,m)?(d.rect[2]-d.rect[0])*(d.rect[3]-d.rect[1]):null;if(!M.stamps.has(r(this,s)))M.stamps.set(r(this,s),{area:w,serialized:d}),d.bitmap=X(this,se,zt).call(this,!1);else if(r(this,m)){const x=M.stamps.get(r(this,s));w>x.area&&(x.area=w,x.serialized.bitmap.close(),x.serialized.bitmap=X(this,se,zt).call(this,!1))}return d}};f=new WeakMap,s=new WeakMap,a=new WeakMap,P=new WeakMap,S=new WeakMap,R=new WeakMap,n=new WeakMap,g=new WeakMap,m=new WeakMap,A=new WeakMap,T=new WeakSet,St=function(W,M=!1){if(!W){this.remove();return}pe(this,f,W.bitmap),M||(pe(this,s,W.id),pe(this,m,W.isSvg)),X(this,v,Ti).call(this)},C=new WeakSet,Et=function(){pe(this,a,null),this._uiManager.enableWaiting(!1),r(this,R)&&this.div.focus()},c=new WeakSet,jt=function(){if(r(this,s)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(r(this,s)).then(M=>X(this,T,St).call(this,M,!0)).finally(()=>X(this,C,Et).call(this));return}if(r(this,P)){const M=r(this,P);pe(this,P,null),this._uiManager.enableWaiting(!0),pe(this,a,this._uiManager.imageManager.getFromUrl(M).then(d=>X(this,T,St).call(this,d)).finally(()=>X(this,C,Et).call(this)));return}if(r(this,S)){const M=r(this,S);pe(this,S,null),this._uiManager.enableWaiting(!0),pe(this,a,this._uiManager.imageManager.getFromFile(M).then(d=>X(this,T,St).call(this,d)).finally(()=>X(this,C,Et).call(this)));return}const W=document.createElement("input");W.type="file",W.accept=G.supportedTypesStr,pe(this,a,new Promise(M=>{W.addEventListener("change",async()=>{if(!W.files||W.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const d=await this._uiManager.imageManager.getFromFile(W.files[0]);X(this,T,St).call(this,d)}M()}),W.addEventListener("cancel",()=>{this.remove(),M()})}).finally(()=>X(this,C,Et).call(this))),W.click()},v=new WeakSet,Ti=function(){const{div:W}=this;let{width:M,height:d}=r(this,f);const[w,x]=this.pageDimensions,D=.75;if(this.width)M=this.width*w,d=this.height*x;else if(M>D*w||d>D*x){const U=Math.min(D*w/M,D*x/d);M*=U,d*=U}const[$,ie]=this.parentDimensions;this.setDims(M*$/w,d*ie/x),this._uiManager.enableWaiting(!1);const he=pe(this,R,document.createElement("canvas"));W.append(he),W.hidden=!1,X(this,B,Ri).call(this,M,d),X(this,N,qn).call(this),r(this,A)||(this.parent.addUndoableEditor(this),pe(this,A,!0))},O=new WeakSet,$n=function(W,M){var D;const[d,w]=this.parentDimensions;this.width=W/d,this.height=M/w,this.setDims(W,M),(D=this._initialOptions)!=null&&D.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,r(this,g)!==null&&clearTimeout(r(this,g)),pe(this,g,setTimeout(()=>{pe(this,g,null),X(this,B,Ri).call(this,W,M)},200))},K=new WeakSet,Gn=function(W,M){const{width:d,height:w}=r(this,f);let x=d,D=w,$=r(this,f);for(;x>2*W||D>2*M;){const ie=x,he=D;x>2*W&&(x=x>=16384?Math.floor(x/2)-1:Math.ceil(x/2)),D>2*M&&(D=D>=16384?Math.floor(D/2)-1:Math.ceil(D/2));const U=new OffscreenCanvas(x,D);U.getContext("2d").drawImage($,0,0,ie,he,0,0,x,D),$=U.transferToImageBitmap()}return $},B=new WeakSet,Ri=function(W,M){W=Math.ceil(W),M=Math.ceil(M);const d=r(this,R);if(!d||d.width===W&&d.height===M)return;d.width=W,d.height=M;const w=r(this,m)?r(this,f):X(this,K,Gn).call(this,W,M),x=d.getContext("2d");x.filter=this._uiManager.hcmFilter,x.drawImage(w,0,0,w.width,w.height,0,0,W,M)},se=new WeakSet,zt=function(W){if(W){if(r(this,m)){const w=this._uiManager.imageManager.getSvgUrl(r(this,s));if(w)return w}const M=document.createElement("canvas");return{width:M.width,height:M.height}=r(this,f),M.getContext("2d").drawImage(r(this,f),0,0),M.toDataURL()}if(r(this,m)){const[M,d]=this.pageDimensions,w=Math.round(this.width*M*L.PixelsPerInch.PDF_TO_CSS_UNITS),x=Math.round(this.height*d*L.PixelsPerInch.PDF_TO_CSS_UNITS),D=new OffscreenCanvas(w,x);return D.getContext("2d").drawImage(r(this,f),0,0,r(this,f).width,r(this,f).height,0,0,w,x),D.transferToImageBitmap()}return structuredClone(r(this,f))},N=new WeakSet,qn=function(){pe(this,n,new ResizeObserver(W=>{const M=W[0].contentRect;M.width&&M.height&&X(this,O,$n).call(this,M.width,M.height)})),r(this,n).observe(this.div)},Ke(G,"_type","stamp");let b=G;t.StampEditor=b}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var o=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](o,o.exports,__w_pdfjs_require__),o.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return L.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return I.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return b.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return f.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return o.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return o.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return o.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return s.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return o.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return o.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return i.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return u.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return i.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return u.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return o.version}});var t=__w_pdfjs_require__(1),o=__w_pdfjs_require__(2),i=__w_pdfjs_require__(6),u=__w_pdfjs_require__(26),L=__w_pdfjs_require__(27),I=__w_pdfjs_require__(5),b=__w_pdfjs_require__(29),f=__w_pdfjs_require__(14),s=__w_pdfjs_require__(32)})(),__webpack_exports__})())}(pdf)),pdf.exports}(function(e,t){(function(i,u){e.exports=u()})(globalThis,()=>(()=>{var o=[,(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createViewerApp=C,b.getActiveApp=E,b.getViewerConfiguration=m,b.initManager=T;var s=f(2),a=f(9),P=f(53),S=R(f(54));function R(l){return l&&l.__esModule?l:{default:l}}let n,g=null;function m(l){return{appContainer:l,mainContainer:l.querySelector("[data-dom-id='viewerContainer']"),viewerContainer:l.querySelector("[data-dom-id='viewer']"),toolbar:{container:l.querySelector("[data-dom-id='toolbarViewer']"),numPages:l.querySelector("[data-dom-id='numPages']"),pageNumber:l.querySelector("[data-dom-id='pageNumber']"),scaleSelect:l.querySelector("[data-dom-id='scaleSelect']"),customScaleOption:l.querySelector("[data-dom-id='customScaleOption']"),previous:l.querySelector("[data-dom-id='previous']"),next:l.querySelector("[data-dom-id='next']"),zoomIn:l.querySelector("[data-dom-id='zoomIn']"),zoomOut:l.querySelector("[data-dom-id='zoomOut']"),viewFind:l.querySelector("[data-dom-id='viewFind']"),openFile:l.querySelector("[data-dom-id='openFile']"),print:l.querySelector("[data-dom-id='print']"),editorFreeTextButton:l.querySelector("[data-dom-id='editorFreeText']"),editorFreeTextParamsToolbar:l.querySelector("[data-dom-id='editorFreeTextParamsToolbar']"),editorInkButton:l.querySelector("[data-dom-id='editorInk']"),editorInkParamsToolbar:l.querySelector("[data-dom-id='editorInkParamsToolbar']"),editorStampButton:l.querySelector("[data-dom-id='editorStamp']"),download:l.querySelector("[data-dom-id='download']")},secondaryToolbar:{toolbar:l.querySelector("[data-dom-id='secondaryToolbar']"),toggleButton:l.querySelector("[data-dom-id='secondaryToolbarToggle']"),presentationModeButton:l.querySelector("[data-dom-id='presentationMode']"),openFileButton:l.querySelector("[data-dom-id='secondaryOpenFile']"),printButton:l.querySelector("[data-dom-id='secondaryPrint']"),downloadButton:l.querySelector("[data-dom-id='secondaryDownload']"),viewBookmarkButton:l.querySelector("[data-dom-id='viewBookmark']"),firstPageButton:l.querySelector("[data-dom-id='firstPage']"),lastPageButton:l.querySelector("[data-dom-id='lastPage']"),pageRotateCwButton:l.querySelector("[data-dom-id='pageRotateCw']"),pageRotateCcwButton:l.querySelector("[data-dom-id='pageRotateCcw']"),cursorSelectToolButton:l.querySelector("[data-dom-id='cursorSelectTool']"),cursorHandToolButton:l.querySelector("[data-dom-id='cursorHandTool']"),scrollPageButton:l.querySelector("[data-dom-id='scrollPage']"),scrollVerticalButton:l.querySelector("[data-dom-id='scrollVertical']"),scrollHorizontalButton:l.querySelector("[data-dom-id='scrollHorizontal']"),scrollWrappedButton:l.querySelector("[data-dom-id='scrollWrapped']"),spreadNoneButton:l.querySelector("[data-dom-id='spreadNone']"),spreadOddButton:l.querySelector("[data-dom-id='spreadOdd']"),spreadEvenButton:l.querySelector("[data-dom-id='spreadEven']"),documentPropertiesButton:l.querySelector("[data-dom-id='documentProperties']")},sidebar:{outerContainer:l.querySelector("[data-dom-id='outerContainer']"),sidebarContainer:l.querySelector("[data-dom-id='sidebarContainer']"),toggleButton:l.querySelector("[data-dom-id='sidebarToggle']"),resizer:l.querySelector("[data-dom-id='sidebarResizer']"),thumbnailButton:l.querySelector("[data-dom-id='viewThumbnail']"),outlineButton:l.querySelector("[data-dom-id='viewOutline']"),attachmentsButton:l.querySelector("[data-dom-id='viewAttachments']"),layersButton:l.querySelector("[data-dom-id='viewLayers']"),thumbnailView:l.querySelector("[data-dom-id='thumbnailView']"),outlineView:l.querySelector("[data-dom-id='outlineView']"),attachmentsView:l.querySelector("[data-dom-id='attachmentsView']"),layersView:l.querySelector("[data-dom-id='layersView']"),outlineOptionsContainer:l.querySelector("[data-dom-id='outlineOptionsContainer']"),currentOutlineItemButton:l.querySelector("[data-dom-id='currentOutlineItem']")},findBar:{bar:l.querySelector("[data-dom-id='findbar']"),toggleButton:l.querySelector("[data-dom-id='viewFind']"),findField:l.querySelector("[data-dom-id='findInput']"),highlightAllCheckbox:l.querySelector("[data-dom-id='findHighlightAll']"),caseSensitiveCheckbox:l.querySelector("[data-dom-id='findMatchCase']"),matchDiacriticsCheckbox:l.querySelector("[data-dom-id='findMatchDiacritics']"),entireWordCheckbox:l.querySelector("[data-dom-id='findEntireWord']"),findMsg:l.querySelector("[data-dom-id='findMsg']"),findResultsCount:l.querySelector("[data-dom-id='findResultsCount']"),findPreviousButton:l.querySelector("[data-dom-id='findPrevious']"),findNextButton:l.querySelector("[data-dom-id='findNext']")},passwordOverlay:{dialog:l.querySelector("[data-dom-id='passwordDialog']"),label:l.querySelector("[data-dom-id='passwordText']"),input:l.querySelector("[data-dom-id='password']"),submitButton:l.querySelector("[data-dom-id='passwordSubmit']"),cancelButton:l.querySelector("[data-dom-id='passwordCancel']")},documentProperties:{dialog:l.querySelector("[data-dom-id='documentPropertiesDialog']"),closeButton:l.querySelector("[data-dom-id='documentPropertiesClose']"),fields:{fileName:l.querySelector("[data-dom-id='fileNameField']"),fileSize:l.querySelector("[data-dom-id='fileSizeField']"),title:l.querySelector("[data-dom-id='titleField']"),author:l.querySelector("[data-dom-id='authorField']"),subject:l.querySelector("[data-dom-id='subjectField']"),keywords:l.querySelector("[data-dom-id='keywordsField']"),creationDate:l.querySelector("[data-dom-id='creationDateField']"),modificationDate:l.querySelector("[data-dom-id='modificationDateField']"),creator:l.querySelector("[data-dom-id='creatorField']"),producer:l.querySelector("[data-dom-id='producerField']"),version:l.querySelector("[data-dom-id='versionField']"),pageCount:l.querySelector("[data-dom-id='pageCountField']"),pageSize:l.querySelector("[data-dom-id='pageSizeField']"),linearized:l.querySelector("[data-dom-id='linearizedField']")}},annotationEditorParams:{editorFreeTextFontSize:l.querySelector("[data-dom-id='editorFreeTextFontSize']"),editorFreeTextColor:l.querySelector("[data-dom-id='editorFreeTextColor']"),editorInkColor:l.querySelector("[data-dom-id='editorInkColor']"),editorInkThickness:l.querySelector("[data-dom-id='editorInkThickness']"),editorInkOpacity:l.querySelector("[data-dom-id='editorInkOpacity']"),editorStampAddImage:l.querySelector("[data-dom-id='editorStampAddImage']")},printContainer:l.querySelector("[data-dom-id='printContainer']"),openFileInput:l.querySelector("[data-dom-id='fileInput']"),debuggerScriptPath:"../pdf.js/web/debugger.js"}}function A(l){const{parent:c=null,resourcePath:y,src:v,disableCORSCheck:_=!1,disableAutoSetTitle:O=!1,appOptions:F={}}=l,K=`${y}/build/pdf.worker.js`,le=a.AppOptions;Object.keys(F).forEach(function(se){le.set(se,F[se])}),le.set("workerSrc",K),le.set("sandboxBundleSrc",`${y}/build/pdf.sandbox.js`),le.set("defaultUrl",v),le.set("disableCORSCheck",_),le.set("disableAutoSetTitle",O),le.set("disablePreferences",!0);const B=`${y}/web/locale/locale.properties`;(0,P.injectLocaleResource)(B);const Y=new s.PDFViewerApplication(le);if(n=Y,c){const se=(0,S.default)();c.appendChild(se);const ee=m(c);Y.run(ee)}return Y}function T(l){return g||(g={createApp(c){const y=A(c);return this._register(y),y},_register(c){let y=null;const v=function(_){y||(y=window.requestAnimationFrame(()=>{y=null,g.activateApp(_)}))};c.initializedPromise.then(()=>{l.forEach(_=>{c.appConfig.sidebar.outerContainer.addEventListener(_,()=>{v(c)})})})},activateApp(c){n!==c&&(n&&window.removeEventListener("keydown",n.helper.webViewerKeyDown),n=c,window.addEventListener("keydown",n.helper.webViewerKeyDown))}},g)}function E(){return n}function C(l){return T(["mousemove","click","mousedown","touchstart"]).createApp(l)}},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFViewerApplication=void 0;var s=f(3),a=f(8),P=f(44);class S extends a.ViewerApplication{constructor(n){super(),this.appOptions=n,this.helper=(0,s.createHelper)(this),this.bindServices()}bindServices(){(0,P.bindExternalService)(this),(0,P.bindPrintServiceFactory)(a.PDFPrintServiceFactory)}run(n){const{validateFileURL:g}=this.helper;return super.run(n,g)}bindEvents(){const n=this.appOptions,{eventBus:g,_boundEvents:m}=this;m.beforePrint=this.beforePrint.bind(this),m.afterPrint=this.afterPrint.bind(this);const{webViewerResize:A,webViewerHashchange:T,webViewerPageRendered:E,webViewerUpdateViewarea:C,webViewerPageChanging:l,webViewerScaleChanging:c,webViewerRotationChanging:y,webViewerSidebarViewChanged:v,webViewerPageMode:_,webViewerNamedAction:O,webViewerPresentationModeChanged:F,webViewerPresentationMode:K,webViewerPrint:le,webViewerDownload:B,webViewerSave:Y,webViewerFirstPage:se,webViewerLastPage:ee,webViewerNextPage:N,webViewerPreviousPage:q,webViewerZoomIn:G,webViewerZoomOut:ge,webViewerZoomReset:Pe,webViewerPageNumberChanged:W,webViewerScaleChanged:M,webViewerRotateCw:d,webViewerRotateCcw:w,webViewerOptionalContentConfig:x,webViewerSwitchScrollMode:D,webViewerScrollModeChanged:$,webViewerSwitchSpreadMode:ie,webViewerSpreadModeChanged:he,webViewerDocumentProperties:U,webViewerFindFromUrlHash:z,webViewerUpdateFindMatchesCount:j,webViewerUpdateFindControlState:te,reportPageStatsPDFBug:fe,webViewerFileInputChange:de,webViewerOpenFile:Ee,webViewerSwitchAnnotationEditorMode:Te,webViewerSwitchAnnotationEditorParams:ve,webViewerAnnotationEditorStatesChanged:Re,webViewerPageRender:ce,webViewerOpenInExternalApp:ne}=this.helper;g._on("resize",A),g._on("hashchange",T),g._on("beforeprint",m.beforePrint),g._on("afterprint",m.afterPrint),g._on("pagerender",ce),g._on("pagerendered",E),g._on("updateviewarea",C),g._on("pagechanging",l),g._on("scalechanging",c),g._on("rotationchanging",y),g._on("sidebarviewchanged",v),g._on("pagemode",_),g._on("namedaction",O),g._on("presentationmodechanged",F),g._on("presentationmode",K),g._on("switchannotationeditormode",Te),g._on("switchannotationeditorparams",ve),g._on("print",le),g._on("download",B),g._on("openinexternalapp",ne),g._on("firstpage",se),g._on("lastpage",ee),g._on("nextpage",N),g._on("previouspage",q),g._on("zoomin",G),g._on("zoomout",ge),g._on("zoomreset",Pe),g._on("pagenumberchanged",W),g._on("scalechanged",M),g._on("rotatecw",d),g._on("rotateccw",w),g._on("optionalcontentconfig",x),g._on("switchscrollmode",D),g._on("scrollmodechanged",$),g._on("switchspreadmode",ie),g._on("spreadmodechanged",he),g._on("documentproperties",U),g._on("findfromurlhash",z),g._on("updatefindmatchescount",j),g._on("updatefindcontrolstate",te),n.get("pdfBug")&&(m.reportPageStatsPDFBug=fe,g._on("pagerendered",m.reportPageStatsPDFBug),g._on("pagechanging",m.reportPageStatsPDFBug)),g._on("fileinputchange",de),g._on("openfile",Ee)}setTitle(n=this._title){if(this._title=n,this.isViewerEmbedded||this.appOptions.get("disableAutoSetTitle"))return;const g=this._hasAnnotationEditors&&!this.pdfRenderingQueue.printing;document.title=`${g?"* ":""}${n}`}bindWindowEvents(){const{eventBus:n,_boundEvents:g}=this,{webViewerVisibilityChange:m,webViewerWheel:A,webViewerTouchStart:T,webViewerTouchMove:E,webViewerTouchEnd:C,webViewerClick:l,webViewerKeyDown:c,webViewerKeyUp:y,webViewerResolutionChange:v}=this.helper;function _(O=null){O&&v(O);const F=window.matchMedia(`(resolution: ${window.devicePixelRatio||1}dppx)`);F.addEventListener("change",_,{once:!0}),g.removeWindowResolutionChange||(g.removeWindowResolutionChange=function(){F.removeEventListener("change",_),g.removeWindowResolutionChange=null})}_(),g.windowResize=()=>{n.dispatch("resize",{source:window})},g.windowHashChange=()=>{n.dispatch("hashchange",{source:window,hash:document.location.hash.substring(1)})},g.windowBeforePrint=()=>{n.dispatch("beforeprint",{source:window})},g.windowAfterPrint=()=>{n.dispatch("afterprint",{source:window})},g.windowUpdateFromSandbox=O=>{n.dispatch("updatefromsandbox",{source:window,detail:O.detail})},window.addEventListener("visibilitychange",m),window.addEventListener("wheel",A,{passive:!1}),window.addEventListener("touchstart",T,{passive:!1}),window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",C,{passive:!1}),window.addEventListener("click",l),window.addEventListener("keydown",c),window.addEventListener("keyup",y),window.addEventListener("resize",g.windowResize),window.addEventListener("hashchange",g.windowHashChange),window.addEventListener("beforeprint",g.windowBeforePrint),window.addEventListener("afterprint",g.windowAfterPrint),window.addEventListener("updatefromsandbox",g.windowUpdateFromSandbox)}unbindEvents(){const{eventBus:n,_boundEvents:g}=this,{webViewerResize:m,webViewerHashchange:A,webViewerPageRendered:T,webViewerUpdateViewarea:E,webViewerPageChanging:C,webViewerScaleChanging:l,webViewerRotationChanging:c,webViewerSidebarViewChanged:y,webViewerPageMode:v,webViewerNamedAction:_,webViewerPresentationModeChanged:O,webViewerPresentationMode:F,webViewerPrint:K,webViewerDownload:le,webViewerSave:B,webViewerFirstPage:Y,webViewerLastPage:se,webViewerNextPage:ee,webViewerPreviousPage:N,webViewerZoomIn:q,webViewerZoomOut:G,webViewerZoomReset:ge,webViewerPageNumberChanged:Pe,webViewerScaleChanged:W,webViewerRotateCw:M,webViewerRotateCcw:d,webViewerOptionalContentConfig:w,webViewerSwitchScrollMode:x,webViewerScrollModeChanged:D,webViewerSwitchSpreadMode:$,webViewerSpreadModeChanged:ie,webViewerDocumentProperties:he,webViewerFindFromUrlHash:U,webViewerUpdateFindMatchesCount:z,webViewerUpdateFindControlState:j,reportPageStatsPDFBug:te,webViewerFileInputChange:fe,webViewerOpenFile:de,webViewerPageRender:Ee,webViewerOpenInExternalApp:Te}=this.helper;n._off("resize",m),n._off("hashchange",A),n._off("beforeprint",g.beforePrint),n._off("afterprint",g.afterPrint),n._on("pagerender",Ee),n._off("pagerendered",T),n._off("updateviewarea",E),n._off("pagechanging",C),n._off("scalechanging",l),n._off("rotationchanging",c),n._off("sidebarviewchanged",y),n._off("pagemode",v),n._off("namedaction",_),n._off("presentationmodechanged",O),n._off("presentationmode",F),n._off("print",K),n._off("download",le),n._off("openinexternalapp",Te),n._off("firstpage",Y),n._off("lastpage",se),n._off("nextpage",ee),n._off("previouspage",N),n._off("zoomin",q),n._off("zoomout",G),n._off("zoomreset",ge),n._off("pagenumberchanged",Pe),n._off("scalechanged",W),n._off("rotatecw",M),n._off("rotateccw",d),n._off("optionalcontentconfig",w),n._off("switchscrollmode",x),n._off("scrollmodechanged",D),n._off("switchspreadmode",$),n._off("spreadmodechanged",ie),n._off("documentproperties",he),n._off("findfromurlhash",U),n._off("updatefindmatchescount",z),n._off("updatefindcontrolstate",j),g.reportPageStatsPDFBug&&(n._off("pagerendered",g.reportPageStatsPDFBug),n._off("pagechanging",g.reportPageStatsPDFBug),g.reportPageStatsPDFBug=null),n._off("fileinputchange",fe),n._off("openfile",de),g.beforePrint=null,g.afterPrint=null}unbindWindowEvents(){var y;const{_boundEvents:n}=this,{webViewerVisibilityChange:g,webViewerWheel:m,webViewerTouchStart:A,webViewerTouchMove:T,webViewerTouchEnd:E,webViewerClick:C,webViewerKeyDown:l,webViewerKeyUp:c}=this.helper;window.removeEventListener("visibilitychange",g),window.removeEventListener("wheel",m,{passive:!1}),window.removeEventListener("touchstart",A,{passive:!1}),window.removeEventListener("touchmove",T,{passive:!1}),window.removeEventListener("touchend",E,{passive:!1}),window.removeEventListener("click",C),window.removeEventListener("keydown",l),window.removeEventListener("keyup",c),window.removeEventListener("resize",n.windowResize),window.removeEventListener("hashchange",n.windowHashChange),window.removeEventListener("beforeprint",n.windowBeforePrint),window.removeEventListener("afterprint",n.windowAfterPrint),window.removeEventListener("updatefromsandbox",n.windowUpdateFromSandbox),(y=n.removeWindowResolutionChange)==null||y.call(n),n.windowResize=null,n.windowHashChange=null,n.windowBeforePrint=null,n.windowAfterPrint=null,n.windowUpdateFromSandbox=null}_initializeAnnotationStorageCallbacks(n){if(n!==this.pdfDocument)return;const{annotationStorage:g}=n;g.onSetModified=()=>{window.addEventListener("beforeunload",this.helper.beforeUnload),this._annotationStorageModified=!0},g.onResetModified=()=>{window.removeEventListener("beforeunload",this.helper.beforeUnload),delete this._annotationStorageModified},g.onAnnotationEditor=m=>{this._hasAnnotationEditors=!!m,this.setTitle(),m&&this.externalServices.reportTelemetry({type:"editing",data:{type:m}})}}}b.PDFViewerApplication=S},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createHelper=R;var s=f(4),a=f(5),P=f(6);const S=1e3;function R(n){const g=n.appOptions,m=["null","http://mozilla.github.io","https://mozilla.github.io"];var A=function(be){if(be)try{const ye=new URL(window.location.href).origin||"null";if(m.includes(ye)||g.get("disableCORSCheck"))return;if(new URL(be,window.location.href).origin!==ye)throw new Error("file origin does not match viewer's")}catch(ye){throw n.l10n.get("loading_error").then(we=>{n._documentError(we,{message:ye==null?void 0:ye.message})}),ye}};async function T(){var be;(be=a.GlobalWorkerOptions).workerSrc||(be.workerSrc=g.get("workerSrc")),await(0,a.loadScript)(a.PDFWorker.workerSrc)}async function E(be){const{debuggerScriptPath:ye}=be.appConfig,{PDFBug:we}=await __non_webpack_import__(ye);be._PDFBug=we}function C({pageNumber:be}){var we,xe;if(!((we=globalThis.Stats)!=null&&we.enabled))return;const ye=n.pdfViewer.getPageView(be-1);globalThis.Stats.add(be,(xe=ye==null?void 0:ye.pdfPage)==null?void 0:xe.stats)}function l({pageNumber:be}){var ye;be===n.page&&((ye=n.toolbar)==null||ye.updateLoadingIndicatorState(!0))}function c({pageNumber:be,error:ye}){var we,xe,J;if(be===n.page&&((we=n.toolbar)==null||we.updateLoadingIndicatorState(!1)),((xe=n.pdfSidebar)==null?void 0:xe.visibleView)===s.SidebarView.THUMBS){const Ce=n.pdfViewer.getPageView(be-1),Fe=(J=n.pdfThumbnailViewer)==null?void 0:J.getThumbnail(be-1);Ce&&(Fe==null||Fe.setImage(Ce))}ye&&n.l10n.get("rendering_error").then(Ce=>{n._otherError(Ce,ye)})}function y({mode:be}){var we;let ye;switch(be){case"thumbs":ye=s.SidebarView.THUMBS;break;case"bookmarks":case"outline":ye=s.SidebarView.OUTLINE;break;case"attachments":ye=s.SidebarView.ATTACHMENTS;break;case"layers":ye=s.SidebarView.LAYERS;break;case"none":ye=s.SidebarView.NONE;break;default:console.error('Invalid "pagemode" hash parameter: '+be);return}(we=n.pdfSidebar)==null||we.switchView(ye,!0)}function v(be){var ye;switch(be.action){case"GoToPage":(ye=n.appConfig.toolbar)==null||ye.pageNumber.select();break;case"Find":n.supportsIntegratedFind||n==null||n.findBar.toggle();break;case"Print":n.triggerPrinting();break;case"SaveAs":n.downloadOrSave();break}}function _(be){n.pdfViewer.presentationModeState=be.state}function O({view:be}){var ye;n.pdfRenderingQueue.isThumbnailViewEnabled=be===s.SidebarView.THUMBS,n.isInitialViewSet&&((ye=n.store)==null||ye.set("sidebarView",be).catch(()=>{}))}function F({location:be}){var ye;if(n.isInitialViewSet&&((ye=n.store)==null||ye.setMultiple({page:be.pageNumber,zoom:be.scale,scrollLeft:be.left,scrollTop:be.top,rotation:be.rotation}).catch(()=>{})),n.appConfig.secondaryToolbar){const we=n.pdfLinkService.getAnchorUrl(be.pdfOpenParams);n.appConfig.secondaryToolbar.viewBookmarkButton.href=we}}function K(be){var ye;n.isInitialViewSet&&!n.pdfViewer.isInPresentationMode&&((ye=n.store)==null||ye.set("scrollMode",be.mode).catch(()=>{}))}function le(be){var ye;n.isInitialViewSet&&!n.pdfViewer.isInPresentationMode&&((ye=n.store)==null||ye.set("spreadMode",be.mode).catch(()=>{}))}function B(){const{pdfDocument:be,pdfViewer:ye,pdfRenderingQueue:we}=n;if(we.printing&&window.matchMedia("print").matches||!be)return;const xe=ye.currentScaleValue;(xe==="auto"||xe==="page-fit"||xe==="page-width")&&(ye.currentScaleValue=xe),ye.update()}function Y(be){var we;const ye=be.hash;ye&&(n.isInitialViewSet?(we=n.pdfHistory)!=null&&we.popStateInProgress||n.pdfLinkService.setHash(ye):n.initialBookmark=ye)}var se=function(be){var we;if((we=n.pdfViewer)!=null&&we.isInPresentationMode)return;const ye=be.fileInput.files[0];n.open({url:URL.createObjectURL(ye),originalUrl:ye.name})},ee=function(be){n.appConfig.openFileInput.click()};function N(){n.requestPresentationMode()}function q(be){n.pdfViewer.annotationEditorMode=be}function G(be){n.pdfViewer.annotationEditorParams=be}function ge(){n.triggerPrinting()}function Pe(){n.downloadOrSave()}function W(){n.openInExternalApp()}function M(){n.page=1}function d(){n.page=n.pagesCount}function w(){n.pdfViewer.nextPage()}function x(){n.pdfViewer.previousPage()}function D(){n.zoomIn()}function $(){n.zoomOut()}function ie(){n.zoomReset()}function he(be){var we;const ye=n.pdfViewer;be.value!==""&&n.pdfLinkService.goToPage(be.value),be.value!==ye.currentPageNumber.toString()&&be.value!==ye.currentPageLabel&&((we=n.toolbar)==null||we.setPageNumber(ye.currentPageNumber,ye.currentPageLabel))}function U(be){n.pdfViewer.currentScaleValue=be.value}function z(){n.rotatePages(90)}function j(){n.rotatePages(-90)}function te(be){n.pdfViewer.optionalContentConfigPromise=be.promise}function fe(be){n.pdfViewer.scrollMode=be.mode}function de(be){n.pdfViewer.spreadMode=be.mode}function Ee(){var be;(be=n.pdfDocumentProperties)==null||be.open()}function Te(be){n.eventBus.dispatch("find",{source:be.source,type:"",query:be.query,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!1,matchDiacritics:!0})}function ve({matchesCount:be}){n.supportsIntegratedFind?n.externalServices.updateFindMatchesCount(be):n.findBar.updateResultsCount(be)}function Re({state:be,previous:ye,matchesCount:we,rawQuery:xe}){var J;n.supportsIntegratedFind?n.externalServices.updateFindControlState({result:be,findPrevious:ye,matchesCount:we,rawQuery:xe}):(J=n.findBar)==null||J.updateUIState(be,ye,we)}function ce(be){var ye;(ye=n.toolbar)==null||ye.setPageScale(be.presetValue,be.scale),n.pdfViewer.update()}function ne(be){n.pdfThumbnailViewer&&(n.pdfThumbnailViewer.pagesRotation=be.pagesRotation),n.forceRendering(),n.pdfViewer.currentPageNumber=be.pageNumber}function ue({pageNumber:be,pageLabel:ye}){var xe,J,Ce,Fe,Le;(xe=n.toolbar)==null||xe.setPageNumber(be,ye),(J=n.secondaryToolbar)==null||J.setPageNumber(be),((Ce=n.pdfSidebar)==null?void 0:Ce.visibleView)===s.SidebarView.THUMBS&&((Fe=n.pdfThumbnailViewer)==null||Fe.scrollThumbnailIntoView(be));const we=n.pdfViewer.getPageView(be-1);(Le=n.toolbar)==null||Le.updateLoadingIndicatorState((we==null?void 0:we.renderingState)===s.RenderingStates.RUNNING)}function me(be){n.pdfViewer.refresh()}function ke(be){document.visibilityState==="visible"&&je()}let Oe=null;function je(){Oe&&clearTimeout(Oe),Oe=setTimeout(function(){Oe=null},S)}function We(be){const{pdfViewer:ye,supportedMouseWheelZoomModifierKeys:we,supportsPinchToZoom:xe}=n;if(ye.isInPresentationMode)return;const J=be.deltaMode;let Ce=Math.exp(-be.deltaY/100);const Fe=!1,Le=be.ctrlKey&&!n._isCtrlKeyDown&&J===WheelEvent.DOM_DELTA_PIXEL&&be.deltaX===0&&(Math.abs(Ce-1)<.05||Fe)&&be.deltaZ===0;if(Le||be.ctrlKey&&we.ctrlKey||be.metaKey&&we.metaKey){if(be.preventDefault(),Oe||document.visibilityState==="hidden")return;const Z=ye.currentScale;if(Le&&xe)if(Ce=n._accumulateFactor(Z,Ce,"_wheelUnusedFactor"),Ce<1)n.zoomOut(null,Ce);else if(Ce>1)n.zoomIn(null,Ce);else return;else{const H=(0,s.normalizeWheelEventDirection)(be);let re=0;if(J===WheelEvent.DOM_DELTA_LINE||J===WheelEvent.DOM_DELTA_PAGE?Math.abs(H)>=1?re=Math.sign(H):re=n._accumulateTicks(H,"_wheelUnusedTicks"):re=n._accumulateTicks(H/30,"_wheelUnusedTicks"),re<0)n.zoomOut(-re);else if(re>0)n.zoomIn(re);else return}n._centerAtPos(Z,be.clientX,be.clientY)}else je()}function Ue(be){if(n.pdfViewer.isInPresentationMode||be.touches.length<2)return;if(be.preventDefault(),be.touches.length!==2){n._touchInfo=null;return}let[ye,we]=be.touches;ye.identifier>we.identifier&&([ye,we]=[we,ye]),n._touchInfo={touch0X:ye.pageX,touch0Y:ye.pageY,touch1X:we.pageX,touch1Y:we.pageY}}function ze(be){if(!n._touchInfo||be.touches.length!==2)return;const{pdfViewer:ye,_touchInfo:we,supportsPinchToZoom:xe}=n;let[J,Ce]=be.touches;J.identifier>Ce.identifier&&([J,Ce]=[Ce,J]);const{pageX:Fe,pageY:Le}=J,{pageX:Z,pageY:H}=Ce,{touch0X:re,touch0Y:oe,touch1X:_e,touch1Y:Me}=we;if(Math.abs(re-Fe)<=1&&Math.abs(oe-Le)<=1&&Math.abs(_e-Z)<=1&&Math.abs(Me-H)<=1)return;if(we.touch0X=Fe,we.touch0Y=Le,we.touch1X=Z,we.touch1Y=H,re===Fe&&oe===Le){const Ie=_e-Fe,Ve=Me-Le,Ne=Z-Fe,He=H-Le,$e=Ie*He-Ve*Ne;if(Math.abs($e)>.02*Math.hypot(Ie,Ve)*Math.hypot(Ne,He))return}else if(_e===Z&&Me===H){const Ie=re-Z,Ve=oe-H,Ne=Fe-Z,He=Le-H,$e=Ie*He-Ve*Ne;if(Math.abs($e)>.02*Math.hypot(Ie,Ve)*Math.hypot(Ne,He))return}else{const Ie=Fe-re,Ve=Z-_e,Ne=Le-oe,He=H-Me;if(Ie*Ve+Ne*He>=0)return}be.preventDefault();const Be=Math.hypot(Fe-Z,Le-H)||1,ae=Math.hypot(re-_e,oe-Me)||1,Se=ye.currentScale;if(xe){const Ie=n._accumulateFactor(Se,Be/ae,"_touchUnusedFactor");if(Ie<1)n.zoomOut(null,Ie);else if(Ie>1)n.zoomIn(null,Ie);else return}else{const Ve=n._accumulateTicks((Be-ae)/30,"_touchUnusedTicks");if(Ve<0)n.zoomOut(-Ve);else if(Ve>0)n.zoomIn(Ve);else return}n._centerAtPos(Se,(Fe+Z)/2,(Le+H)/2)}function Xe(be){n._touchInfo&&(be.preventDefault(),n._touchInfo=null,n._touchUnusedTicks=0,n._touchUnusedFactor=1)}function Ge(be){var we,xe,J;if(!((we=n.secondaryToolbar)!=null&&we.isOpen))return;const ye=n.appConfig;(n.pdfViewer.containsElement(be.target)||(xe=ye.toolbar)!=null&&xe.container.contains(be.target)&&be.target!==((J=ye.secondaryToolbar)==null?void 0:J.toggleButton))&&n.secondaryToolbar.close()}function De(be){be.key==="Control"&&(n._isCtrlKeyDown=!1)}function k(be){var H,re,oe,_e,Me,Be;if(n._isCtrlKeyDown=be.key==="Control",n.overlayManager.active)return;const{eventBus:ye,pdfViewer:we}=n,xe=we.isInPresentationMode;let J=!1,Ce=!1;const Fe=(be.ctrlKey?1:0)|(be.altKey?2:0)|(be.shiftKey?4:0)|(be.metaKey?8:0);if(Fe===1||Fe===8||Fe===5||Fe===12)switch(be.keyCode){case 70:!n.supportsIntegratedFind&&!be.shiftKey&&((H=n.findBar)==null||H.open(),J=!0);break;case 71:if(!n.supportsIntegratedFind){const{state:ae}=n.findController;if(ae){const Se={source:window,type:"again",findPrevious:Fe===5||Fe===12};ye.dispatch("find",{...ae,...Se})}J=!0}break;case 61:case 107:case 187:case 171:n.zoomIn(),J=!0;break;case 173:case 109:case 189:n.zoomOut(),J=!0;break;case 48:case 96:xe||(setTimeout(function(){n.zoomReset()}),J=!1);break;case 38:(xe||n.page>1)&&(n.page=1,J=!0,Ce=!0);break;case 40:(xe||n.page<n.pagesCount)&&(n.page=n.pagesCount,J=!0,Ce=!0);break}if(Fe===1||Fe===8)switch(be.keyCode){case 83:ye.dispatch("download",{source:window}),J=!0;break;case 79:ye.dispatch("openfile",{source:window}),J=!0;break}if(Fe===3||Fe===10)switch(be.keyCode){case 80:n.requestPresentationMode(),J=!0,n.externalServices.reportTelemetry({type:"buttons",data:{id:"presentationModeKeyboard"}});break;case 71:n.appConfig.toolbar&&(n.appConfig.toolbar.pageNumber.select(),J=!0);break}if(J){Ce&&!xe&&we.focus(),be.preventDefault();return}const Le=(0,s.getActiveOrFocusedElement)(),Z=Le==null?void 0:Le.tagName.toUpperCase();if(!((Z==="INPUT"||Z==="TEXTAREA"||Z==="SELECT"||Le!=null&&Le.isContentEditable)&&be.keyCode!==27)){if(Fe===0){let ae=0,Se=!1;switch(be.keyCode){case 38:case 33:we.isVerticalScrollbarEnabled&&(Se=!0),ae=-1;break;case 8:xe||(Se=!0),ae=-1;break;case 37:we.isHorizontalScrollbarEnabled&&(Se=!0);case 75:case 80:ae=-1;break;case 27:(re=n.secondaryToolbar)!=null&&re.isOpen&&(n.secondaryToolbar.close(),J=!0),!n.supportsIntegratedFind&&((oe=n.findBar)!=null&&oe.opened)&&(n.findBar.close(),J=!0);break;case 40:case 34:we.isVerticalScrollbarEnabled&&(Se=!0),ae=1;break;case 13:case 32:xe||(Se=!0),ae=1;break;case 39:we.isHorizontalScrollbarEnabled&&(Se=!0);case 74:case 78:ae=1;break;case 36:(xe||n.page>1)&&(n.page=1,J=!0,Ce=!0);break;case 35:(xe||n.page<n.pagesCount)&&(n.page=n.pagesCount,J=!0,Ce=!0);break;case 83:(_e=n.pdfCursorTools)==null||_e.switchTool(P.CursorTool.SELECT);break;case 72:(Me=n.pdfCursorTools)==null||Me.switchTool(P.CursorTool.HAND);break;case 82:n.rotatePages(90);break;case 115:(Be=n.pdfSidebar)==null||Be.toggle();break}ae!==0&&(!Se||we.currentScaleValue==="page-fit")&&(ae>0?we.nextPage():we.previousPage(),J=!0)}if(Fe===4)switch(be.keyCode){case 13:case 32:if(!xe&&we.currentScaleValue!=="page-fit")break;we.previousPage(),J=!0;break;case 82:n.rotatePages(-90);break}!J&&!xe&&(be.keyCode>=33&&be.keyCode<=40||be.keyCode===32&&Z!=="BUTTON")&&(Ce=!0),Ce&&!we.containsElement(Le)&&we.focus(),J&&be.preventDefault()}}function Q(be){return be.preventDefault(),be.returnValue="",!1}function Ae(be){n.externalServices.updateEditorStates(be)}return{validateFileURL:A,loadFakeWorker:T,loadPDFBug:E,reportPageStatsPDFBug:C,webViewerPageRender:l,webViewerPageRendered:c,webViewerPageMode:y,webViewerNamedAction:v,webViewerPresentationModeChanged:_,webViewerSidebarViewChanged:O,webViewerUpdateViewarea:F,webViewerScrollModeChanged:K,webViewerSpreadModeChanged:le,webViewerResize:B,webViewerHashchange:Y,webViewerFileInputChange:se,webViewerOpenFile:ee,webViewerPresentationMode:N,webViewerSwitchAnnotationEditorMode:q,webViewerSwitchAnnotationEditorParams:G,webViewerPrint:ge,webViewerDownload:Pe,webViewerOpenInExternalApp:W,webViewerFirstPage:M,webViewerLastPage:d,webViewerNextPage:w,webViewerPreviousPage:x,webViewerZoomIn:D,webViewerZoomOut:$,webViewerZoomReset:ie,webViewerPageNumberChanged:he,webViewerScaleChanged:U,webViewerRotateCw:z,webViewerRotateCcw:j,webViewerOptionalContentConfig:te,webViewerSwitchScrollMode:fe,webViewerSwitchSpreadMode:de,webViewerDocumentProperties:Ee,webViewerFindFromUrlHash:Te,webViewerUpdateFindMatchesCount:ve,webViewerUpdateFindControlState:Re,webViewerScaleChanging:ce,webViewerRotationChanging:ne,webViewerPageChanging:ue,webViewerResolutionChange:me,webViewerVisibilityChange:ke,setZoomDisabledTimeout:je,webViewerWheel:We,webViewerTouchStart:Ue,webViewerTouchMove:ze,webViewerTouchEnd:Xe,webViewerClick:Ge,webViewerKeyUp:De,webViewerKeyDown:k,beforeUnload:Q,webViewerAnnotationEditorStatesChanged:Ae}}},(I,b)=>{var de,Ee,Te,ve,Re;Object.defineProperty(b,"__esModule",{value:!0}),b.animationStarted=b.VERTICAL_PADDING=b.UNKNOWN_SCALE=b.TextLayerMode=b.SpreadMode=b.SidebarView=b.ScrollMode=b.SCROLLBAR_PADDING=b.RenderingStates=b.ProgressBar=b.PresentationModeState=b.OutputScale=b.MIN_SCALE=b.MAX_SCALE=b.MAX_AUTO_SCALE=b.DEFAULT_SCALE_VALUE=b.DEFAULT_SCALE_DELTA=b.DEFAULT_SCALE=b.CursorTool=b.AutoPrintRegExp=void 0,b.apiPageLayoutToViewerModes=z,b.apiPageModeToSidebarView=j,b.approximateFraction=se,b.backtrackBeforeAllVisibleElements=q,b.binarySearchFirstItem=Y,b.docStyle=void 0,b.getActiveOrFocusedElement=U,b.getPageSizeInches=N,b.getVisibleElements=G,b.isPortraitOrientation=x,b.isValidRotation=M,b.isValidScrollMode=d,b.isValidSpreadMode=w,b.noContextMenuHandler=ge,b.normalizeWheelEventDelta=W,b.normalizeWheelEventDirection=Pe,b.parseQueryString=K,b.removeNullCharacters=B,b.roundToDivide=ee,b.scrollIntoView=O,b.toggleCheckedBtn=te,b.toggleExpandedBtn=fe,b.watchScroll=F;const f="auto";b.DEFAULT_SCALE_VALUE=f;const s=1;b.DEFAULT_SCALE=s;const a=1.1;b.DEFAULT_SCALE_DELTA=a;const P=.1;b.MIN_SCALE=P;const S=10;b.MAX_SCALE=S;const R=0;b.UNKNOWN_SCALE=R;const n=1.25;b.MAX_AUTO_SCALE=n;const g=40;b.SCROLLBAR_PADDING=g;const m=5;b.VERTICAL_PADDING=m;const A={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};b.RenderingStates=A;const T={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};b.PresentationModeState=T;const E={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};b.SidebarView=E;const C={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};b.TextLayerMode=C;const l={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};b.ScrollMode=l;const c={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};b.SpreadMode=c;const y={SELECT:0,HAND:1,ZOOM:2};b.CursorTool=y;const v=/\bprint\s*\(/;b.AutoPrintRegExp=v;class _{constructor(){const ne=window.devicePixelRatio||1;this.sx=ne,this.sy=ne}get scaled(){return this.sx!==1||this.sy!==1}}b.OutputScale=_;function O(ce,ne,ue=!1){let me=ce.offsetParent;if(!me){console.error("offsetParent is not set -- cannot scroll");return}let ke=ce.offsetTop+ce.clientTop,Oe=ce.offsetLeft+ce.clientLeft;for(;me.clientHeight===me.scrollHeight&&me.clientWidth===me.scrollWidth||ue&&(me.classList.contains("markedContent")||getComputedStyle(me).overflow==="hidden");)if(ke+=me.offsetTop,Oe+=me.offsetLeft,me=me.offsetParent,!me)return;ne&&(ne.top!==void 0&&(ke+=ne.top),ne.left!==void 0&&(Oe+=ne.left,me.scrollLeft=Oe)),me.scrollTop=ke}function F(ce,ne){const ue=function(Oe){ke||(ke=window.requestAnimationFrame(function(){ke=null;const We=ce.scrollLeft,Ue=me.lastX;We!==Ue&&(me.right=We>Ue),me.lastX=We;const ze=ce.scrollTop,Xe=me.lastY;ze!==Xe&&(me.down=ze>Xe),me.lastY=ze,ne(me)}))},me={right:!0,down:!0,lastX:ce.scrollLeft,lastY:ce.scrollTop,_eventHandler:ue};let ke=null;return ce.addEventListener("scroll",ue,!0),me}function K(ce){const ne=new Map;for(const[ue,me]of new URLSearchParams(ce))ne.set(ue.toLowerCase(),me);return ne}const le=/[\x01-\x1F]/g;function B(ce,ne=!1){return typeof ce!="string"?(console.error("The argument must be a string."),ce):(ne&&(ce=ce.replaceAll(le," ")),ce.replaceAll("\0",""))}function Y(ce,ne,ue=0){let me=ue,ke=ce.length-1;if(ke<0||!ne(ce[ke]))return ce.length;if(ne(ce[me]))return me;for(;me<ke;){const Oe=me+ke>>1,je=ce[Oe];ne(je)?ke=Oe:me=Oe+1}return me}function se(ce){if(Math.floor(ce)===ce)return[ce,1];const ne=1/ce,ue=8;if(ne>ue)return[1,ue];if(Math.floor(ne)===ne)return[1,ne];const me=ce>1?ne:ce;let ke=0,Oe=1,je=1,We=1;for(;;){const ze=ke+je,Xe=Oe+We;if(Xe>ue)break;me<=ze/Xe?(je=ze,We=Xe):(ke=ze,Oe=Xe)}let Ue;return me-ke/Oe<je/We-me?Ue=me===ce?[ke,Oe]:[Oe,ke]:Ue=me===ce?[je,We]:[We,je],Ue}function ee(ce,ne){const ue=ce%ne;return ue===0?ce:Math.round(ce-ue+ne)}function N({view:ce,userUnit:ne,rotate:ue}){const[me,ke,Oe,je]=ce,We=ue%180!==0,Ue=(Oe-me)/72*ne,ze=(je-ke)/72*ne;return{width:We?ze:Ue,height:We?Ue:ze}}function q(ce,ne,ue){if(ce<2)return ce;let me=ne[ce].div,ke=me.offsetTop+me.clientTop;ke>=ue&&(me=ne[ce-1].div,ke=me.offsetTop+me.clientTop);for(let Oe=ce-2;Oe>=0&&(me=ne[Oe].div,!(me.offsetTop+me.clientTop+me.clientHeight<=ke));--Oe)ce=Oe;return ce}function G({scrollEl:ce,views:ne,sortByVisibility:ue=!1,horizontal:me=!1,rtl:ke=!1}){const Oe=ce.scrollTop,je=Oe+ce.clientHeight,We=ce.scrollLeft,Ue=We+ce.clientWidth;function ze(we){const xe=we.div;return xe.offsetTop+xe.clientTop+xe.clientHeight>Oe}function Xe(we){const xe=we.div,J=xe.offsetLeft+xe.clientLeft,Ce=J+xe.clientWidth;return ke?J<Ue:Ce>We}const Ge=[],De=new Set,k=ne.length;let Q=Y(ne,me?Xe:ze);Q>0&&Q<k&&!me&&(Q=q(Q,ne,Oe));let Ae=me?Ue:-1;for(let we=Q;we<k;we++){const xe=ne[we],J=xe.div,Ce=J.offsetLeft+J.clientLeft,Fe=J.offsetTop+J.clientTop,Le=J.clientWidth,Z=J.clientHeight,H=Ce+Le,re=Fe+Z;if(Ae===-1)re>=je&&(Ae=re);else if((me?Ce:Fe)>Ae)break;if(re<=Oe||Fe>=je||H<=We||Ce>=Ue)continue;const oe=Math.max(0,Oe-Fe)+Math.max(0,re-je),_e=Math.max(0,We-Ce)+Math.max(0,H-Ue),Me=(Z-oe)/Z,Be=(Le-_e)/Le,ae=Me*Be*100|0;Ge.push({id:xe.id,x:Ce,y:Fe,view:xe,percent:ae,widthPercent:Be*100|0}),De.add(xe.id)}const be=Ge[0],ye=Ge.at(-1);return ue&&Ge.sort(function(we,xe){const J=we.percent-xe.percent;return Math.abs(J)>.001?-J:we.id-xe.id}),{first:be,last:ye,views:Ge,ids:De}}function ge(ce){ce.preventDefault()}function Pe(ce){let ne=Math.hypot(ce.deltaX,ce.deltaY);const ue=Math.atan2(ce.deltaY,ce.deltaX);return-.25*Math.PI<ue&&ue<.75*Math.PI&&(ne=-ne),ne}function W(ce){const ne=ce.deltaMode;let ue=Pe(ce);const me=30,ke=30;return ne===WheelEvent.DOM_DELTA_PIXEL?ue/=me*ke:ne===WheelEvent.DOM_DELTA_LINE&&(ue/=ke),ue}function M(ce){return Number.isInteger(ce)&&ce%90===0}function d(ce){return Number.isInteger(ce)&&Object.values(l).includes(ce)&&ce!==l.UNKNOWN}function w(ce){return Number.isInteger(ce)&&Object.values(c).includes(ce)&&ce!==c.UNKNOWN}function x(ce){return ce.width<=ce.height}const D=new Promise(function(ce){window.requestAnimationFrame(ce)});b.animationStarted=D;const $=document.documentElement.style;b.docStyle=$;function ie(ce,ne,ue){return Math.min(Math.max(ce,ne),ue)}class he{constructor(ne){V(this,de,null);V(this,Ee,null);V(this,Te,0);V(this,ve,null);V(this,Re,!0);pe(this,de,ne.classList),pe(this,ve,ne.style)}get percent(){return r(this,Te)}set percent(ne){if(pe(this,Te,ie(ne,0,100)),isNaN(ne)){r(this,de).add("indeterminate");return}r(this,de).remove("indeterminate"),r(this,ve).setProperty("--progressBar-percent",`${r(this,Te)}%`)}setWidth(ne){if(!ne)return;const me=ne.parentNode.offsetWidth-ne.offsetWidth;me>0&&r(this,ve).setProperty("--progressBar-end-offset",`${me}px`)}setDisableAutoFetch(ne=5e3){isNaN(r(this,Te))||(r(this,Ee)&&clearTimeout(r(this,Ee)),this.show(),pe(this,Ee,setTimeout(()=>{pe(this,Ee,null),this.hide()},ne)))}hide(){r(this,Re)&&(pe(this,Re,!1),r(this,de).add("hidden"))}show(){r(this,Re)||(pe(this,Re,!0),r(this,de).remove("hidden"))}}de=new WeakMap,Ee=new WeakMap,Te=new WeakMap,ve=new WeakMap,Re=new WeakMap,b.ProgressBar=he;function U(){let ce=document,ne=ce.activeElement||ce.querySelector(":focus");for(;ne!=null&&ne.shadowRoot;)ce=ne.shadowRoot,ne=ce.activeElement||ce.querySelector(":focus");return ne}function z(ce){let ne=l.VERTICAL,ue=c.NONE;switch(ce){case"SinglePage":ne=l.PAGE;break;case"OneColumn":break;case"TwoPageLeft":ne=l.PAGE;case"TwoColumnLeft":ue=c.ODD;break;case"TwoPageRight":ne=l.PAGE;case"TwoColumnRight":ue=c.EVEN;break}return{scrollMode:ne,spreadMode:ue}}function j(ce){switch(ce){case"UseNone":return E.NONE;case"UseThumbs":return E.THUMBS;case"UseOutlines":return E.OUTLINE;case"UseAttachments":return E.ATTACHMENTS;case"UseOC":return E.LAYERS}return E.NONE}function te(ce,ne,ue=null){ce.classList.toggle("toggled",ne),ce.setAttribute("aria-checked",ne),ue==null||ue.classList.toggle("hidden",!ne)}function fe(ce,ne,ue=null){ce.classList.toggle("toggled",ne),ce.setAttribute("aria-expanded",ne),ue==null||ue.classList.toggle("hidden",!ne)}},I=>{let b;typeof window<"u"&&window["pdfjs-dist/build/pdf"]?b=window["pdfjs-dist/build/pdf"]:b=requirePdf(),I.exports=b},(I,b,f)=>{var R,n,g,Xn;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFCursorTools=void 0;var s=f(5),a=f(4),P=f(7);class S{constructor({container:T,eventBus:E,cursorToolOnLoad:C=a.CursorTool.SELECT}){V(this,g);V(this,R,a.CursorTool.SELECT);V(this,n,null);this.container=T,this.eventBus=E,X(this,g,Xn).call(this),Promise.resolve().then(()=>{this.switchTool(C)})}get activeTool(){return r(this,R)}switchTool(T){if(r(this,n)!==null||T===r(this,R))return;const E=()=>{switch(r(this,R)){case a.CursorTool.SELECT:break;case a.CursorTool.HAND:this._handTool.deactivate();break;case a.CursorTool.ZOOM:}};switch(T){case a.CursorTool.SELECT:E();break;case a.CursorTool.HAND:E(),this._handTool.activate();break;case a.CursorTool.ZOOM:default:console.error(`switchTool: "${T}" is an unsupported value.`);return}pe(this,R,T),this.eventBus.dispatch("cursortoolchanged",{source:this,tool:T})}get _handTool(){return(0,s.shadow)(this,"_handTool",new P.GrabToPan({element:this.container}))}}R=new WeakMap,n=new WeakMap,g=new WeakSet,Xn=function(){this.eventBus._on("switchcursortool",c=>{this.switchTool(c.tool)});let T=s.AnnotationEditorType.NONE,E=a.PresentationModeState.NORMAL;const C=()=>{const c=r(this,R);this.switchTool(a.CursorTool.SELECT),r(this,n)??pe(this,n,c)},l=()=>{const c=r(this,n);c!==null&&T===s.AnnotationEditorType.NONE&&E===a.PresentationModeState.NORMAL&&(pe(this,n,null),this.switchTool(c))};this.eventBus._on("secondarytoolbarreset",c=>{r(this,n)!==null&&(T=s.AnnotationEditorType.NONE,E=a.PresentationModeState.NORMAL,l())}),this.eventBus._on("annotationeditormodechanged",({mode:c})=>{T=c,c===s.AnnotationEditorType.NONE?l():C()}),this.eventBus._on("presentationmodechanged",({state:c})=>{E=c,c===a.PresentationModeState.NORMAL?l():c===a.PresentationModeState.FULLSCREEN&&C()})},b.PDFCursorTools=S},(I,b)=>{var a,Kn,S,Yn,n,Zn;Object.defineProperty(b,"__esModule",{value:!0}),b.GrabToPan=void 0;const f="grab-to-pan-grab";class s{constructor({element:A}){V(this,a);V(this,S);V(this,n);this.element=A,this.document=A.ownerDocument,this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.toggle=this.toggle.bind(this),this._onMouseDown=X(this,a,Kn).bind(this),this._onMouseMove=X(this,S,Yn).bind(this),this._endPan=X(this,n,Zn).bind(this);const T=this.overlay=document.createElement("div");T.className="grab-to-pan-grabbing"}activate(){this.active||(this.active=!0,this.element.addEventListener("mousedown",this._onMouseDown,!0),this.element.classList.add(f))}deactivate(){this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onMouseDown,!0),this._endPan(),this.element.classList.remove(f))}toggle(){this.active?this.deactivate():this.activate()}ignoreTarget(A){return A.matches("a[href], a[href] *, input, textarea, button, button *, select, option")}}a=new WeakSet,Kn=function(A){if(A.button!==0||this.ignoreTarget(A.target))return;if(A.originalTarget)try{A.originalTarget.tagName}catch{return}this.scrollLeftStart=this.element.scrollLeft,this.scrollTopStart=this.element.scrollTop,this.clientXStart=A.clientX,this.clientYStart=A.clientY,this.document.addEventListener("mousemove",this._onMouseMove,!0),this.document.addEventListener("mouseup",this._endPan,!0),this.element.addEventListener("scroll",this._endPan,!0),A.preventDefault(),A.stopPropagation();const T=document.activeElement;T&&!T.contains(A.target)&&T.blur()},S=new WeakSet,Yn=function(A){if(this.element.removeEventListener("scroll",this._endPan,!0),!(A.buttons&1)){this._endPan();return}const T=A.clientX-this.clientXStart,E=A.clientY-this.clientYStart;this.element.scrollTo({top:this.scrollTopStart-E,left:this.scrollLeftStart-T,behavior:"instant"}),this.overlay.parentNode||document.body.append(this.overlay)},n=new WeakSet,Zn=function(){this.element.removeEventListener("scroll",this._endPan,!0),this.document.removeEventListener("mousemove",this._onMouseMove,!0),this.document.removeEventListener("mouseup",this._endPan,!0),this.overlay.remove()},b.GrabToPan=s},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ViewerApplication=b.PDFPrintServiceFactory=void 0;var s=f(4),a=f(5),P=f(9),S=f(10),R=f(11),n=f(12),g=f(13),m=f(14),A=f(15),T=f(6),E=f(17),C=f(18),l=f(19),c=f(21),y=f(22),v=f(23),_=f(24),O=f(25),F=f(26),K=f(27),le=f(28),B=f(30),Y=f(40),se=f(41),ee=f(42),N=f(43);const q=1e4,G={UNKNOWN:-1,PREVIOUS:0,INITIAL:1},ge={AUTOMATIC:0,LIGHT:1,DARK:2},Pe={instance:{supportsPrinting:!1,createPrintService(){throw new Error("Not implemented: createPrintService")}}};b.PDFPrintServiceFactory=Pe;class W{constructor(){Ke(this,"initialBookmark",document.location.hash.substring(1));Ke(this,"_initializedCapability",new a.PromiseCapability);Ke(this,"appConfig",null);Ke(this,"pdfDocument",null);Ke(this,"pdfLoadingTask",null);Ke(this,"printService",null);Ke(this,"pdfViewer",null);Ke(this,"pdfThumbnailViewer",null);Ke(this,"pdfRenderingQueue",null);Ke(this,"pdfPresentationMode",null);Ke(this,"pdfDocumentProperties",null);Ke(this,"pdfLinkService",null);Ke(this,"pdfHistory",null);Ke(this,"pdfSidebar",null);Ke(this,"pdfOutlineViewer",null);Ke(this,"pdfAttachmentViewer",null);Ke(this,"pdfLayerViewer",null);Ke(this,"pdfCursorTools",null);Ke(this,"pdfScriptingManager",null);Ke(this,"store",null);Ke(this,"downloadManager",null);Ke(this,"overlayManager",null);Ke(this,"preferences",null);Ke(this,"toolbar",null);Ke(this,"secondaryToolbar",null);Ke(this,"eventBus",null);Ke(this,"l10n",null);Ke(this,"annotationEditorParams",null);Ke(this,"isInitialViewSet",!1);Ke(this,"downloadComplete",!1);Ke(this,"isViewerEmbedded",window.parent!==window);Ke(this,"url","");Ke(this,"baseUrl","");Ke(this,"_downloadUrl","");Ke(this,"externalServices",N.DefaultExternalServices);Ke(this,"_boundEvents",Object.create(null));Ke(this,"documentInfo",null);Ke(this,"metadata",null);Ke(this,"_contentDispositionFilename",null);Ke(this,"_contentLength",null);Ke(this,"_saveInProgress",!1);Ke(this,"_wheelUnusedTicks",0);Ke(this,"_wheelUnusedFactor",1);Ke(this,"_touchUnusedTicks",0);Ke(this,"_touchUnusedFactor",1);Ke(this,"_PDFBug",null);Ke(this,"_hasAnnotationEditors",!1);Ke(this,"_title",document.title);Ke(this,"_printAnnotationStoragePromise",null);Ke(this,"_touchInfo",null);Ke(this,"_isCtrlKeyDown",!1);Ke(this,"_nimbusDataPromise",null)}async initialize(d){const{appOptions:w}=this;this.preferences=this.externalServices.createPreferences(),this.appConfig=d,await this._initializeOptions(),this._forceCssTheme(),await this._initializeL10n(),this.isViewerEmbedded&&w.get("externalLinkTarget")===R.LinkTarget.NONE&&w.set("externalLinkTarget",R.LinkTarget.TOP),await this._initializeViewerComponents(),this.bindEvents(),this.bindWindowEvents();const x=d.appContainer||document.documentElement;this.l10n.translate(x).then(()=>{this.eventBus.dispatch("localized",{source:this})}),this._initializedCapability.resolve()}async _initializeOptions(){const{appOptions:d}=this;if(d.get("disablePreferences")){d.get("pdfBugEnabled")&&await this._parseHashParams();return}d._hasUserOptions()&&console.warn('_initializeOptions: The Preferences may override manually set AppOptions; please use the "disablePreferences"-option in order to prevent that.');try{d.setAll(await this.preferences.getAll())}catch(w){console.error(`_initializeOptions: "${w.message}".`)}d.get("pdfBugEnabled")&&await this._parseHashParams()}async _parseHashParams(){const{appOptions:d}=this,w=document.location.hash.substring(1);if(!w)return;const{mainContainer:x,viewerContainer:D}=this.appConfig,$=(0,s.parseQueryString)(w);if($.get("disableworker")==="true")try{await loadFakeWorker()}catch(ie){console.error(`_parseHashParams: "${ie.message}".`)}if($.has("disablerange")&&d.set("disableRange",$.get("disablerange")==="true"),$.has("disablestream")&&d.set("disableStream",$.get("disablestream")==="true"),$.has("disableautofetch")&&d.set("disableAutoFetch",$.get("disableautofetch")==="true"),$.has("disablefontface")&&d.set("disableFontFace",$.get("disablefontface")==="true"),$.has("disablehistory")&&d.set("disableHistory",$.get("disablehistory")==="true"),$.has("verbosity")&&d.set("verbosity",$.get("verbosity")|0),$.has("textlayer"))switch($.get("textlayer")){case"off":d.set("textLayerMode",s.TextLayerMode.DISABLE);break;case"visible":case"shadow":case"hover":D.classList.add(`textLayer-${$.get("textlayer")}`);try{await loadPDFBug(this),this._PDFBug.loadCSS()}catch(ie){console.error(`_parseHashParams: "${ie.message}".`)}break}if($.has("pdfbug")){d.set("pdfBug",!0),d.set("fontExtraProperties",!0);const ie=$.get("pdfbug").split(",");try{await loadPDFBug(this),this._PDFBug.init(x,ie)}catch(he){console.error(`_parseHashParams: "${he.message}".`)}}$.has("locale")&&d.set("locale",$.get("locale"))}async _initializeL10n(){const{appOptions:d}=this;this.l10n=this.externalServices.createL10n({locale:d.get("locale")});const w=await this.l10n.getDirection();document.getElementsByTagName("html")[0].dir=w}_forceCssTheme(){var x;const{appOptions:d}=this,w=d.get("viewerCssTheme");if(!(w===ge.AUTOMATIC||!Object.values(ge).includes(w)))try{const D=document.styleSheets[0],$=(D==null?void 0:D.cssRules)||[];for(let ie=0,he=$.length;ie<he;ie++){const U=$[ie];if(U instanceof CSSMediaRule&&((x=U.media)==null?void 0:x[0])==="(prefers-color-scheme: dark)"){if(w===ge.LIGHT){D.deleteRule(ie);return}const z=/^@media \(prefers-color-scheme: dark\) {\n\s*([\w\s-.,:;/\\{}()]+)\n}$/.exec(U.cssText);z!=null&&z[1]&&(D.deleteRule(ie),D.insertRule(z[1],ie));return}}}catch(D){console.error(`_forceCssTheme: "${D==null?void 0:D.message}".`)}}async _initializeViewerComponents(){var Re,ce,ne,ue,me,ke,Oe,je,We;const{appOptions:d}=this,{appConfig:w,externalServices:x,l10n:D}=this,$=x.isInAutomation?new S.AutomationEventBus:new S.EventBus;this.eventBus=$,this.overlayManager=new g.OverlayManager;const ie=new O.PDFRenderingQueue;ie.onIdle=this._cleanup.bind(this),this.pdfRenderingQueue=ie;const he=new R.PDFLinkService({eventBus:$,externalLinkTarget:d.get("externalLinkTarget"),externalLinkRel:d.get("externalLinkRel"),ignoreDestinationZoom:d.get("ignoreDestinationZoom")});this.pdfLinkService=he;const U=x.createDownloadManager();this.downloadManager=U;const z=new l.PDFFindController({linkService:he,eventBus:$,updateMatchesCountOnProgress:!0});this.findController=z;const j=new F.PDFScriptingManager({eventBus:$,sandboxBundleSrc:d.get("sandboxBundleSrc"),externalServices:x,docProperties:this._scriptingDocProperties.bind(this)});this.pdfScriptingManager=j;const te=w.mainContainer,fe=w.viewerContainer,de=d.get("annotationEditorMode"),Ee=d.get("isOffscreenCanvasSupported")&&a.FeatureTest.isOffscreenCanvasSupported,Te=d.get("forcePageColors")||window.matchMedia("(forced-colors: active)").matches?{background:d.get("pageColorsBackground"),foreground:d.get("pageColorsForeground")}:null,ve=new B.PDFViewer({container:te,viewer:fe,eventBus:$,renderingQueue:ie,linkService:he,downloadManager:U,findController:z,scriptingManager:d.get("enableScripting")&&j,l10n:D,textLayerMode:d.get("textLayerMode"),annotationMode:d.get("annotationMode"),annotationEditorMode:de,imageResourcesPath:d.get("imageResourcesPath"),enablePrintAutoRotate:d.get("enablePrintAutoRotate"),isOffscreenCanvasSupported:Ee,maxCanvasPixels:d.get("maxCanvasPixels"),enablePermissions:d.get("enablePermissions"),pageColors:Te});if(this.pdfViewer=ve,ie.setViewer(ve),he.setViewer(ve),j.setViewer(ve),(Re=w.sidebar)!=null&&Re.thumbnailView&&(this.pdfThumbnailViewer=new le.PDFThumbnailViewer({container:w.sidebar.thumbnailView,eventBus:$,renderingQueue:ie,linkService:he,l10n:D,pageColors:Te}),ie.setThumbnailViewer(this.pdfThumbnailViewer)),!this.isViewerEmbedded&&!d.get("disableHistory")&&(this.pdfHistory=new c.PDFHistory({linkService:he,eventBus:$}),he.setHistory(this.pdfHistory)),!this.supportsIntegratedFind&&w.findBar&&(this.findBar=new C.PDFFindBar(w.findBar,$,D)),w.annotationEditorParams)if(de!==a.AnnotationEditorType.DISABLE)d.get("enableStampEditor")&&Ee&&((ne=(ce=w.toolbar)==null?void 0:ce.editorStampButton)==null||ne.classList.remove("hidden")),this.annotationEditorParams=new n.AnnotationEditorParams(w.annotationEditorParams,$);else for(const Ue of["editorModeButtons","editorModeSeparator"])(ue=document.getElementById(Ue))==null||ue.classList.add("hidden");w.documentProperties&&(this.pdfDocumentProperties=new E.PDFDocumentProperties(w.documentProperties,this.overlayManager,$,D,()=>this._docFilename)),(me=w.secondaryToolbar)!=null&&me.cursorHandToolButton&&(this.pdfCursorTools=new T.PDFCursorTools({container:te,eventBus:$,cursorToolOnLoad:d.get("cursorToolOnLoad")})),w.toolbar&&(this.toolbar=new se.Toolbar(w.toolbar,$,D)),w.secondaryToolbar&&(this.secondaryToolbar=new Y.SecondaryToolbar(w.secondaryToolbar,$,x)),this.supportsFullscreen&&((ke=w.secondaryToolbar)!=null&&ke.presentationModeButton)&&(this.pdfPresentationMode=new _.PDFPresentationMode({container:te,pdfViewer:ve,eventBus:$})),w.passwordOverlay&&(this.passwordPrompt=new m.PasswordPrompt(w.passwordOverlay,this.overlayManager,D,this.isViewerEmbedded)),(Oe=w.sidebar)!=null&&Oe.outlineView&&(this.pdfOutlineViewer=new v.PDFOutlineViewer({container:w.sidebar.outlineView,eventBus:$,linkService:he,downloadManager:U})),(je=w.sidebar)!=null&&je.attachmentsView&&(this.pdfAttachmentViewer=new A.PDFAttachmentViewer({container:w.sidebar.attachmentsView,eventBus:$,downloadManager:U})),(We=w.sidebar)!=null&&We.layersView&&(this.pdfLayerViewer=new y.PDFLayerViewer({container:w.sidebar.layersView,eventBus:$,l10n:D})),w.sidebar&&(this.pdfSidebar=new K.PDFSidebar({elements:w.sidebar,eventBus:$,l10n:D}),this.pdfSidebar.onToggled=this.forceRendering.bind(this),this.pdfSidebar.onUpdateThumbnails=()=>{var Ue;for(const ze of ve.getCachedPageViews())ze.renderingState===s.RenderingStates.FINISHED&&((Ue=this.pdfThumbnailViewer.getThumbnail(ze.id-1))==null||Ue.setImage(ze));this.pdfThumbnailViewer.scrollThumbnailIntoView(ve.currentPageNumber)})}async run(d,w){var j,te,fe,de,Ee,Te;const{appOptions:x}=this;await this.initialize(d);const{appConfig:D,eventBus:$}=this;let ie;const he=document.location.search.substring(1);ie=(0,s.parseQueryString)(he).get("file")??x.get("defaultUrl"),w(ie);const z=D.openFileInput;z.value=null,z.addEventListener("change",function(ve){const{files:Re}=ve.target;!Re||Re.length===0||$.dispatch("fileinputchange",{source:this,fileInput:ve.target})}),D.mainContainer.addEventListener("dragover",function(ve){ve.preventDefault(),ve.dataTransfer.dropEffect=ve.dataTransfer.effectAllowed==="copy"?"copy":"move"}),D.mainContainer.addEventListener("drop",function(ve){ve.preventDefault();const{files:Re}=ve.dataTransfer;!Re||Re.length===0||$.dispatch("fileinputchange",{source:this,fileInput:ve.dataTransfer})}),this.supportsDocumentFonts||(x.set("disableFontFace",!0),this.l10n.get("web_fonts_disabled").then(ve=>{console.warn(ve)})),this.supportsPrinting||((te=(j=D.toolbar)==null?void 0:j.print)==null||te.classList.add("hidden"),(fe=D.secondaryToolbar)==null||fe.printButton.classList.add("hidden")),this.supportsFullscreen||(de=D.secondaryToolbar)==null||de.presentationModeButton.classList.add("hidden"),this.supportsIntegratedFind&&((Te=(Ee=D.toolbar)==null?void 0:Ee.viewFind)==null||Te.classList.add("hidden")),D.mainContainer.addEventListener("transitionend",function(ve){ve.target===this&&$.dispatch("resize",{source:this})},!0),ie?this.open({url:ie}):this._hideViewBookmark()}get initialized(){return this._initializedCapability.settled}get initializedPromise(){return this._initializedCapability.promise}zoomIn(d,w){const{appOptions:x}=this;this.pdfViewer.isInPresentationMode||this.pdfViewer.increaseScale({drawingDelay:x.get("defaultZoomDelay"),steps:d,scaleFactor:w})}zoomOut(d,w){const{appOptions:x}=this;this.pdfViewer.isInPresentationMode||this.pdfViewer.decreaseScale({drawingDelay:x.get("defaultZoomDelay"),steps:d,scaleFactor:w})}zoomReset(){this.pdfViewer.isInPresentationMode||(this.pdfViewer.currentScaleValue=s.DEFAULT_SCALE_VALUE)}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(d){this.pdfViewer.currentPageNumber=d}get supportsPrinting(){return Pe.instance.supportsPrinting}get supportsFullscreen(){return(0,a.shadow)(this,"supportsFullscreen",document.fullscreenEnabled)}get supportsPinchToZoom(){return this.externalServices.supportsPinchToZoom}get supportsIntegratedFind(){return this.externalServices.supportsIntegratedFind}get supportsDocumentFonts(){return this.externalServices.supportsDocumentFonts}get loadingBar(){const d=document.getElementById("loadingBar"),w=d?new s.ProgressBar(d):null;return(0,a.shadow)(this,"loadingBar",w)}get supportedMouseWheelZoomModifierKeys(){return this.externalServices.supportedMouseWheelZoomModifierKeys}initPassiveLoading(d){throw new Error("Not implemented: initPassiveLoading")}setTitleUsingUrl(d="",w=null){this.url=d,this.baseUrl=d.split("#")[0],w&&(this._downloadUrl=w===d?this.baseUrl:w.split("#")[0]),(0,a.isDataScheme)(d)&&this._hideViewBookmark();let x=(0,a.getPdfFilenameFromUrl)(d,"");if(!x)try{x=decodeURIComponent((0,a.getFilenameFromUrl)(d))||d}catch{x=d}this.setTitle(x)}setTitle(d=this._title){if(this._title=d,this.isViewerEmbedded)return;const w=this._hasAnnotationEditors&&!this.pdfRenderingQueue.printing;document.title=`${w?"* ":""}${d}`}get _docFilename(){return this._contentDispositionFilename||(0,a.getPdfFilenameFromUrl)(this.url)}_hideViewBookmark(){var w;const{secondaryToolbar:d}=this.appConfig;d==null||d.viewBookmarkButton.classList.add("hidden"),d!=null&&d.presentationModeButton.classList.contains("hidden")&&((w=document.getElementById("viewBookmarkSeparator"))==null||w.classList.add("hidden"))}async close(){var w,x,D,$,ie,he,U,z,j,te,fe,de;if(this._unblockDocumentLoadEvent(),this._hideViewBookmark(),!this.pdfLoadingTask)return;if(((w=this.pdfDocument)==null?void 0:w.annotationStorage.size)>0&&this._annotationStorageModified)try{await this.save()}catch{}const d=[];d.push(this.pdfLoadingTask.destroy()),this.pdfLoadingTask=null,this.pdfDocument&&(this.pdfDocument=null,(x=this.pdfThumbnailViewer)==null||x.setDocument(null),this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null),(D=this.pdfDocumentProperties)==null||D.setDocument(null)),this.pdfLinkService.externalLinkEnabled=!0,this.store=null,this.isInitialViewSet=!1,this.downloadComplete=!1,this.url="",this.baseUrl="",this._downloadUrl="",this.documentInfo=null,this.metadata=null,this._contentDispositionFilename=null,this._contentLength=null,this._saveInProgress=!1,this._hasAnnotationEditors=!1,d.push(this.pdfScriptingManager.destroyPromise,this.passwordPrompt.close()),this.setTitle(),($=this.pdfSidebar)==null||$.reset(),(ie=this.pdfOutlineViewer)==null||ie.reset(),(he=this.pdfAttachmentViewer)==null||he.reset(),(U=this.pdfLayerViewer)==null||U.reset(),(z=this.pdfHistory)==null||z.reset(),(j=this.findBar)==null||j.reset(),(te=this.toolbar)==null||te.reset(),(fe=this.secondaryToolbar)==null||fe.reset(),(de=this._PDFBug)==null||de.cleanup(),await Promise.all(d)}async open(d){const{appOptions:w}=this;let x=!1;typeof d=="string"?(d={url:d},x=!0):d!=null&&d.byteLength&&(d={data:d},x=!0),x&&console.error("The `PDFViewerApplication.open` signature was updated, please use an object instead."),this.pdfLoadingTask&&await this.close();const D=w.getAll(P.OptionKind.WORKER);Object.assign(a.GlobalWorkerOptions,D),d.url&&this.setTitleUsingUrl(d.originalUrl||d.url,d.url);const $=w.getAll(P.OptionKind.API),ie={canvasMaxAreaInBytes:this.externalServices.canvasMaxAreaInBytes,...$,...d},he=(0,a.getDocument)(ie);return this.pdfLoadingTask=he,he.onPassword=(U,z)=>{this.isViewerEmbedded&&this._unblockDocumentLoadEvent(),this.pdfLinkService.externalLinkEnabled=!1,this.passwordPrompt.setUpdateCallback(U,z),this.passwordPrompt.open()},he.onProgress=({loaded:U,total:z})=>{this.progress(U/z)},he.promise.then(U=>{this.load(U)},U=>{if(he!==this.pdfLoadingTask)return;let z="loading_error";return U instanceof a.InvalidPDFException?z="invalid_file_error":U instanceof a.MissingPDFException?z="missing_file_error":U instanceof a.UnexpectedResponseException&&(z="unexpected_response_error"),this.l10n.get(z).then(j=>{throw this._documentError(j,{message:U==null?void 0:U.message}),U})})}_ensureDownloadComplete(){if(!(this.pdfDocument&&this.downloadComplete))throw new Error("PDF document not downloaded.")}async download(d={}){const w=this._downloadUrl,x=this._docFilename;try{this._ensureDownloadComplete();const D=await this.pdfDocument.getData(),$=new Blob([D],{type:"application/pdf"});await this.downloadManager.download($,w,x,d)}catch{await this.downloadManager.downloadUrl(w,x,d)}}async save(d={}){if(this._saveInProgress)return;this._saveInProgress=!0,await this.pdfScriptingManager.dispatchWillSave();const w=this._downloadUrl,x=this._docFilename;try{this._ensureDownloadComplete();const D=await this.pdfDocument.saveDocument(),$=new Blob([D],{type:"application/pdf"});await this.downloadManager.download($,w,x,d)}catch(D){console.error(`Error when saving the document: ${D.message}`),await this.download(d)}finally{await this.pdfScriptingManager.dispatchDidSave(),this._saveInProgress=!1}this._hasAnnotationEditors&&this.externalServices.reportTelemetry({type:"editing",data:{type:"save"}})}downloadOrSave(d={}){var w;((w=this.pdfDocument)==null?void 0:w.annotationStorage.size)>0?this.save(d):this.download(d)}openInExternalApp(){this.downloadOrSave({openInExternalApp:!0})}_documentError(d,w=null){this._unblockDocumentLoadEvent(),this._otherError(d,w),this.eventBus.dispatch("documenterror",{source:this,message:d,reason:(w==null?void 0:w.message)??null})}_otherError(d,w=null){const x=[`PDF.js v${a.version||"?"} (build: ${a.build||"?"})`];w&&(x.push(`Message: ${w.message}`),w.stack?x.push(`Stack: ${w.stack}`):(w.filename&&x.push(`File: ${w.filename}`),w.lineNumber&&x.push(`Line: ${w.lineNumber}`))),console.error(`${d}

${x.join(`
`)}`)}progress(d){var D;const{appOptions:w}=this;if(!this.loadingBar||this.downloadComplete)return;const x=Math.round(d*100);x<=this.loadingBar.percent||(this.loadingBar.percent=x,(((D=this.pdfDocument)==null?void 0:D.loadingParams.disableAutoFetch)??w.get("disableAutoFetch"))&&this.loadingBar.setDisableAutoFetch())}load(d){var te,fe,de,Ee;const{appOptions:w}=this;this.pdfDocument=d,d.getDownloadInfo().then(({length:Te})=>{var ve;this._contentLength=Te,this.downloadComplete=!0,(ve=this.loadingBar)==null||ve.hide(),he.then(()=>{this.eventBus.dispatch("documentloaded",{source:this})})});const x=d.getPageLayout().catch(()=>{}),D=d.getPageMode().catch(()=>{}),$=d.getOpenAction().catch(()=>{});(te=this.toolbar)==null||te.setPagesCount(d.numPages,!1),(fe=this.secondaryToolbar)==null||fe.setPagesCount(d.numPages),this.pdfLinkService.setDocument(d),(de=this.pdfDocumentProperties)==null||de.setDocument(d);const ie=this.pdfViewer;ie.setDocument(d);const{firstPagePromise:he,onePageRendered:U,pagesPromise:z}=ie;(Ee=this.pdfThumbnailViewer)==null||Ee.setDocument(d);const j=(this.store=new ee.ViewHistory(d.fingerprints[0])).getMultiple({page:null,zoom:s.DEFAULT_SCALE_VALUE,scrollLeft:"0",scrollTop:"0",rotation:null,sidebarView:s.SidebarView.UNKNOWN,scrollMode:s.ScrollMode.UNKNOWN,spreadMode:s.SpreadMode.UNKNOWN}).catch(()=>{});he.then(Te=>{var ve;(ve=this.loadingBar)==null||ve.setWidth(this.appConfig.viewerContainer),this._initializeAnnotationStorageCallbacks(d),Promise.all([s.animationStarted,j,x,D,$]).then(async([Re,ce,ne,ue,me])=>{const ke=w.get("viewOnLoad");this._initializePdfHistory({fingerprint:d.fingerprints[0],viewOnLoad:ke,initialDest:me==null?void 0:me.dest});const Oe=this.initialBookmark,je=w.get("defaultZoomValue");let We=je?`zoom=${je}`:null,Ue=null,ze=w.get("sidebarViewOnLoad"),Xe=w.get("scrollModeOnLoad"),Ge=w.get("spreadModeOnLoad");ce!=null&&ce.page&&ke!==G.INITIAL&&(We=`page=${ce.page}&zoom=${je||ce.zoom},${ce.scrollLeft},${ce.scrollTop}`,Ue=parseInt(ce.rotation,10),ze===s.SidebarView.UNKNOWN&&(ze=ce.sidebarView|0),Xe===s.ScrollMode.UNKNOWN&&(Xe=ce.scrollMode|0),Ge===s.SpreadMode.UNKNOWN&&(Ge=ce.spreadMode|0)),ue&&ze===s.SidebarView.UNKNOWN&&(ze=(0,s.apiPageModeToSidebarView)(ue)),ne&&Xe===s.ScrollMode.UNKNOWN&&Ge===s.SpreadMode.UNKNOWN&&(Ge=(0,s.apiPageLayoutToViewerModes)(ne).spreadMode),this.setInitialView(We,{rotation:Ue,sidebarView:ze,scrollMode:Xe,spreadMode:Ge}),this.eventBus.dispatch("documentinit",{source:this}),this.isViewerEmbedded||ie.focus(),await Promise.race([z,new Promise(De=>{setTimeout(De,q)})]),!(!Oe&&!We)&&(ie.hasEqualPageSizes||(this.initialBookmark=Oe,ie.currentScaleValue=ie.currentScaleValue,this.setInitialView(We)))}).catch(()=>{this.setInitialView()}).then(function(){ie.update()})}),z.then(()=>{this._unblockDocumentLoadEvent(),this._initializeAutoPrint(d,$)},Te=>{this.l10n.get("loading_error").then(ve=>{this._documentError(ve,{message:Te==null?void 0:Te.message})})}),U.then(Te=>{this.externalServices.reportTelemetry({type:"pageInfo",timestamp:Te.timestamp}),this.pdfOutlineViewer&&d.getOutline().then(ve=>{d===this.pdfDocument&&this.pdfOutlineViewer.render({outline:ve,pdfDocument:d})}),this.pdfAttachmentViewer&&d.getAttachments().then(ve=>{d===this.pdfDocument&&this.pdfAttachmentViewer.render({attachments:ve})}),this.pdfLayerViewer&&ie.optionalContentConfigPromise.then(ve=>{d===this.pdfDocument&&this.pdfLayerViewer.render({optionalContentConfig:ve,pdfDocument:d})})}),this._initializePageLabels(d),this._initializeMetadata(d)}async _scriptingDocProperties(d){var w,x;return!this.documentInfo&&(await new Promise(D=>{this.eventBus._on("metadataloaded",D,{once:!0})}),d!==this.pdfDocument)||!this._contentLength&&(await new Promise(D=>{this.eventBus._on("documentloaded",D,{once:!0})}),d!==this.pdfDocument)?null:{...this.documentInfo,baseURL:this.baseUrl,filesize:this._contentLength,filename:this._docFilename,metadata:(w=this.metadata)==null?void 0:w.getRaw(),authors:(x=this.metadata)==null?void 0:x.get("dc:creator"),numPages:this.pagesCount,URL:this.url}}async _initializeAutoPrint(d,w){const[x,D]=await Promise.all([w,this.pdfViewer.enableScripting?null:d.getJSActions()]);if(d!==this.pdfDocument)return;let $=(x==null?void 0:x.action)==="Print";if(D){console.warn("Warning: JavaScript support is not enabled");for(const ie in D){if($)break;switch(ie){case"WillClose":case"WillSave":case"DidSave":case"WillPrint":case"DidPrint":continue}$=D[ie].some(he=>s.AutoPrintRegExp.test(he))}}$&&this.triggerPrinting()}async _initializeMetadata(d){const{info:w,metadata:x,contentDispositionFilename:D,contentLength:$}=await d.getMetadata();if(d!==this.pdfDocument)return;this.documentInfo=w,this.metadata=x,this._contentDispositionFilename??(this._contentDispositionFilename=D),this._contentLength??(this._contentLength=$),console.log(`PDF ${d.fingerprints[0]} [${w.PDFFormatVersion} ${(w.Producer||"-").trim()} / ${(w.Creator||"-").trim()}] (PDF.js: ${a.version||"?"} [${a.build||"?"}])`);let ie=w.Title;const he=x==null?void 0:x.get("dc:title");he&&he!=="Untitled"&&!/[\uFFF0-\uFFFF]/g.test(he)&&(ie=he),ie?this.setTitle(`${ie} - ${this._contentDispositionFilename||this._title}`):this._contentDispositionFilename&&this.setTitle(this._contentDispositionFilename),w.IsXFAPresent&&!w.IsAcroFormPresent&&!d.isPureXfa?d.loadingParams.enableXfa?console.warn("Warning: XFA Foreground documents are not supported"):console.warn("Warning: XFA support is not enabled"):(w.IsAcroFormPresent||w.IsXFAPresent)&&!this.pdfViewer.renderForms&&console.warn("Warning: Interactive form support is not enabled"),w.IsSignaturesPresent&&console.warn("Warning: Digital signatures validation is not supported"),this.eventBus.dispatch("metadataloaded",{source:this})}async _initializePageLabels(d){const{appOptions:w}=this,x=await d.getPageLabels();if(d!==this.pdfDocument||!x||w.get("disablePageLabels"))return;const D=x.length;let $=0,ie=0;for(let j=0;j<D;j++){const te=x[j];if(te===(j+1).toString())$++;else if(te==="")ie++;else break}if($>=D||ie>=D)return;const{pdfViewer:he,pdfThumbnailViewer:U,toolbar:z}=this;he.setPageLabels(x),U==null||U.setPageLabels(x),z==null||z.setPagesCount(D,!0),z==null||z.setPageNumber(he.currentPageNumber,he.currentPageLabel)}_initializePdfHistory({fingerprint:d,viewOnLoad:w,initialDest:x=null}){const{appOptions:D}=this;this.pdfHistory&&(this.pdfHistory.initialize({fingerprint:d,resetHistory:w===G.INITIAL,updateUrl:D.get("historyUpdateUrl")}),this.pdfHistory.initialBookmark&&(this.initialBookmark=this.pdfHistory.initialBookmark,this.initialRotation=this.pdfHistory.initialRotation),x&&!this.initialBookmark&&w===G.UNKNOWN&&(this.initialBookmark=JSON.stringify(x),this.pdfHistory.push({explicitDest:x,pageNumber:null})))}_initializeAnnotationStorageCallbacks(d){if(d!==this.pdfDocument)return;const{annotationStorage:w}=d;w.onSetModified=()=>{window.addEventListener("beforeunload",beforeUnload),this._annotationStorageModified=!0},w.onResetModified=()=>{window.removeEventListener("beforeunload",beforeUnload),delete this._annotationStorageModified},w.onAnnotationEditor=x=>{this._hasAnnotationEditors=!!x,this.setTitle(),x&&this.externalServices.reportTelemetry({type:"editing",data:{type:x}})}}setInitialView(d,{rotation:w,sidebarView:x,scrollMode:D,spreadMode:$}={}){var U,z,j;const ie=te=>{(0,s.isValidRotation)(te)&&(this.pdfViewer.pagesRotation=te)},he=(te,fe)=>{(0,s.isValidScrollMode)(te)&&(this.pdfViewer.scrollMode=te),(0,s.isValidSpreadMode)(fe)&&(this.pdfViewer.spreadMode=fe)};this.isInitialViewSet=!0,(U=this.pdfSidebar)==null||U.setInitialView(x),he(D,$),this.initialBookmark?(ie(this.initialRotation),delete this.initialRotation,this.pdfLinkService.setHash(this.initialBookmark),this.initialBookmark=null):d&&(ie(w),this.pdfLinkService.setHash(d)),(z=this.toolbar)==null||z.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel),(j=this.secondaryToolbar)==null||j.setPageNumber(this.pdfViewer.currentPageNumber),this.pdfViewer.currentScaleValue||(this.pdfViewer.currentScaleValue=s.DEFAULT_SCALE_VALUE)}_cleanup(){var d;this.pdfDocument&&(this.pdfViewer.cleanup(),(d=this.pdfThumbnailViewer)==null||d.cleanup(),this.pdfDocument.cleanup())}forceRendering(){var d;this.pdfRenderingQueue.printing=!!this.printService,this.pdfRenderingQueue.isThumbnailViewEnabled=((d=this.pdfSidebar)==null?void 0:d.visibleView)===s.SidebarView.THUMBS,this.pdfRenderingQueue.renderHighestPriority()}beforePrint(){const{appOptions:d}=this;if(this._printAnnotationStoragePromise=this.pdfScriptingManager.dispatchWillPrint().catch(()=>{}).then(()=>{var he;return(he=this.pdfDocument)==null?void 0:he.annotationStorage.print}),this.printService)return;if(!this.supportsPrinting){this.l10n.get("printing_not_supported").then(he=>{this._otherError(he)});return}if(!this.pdfViewer.pageViewsReady){this.l10n.get("printing_not_ready").then(he=>{window.alert(he)});return}const w=this.pdfViewer.getPagesOverview(),x=this.appConfig.printContainer,D=d.get("printResolution"),$=this.pdfViewer.optionalContentConfigPromise,ie=Pe.instance.createPrintService(this.pdfDocument,w,x,D,$,this._printAnnotationStoragePromise,this.l10n);this.printService=ie,this.forceRendering(),this.setTitle(),ie.layout(),this._hasAnnotationEditors&&this.externalServices.reportTelemetry({type:"editing",data:{type:"print"}})}afterPrint(){var d;this._printAnnotationStoragePromise&&(this._printAnnotationStoragePromise.then(()=>{this.pdfScriptingManager.dispatchDidPrint()}),this._printAnnotationStoragePromise=null),this.printService&&(this.printService.destroy(),this.printService=null,(d=this.pdfDocument)==null||d.annotationStorage.resetModified()),this.forceRendering(),this.setTitle()}rotatePages(d){this.pdfViewer.pagesRotation+=d}requestPresentationMode(){var d;(d=this.pdfPresentationMode)==null||d.request()}triggerPrinting(){this.supportsPrinting&&window.print()}bindEvents(){const{appOptions:d}=this,{eventBus:w,_boundEvents:x}=this;x.beforePrint=this.beforePrint.bind(this),x.afterPrint=this.afterPrint.bind(this),w._on("resize",webViewerResize),w._on("hashchange",webViewerHashchange),w._on("beforeprint",x.beforePrint),w._on("afterprint",x.afterPrint),w._on("pagerender",webViewerPageRender),w._on("pagerendered",webViewerPageRendered),w._on("updateviewarea",webViewerUpdateViewarea),w._on("pagechanging",webViewerPageChanging),w._on("scalechanging",webViewerScaleChanging),w._on("rotationchanging",webViewerRotationChanging),w._on("sidebarviewchanged",webViewerSidebarViewChanged),w._on("pagemode",webViewerPageMode),w._on("namedaction",webViewerNamedAction),w._on("presentationmodechanged",webViewerPresentationModeChanged),w._on("presentationmode",webViewerPresentationMode),w._on("switchannotationeditormode",webViewerSwitchAnnotationEditorMode),w._on("switchannotationeditorparams",webViewerSwitchAnnotationEditorParams),w._on("print",webViewerPrint),w._on("download",webViewerDownload),w._on("openinexternalapp",webViewerOpenInExternalApp),w._on("firstpage",webViewerFirstPage),w._on("lastpage",webViewerLastPage),w._on("nextpage",webViewerNextPage),w._on("previouspage",webViewerPreviousPage),w._on("zoomin",webViewerZoomIn),w._on("zoomout",webViewerZoomOut),w._on("zoomreset",webViewerZoomReset),w._on("pagenumberchanged",webViewerPageNumberChanged),w._on("scalechanged",webViewerScaleChanged),w._on("rotatecw",webViewerRotateCw),w._on("rotateccw",webViewerRotateCcw),w._on("optionalcontentconfig",webViewerOptionalContentConfig),w._on("switchscrollmode",webViewerSwitchScrollMode),w._on("scrollmodechanged",webViewerScrollModeChanged),w._on("switchspreadmode",webViewerSwitchSpreadMode),w._on("spreadmodechanged",webViewerSpreadModeChanged),w._on("documentproperties",webViewerDocumentProperties),w._on("findfromurlhash",webViewerFindFromUrlHash),w._on("updatefindmatchescount",webViewerUpdateFindMatchesCount),w._on("updatefindcontrolstate",webViewerUpdateFindControlState),d.get("pdfBug")&&(x.reportPageStatsPDFBug=reportPageStatsPDFBug,w._on("pagerendered",x.reportPageStatsPDFBug),w._on("pagechanging",x.reportPageStatsPDFBug)),w._on("fileinputchange",webViewerFileInputChange),w._on("openfile",webViewerOpenFile)}bindWindowEvents(){const{eventBus:d,_boundEvents:w}=this;function x(D=null){D&&webViewerResolutionChange(D);const $=window.matchMedia(`(resolution: ${window.devicePixelRatio||1}dppx)`);$.addEventListener("change",x,{once:!0}),w.removeWindowResolutionChange||(w.removeWindowResolutionChange=function(){$.removeEventListener("change",x),w.removeWindowResolutionChange=null})}x(),w.windowResize=()=>{d.dispatch("resize",{source:window})},w.windowHashChange=()=>{d.dispatch("hashchange",{source:window,hash:document.location.hash.substring(1)})},w.windowBeforePrint=()=>{d.dispatch("beforeprint",{source:window})},w.windowAfterPrint=()=>{d.dispatch("afterprint",{source:window})},w.windowUpdateFromSandbox=D=>{d.dispatch("updatefromsandbox",{source:window,detail:D.detail})},window.addEventListener("visibilitychange",webViewerVisibilityChange),window.addEventListener("wheel",webViewerWheel,{passive:!1}),window.addEventListener("touchstart",webViewerTouchStart,{passive:!1}),window.addEventListener("touchmove",webViewerTouchMove,{passive:!1}),window.addEventListener("touchend",webViewerTouchEnd,{passive:!1}),window.addEventListener("click",webViewerClick),window.addEventListener("keydown",webViewerKeyDown),window.addEventListener("keyup",webViewerKeyUp),window.addEventListener("resize",w.windowResize),window.addEventListener("hashchange",w.windowHashChange),window.addEventListener("beforeprint",w.windowBeforePrint),window.addEventListener("afterprint",w.windowAfterPrint),window.addEventListener("updatefromsandbox",w.windowUpdateFromSandbox)}unbindEvents(){const{eventBus:d,_boundEvents:w}=this;d._off("resize",webViewerResize),d._off("hashchange",webViewerHashchange),d._off("beforeprint",w.beforePrint),d._off("afterprint",w.afterPrint),d._off("pagerender",webViewerPageRender),d._off("pagerendered",webViewerPageRendered),d._off("updateviewarea",webViewerUpdateViewarea),d._off("pagechanging",webViewerPageChanging),d._off("scalechanging",webViewerScaleChanging),d._off("rotationchanging",webViewerRotationChanging),d._off("sidebarviewchanged",webViewerSidebarViewChanged),d._off("pagemode",webViewerPageMode),d._off("namedaction",webViewerNamedAction),d._off("presentationmodechanged",webViewerPresentationModeChanged),d._off("presentationmode",webViewerPresentationMode),d._off("print",webViewerPrint),d._off("download",webViewerDownload),d._off("openinexternalapp",webViewerOpenInExternalApp),d._off("firstpage",webViewerFirstPage),d._off("lastpage",webViewerLastPage),d._off("nextpage",webViewerNextPage),d._off("previouspage",webViewerPreviousPage),d._off("zoomin",webViewerZoomIn),d._off("zoomout",webViewerZoomOut),d._off("zoomreset",webViewerZoomReset),d._off("pagenumberchanged",webViewerPageNumberChanged),d._off("scalechanged",webViewerScaleChanged),d._off("rotatecw",webViewerRotateCw),d._off("rotateccw",webViewerRotateCcw),d._off("optionalcontentconfig",webViewerOptionalContentConfig),d._off("switchscrollmode",webViewerSwitchScrollMode),d._off("scrollmodechanged",webViewerScrollModeChanged),d._off("switchspreadmode",webViewerSwitchSpreadMode),d._off("spreadmodechanged",webViewerSpreadModeChanged),d._off("documentproperties",webViewerDocumentProperties),d._off("findfromurlhash",webViewerFindFromUrlHash),d._off("updatefindmatchescount",webViewerUpdateFindMatchesCount),d._off("updatefindcontrolstate",webViewerUpdateFindControlState),w.reportPageStatsPDFBug&&(d._off("pagerendered",w.reportPageStatsPDFBug),d._off("pagechanging",w.reportPageStatsPDFBug),w.reportPageStatsPDFBug=null),d._off("fileinputchange",webViewerFileInputChange),d._off("openfile",webViewerOpenFile),w.beforePrint=null,w.afterPrint=null}unbindWindowEvents(){var w;const{_boundEvents:d}=this;window.removeEventListener("visibilitychange",webViewerVisibilityChange),window.removeEventListener("wheel",webViewerWheel,{passive:!1}),window.removeEventListener("touchstart",webViewerTouchStart,{passive:!1}),window.removeEventListener("touchmove",webViewerTouchMove,{passive:!1}),window.removeEventListener("touchend",webViewerTouchEnd,{passive:!1}),window.removeEventListener("click",webViewerClick),window.removeEventListener("keydown",webViewerKeyDown),window.removeEventListener("keyup",webViewerKeyUp),window.removeEventListener("resize",d.windowResize),window.removeEventListener("hashchange",d.windowHashChange),window.removeEventListener("beforeprint",d.windowBeforePrint),window.removeEventListener("afterprint",d.windowAfterPrint),window.removeEventListener("updatefromsandbox",d.windowUpdateFromSandbox),(w=d.removeWindowResolutionChange)==null||w.call(d),d.windowResize=null,d.windowHashChange=null,d.windowBeforePrint=null,d.windowAfterPrint=null,d.windowUpdateFromSandbox=null}_accumulateTicks(d,w){(this[w]>0&&d<0||this[w]<0&&d>0)&&(this[w]=0),this[w]+=d;const x=Math.trunc(this[w]);return this[w]-=x,x}_accumulateFactor(d,w,x){if(w===1)return 1;(this[x]>1&&w<1||this[x]<1&&w>1)&&(this[x]=1);const D=Math.floor(d*w*this[x]*100)/(100*d);return this[x]=w/D,D}_centerAtPos(d,w,x){const{pdfViewer:D}=this,$=D.currentScale/d-1;if($!==0){const[ie,he]=D.containerTopLeft;D.container.scrollLeft+=(w-he)*$,D.container.scrollTop+=(x-ie)*$}}_unblockDocumentLoadEvent(){var d;(d=document.blockUnblockOnload)==null||d.call(document,!1),this._unblockDocumentLoadEvent=()=>{}}get scriptingReady(){return this.pdfScriptingManager.ready}}b.ViewerApplication=W},(I,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.compatibilityParams=b.OptionKind=b.AppOptions=void 0;const f=Object.create(null);b.compatibilityParams=f;{const R=navigator.userAgent||"",n=navigator.platform||"",g=navigator.maxTouchPoints||1,m=/Android/.test(R),A=/\b(iPad|iPhone|iPod)(?=;)/.test(R)||n==="MacIntel"&&g>1;(function(){(A||m)&&(f.maxCanvasPixels=5242880)})()}const s={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};b.OptionKind=s;const a={annotationEditorMode:{value:0,kind:s.VIEWER+s.PREFERENCE},annotationMode:{value:2,kind:s.VIEWER+s.PREFERENCE},cursorToolOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},defaultZoomDelay:{value:400,kind:s.VIEWER+s.PREFERENCE},defaultZoomValue:{value:"",kind:s.VIEWER+s.PREFERENCE},disableHistory:{value:!1,kind:s.VIEWER},disablePageLabels:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePermissions:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:s.VIEWER+s.PREFERENCE},enableScripting:{value:!0,kind:s.VIEWER+s.PREFERENCE},enableStampEditor:{value:!0,kind:s.VIEWER+s.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:s.VIEWER},externalLinkTarget:{value:0,kind:s.VIEWER+s.PREFERENCE},historyUpdateUrl:{value:!1,kind:s.VIEWER+s.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:s.VIEWER+s.PREFERENCE},imageResourcesPath:{value:"./images/",kind:s.VIEWER},maxCanvasPixels:{value:16777216,kind:s.VIEWER},forcePageColors:{value:!1,kind:s.VIEWER+s.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:s.VIEWER+s.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:s.VIEWER+s.PREFERENCE},pdfBugEnabled:{value:!1,kind:s.VIEWER+s.PREFERENCE},printResolution:{value:150,kind:s.VIEWER},sidebarViewOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},scrollModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},spreadModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},textLayerMode:{value:1,kind:s.VIEWER+s.PREFERENCE},viewerCssTheme:{value:0,kind:s.VIEWER+s.PREFERENCE},viewOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},cMapPacked:{value:!0,kind:s.API},cMapUrl:{value:"../web/cmaps/",kind:s.API},disableAutoFetch:{value:!1,kind:s.API+s.PREFERENCE},disableFontFace:{value:!1,kind:s.API+s.PREFERENCE},disableRange:{value:!1,kind:s.API+s.PREFERENCE},disableStream:{value:!1,kind:s.API+s.PREFERENCE},docBaseUrl:{value:"",kind:s.API},enableXfa:{value:!0,kind:s.API+s.PREFERENCE},fontExtraProperties:{value:!1,kind:s.API},isEvalSupported:{value:!0,kind:s.API},isOffscreenCanvasSupported:{value:!0,kind:s.API},maxImageSize:{value:-1,kind:s.API},pdfBug:{value:!1,kind:s.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:s.API},verbosity:{value:1,kind:s.API},workerPort:{value:null,kind:s.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:s.WORKER}};a.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:s.VIEWER},a.disablePreferences={value:!1,kind:s.VIEWER},a.locale={value:navigator.language||"en-US",kind:s.VIEWER},a.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:s.VIEWER};const P=Object.create(null);class S{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(n){const g=P[n];if(g!==void 0)return g;const m=a[n];if(m!==void 0)return f[n]??m.value}static getAll(n=null){const g=Object.create(null);for(const m in a){const A=a[m];if(n){if(!(n&A.kind))continue;if(n===s.PREFERENCE){const E=A.value,C=typeof E;if(C==="boolean"||C==="string"||C==="number"&&Number.isInteger(E)){g[m]=E;continue}throw new Error(`Invalid type for preference: ${m}`)}}const T=P[m];g[m]=T!==void 0?T:f[m]??A.value}return g}static set(n,g){P[n]=g}static setAll(n){for(const g in n)P[g]=n[g]}static remove(n){delete P[n]}}b.AppOptions=S,S._hasUserOptions=function(){return Object.keys(P).length>0}},(I,b)=>{var S;Object.defineProperty(b,"__esModule",{value:!0}),b.WaitOnType=b.EventBus=b.AutomationEventBus=void 0,b.waitOnEventOrTimeout=s;const f={EVENT:"event",TIMEOUT:"timeout"};b.WaitOnType=f;function s({target:R,name:n,delay:g=0}){return new Promise(function(m,A){if(typeof R!="object"||!(n&&typeof n=="string")||!(Number.isInteger(g)&&g>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function T(c){R instanceof a?R._off(n,E):R.removeEventListener(n,E),l&&clearTimeout(l),m(c)}const E=T.bind(null,f.EVENT);R instanceof a?R._on(n,E):R.addEventListener(n,E);const C=T.bind(null,f.TIMEOUT),l=setTimeout(C,g)})}class a{constructor(){V(this,S,Object.create(null))}on(n,g,m=null){this._on(n,g,{external:!0,once:m==null?void 0:m.once})}off(n,g,m=null){this._off(n,g,{external:!0,once:m==null?void 0:m.once})}dispatch(n,g){const m=r(this,S)[n];if(!m||m.length===0)return;let A;for(const{listener:T,external:E,once:C}of m.slice(0)){if(C&&this._off(n,T),E){(A||(A=[])).push(T);continue}T(g)}if(A){for(const T of A)T(g);A=null}}_on(n,g,m=null){var T;((T=r(this,S))[n]||(T[n]=[])).push({listener:g,external:(m==null?void 0:m.external)===!0,once:(m==null?void 0:m.once)===!0})}_off(n,g,m=null){const A=r(this,S)[n];if(A){for(let T=0,E=A.length;T<E;T++)if(A[T].listener===g){A.splice(T,1);return}}}}S=new WeakMap,b.EventBus=a;class P extends a{dispatch(n,g){throw new Error("Not implemented: AutomationEventBus.dispatch")}}b.AutomationEventBus=P},(I,b,f)=>{var g,m,Mi,T,Jn;Object.defineProperty(b,"__esModule",{value:!0}),b.SimpleLinkService=b.PDFLinkService=b.LinkTarget=void 0;var s=f(4);const a="noopener noreferrer nofollow",P={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};b.LinkTarget=P;function S(l,{url:c,target:y,rel:v,enabled:_=!0}={}){if(!c||typeof c!="string")throw new Error('A valid "url" parameter must provided.');const O=(0,s.removeNullCharacters)(c);_?l.href=l.title=O:(l.href="",l.title=`Disabled: ${O}`,l.onclick=()=>!1);let F="";switch(y){case P.NONE:break;case P.SELF:F="_self";break;case P.BLANK:F="_blank";break;case P.PARENT:F="_parent";break;case P.TOP:F="_top";break}l.target=F,l.rel=typeof v=="string"?v:a}const C=class C{constructor({eventBus:c,externalLinkTarget:y=null,externalLinkRel:v=null,ignoreDestinationZoom:_=!1}={}){V(this,m);V(this,g,new Map);this.eventBus=c,this.externalLinkTarget=y,this.externalLinkRel=v,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=_,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(c,y=null){this.baseUrl=y,this.pdfDocument=c,r(this,g).clear()}setViewer(c){this.pdfViewer=c}setHistory(c){this.pdfHistory=c}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(c){this.pdfViewer.currentPageNumber=c}get rotation(){return this.pdfViewer.pagesRotation}set rotation(c){this.pdfViewer.pagesRotation=c}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}async goToDestination(c){if(!this.pdfDocument)return;let y,v;if(typeof c=="string"?(y=c,v=await this.pdfDocument.getDestination(c)):(y=null,v=await c),!Array.isArray(v)){console.error(`PDFLinkService.goToDestination: "${v}" is not a valid destination array, for dest="${c}".`);return}X(this,m,Mi).call(this,c,y,v)}goToPage(c){if(!this.pdfDocument)return;const y=typeof c=="string"&&this.pdfViewer.pageLabelToPageNumber(c)||c|0;if(!(Number.isInteger(y)&&y>0&&y<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${c}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(y)),this.pdfViewer.scrollPageIntoView({pageNumber:y})}addLinkAttributes(c,y,v=!1){S(c,{url:y,target:v?P.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(c){if(typeof c=="string"){if(c.length>0)return this.getAnchorUrl("#"+escape(c))}else if(Array.isArray(c)){const y=JSON.stringify(c);if(y.length>0)return this.getAnchorUrl("#"+escape(y))}return this.getAnchorUrl("")}getAnchorUrl(c){return this.baseUrl?this.baseUrl+c:c}setHash(c){var _;if(!this.pdfDocument)return;let y,v;if(c.includes("=")){const O=(0,s.parseQueryString)(c);if(O.has("search")){const F=O.get("search").replaceAll('"',""),K=O.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:K?F:F.match(/\S+/g)})}if(O.has("page")&&(y=O.get("page")|0||1),O.has("zoom")){const F=O.get("zoom").split(","),K=F[0],le=parseFloat(K);K.includes("Fit")?K==="Fit"||K==="FitB"?v=[null,{name:K}]:K==="FitH"||K==="FitBH"||K==="FitV"||K==="FitBV"?v=[null,{name:K},F.length>1?F[1]|0:null]:K==="FitR"?F.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):v=[null,{name:K},F[1]|0,F[2]|0,F[3]|0,F[4]|0]:console.error(`PDFLinkService.setHash: "${K}" is not a valid zoom value.`):v=[null,{name:"XYZ"},F.length>1?F[1]|0:null,F.length>2?F[2]|0:null,le?le/100:K]}v?this.pdfViewer.scrollPageIntoView({pageNumber:y||this.page,destArray:v,allowNegativeOffset:!0}):y&&(this.page=y),O.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:O.get("pagemode")}),O.has("nameddest")&&this.goToDestination(O.get("nameddest"))}else{v=unescape(c);try{v=JSON.parse(v),Array.isArray(v)||(v=v.toString())}catch{}if(typeof v=="string"||X(_=C,T,Jn).call(_,v)){this.goToDestination(v);return}console.error(`PDFLinkService.setHash: "${unescape(c)}" is not a valid destination.`)}}executeNamedAction(c){var y,v;switch(c){case"GoBack":(y=this.pdfHistory)==null||y.back();break;case"GoForward":(v=this.pdfHistory)==null||v.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:c})}async executeSetOCGState(c){const y=this.pdfDocument,v=await this.pdfViewer.optionalContentConfigPromise;if(y!==this.pdfDocument)return;let _;for(const O of c.state){switch(O){case"ON":case"OFF":case"Toggle":_=O;continue}switch(_){case"ON":v.setVisibility(O,!0);break;case"OFF":v.setVisibility(O,!1);break;case"Toggle":const F=v.getGroup(O);F&&v.setVisibility(O,!F.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(v)}cachePageRef(c,y){if(!y)return;const v=y.gen===0?`${y.num}R`:`${y.num}R${y.gen}`;r(this,g).set(v,c)}_cachedPageNumber(c){if(!c)return null;const y=c.gen===0?`${c.num}R`:`${c.num}R${c.gen}`;return r(this,g).get(y)||null}};g=new WeakMap,m=new WeakSet,Mi=function(c,y=null,v){const _=v[0];let O;if(typeof _=="object"&&_!==null){if(O=this._cachedPageNumber(_),!O){this.pdfDocument.getPageIndex(_).then(F=>{this.cachePageRef(F+1,_),X(this,m,Mi).call(this,c,y,v)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${_}" is not a valid page reference, for dest="${c}".`)});return}}else if(Number.isInteger(_))O=_+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${_}" is not a valid destination reference, for dest="${c}".`);return}if(!O||O<1||O>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${O}" is not a valid page number, for dest="${c}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:y,explicitDest:v,pageNumber:O})),this.pdfViewer.scrollPageIntoView({pageNumber:O,destArray:v,ignoreDestinationZoom:this._ignoreDestinationZoom})},T=new WeakSet,Jn=function(c){if(!Array.isArray(c))return!1;const y=c.length;if(y<2)return!1;const v=c[0];if(!(typeof v=="object"&&Number.isInteger(v.num)&&Number.isInteger(v.gen))&&!(Number.isInteger(v)&&v>=0))return!1;const _=c[1];if(!(typeof _=="object"&&typeof _.name=="string"))return!1;let O=!0;switch(_.name){case"XYZ":if(y!==5)return!1;break;case"Fit":case"FitB":return y===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(y!==3)return!1;break;case"FitR":if(y!==6)return!1;O=!1;break;default:return!1}for(let F=2;F<y;F++){const K=c[F];if(!(typeof K=="number"||O&&K===null))return!1}return!0},V(C,T);let R=C;b.PDFLinkService=R;class n{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(c){}get rotation(){return 0}set rotation(c){}get isInPresentationMode(){return!1}async goToDestination(c){}goToPage(c){}addLinkAttributes(c,y,v=!1){S(c,{url:y,enabled:this.externalLinkEnabled})}getDestinationHash(c){return"#"}getAnchorUrl(c){return"#"}setHash(c){}executeNamedAction(c){}executeSetOCGState(c){}cachePageRef(c,y){}}b.SimpleLinkService=n},(I,b,f)=>{var P,Qn;Object.defineProperty(b,"__esModule",{value:!0}),b.AnnotationEditorParams=void 0;var s=f(5);class a{constructor(n,g){V(this,P);this.eventBus=g,X(this,P,Qn).call(this,n)}}P=new WeakSet,Qn=function({editorFreeTextFontSize:n,editorFreeTextColor:g,editorInkColor:m,editorInkThickness:A,editorInkOpacity:T,editorStampAddImage:E}){const C=(l,c)=>{this.eventBus.dispatch("switchannotationeditorparams",{source:this,type:s.AnnotationEditorParamsType[l],value:c})};n.addEventListener("input",function(){C("FREETEXT_SIZE",this.valueAsNumber)}),g.addEventListener("input",function(){C("FREETEXT_COLOR",this.value)}),m.addEventListener("input",function(){C("INK_COLOR",this.value)}),A.addEventListener("input",function(){C("INK_THICKNESS",this.valueAsNumber)}),T.addEventListener("input",function(){C("INK_OPACITY",this.valueAsNumber)}),E.addEventListener("click",()=>{C("CREATE")}),this.eventBus._on("annotationeditorparamschanged",l=>{for(const[c,y]of l.details)switch(c){case s.AnnotationEditorParamsType.FREETEXT_SIZE:n.value=y;break;case s.AnnotationEditorParamsType.FREETEXT_COLOR:g.value=y;break;case s.AnnotationEditorParamsType.INK_COLOR:m.value=y;break;case s.AnnotationEditorParamsType.INK_THICKNESS:A.value=y;break;case s.AnnotationEditorParamsType.INK_OPACITY:T.value=y;break}})},b.AnnotationEditorParams=a},(I,b)=>{var s,a;Object.defineProperty(b,"__esModule",{value:!0}),b.OverlayManager=void 0;class f{constructor(){V(this,s,new WeakMap);V(this,a,null)}get active(){return r(this,a)}async register(S,R=!1){if(typeof S!="object")throw new Error("Not enough parameters.");if(r(this,s).has(S))throw new Error("The overlay is already registered.");r(this,s).set(S,{canForceClose:R}),S.addEventListener("cancel",n=>{pe(this,a,null)})}async open(S){if(r(this,s).has(S)){if(r(this,a)){if(r(this,a)===S)throw new Error("The overlay is already active.");if(r(this,s).get(S).canForceClose)await this.close();else throw new Error("Another overlay is currently active.")}}else throw new Error("The overlay does not exist.");pe(this,a,S),S.showModal()}async close(S=r(this,a)){if(r(this,s).has(S))if(r(this,a)){if(r(this,a)!==S)throw new Error("Another overlay is currently active.")}else throw new Error("The overlay is currently not active.");else throw new Error("The overlay does not exist.");S.close(),pe(this,a,null)}}s=new WeakMap,a=new WeakMap,b.OverlayManager=f},(I,b,f)=>{var P,S,R,n,xi,m,es,T,Li;Object.defineProperty(b,"__esModule",{value:!0}),b.PasswordPrompt=void 0;var s=f(5);class a{constructor(l,c,y,v=!1){V(this,n);V(this,m);V(this,T);V(this,P,null);V(this,S,null);V(this,R,null);this.dialog=l.dialog,this.label=l.label,this.input=l.input,this.submitButton=l.submitButton,this.cancelButton=l.cancelButton,this.overlayManager=c,this.l10n=y,this._isViewerEmbedded=v,this.submitButton.addEventListener("click",X(this,n,xi).bind(this)),this.cancelButton.addEventListener("click",this.close.bind(this)),this.input.addEventListener("keydown",_=>{_.keyCode===13&&X(this,n,xi).call(this)}),this.overlayManager.register(this.dialog,!0),this.dialog.addEventListener("close",X(this,m,es).bind(this))}async open(){r(this,P)&&await r(this,P).promise,pe(this,P,new s.PromiseCapability);try{await this.overlayManager.open(this.dialog)}catch(c){throw r(this,P).resolve(),c}const l=r(this,R)===s.PasswordResponses.INCORRECT_PASSWORD;(!this._isViewerEmbedded||l)&&this.input.focus(),this.label.textContent=await this.l10n.get(`password_${l?"invalid":"label"}`)}async close(){this.overlayManager.active===this.dialog&&this.overlayManager.close(this.dialog)}async setUpdateCallback(l,c){r(this,P)&&await r(this,P).promise,pe(this,S,l),pe(this,R,c)}}P=new WeakMap,S=new WeakMap,R=new WeakMap,n=new WeakSet,xi=function(){const l=this.input.value;(l==null?void 0:l.length)>0&&X(this,T,Li).call(this,l)},m=new WeakSet,es=function(){X(this,T,Li).call(this,new Error("PasswordPrompt cancelled.")),r(this,P).resolve()},T=new WeakSet,Li=function(l){r(this,S)&&(this.close(),this.input.value="",r(this,S).call(this,l),pe(this,S,null))},b.PasswordPrompt=a},(I,b,f)=>{var R,ts;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFAttachmentViewer=void 0;var s=f(5),a=f(16),P=f(10);class S extends a.BaseTreeViewer{constructor(A){super(A);V(this,R);this.downloadManager=A.downloadManager,this.eventBus._on("fileattachmentannotation",X(this,R,ts).bind(this))}reset(A=!1){super.reset(),this._attachments=null,A||(this._renderedCapability=new s.PromiseCapability),this._pendingDispatchEvent=!1}async _dispatchEvent(A){this._renderedCapability.resolve(),!(A===0&&!this._pendingDispatchEvent&&(this._pendingDispatchEvent=!0,await(0,P.waitOnEventOrTimeout)({target:this.eventBus,name:"annotationlayerrendered",delay:1e3}),!this._pendingDispatchEvent))&&(this._pendingDispatchEvent=!1,this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:A}))}_bindLink(A,{content:T,filename:E}){A.onclick=()=>(this.downloadManager.openOrDownloadData(A,T,E),!1)}render({attachments:A,keepRenderedCapability:T=!1}){if(this._attachments&&this.reset(T),this._attachments=A||null,!A){this._dispatchEvent(0);return}const E=document.createDocumentFragment();let C=0;for(const l in A){const c=A[l],y=c.content,v=(0,s.getFilenameFromUrl)(c.filename,!0),_=document.createElement("div");_.className="treeItem";const O=document.createElement("a");this._bindLink(O,{content:y,filename:v}),O.textContent=this._normalizeTextContent(v),_.append(O),E.append(_),C++}this._finishRendering(E,C)}}R=new WeakSet,ts=function({filename:A,content:T}){const E=this._renderedCapability.promise;E.then(()=>{if(E!==this._renderedCapability.promise)return;const C=this._attachments||Object.create(null);for(const l in C)if(A===l)return;C[A]={filename:A,content:T},this.render({attachments:C,keepRenderedCapability:!0})})},b.PDFAttachmentViewer=S},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BaseTreeViewer=void 0;var s=f(4);const a=-100,P="selected";class S{constructor(n){if(this.constructor===S)throw new Error("Cannot initialize BaseTreeViewer.");this.container=n.container,this.eventBus=n.eventBus,this.reset()}reset(){this._pdfDocument=null,this._lastToggleIsShow=!0,this._currentTreeItem=null,this.container.textContent="",this.container.classList.remove("treeWithDeepNesting")}_dispatchEvent(n){throw new Error("Not implemented: _dispatchEvent")}_bindLink(n,g){throw new Error("Not implemented: _bindLink")}_normalizeTextContent(n){return(0,s.removeNullCharacters)(n,!0)||"–"}_addToggleButton(n,g=!1){const m=document.createElement("div");m.className="treeItemToggler",g&&m.classList.add("treeItemsHidden"),m.onclick=A=>{if(A.stopPropagation(),m.classList.toggle("treeItemsHidden"),A.shiftKey){const T=!m.classList.contains("treeItemsHidden");this._toggleTreeItem(n,T)}},n.prepend(m)}_toggleTreeItem(n,g=!1){this._lastToggleIsShow=g;for(const m of n.querySelectorAll(".treeItemToggler"))m.classList.toggle("treeItemsHidden",!g)}_toggleAllTreeItems(){this._toggleTreeItem(this.container,!this._lastToggleIsShow)}_finishRendering(n,g,m=!1){m&&(this.container.classList.add("treeWithDeepNesting"),this._lastToggleIsShow=!n.querySelector(".treeItemsHidden")),this.container.append(n),this._dispatchEvent(g)}render(n){throw new Error("Not implemented: render")}_updateCurrentTreeItem(n=null){this._currentTreeItem&&(this._currentTreeItem.classList.remove(P),this._currentTreeItem=null),n&&(n.classList.add(P),this._currentTreeItem=n)}_scrollToCurrentTreeItem(n){if(!n)return;let g=n.parentNode;for(;g&&g!==this.container;){if(g.classList.contains("treeItem")){const m=g.firstElementChild;m==null||m.classList.remove("treeItemsHidden")}g=g.parentNode}this._updateCurrentTreeItem(n),this.container.scrollTo(n.offsetLeft,n.offsetTop+a)}}b.BaseTreeViewer=S},(I,b,f)=>{var A,T,Ii,C,At,c,ki,v,is,O,Oi,K,ns;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFDocumentProperties=void 0;var s=f(4),a=f(5);const P="-",S=["en-us","en-lr","my"],R={"8.5x11":"Letter","8.5x14":"Legal"},n={"297x420":"A3","210x297":"A4"};function g(B,Y,se){const ee=Y?B.width:B.height,N=Y?B.height:B.width;return se[`${ee}x${N}`]}class m{constructor({dialog:Y,fields:se,closeButton:ee},N,q,G,ge){V(this,T);V(this,C);V(this,c);V(this,v);V(this,O);V(this,K);V(this,A,null);this.dialog=Y,this.fields=se,this.overlayManager=N,this.l10n=G,this._fileNameLookup=ge,X(this,T,Ii).call(this),ee.addEventListener("click",this.close.bind(this)),this.overlayManager.register(this.dialog),q._on("pagechanging",Pe=>{this._currentPageNumber=Pe.pageNumber}),q._on("rotationchanging",Pe=>{this._pagesRotation=Pe.pagesRotation}),this._isNonMetricLocale=!0,G.getLanguage().then(Pe=>{this._isNonMetricLocale=S.includes(Pe)})}async open(){await Promise.all([this.overlayManager.open(this.dialog),this._dataAvailableCapability.promise]);const Y=this._currentPageNumber,se=this._pagesRotation;if(r(this,A)&&Y===r(this,A)._currentPageNumber&&se===r(this,A)._pagesRotation){X(this,C,At).call(this);return}const{info:ee,contentLength:N}=await this.pdfDocument.getMetadata(),[q,G,ge,Pe,W,M]=await Promise.all([this._fileNameLookup(),X(this,c,ki).call(this,N),X(this,O,Oi).call(this,ee.CreationDate),X(this,O,Oi).call(this,ee.ModDate),this.pdfDocument.getPage(Y).then(x=>X(this,v,is).call(this,(0,s.getPageSizeInches)(x),se)),X(this,K,ns).call(this,ee.IsLinearized)]);pe(this,A,Object.freeze({fileName:q,fileSize:G,title:ee.Title,author:ee.Author,subject:ee.Subject,keywords:ee.Keywords,creationDate:ge,modificationDate:Pe,creator:ee.Creator,producer:ee.Producer,version:ee.PDFFormatVersion,pageCount:this.pdfDocument.numPages,pageSize:W,linearized:M,_currentPageNumber:Y,_pagesRotation:se})),X(this,C,At).call(this);const{length:d}=await this.pdfDocument.getDownloadInfo();if(N===d)return;const w=Object.assign(Object.create(null),r(this,A));w.fileSize=await X(this,c,ki).call(this,d),pe(this,A,Object.freeze(w)),X(this,C,At).call(this)}async close(){this.overlayManager.close(this.dialog)}setDocument(Y){this.pdfDocument&&(X(this,T,Ii).call(this),X(this,C,At).call(this,!0)),Y&&(this.pdfDocument=Y,this._dataAvailableCapability.resolve())}}A=new WeakMap,T=new WeakSet,Ii=function(){this.pdfDocument=null,pe(this,A,null),this._dataAvailableCapability=new a.PromiseCapability,this._currentPageNumber=1,this._pagesRotation=0},C=new WeakSet,At=function(Y=!1){if(Y||!r(this,A)){for(const se in this.fields)this.fields[se].textContent=P;return}if(this.overlayManager.active===this.dialog)for(const se in this.fields){const ee=r(this,A)[se];this.fields[se].textContent=ee||ee===0?ee:P}},c=new WeakSet,ki=async function(Y=0){const se=Y/1024,ee=se/1024;if(se)return this.l10n.get(`document_properties_${ee>=1?"mb":"kb"}`,{size_mb:ee>=1&&(+ee.toPrecision(3)).toLocaleString(),size_kb:ee<1&&(+se.toPrecision(3)).toLocaleString(),size_b:Y.toLocaleString()})},v=new WeakSet,is=async function(Y,se){if(!Y)return;se%180!==0&&(Y={width:Y.height,height:Y.width});const ee=(0,s.isPortraitOrientation)(Y);let N={width:Math.round(Y.width*100)/100,height:Math.round(Y.height*100)/100},q={width:Math.round(Y.width*25.4*10)/10,height:Math.round(Y.height*25.4*10)/10},G=g(N,ee,R)||g(q,ee,n);if(!G&&!(Number.isInteger(q.width)&&Number.isInteger(q.height))){const w={width:Y.width*25.4,height:Y.height*25.4},x={width:Math.round(q.width),height:Math.round(q.height)};Math.abs(w.width-x.width)<.1&&Math.abs(w.height-x.height)<.1&&(G=g(x,ee,n),G&&(N={width:Math.round(x.width/25.4*100)/100,height:Math.round(x.height/25.4*100)/100},q=x))}const[{width:ge,height:Pe},W,M,d]=await Promise.all([this._isNonMetricLocale?N:q,this.l10n.get(`document_properties_page_size_unit_${this._isNonMetricLocale?"inches":"millimeters"}`),G&&this.l10n.get(`document_properties_page_size_name_${G.toLowerCase()}`),this.l10n.get(`document_properties_page_size_orientation_${ee?"portrait":"landscape"}`)]);return this.l10n.get(`document_properties_page_size_dimension_${M?"name_":""}string`,{width:ge.toLocaleString(),height:Pe.toLocaleString(),unit:W,name:M,orientation:d})},O=new WeakSet,Oi=async function(Y){const se=a.PDFDateString.toDateObject(Y);if(se)return this.l10n.get("document_properties_date_string",{date:se.toLocaleDateString(),time:se.toLocaleTimeString()})},K=new WeakSet,ns=function(Y){return this.l10n.get(`document_properties_linearized_${Y?"yes":"no"}`)},b.PDFDocumentProperties=m},(I,b,f)=>{var R,Pt;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFFindBar=void 0;var s=f(19),a=f(4);const P=1e3;class S{constructor(m,A,T){V(this,R);this.opened=!1,this.bar=m.bar,this.toggleButton=m.toggleButton,this.findField=m.findField,this.highlightAll=m.highlightAllCheckbox,this.caseSensitive=m.caseSensitiveCheckbox,this.matchDiacritics=m.matchDiacriticsCheckbox,this.entireWord=m.entireWordCheckbox,this.findMsg=m.findMsg,this.findResultsCount=m.findResultsCount,this.findPreviousButton=m.findPreviousButton,this.findNextButton=m.findNextButton,this.eventBus=A,this.l10n=T,this.toggleButton.addEventListener("click",()=>{this.toggle()}),this.findField.addEventListener("input",()=>{this.dispatchEvent("")}),this.bar.addEventListener("keydown",E=>{switch(E.keyCode){case 13:E.target===this.findField&&this.dispatchEvent("again",E.shiftKey);break;case 27:this.close();break}}),this.findPreviousButton.addEventListener("click",()=>{this.dispatchEvent("again",!0)}),this.findNextButton.addEventListener("click",()=>{this.dispatchEvent("again",!1)}),this.highlightAll.addEventListener("click",()=>{this.dispatchEvent("highlightallchange")}),this.caseSensitive.addEventListener("click",()=>{this.dispatchEvent("casesensitivitychange")}),this.entireWord.addEventListener("click",()=>{this.dispatchEvent("entirewordchange")}),this.matchDiacritics.addEventListener("click",()=>{this.dispatchEvent("diacriticmatchingchange")}),this.eventBus._on("resize",X(this,R,Pt).bind(this))}reset(){this.updateUIState()}dispatchEvent(m,A=!1){this.eventBus.dispatch("find",{source:this,type:m,query:this.findField.value,caseSensitive:this.caseSensitive.checked,entireWord:this.entireWord.checked,highlightAll:this.highlightAll.checked,findPrevious:A,matchDiacritics:this.matchDiacritics.checked})}updateUIState(m,A,T){let E=Promise.resolve(""),C="";switch(m){case s.FindState.FOUND:break;case s.FindState.PENDING:C="pending";break;case s.FindState.NOT_FOUND:E=this.l10n.get("find_not_found"),C="notFound";break;case s.FindState.WRAPPED:E=this.l10n.get(`find_reached_${A?"top":"bottom"}`);break}this.findField.setAttribute("data-status",C),this.findField.setAttribute("aria-invalid",m===s.FindState.NOT_FOUND),E.then(l=>{this.findMsg.setAttribute("data-status",C),this.findMsg.textContent=l,X(this,R,Pt).call(this)}),this.updateResultsCount(T)}updateResultsCount({current:m=0,total:A=0}={}){const T=P;let E=Promise.resolve("");if(A>0)if(A>T){let C="find_match_count_limit";E=this.l10n.get(C,{limit:T})}else{let C="find_match_count";E=this.l10n.get(C,{current:m,total:A})}E.then(C=>{this.findResultsCount.textContent=C,X(this,R,Pt).call(this)})}open(){this.opened||(this.opened=!0,(0,a.toggleExpandedBtn)(this.toggleButton,!0,this.bar)),this.findField.select(),this.findField.focus(),X(this,R,Pt).call(this)}close(){this.opened&&(this.opened=!1,(0,a.toggleExpandedBtn)(this.toggleButton,!1,this.bar),this.eventBus.dispatch("findbarclose",{source:this}))}toggle(){this.opened?this.close():this.open()}}R=new WeakSet,Pt=function(){if(!this.opened)return;this.bar.classList.remove("wrapContainers");const m=this.bar.clientHeight,A=this.bar.firstElementChild.clientHeight;m>A&&this.bar.classList.add("wrapContainers")},b.PDFFindBar=S},(I,b,f)=>{var se,ee,N,q,ss,ge,Fi,W,Ni,d,rs,x,as,$,os,he,Di,z,ls,te,cs,de,Wt,Te,Ct,Re,pt,ne,ds,me,Bi,Oe,Vi,We,$t,ze,hs,Ge,Ui,k,Hi,Ae,Tt;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFFindController=b.FindState=void 0;var s=f(4),a=f(20),P=f(5);const S={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};b.FindState=S;const R=250,n=-50,g=-400,m={"‐":"-","‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},A=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let T;const E=/\p{M}+/gu,C=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,l=/([^\p{M}])\p{M}*$/u,c=/^\p{M}*([^\p{M}])/u,y=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,v=new Map,_="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",O=new Map;let F=null,K=null;function le(ye){const we=[];let xe;for(;(xe=y.exec(ye))!==null;){let{index:Be}=xe;for(const ae of xe[0]){let Se=v.get(ae);Se||(Se=ae.normalize("NFD").length,v.set(ae,Se)),we.push([Se,Be++])}}let J;if(we.length===0&&F)J=F;else if(we.length>0&&K)J=K;else{const Be=Object.keys(m).join(""),ae=(0,a.getNormalizeWithNFKC)(),Ve=`([${Be}])|([${ae}])|((?:゙|゚)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[぀-ヿ])\\n)|(\\n)`;we.length===0?J=F=new RegExp(Ve+"|(\\u0000)","gum"):J=K=new RegExp(Ve+`|(${_})`,"gum")}const Ce=[];for(;(xe=E.exec(ye))!==null;)Ce.push([xe[0].length,xe.index]);let Fe=ye.normalize("NFD");const Le=[[0,0]];let Z=0,H=0,re=0,oe=0,_e=0,Me=!1;return Fe=Fe.replace(J,(Be,ae,Se,Ie,Ve,Ne,He,$e,qe,Ye)=>{var Ze,et,Je;if(Ye-=oe,ae){const Qe=m[ae],it=Qe.length;for(let tt=1;tt<it;tt++)Le.push([Ye-re+tt,re-tt]);return re-=it-1,Qe}if(Se){let Qe=O.get(Se);Qe||(Qe=Se.normalize("NFKC"),O.set(Se,Qe));const it=Qe.length;for(let tt=1;tt<it;tt++)Le.push([Ye-re+tt,re-tt]);return re-=it-1,Qe}if(Ie)return Me=!0,Ye+_e===((Ze=Ce[Z])==null?void 0:Ze[1])?++Z:(Le.push([Ye-1-re+1,re-1]),re-=1,oe+=1),Le.push([Ye-re+1,re]),oe+=1,_e+=1,Ie.charAt(0);if(Ve){const Qe=Ve.endsWith(`
`),it=Qe?Ve.length-2:Ve.length;Me=!0;let tt=it;Ye+_e===((et=Ce[Z])==null?void 0:et[1])&&(tt-=Ce[Z][0],++Z);for(let nt=1;nt<=tt;nt++)Le.push([Ye-1-re+nt,re-nt]);return re-=tt,oe+=tt,Qe?(Ye+=it-1,Le.push([Ye-re+1,1+re]),re+=1,oe+=1,_e+=1,Ve.slice(0,it)):Ve}if(Ne){const Qe=Ne.length-2;return Le.push([Ye-re+Qe,1+re]),re+=1,oe+=1,_e+=1,Ne.slice(0,-2)}if(He){const Qe=He.length-1;return Le.push([Ye-re+Qe,re]),oe+=1,_e+=1,He.slice(0,-1)}if($e)return Le.push([Ye-re+1,re-1]),re-=1,oe+=1,_e+=1," ";if(Ye+_e===((Je=we[H])==null?void 0:Je[1])){const Qe=we[H][0]-1;++H;for(let it=1;it<=Qe;it++)Le.push([Ye-(re-it),re-it]);re-=Qe,oe+=Qe}return qe}),Le.push([Fe.length,re]),[Fe,Le,Me]}function B(ye,we,xe){if(!ye)return[we,xe];const J=we,Ce=we+xe-1;let Fe=(0,s.binarySearchFirstItem)(ye,oe=>oe[0]>=J);ye[Fe][0]>J&&--Fe;let Le=(0,s.binarySearchFirstItem)(ye,oe=>oe[0]>=Ce,Fe);ye[Le][0]>Ce&&--Le;const Z=J+ye[Fe][1],re=Ce+ye[Le][1]+1-Z;return[Z,re]}class Y{constructor({linkService:we,eventBus:xe,updateMatchesCountOnProgress:J=!0}){V(this,q);V(this,ge);V(this,W);V(this,d);V(this,x);V(this,$);V(this,he);V(this,z);V(this,te);V(this,de);V(this,Te);V(this,Re);V(this,ne);V(this,me);V(this,Oe);V(this,We);V(this,ze);V(this,Ge);V(this,k);V(this,Ae);V(this,se,null);V(this,ee,!0);V(this,N,0);this._linkService=we,this._eventBus=xe,pe(this,ee,J),this.onIsPageVisible=null,X(this,ge,Fi).call(this),xe._on("find",X(this,q,ss).bind(this)),xe._on("findbarclose",X(this,ze,hs).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return r(this,se)}setDocument(we){this._pdfDocument&&X(this,ge,Fi).call(this),we&&(this._pdfDocument=we,this._firstPageCapability.resolve())}scrollMatchIntoView({element:we=null,selectedLeft:xe=0,pageIndex:J=-1,matchIndex:Ce=-1}){if(!this._scrollMatches||!we)return;if(Ce===-1||Ce!==this._selected.matchIdx)return;if(J===-1||J!==this._selected.pageIdx)return;this._scrollMatches=!1;const Fe={top:n,left:xe+g};(0,s.scrollIntoView)(we,Fe,!0)}}se=new WeakMap,ee=new WeakMap,N=new WeakMap,q=new WeakSet,ss=function(we){if(!we)return;we.phraseSearch===!1&&(console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."),typeof we.query=="string"&&(we.query=we.query.match(/\S+/g)));const xe=this._pdfDocument,{type:J}=we;(r(this,se)===null||X(this,d,rs).call(this,we))&&(this._dirtyMatch=!0),pe(this,se,we),J!=="highlightallchange"&&X(this,Ae,Tt).call(this,S.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||xe&&this._pdfDocument!==xe)return;X(this,te,cs).call(this);const Ce=!this._highlightMatches,Fe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),J?this._dirtyMatch?X(this,Re,pt).call(this):J==="again"?(X(this,Re,pt).call(this),Ce&&r(this,se).highlightAll&&X(this,Te,Ct).call(this)):J==="highlightallchange"?(Fe?X(this,Re,pt).call(this):this._highlightMatches=!0,X(this,Te,Ct).call(this)):X(this,Re,pt).call(this):this._findTimeout=setTimeout(()=>{X(this,Re,pt).call(this),this._findTimeout=null},R)})},ge=new WeakSet,Fi=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],pe(this,N,0),pe(this,se,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new P.PromiseCapability},W=new WeakSet,Ni=function(){const{query:we}=r(this,se);return typeof we=="string"?(we!==this._rawQuery&&(this._rawQuery=we,[this._normalizedQuery]=le(we)),this._normalizedQuery):(we||[]).filter(xe=>!!xe).map(xe=>le(xe)[0])},d=new WeakSet,rs=function(we){var Le;const xe=we.query,J=r(this,se).query,Ce=typeof xe;if(Ce!==typeof J)return!0;if(Ce==="string"){if(xe!==J)return!0}else if(JSON.stringify(xe)!==JSON.stringify(J))return!0;switch(we.type){case"again":const Z=this._selected.pageIdx+1,H=this._linkService;return Z>=1&&Z<=H.pagesCount&&Z!==H.page&&!(((Le=this.onIsPageVisible)==null?void 0:Le.call(this,Z))??!0);case"highlightallchange":return!1}return!0},x=new WeakSet,as=function(we,xe,J){let Ce=we.slice(0,xe).match(l);if(Ce){const Fe=we.charCodeAt(xe),Le=Ce[1].charCodeAt(0);if((0,a.getCharacterType)(Fe)===(0,a.getCharacterType)(Le))return!1}if(Ce=we.slice(xe+J).match(c),Ce){const Fe=we.charCodeAt(xe+J-1),Le=Ce[1].charCodeAt(0);if((0,a.getCharacterType)(Fe)===(0,a.getCharacterType)(Le))return!1}return!0},$=new WeakSet,os=function(we,xe,J,Ce){const Fe=this._pageMatches[J]=[],Le=this._pageMatchesLength[J]=[];if(!we)return;const Z=this._pageDiffs[J];let H;for(;(H=we.exec(Ce))!==null;){if(xe&&!X(this,x,as).call(this,Ce,H.index,H[0].length))continue;const[re,oe]=B(Z,H.index,H[0].length);oe&&(Fe.push(re),Le.push(oe))}},he=new WeakSet,Di=function(we,xe){const{matchDiacritics:J}=r(this,se);let Ce=!1;we=we.replaceAll(C,(Le,Z,H,re,oe,_e)=>Z?`[ ]*\\${Z}[ ]*`:H?`[ ]*${H}[ ]*`:re?"[ ]+":J?oe||_e:oe?A.has(oe.charCodeAt(0))?oe:"":xe?(Ce=!0,`${_e}\\p{M}*`):_e);const Fe="[ ]*";return we.endsWith(Fe)&&(we=we.slice(0,we.length-Fe.length)),J&&xe&&(T||(T=String.fromCharCode(...A)),Ce=!0,we=`${we}(?=[${T}]|[^\\p{M}]|$)`),[Ce,we]},z=new WeakSet,ls=function(we){let xe=r(this,W,Ni);if(xe.length===0)return;const{caseSensitive:J,entireWord:Ce}=r(this,se),Fe=this._pageContents[we],Le=this._hasDiacritics[we];let Z=!1;typeof xe=="string"?[Z,xe]=X(this,he,Di).call(this,xe,Le):xe=xe.sort().reverse().map(oe=>{const[_e,Me]=X(this,he,Di).call(this,oe,Le);return Z||(Z=_e),`(${Me})`}).join("|");const H=`g${Z?"u":""}${J?"":"i"}`;xe=xe?new RegExp(xe,H):null,X(this,$,os).call(this,xe,Ce,we,Fe),r(this,se).highlightAll&&X(this,de,Wt).call(this,we),this._resumePageIdx===we&&(this._resumePageIdx=null,X(this,me,Bi).call(this));const re=this._pageMatches[we].length;this._matchesCountTotal+=re,r(this,ee)?re>0&&X(this,k,Hi).call(this):++lt(this,N)._===this._linkService.pagesCount&&X(this,k,Hi).call(this)},te=new WeakSet,cs=function(){if(this._extractTextPromises.length>0)return;let we=Promise.resolve();const xe={disableNormalization:!0};for(let J=0,Ce=this._linkService.pagesCount;J<Ce;J++){const Fe=new P.PromiseCapability;this._extractTextPromises[J]=Fe.promise,we=we.then(()=>this._pdfDocument.getPage(J+1).then(Le=>Le.getTextContent(xe)).then(Le=>{const Z=[];for(const H of Le.items)Z.push(H.str),H.hasEOL&&Z.push(`
`);[this._pageContents[J],this._pageDiffs[J],this._hasDiacritics[J]]=le(Z.join("")),Fe.resolve()},Le=>{console.error(`Unable to get text content for page ${J+1}`,Le),this._pageContents[J]="",this._pageDiffs[J]=null,this._hasDiacritics[J]=!1,Fe.resolve()}))}},de=new WeakSet,Wt=function(we){this._scrollMatches&&this._selected.pageIdx===we&&(this._linkService.page=we+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:we})},Te=new WeakSet,Ct=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Re=new WeakSet,pt=function(){const we=r(this,se).findPrevious,xe=this._linkService.page-1,J=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=xe,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,pe(this,N,0),this._matchesCountTotal=0,X(this,Te,Ct).call(this);for(let Le=0;Le<J;Le++)this._pendingFindMatches.has(Le)||(this._pendingFindMatches.add(Le),this._extractTextPromises[Le].then(()=>{this._pendingFindMatches.delete(Le),X(this,z,ls).call(this,Le)}))}if(r(this,W,Ni).length===0){X(this,Ae,Tt).call(this,S.FOUND);return}if(this._resumePageIdx)return;const Fe=this._offset;if(this._pagesToSearch=J,Fe.matchIdx!==null){const Le=this._pageMatches[Fe.pageIdx].length;if(!we&&Fe.matchIdx+1<Le||we&&Fe.matchIdx>0){Fe.matchIdx=we?Fe.matchIdx-1:Fe.matchIdx+1,X(this,We,$t).call(this,!0);return}X(this,Oe,Vi).call(this,we)}X(this,me,Bi).call(this)},ne=new WeakSet,ds=function(we){const xe=this._offset,J=we.length,Ce=r(this,se).findPrevious;return J?(xe.matchIdx=Ce?J-1:0,X(this,We,$t).call(this,!0),!0):(X(this,Oe,Vi).call(this,Ce),xe.wrapped&&(xe.matchIdx=null,this._pagesToSearch<0)?(X(this,We,$t).call(this,!1),!0):!1)},me=new WeakSet,Bi=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let we=null;do{const xe=this._offset.pageIdx;if(we=this._pageMatches[xe],!we){this._resumePageIdx=xe;break}}while(!X(this,ne,ds).call(this,we))},Oe=new WeakSet,Vi=function(we){const xe=this._offset,J=this._linkService.pagesCount;xe.pageIdx=we?xe.pageIdx-1:xe.pageIdx+1,xe.matchIdx=null,this._pagesToSearch--,(xe.pageIdx>=J||xe.pageIdx<0)&&(xe.pageIdx=we?J-1:0,xe.wrapped=!0)},We=new WeakSet,$t=function(we=!1){let xe=S.NOT_FOUND;const J=this._offset.wrapped;if(this._offset.wrapped=!1,we){const Ce=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,xe=J?S.WRAPPED:S.FOUND,Ce!==-1&&Ce!==this._selected.pageIdx&&X(this,de,Wt).call(this,Ce)}X(this,Ae,Tt).call(this,xe,r(this,se).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,X(this,de,Wt).call(this,this._selected.pageIdx))},ze=new WeakSet,hs=function(we){const xe=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||xe&&this._pdfDocument!==xe||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),X(this,Ae,Tt).call(this,S.FOUND),this._highlightMatches=!1,X(this,Te,Ct).call(this))})},Ge=new WeakSet,Ui=function(){var Fe;const{pageIdx:we,matchIdx:xe}=this._selected;let J=0,Ce=this._matchesCountTotal;if(xe!==-1){for(let Le=0;Le<we;Le++)J+=((Fe=this._pageMatches[Le])==null?void 0:Fe.length)||0;J+=xe+1}return(J<1||J>Ce)&&(J=Ce=0),{current:J,total:Ce}},k=new WeakSet,Hi=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:X(this,Ge,Ui).call(this)})},Ae=new WeakSet,Tt=function(we,xe=!1){var J;!r(this,ee)&&(r(this,N)!==this._linkService.pagesCount||we===S.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:we,previous:xe,matchesCount:X(this,Ge,Ui).call(this),rawQuery:((J=r(this,se))==null?void 0:J.query)??null})},b.PDFFindController=Y},(I,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CharacterType=void 0,b.getCharacterType=E,b.getNormalizeWithNFKC=l;const f={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};b.CharacterType=f;function s(c){return c<11904}function a(c){return(c&65408)===0}function P(c){return c>=97&&c<=122||c>=65&&c<=90}function S(c){return c>=48&&c<=57}function R(c){return c===32||c===9||c===13||c===10}function n(c){return c>=13312&&c<=40959||c>=63744&&c<=64255}function g(c){return c>=12448&&c<=12543}function m(c){return c>=12352&&c<=12447}function A(c){return c>=65376&&c<=65439}function T(c){return(c&65408)===3584}function E(c){return s(c)?a(c)?R(c)?f.SPACE:P(c)||S(c)||c===95?f.ALPHA_LETTER:f.PUNCT:T(c)?f.THAI_LETTER:c===160?f.SPACE:f.ALPHA_LETTER:n(c)?f.HAN_LETTER:g(c)?f.KATAKANA_LETTER:m(c)?f.HIRAGANA_LETTER:A(c)?f.HALFWIDTH_KATAKANA_LETTER:f.ALPHA_LETTER}let C;function l(){return C||(C=" ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦"),C}},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFHistory=void 0,b.isDestArraysEqual=A,b.isDestHashesEqual=m;var s=f(4),a=f(10);const P=1e3,S=50,R=1e3;function n(){return document.location.hash}class g{constructor({linkService:E,eventBus:C}){this.linkService=E,this.eventBus=C,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",l=>{this._isPagesLoaded=!!l.pagesCount},{once:!0})})}initialize({fingerprint:E,resetHistory:C=!1,updateUrl:l=!1}){if(!E||typeof E!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const c=this._fingerprint!==""&&this._fingerprint!==E;this._fingerprint=E,this._updateUrl=l===!0,this._initialized=!0,this._bindEvents();const y=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=n(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(y,!0)||C){const{hash:_,page:O,rotation:F}=this._parseCurrentHash(!0);if(!_||c||C){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:_,page:O,rotation:F},!0);return}const v=y.destination;this._updateInternalState(v,y.uid,!0),v.rotation!==void 0&&(this._initialRotation=v.rotation),v.dest?(this._initialBookmark=JSON.stringify(v.dest),this._destination.page=null):v.hash?this._initialBookmark=v.hash:v.page&&(this._initialBookmark=`page=${v.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:E=null,explicitDest:C,pageNumber:l}){if(!this._initialized)return;if(E&&typeof E!="string"){console.error(`PDFHistory.push: "${E}" is not a valid namedDest parameter.`);return}else if(Array.isArray(C)){if(!this._isValidPage(l)&&(l!==null||this._destination)){console.error(`PDFHistory.push: "${l}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${C}" is not a valid explicitDest parameter.`);return}const c=E||JSON.stringify(C);if(!c)return;let y=!1;if(this._destination&&(m(this._destination.hash,c)||A(this._destination.dest,C))){if(this._destination.page)return;y=!0}this._popStateInProgress&&!y||(this._pushOrReplaceState({dest:C,hash:c,page:l,rotation:this.linkService.rotation},y),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(E){var C;if(this._initialized){if(!this._isValidPage(E)){console.error(`PDFHistory.pushPage: "${E}" is not a valid page number.`);return}((C=this._destination)==null?void 0:C.page)!==E&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${E}`,page:E,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const E=window.history.state;this._isValidState(E)&&E.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const E=window.history.state;this._isValidState(E)&&E.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(E,C=!1){const l=C||!this._destination,c={fingerprint:this._fingerprint,uid:l?this._uid:this._uid+1,destination:E};this._updateInternalState(E,c.uid);let y;if(this._updateUrl&&(E!=null&&E.hash)){const v=document.location.href.split("#")[0];v.startsWith("file://")||(y=`${v}#${E.hash}`)}l?window.history.replaceState(c,"",y):window.history.pushState(c,"",y)}_tryPushCurrentPosition(E=!1){if(!this._position)return;let C=this._position;if(E&&(C=Object.assign(Object.create(null),this._position),C.temporary=!0),!this._destination){this._pushOrReplaceState(C);return}if(this._destination.temporary){this._pushOrReplaceState(C,!0);return}if(this._destination.hash===C.hash||!this._destination.page&&this._numPositionUpdates<=S)return;let l=!1;if(this._destination.page>=C.first&&this._destination.page<=C.page){if(this._destination.dest!==void 0||!this._destination.first)return;l=!0}this._pushOrReplaceState(C,l)}_isValidPage(E){return Number.isInteger(E)&&E>0&&E<=this.linkService.pagesCount}_isValidState(E,C=!1){if(!E)return!1;if(E.fingerprint!==this._fingerprint)if(C){if(typeof E.fingerprint!="string"||E.fingerprint.length!==this._fingerprint.length)return!1;const[l]=performance.getEntriesByType("navigation");if((l==null?void 0:l.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(E.uid)||E.uid<0||E.destination===null||typeof E.destination!="object")}_updateInternalState(E,C,l=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),l&&(E!=null&&E.temporary)&&delete E.temporary,this._destination=E,this._uid=C,this._maxUid=Math.max(this._maxUid,C),this._numPositionUpdates=0}_parseCurrentHash(E=!1){const C=unescape(n()).substring(1),l=(0,s.parseQueryString)(C),c=l.get("nameddest")||"";let y=l.get("page")|0;return(!this._isValidPage(y)||E&&c.length>0)&&(y=null),{hash:C,page:y,rotation:this.linkService.rotation}}_updateViewarea({location:E}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:E.pdfOpenParams.substring(1),page:this.linkService.page,first:E.pageNumber,rotation:E.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},R))}_popState({state:E}){const C=n(),l=this._currentHash!==C;if(this._currentHash=C,!E){this._uid++;const{hash:y,page:v,rotation:_}=this._parseCurrentHash();this._pushOrReplaceState({hash:y,page:v,rotation:_},!0);return}if(!this._isValidState(E))return;this._popStateInProgress=!0,l&&(this._blockHashChange++,(0,a.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:P}).then(()=>{this._blockHashChange--}));const c=E.destination;this._updateInternalState(c,E.uid,!0),(0,s.isValidRotation)(c.rotation)&&(this.linkService.rotation=c.rotation),c.dest?this.linkService.goToDestination(c.dest):c.hash?this.linkService.setHash(c.hash):c.page&&(this.linkService.page=c.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}b.PDFHistory=g;function m(T,E){return typeof T!="string"||typeof E!="string"?!1:T===E||(0,s.parseQueryString)(T).get("nameddest")===E}function A(T,E){function C(l,c){if(typeof l!=typeof c||Array.isArray(l)||Array.isArray(c))return!1;if(l!==null&&typeof l=="object"&&c!==null){if(Object.keys(l).length!==Object.keys(c).length)return!1;for(const y in l)if(!C(l[y],c[y]))return!1;return!0}return l===c||Number.isNaN(l)&&Number.isNaN(c)}if(!(Array.isArray(T)&&Array.isArray(E))||T.length!==E.length)return!1;for(let l=0,c=T.length;l<c;l++)if(!C(T[l],E[l]))return!1;return!0}},(I,b,f)=>{var P,ji;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFLayerViewer=void 0;var s=f(16);class a extends s.BaseTreeViewer{constructor(g){super(g);V(this,P);this.l10n=g.l10n,this.eventBus._on("optionalcontentconfigchanged",m=>{X(this,P,ji).call(this,m.promise)}),this.eventBus._on("resetlayers",()=>{X(this,P,ji).call(this)}),this.eventBus._on("togglelayerstree",this._toggleAllTreeItems.bind(this))}reset(){super.reset(),this._optionalContentConfig=null,this._optionalContentHash=null}_dispatchEvent(g){this.eventBus.dispatch("layersloaded",{source:this,layersCount:g})}_bindLink(g,{groupId:m,input:A}){const T=()=>{this._optionalContentConfig.setVisibility(m,A.checked),this._optionalContentHash=this._optionalContentConfig.getHash(),this.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(this._optionalContentConfig)})};g.onclick=E=>E.target===A?(T(),!0):E.target!==g?!0:(A.checked=!A.checked,T(),!1)}async _setNestedName(g,{name:m=null}){if(typeof m=="string"){g.textContent=this._normalizeTextContent(m);return}g.textContent=await this.l10n.get("additional_layers"),g.style.fontStyle="italic"}_addToggleButton(g,{name:m=null}){super._addToggleButton(g,m===null)}_toggleAllTreeItems(){this._optionalContentConfig&&super._toggleAllTreeItems()}render({optionalContentConfig:g,pdfDocument:m}){this._optionalContentConfig&&this.reset(),this._optionalContentConfig=g||null,this._pdfDocument=m||null;const A=g==null?void 0:g.getOrder();if(!A){this._dispatchEvent(0);return}this._optionalContentHash=g.getHash();const T=document.createDocumentFragment(),E=[{parent:T,groups:A}];let C=0,l=!1;for(;E.length>0;){const c=E.shift();for(const y of c.groups){const v=document.createElement("div");v.className="treeItem";const _=document.createElement("a");if(v.append(_),typeof y=="object"){l=!0,this._addToggleButton(v,y),this._setNestedName(_,y);const O=document.createElement("div");O.className="treeItems",v.append(O),E.push({parent:O,groups:y.order})}else{const O=g.getGroup(y),F=document.createElement("input");this._bindLink(_,{groupId:y,input:F}),F.type="checkbox",F.checked=O.visible;const K=document.createElement("label");K.textContent=this._normalizeTextContent(O.name),K.append(F),_.append(K),C++}c.parent.append(v)}}this._finishRendering(T,C,l)}}P=new WeakSet,ji=async function(g=null){if(!this._optionalContentConfig)return;const m=this._pdfDocument,A=await(g||m.getOptionalContentConfig());if(m===this._pdfDocument){if(g){if(A.getHash()===this._optionalContentHash)return}else this.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(A)});this.render({optionalContentConfig:A,pdfDocument:this._pdfDocument})}},b.PDFLayerViewer=a},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFOutlineViewer=void 0;var s=f(16),a=f(5),P=f(4);class S extends s.BaseTreeViewer{constructor(n){super(n),this.linkService=n.linkService,this.downloadManager=n.downloadManager,this.eventBus._on("toggleoutlinetree",this._toggleAllTreeItems.bind(this)),this.eventBus._on("currentoutlineitem",this._currentOutlineItem.bind(this)),this.eventBus._on("pagechanging",g=>{this._currentPageNumber=g.pageNumber}),this.eventBus._on("pagesloaded",g=>{this._isPagesLoaded=!!g.pagesCount,this._currentOutlineItemCapability&&!this._currentOutlineItemCapability.settled&&this._currentOutlineItemCapability.resolve(this._isPagesLoaded)}),this.eventBus._on("sidebarviewchanged",g=>{this._sidebarView=g.view})}reset(){super.reset(),this._outline=null,this._pageNumberToDestHashCapability=null,this._currentPageNumber=1,this._isPagesLoaded=null,this._currentOutlineItemCapability&&!this._currentOutlineItemCapability.settled&&this._currentOutlineItemCapability.resolve(!1),this._currentOutlineItemCapability=null}_dispatchEvent(n){var g;this._currentOutlineItemCapability=new a.PromiseCapability,n===0||(g=this._pdfDocument)!=null&&g.loadingParams.disableAutoFetch?this._currentOutlineItemCapability.resolve(!1):this._isPagesLoaded!==null&&this._currentOutlineItemCapability.resolve(this._isPagesLoaded),this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:n,currentOutlineItemPromise:this._currentOutlineItemCapability.promise})}_bindLink(n,{url:g,newWindow:m,action:A,attachment:T,dest:E,setOCGState:C}){const{linkService:l}=this;if(g){l.addLinkAttributes(n,g,m);return}if(A){n.href=l.getAnchorUrl(""),n.onclick=()=>(l.executeNamedAction(A),!1);return}if(T){n.href=l.getAnchorUrl(""),n.onclick=()=>(this.downloadManager.openOrDownloadData(n,T.content,T.filename),!1);return}if(C){n.href=l.getAnchorUrl(""),n.onclick=()=>(l.executeSetOCGState(C),!1);return}n.href=l.getDestinationHash(E),n.onclick=c=>(this._updateCurrentTreeItem(c.target.parentNode),E&&l.goToDestination(E),!1)}_setStyles(n,{bold:g,italic:m}){g&&(n.style.fontWeight="bold"),m&&(n.style.fontStyle="italic")}_addToggleButton(n,{count:g,items:m}){let A=!1;if(g<0){let T=m.length;if(T>0){const E=[...m];for(;E.length>0;){const{count:C,items:l}=E.shift();C>0&&l.length>0&&(T+=l.length,E.push(...l))}}Math.abs(g)===T&&(A=!0)}super._addToggleButton(n,A)}_toggleAllTreeItems(){this._outline&&super._toggleAllTreeItems()}render({outline:n,pdfDocument:g}){if(this._outline&&this.reset(),this._outline=n||null,this._pdfDocument=g||null,!n){this._dispatchEvent(0);return}const m=document.createDocumentFragment(),A=[{parent:m,items:n}];let T=0,E=!1;for(;A.length>0;){const C=A.shift();for(const l of C.items){const c=document.createElement("div");c.className="treeItem";const y=document.createElement("a");if(this._bindLink(y,l),this._setStyles(y,l),y.textContent=this._normalizeTextContent(l.title),c.append(y),l.items.length>0){E=!0,this._addToggleButton(c,l);const v=document.createElement("div");v.className="treeItems",c.append(v),A.push({parent:v,items:l.items})}C.parent.append(c),T++}}this._finishRendering(m,T,E)}async _currentOutlineItem(){if(!this._isPagesLoaded)throw new Error("_currentOutlineItem: All pages have not been loaded.");if(!this._outline||!this._pdfDocument)return;const n=await this._getPageNumberToDestHash(this._pdfDocument);if(n&&(this._updateCurrentTreeItem(null),this._sidebarView===P.SidebarView.OUTLINE))for(let g=this._currentPageNumber;g>0;g--){const m=n.get(g);if(!m)continue;const A=this.container.querySelector(`a[href="${m}"]`);if(A){this._scrollToCurrentTreeItem(A.parentNode);break}}}async _getPageNumberToDestHash(n){if(this._pageNumberToDestHashCapability)return this._pageNumberToDestHashCapability.promise;this._pageNumberToDestHashCapability=new a.PromiseCapability;const g=new Map,m=new Map,A=[{nesting:0,items:this._outline}];for(;A.length>0;){const T=A.shift(),E=T.nesting;for(const{dest:C,items:l}of T.items){let c,y;if(typeof C=="string"){if(c=await n.getDestination(C),n!==this._pdfDocument)return null}else c=C;if(Array.isArray(c)){const[v]=c;if(typeof v=="object"&&v!==null){if(y=this.linkService._cachedPageNumber(v),!y)try{if(y=await n.getPageIndex(v)+1,n!==this._pdfDocument)return null;this.linkService.cachePageRef(y,v)}catch{}}else Number.isInteger(v)&&(y=v+1);if(Number.isInteger(y)&&(!g.has(y)||E>m.get(y))){const _=this.linkService.getDestinationHash(C);g.set(y,_),m.set(y,E)}}l.length>0&&A.push({nesting:E+1,items:l})}}return this._pageNumberToDestHashCapability.resolve(g.size>0?g:null),this._pageNumberToDestHashCapability.promise}}b.PDFOutlineViewer=S},(I,b,f)=>{var E,C,l,us,y,Rt,_,fs,F,ps,le,gs,Y,ms,ee,zi,q,bs,ge,Mt,W,_s,d,vs,x,ws,$,ys,he,Ss,z,Wi;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFPresentationMode=void 0;var s=f(4),a=f(5);const P=3e3,S="pdfPresentationMode",R="pdfPresentationModeControls",n=50,g=.1,m=50,A=Math.PI/6;class T{constructor({container:fe,pdfViewer:de,eventBus:Ee}){V(this,l);V(this,y);V(this,_);V(this,F);V(this,le);V(this,Y);V(this,ee);V(this,q);V(this,ge);V(this,W);V(this,d);V(this,x);V(this,$);V(this,he);V(this,z);V(this,E,s.PresentationModeState.UNKNOWN);V(this,C,null);this.container=fe,this.pdfViewer=de,this.eventBus=Ee,this.contextMenuOpen=!1,this.mouseScrollTimeStamp=0,this.mouseScrollDelta=0,this.touchSwipeState=null}async request(){const{container:fe,pdfViewer:de}=this;if(this.active||!de.pagesCount||!fe.requestFullscreen)return!1;X(this,he,Ss).call(this),X(this,y,Rt).call(this,s.PresentationModeState.CHANGING);const Ee=fe.requestFullscreen();pe(this,C,{pageNumber:de.currentPageNumber,scaleValue:de.currentScaleValue,scrollMode:de.scrollMode,spreadMode:null,annotationEditorMode:null}),de.spreadMode!==s.SpreadMode.NONE&&!(de.pageViewsReady&&de.hasEqualPageSizes)&&(console.warn("Ignoring Spread modes when entering PresentationMode, since the document may contain varying page sizes."),r(this,C).spreadMode=de.spreadMode),de.annotationEditorMode!==a.AnnotationEditorType.DISABLE&&(r(this,C).annotationEditorMode=de.annotationEditorMode);try{return await Ee,de.focus(),!0}catch{X(this,z,Wi).call(this),X(this,y,Rt).call(this,s.PresentationModeState.NORMAL)}return!1}get active(){return r(this,E)===s.PresentationModeState.CHANGING||r(this,E)===s.PresentationModeState.FULLSCREEN}}E=new WeakMap,C=new WeakMap,l=new WeakSet,us=function(fe){if(!this.active)return;fe.preventDefault();const de=(0,s.normalizeWheelEventDelta)(fe),Ee=Date.now(),Te=this.mouseScrollTimeStamp;if(!(Ee>Te&&Ee-Te<n)&&((this.mouseScrollDelta>0&&de<0||this.mouseScrollDelta<0&&de>0)&&X(this,ge,Mt).call(this),this.mouseScrollDelta+=de,Math.abs(this.mouseScrollDelta)>=g)){const ve=this.mouseScrollDelta;X(this,ge,Mt).call(this),(ve>0?this.pdfViewer.previousPage():this.pdfViewer.nextPage())&&(this.mouseScrollTimeStamp=Ee)}},y=new WeakSet,Rt=function(fe){pe(this,E,fe),this.eventBus.dispatch("presentationmodechanged",{source:this,state:fe})},_=new WeakSet,fs=function(){X(this,y,Rt).call(this,s.PresentationModeState.FULLSCREEN),this.container.classList.add(S),setTimeout(()=>{this.pdfViewer.scrollMode=s.ScrollMode.PAGE,r(this,C).spreadMode!==null&&(this.pdfViewer.spreadMode=s.SpreadMode.NONE),this.pdfViewer.currentPageNumber=r(this,C).pageNumber,this.pdfViewer.currentScaleValue="page-fit",r(this,C).annotationEditorMode!==null&&(this.pdfViewer.annotationEditorMode={mode:a.AnnotationEditorType.NONE})},0),X(this,d,vs).call(this),X(this,ee,zi).call(this),this.contextMenuOpen=!1,window.getSelection().removeAllRanges()},F=new WeakSet,ps=function(){const fe=this.pdfViewer.currentPageNumber;this.container.classList.remove(S),setTimeout(()=>{X(this,z,Wi).call(this),X(this,y,Rt).call(this,s.PresentationModeState.NORMAL),this.pdfViewer.scrollMode=r(this,C).scrollMode,r(this,C).spreadMode!==null&&(this.pdfViewer.spreadMode=r(this,C).spreadMode),this.pdfViewer.currentScaleValue=r(this,C).scaleValue,this.pdfViewer.currentPageNumber=fe,r(this,C).annotationEditorMode!==null&&(this.pdfViewer.annotationEditorMode={mode:r(this,C).annotationEditorMode}),pe(this,C,null)},0),X(this,x,ws).call(this),X(this,q,bs).call(this),X(this,ge,Mt).call(this),this.contextMenuOpen=!1},le=new WeakSet,gs=function(fe){var de;if(this.contextMenuOpen){this.contextMenuOpen=!1,fe.preventDefault();return}fe.button===0&&(fe.target.href&&((de=fe.target.parentNode)!=null&&de.hasAttribute("data-internal-link"))||(fe.preventDefault(),fe.shiftKey?this.pdfViewer.previousPage():this.pdfViewer.nextPage()))},Y=new WeakSet,ms=function(){this.contextMenuOpen=!0},ee=new WeakSet,zi=function(){this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add(R),this.controlsTimeout=setTimeout(()=>{this.container.classList.remove(R),delete this.controlsTimeout},P)},q=new WeakSet,bs=function(){this.controlsTimeout&&(clearTimeout(this.controlsTimeout),this.container.classList.remove(R),delete this.controlsTimeout)},ge=new WeakSet,Mt=function(){this.mouseScrollTimeStamp=0,this.mouseScrollDelta=0},W=new WeakSet,_s=function(fe){if(this.active){if(fe.touches.length>1){this.touchSwipeState=null;return}switch(fe.type){case"touchstart":this.touchSwipeState={startX:fe.touches[0].pageX,startY:fe.touches[0].pageY,endX:fe.touches[0].pageX,endY:fe.touches[0].pageY};break;case"touchmove":if(this.touchSwipeState===null)return;this.touchSwipeState.endX=fe.touches[0].pageX,this.touchSwipeState.endY=fe.touches[0].pageY,fe.preventDefault();break;case"touchend":if(this.touchSwipeState===null)return;let de=0;const Ee=this.touchSwipeState.endX-this.touchSwipeState.startX,Te=this.touchSwipeState.endY-this.touchSwipeState.startY,ve=Math.abs(Math.atan2(Te,Ee));Math.abs(Ee)>m&&(ve<=A||ve>=Math.PI-A)?de=Ee:Math.abs(Te)>m&&Math.abs(ve-Math.PI/2)<=A&&(de=Te),de>0?this.pdfViewer.previousPage():de<0&&this.pdfViewer.nextPage();break}}},d=new WeakSet,vs=function(){this.showControlsBind=X(this,ee,zi).bind(this),this.mouseDownBind=X(this,le,gs).bind(this),this.mouseWheelBind=X(this,l,us).bind(this),this.resetMouseScrollStateBind=X(this,ge,Mt).bind(this),this.contextMenuBind=X(this,Y,ms).bind(this),this.touchSwipeBind=X(this,W,_s).bind(this),window.addEventListener("mousemove",this.showControlsBind),window.addEventListener("mousedown",this.mouseDownBind),window.addEventListener("wheel",this.mouseWheelBind,{passive:!1}),window.addEventListener("keydown",this.resetMouseScrollStateBind),window.addEventListener("contextmenu",this.contextMenuBind),window.addEventListener("touchstart",this.touchSwipeBind),window.addEventListener("touchmove",this.touchSwipeBind),window.addEventListener("touchend",this.touchSwipeBind)},x=new WeakSet,ws=function(){window.removeEventListener("mousemove",this.showControlsBind),window.removeEventListener("mousedown",this.mouseDownBind),window.removeEventListener("wheel",this.mouseWheelBind,{passive:!1}),window.removeEventListener("keydown",this.resetMouseScrollStateBind),window.removeEventListener("contextmenu",this.contextMenuBind),window.removeEventListener("touchstart",this.touchSwipeBind),window.removeEventListener("touchmove",this.touchSwipeBind),window.removeEventListener("touchend",this.touchSwipeBind),delete this.showControlsBind,delete this.mouseDownBind,delete this.mouseWheelBind,delete this.resetMouseScrollStateBind,delete this.contextMenuBind,delete this.touchSwipeBind},$=new WeakSet,ys=function(){document.fullscreenElement?X(this,_,fs).call(this):X(this,F,ps).call(this)},he=new WeakSet,Ss=function(){this.fullscreenChangeBind=X(this,$,ys).bind(this),window.addEventListener("fullscreenchange",this.fullscreenChangeBind)},z=new WeakSet,Wi=function(){window.removeEventListener("fullscreenchange",this.fullscreenChangeBind),delete this.fullscreenChangeBind},b.PDFPresentationMode=T},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFRenderingQueue=void 0;var s=f(5),a=f(4);const P=3e4;class S{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}renderHighestPriority(n){var g;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&((g=this.pdfThumbnailViewer)!=null&&g.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),P)))}getHighestPriority(n,g,m,A=!1){const T=n.views,E=T.length;if(E===0)return null;for(let v=0;v<E;v++){const _=T[v].view;if(!this.isViewFinished(_))return _}const C=n.first.id,l=n.last.id;if(l-C+1>E){const v=n.ids;for(let _=1,O=l-C;_<O;_++){const F=m?C+_:l-_;if(v.has(F))continue;const K=g[F-1];if(!this.isViewFinished(K))return K}}let c=m?l:C-2,y=g[c];return y&&!this.isViewFinished(y)||A&&(c+=m?1:-1,y=g[c],y&&!this.isViewFinished(y))?y:null}isViewFinished(n){return n.renderingState===a.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case a.RenderingStates.FINISHED:return!1;case a.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case a.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case a.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(g=>{g instanceof s.RenderingCancelledException||console.error(`renderView: "${g}"`)});break}return!0}}b.PDFRenderingQueue=S},(I,b,f)=>{var S,R,n,g,m,A,T,E,C,l,c,y,Es,_,Gt,F,$i,le,As,Y,xt;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFScriptingManager=void 0;var s=f(4),a=f(5);class P{constructor({eventBus:N,sandboxBundleSrc:q=null,externalServices:G=null,docProperties:ge=null}){V(this,y);V(this,_);V(this,F);V(this,le);V(this,Y);V(this,S,null);V(this,R,null);V(this,n,null);V(this,g,null);V(this,m,null);V(this,A,null);V(this,T,null);V(this,E,!1);V(this,C,null);V(this,l,null);V(this,c,null);pe(this,g,N),pe(this,C,q),pe(this,m,G),pe(this,n,ge)}setViewer(N){pe(this,T,N)}async setDocument(N){var Pe;if(r(this,A)&&await X(this,Y,xt).call(this),pe(this,A,N),!N)return;const[q,G,ge]=await Promise.all([N.getFieldObjects(),N.getCalculationOrderIds(),N.getJSActions()]);if(!q&&!ge){await X(this,Y,xt).call(this);return}if(N===r(this,A)){try{pe(this,l,X(this,le,As).call(this))}catch(W){console.error(`setDocument: "${W.message}".`),await X(this,Y,xt).call(this);return}this._internalEvents.set("updatefromsandbox",W=>{(W==null?void 0:W.source)===window&&X(this,y,Es).call(this,W.detail)}),this._internalEvents.set("dispatcheventinsandbox",W=>{var M;(M=r(this,l))==null||M.dispatchEventInSandbox(W.detail)}),this._internalEvents.set("pagechanging",({pageNumber:W,previous:M})=>{W!==M&&(X(this,F,$i).call(this,M),X(this,_,Gt).call(this,W))}),this._internalEvents.set("pagerendered",({pageNumber:W})=>{this._pageOpenPending.has(W)&&W===r(this,T).currentPageNumber&&X(this,_,Gt).call(this,W)}),this._internalEvents.set("pagesdestroy",async()=>{var W,M;await X(this,F,$i).call(this,r(this,T).currentPageNumber),await((W=r(this,l))==null?void 0:W.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(M=r(this,S))==null||M.resolve()});for(const[W,M]of this._internalEvents)r(this,g)._on(W,M);try{const W=await r(this,n).call(this,N);if(N!==r(this,A))return;await r(this,l).createSandbox({objects:q,calculationOrder:G,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...W,actions:ge}}),r(this,g).dispatch("sandboxcreated",{source:this})}catch(W){console.error(`setDocument: "${W.message}".`),await X(this,Y,xt).call(this);return}await((Pe=r(this,l))==null?void 0:Pe.dispatchEventInSandbox({id:"doc",name:"Open"})),await X(this,_,Gt).call(this,r(this,T).currentPageNumber,!0),Promise.resolve().then(()=>{N===r(this,A)&&pe(this,E,!0)})}}async dispatchWillSave(){var N;return(N=r(this,l))==null?void 0:N.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var N;return(N=r(this,l))==null?void 0:N.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var N;if(r(this,l)){await((N=r(this,c))==null?void 0:N.promise),pe(this,c,new a.PromiseCapability);try{await r(this,l).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(q){throw r(this,c).resolve(),pe(this,c,null),q}await r(this,c).promise}}async dispatchDidPrint(){var N;return(N=r(this,l))==null?void 0:N.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var N;return((N=r(this,R))==null?void 0:N.promise)||null}get ready(){return r(this,E)}get _internalEvents(){return(0,a.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,a.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,a.shadow)(this,"_visitedPages",new Map)}}S=new WeakMap,R=new WeakMap,n=new WeakMap,g=new WeakMap,m=new WeakMap,A=new WeakMap,T=new WeakMap,E=new WeakMap,C=new WeakMap,l=new WeakMap,c=new WeakMap,y=new WeakSet,Es=async function(N){var w,x;const q=r(this,T),G=q.isInPresentationMode||q.isChangingPresentationMode,{id:ge,siblings:Pe,command:W,value:M}=N;if(!ge){switch(W){case"clear":console.clear();break;case"error":console.error(M);break;case"layout":if(!G){const D=(0,s.apiPageLayoutToViewerModes)(M);q.spreadMode=D.spreadMode}break;case"page-num":q.currentPageNumber=M+1;break;case"print":await q.pagesPromise,r(this,g).dispatch("print",{source:this});break;case"println":console.log(M);break;case"zoom":G||(q.currentScaleValue=M);break;case"SaveAs":r(this,g).dispatch("download",{source:this});break;case"FirstPage":q.currentPageNumber=1;break;case"LastPage":q.currentPageNumber=q.pagesCount;break;case"NextPage":q.nextPage();break;case"PrevPage":q.previousPage();break;case"ZoomViewIn":G||q.increaseScale();break;case"ZoomViewOut":G||q.decreaseScale();break;case"WillPrintFinished":(w=r(this,c))==null||w.resolve(),pe(this,c,null);break}return}if(G&&N.focus)return;delete N.id,delete N.siblings;const d=Pe?[ge,...Pe]:[ge];for(const D of d){const $=document.querySelector(`[data-element-id="${D}"]`);$?$.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:N})):(x=r(this,A))==null||x.annotationStorage.setValue(D,N)}},_=new WeakSet,Gt=async function(N,q=!1){const G=r(this,A),ge=this._visitedPages;if(q&&pe(this,S,new a.PromiseCapability),!r(this,S))return;const Pe=r(this,T).getPageView(N-1);if((Pe==null?void 0:Pe.renderingState)!==s.RenderingStates.FINISHED){this._pageOpenPending.add(N);return}this._pageOpenPending.delete(N);const W=(async()=>{var d,w;const M=await(ge.has(N)?null:(d=Pe.pdfPage)==null?void 0:d.getJSActions());G===r(this,A)&&await((w=r(this,l))==null?void 0:w.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:N,actions:M}))})();ge.set(N,W)},F=new WeakSet,$i=async function(N){var Pe;const q=r(this,A),G=this._visitedPages;if(!r(this,S)||this._pageOpenPending.has(N))return;const ge=G.get(N);ge&&(G.set(N,null),await ge,q===r(this,A)&&await((Pe=r(this,l))==null?void 0:Pe.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:N})))},le=new WeakSet,As=function(){if(pe(this,R,new a.PromiseCapability),r(this,l))throw new Error("#initScripting: Scripting already exists.");return r(this,m).createScripting({sandboxBundleSrc:r(this,C)})},Y=new WeakSet,xt=async function(){var N,q,G;if(!r(this,l)){pe(this,A,null),(N=r(this,R))==null||N.resolve();return}r(this,S)&&(await Promise.race([r(this,S).promise,new Promise(ge=>{setTimeout(ge,1e3)})]).catch(()=>{}),pe(this,S,null)),pe(this,A,null);try{await r(this,l).destroySandbox()}catch{}(q=r(this,c))==null||q.reject(new Error("Scripting destroyed.")),pe(this,c,null);for(const[ge,Pe]of this._internalEvents)r(this,g)._off(ge,Pe);this._internalEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),pe(this,l,null),pe(this,E,!1),(G=r(this,R))==null||G.resolve()},b.PDFScriptingManager=P},(I,b,f)=>{var g,m,A,T,E,C,gt,c,Ps,v,Gi,O,Cs,K,qt,B,Ts,se,Rs;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFSidebar=void 0;var s=f(4);const a="--sidebar-width",P=200,S="sidebarResizing",R="pdfSidebarNotification";class n{constructor({elements:q,eventBus:G,l10n:ge}){V(this,C);V(this,c);V(this,v);V(this,O);V(this,K);V(this,B);V(this,se);V(this,g,!1);V(this,m,X(this,B,Ts).bind(this));V(this,A,X(this,se,Rs).bind(this));V(this,T,null);V(this,E,null);this.isOpen=!1,this.active=s.SidebarView.THUMBS,this.isInitialViewSet=!1,this.isInitialEventDispatched=!1,this.onToggled=null,this.onUpdateThumbnails=null,this.outerContainer=q.outerContainer,this.sidebarContainer=q.sidebarContainer,this.toggleButton=q.toggleButton,this.resizer=q.resizer,this.thumbnailButton=q.thumbnailButton,this.outlineButton=q.outlineButton,this.attachmentsButton=q.attachmentsButton,this.layersButton=q.layersButton,this.thumbnailView=q.thumbnailView,this.outlineView=q.outlineView,this.attachmentsView=q.attachmentsView,this.layersView=q.layersView,this._outlineOptionsContainer=q.outlineOptionsContainer,this._currentOutlineItemButton=q.currentOutlineItemButton,this.eventBus=G,this.l10n=ge,ge.getDirection().then(Pe=>{pe(this,g,Pe==="rtl")}),X(this,O,Cs).call(this)}reset(){this.isInitialViewSet=!1,this.isInitialEventDispatched=!1,X(this,v,Gi).call(this,!0),this.switchView(s.SidebarView.THUMBS),this.outlineButton.disabled=!1,this.attachmentsButton.disabled=!1,this.layersButton.disabled=!1,this._currentOutlineItemButton.disabled=!0}get visibleView(){return this.isOpen?this.active:s.SidebarView.NONE}setInitialView(q=s.SidebarView.NONE){if(!this.isInitialViewSet){if(this.isInitialViewSet=!0,q===s.SidebarView.NONE||q===s.SidebarView.UNKNOWN){X(this,C,gt).call(this);return}this.switchView(q,!0),this.isInitialEventDispatched||X(this,C,gt).call(this)}}switchView(q,G=!1){const ge=q!==this.active;let Pe=!1;switch(q){case s.SidebarView.NONE:this.isOpen&&this.close();return;case s.SidebarView.THUMBS:this.isOpen&&ge&&(Pe=!0);break;case s.SidebarView.OUTLINE:if(this.outlineButton.disabled)return;break;case s.SidebarView.ATTACHMENTS:if(this.attachmentsButton.disabled)return;break;case s.SidebarView.LAYERS:if(this.layersButton.disabled)return;break;default:console.error(`PDFSidebar.switchView: "${q}" is not a valid view.`);return}if(this.active=q,(0,s.toggleCheckedBtn)(this.thumbnailButton,q===s.SidebarView.THUMBS,this.thumbnailView),(0,s.toggleCheckedBtn)(this.outlineButton,q===s.SidebarView.OUTLINE,this.outlineView),(0,s.toggleCheckedBtn)(this.attachmentsButton,q===s.SidebarView.ATTACHMENTS,this.attachmentsView),(0,s.toggleCheckedBtn)(this.layersButton,q===s.SidebarView.LAYERS,this.layersView),this._outlineOptionsContainer.classList.toggle("hidden",q!==s.SidebarView.OUTLINE),G&&!this.isOpen){this.open();return}Pe&&(this.onUpdateThumbnails(),this.onToggled()),ge&&X(this,C,gt).call(this)}open(){this.isOpen||(this.isOpen=!0,(0,s.toggleExpandedBtn)(this.toggleButton,!0),this.outerContainer.classList.add("sidebarMoving","sidebarOpen"),this.active===s.SidebarView.THUMBS&&this.onUpdateThumbnails(),this.onToggled(),X(this,C,gt).call(this),X(this,v,Gi).call(this))}close(){this.isOpen&&(this.isOpen=!1,(0,s.toggleExpandedBtn)(this.toggleButton,!1),this.outerContainer.classList.add("sidebarMoving"),this.outerContainer.classList.remove("sidebarOpen"),this.onToggled(),X(this,C,gt).call(this))}toggle(){this.isOpen?this.close():this.open()}get outerContainerWidth(){return r(this,T)||pe(this,T,this.outerContainer.clientWidth)}}g=new WeakMap,m=new WeakMap,A=new WeakMap,T=new WeakMap,E=new WeakMap,C=new WeakSet,gt=function(){this.isInitialViewSet&&(this.isInitialEventDispatched||(this.isInitialEventDispatched=!0)),this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})},c=new WeakSet,Ps=function(){this.toggleButton.setAttribute("data-l10n-id","toggle_sidebar_notification2"),this.l10n.translate(this.toggleButton),this.isOpen||this.toggleButton.classList.add(R)},v=new WeakSet,Gi=function(q=!1){(this.isOpen||q)&&this.toggleButton.classList.remove(R),q&&(this.toggleButton.setAttribute("data-l10n-id","toggle_sidebar"),this.l10n.translate(this.toggleButton))},O=new WeakSet,Cs=function(){this.sidebarContainer.addEventListener("transitionend",G=>{G.target===this.sidebarContainer&&this.outerContainer.classList.remove("sidebarMoving")}),this.toggleButton.addEventListener("click",()=>{this.toggle()}),this.thumbnailButton.addEventListener("click",()=>{this.switchView(s.SidebarView.THUMBS)}),this.outlineButton.addEventListener("click",()=>{this.switchView(s.SidebarView.OUTLINE)}),this.outlineButton.addEventListener("dblclick",()=>{this.eventBus.dispatch("toggleoutlinetree",{source:this})}),this.attachmentsButton.addEventListener("click",()=>{this.switchView(s.SidebarView.ATTACHMENTS)}),this.layersButton.addEventListener("click",()=>{this.switchView(s.SidebarView.LAYERS)}),this.layersButton.addEventListener("dblclick",()=>{this.eventBus.dispatch("resetlayers",{source:this})}),this._currentOutlineItemButton.addEventListener("click",()=>{this.eventBus.dispatch("currentoutlineitem",{source:this})});const q=(G,ge,Pe)=>{ge.disabled=!G,G?X(this,c,Ps).call(this):this.active===Pe&&this.switchView(s.SidebarView.THUMBS)};this.eventBus._on("outlineloaded",G=>{q(G.outlineCount,this.outlineButton,s.SidebarView.OUTLINE),G.currentOutlineItemPromise.then(ge=>{this.isInitialViewSet&&(this._currentOutlineItemButton.disabled=!ge)})}),this.eventBus._on("attachmentsloaded",G=>{q(G.attachmentsCount,this.attachmentsButton,s.SidebarView.ATTACHMENTS)}),this.eventBus._on("layersloaded",G=>{q(G.layersCount,this.layersButton,s.SidebarView.LAYERS)}),this.eventBus._on("presentationmodechanged",G=>{G.state===s.PresentationModeState.NORMAL&&this.visibleView===s.SidebarView.THUMBS&&this.onUpdateThumbnails()}),this.resizer.addEventListener("mousedown",G=>{G.button===0&&(this.outerContainer.classList.add(S),window.addEventListener("mousemove",r(this,m)),window.addEventListener("mouseup",r(this,A)))}),this.eventBus._on("resize",G=>{if(G.source!==window||(pe(this,T,null),!r(this,E)))return;if(!this.isOpen){X(this,K,qt).call(this,r(this,E));return}this.outerContainer.classList.add(S);const ge=X(this,K,qt).call(this,r(this,E));Promise.resolve().then(()=>{this.outerContainer.classList.remove(S),ge&&this.eventBus.dispatch("resize",{source:this})})})},K=new WeakSet,qt=function(q=0){const G=Math.floor(this.outerContainerWidth/2);return q>G&&(q=G),q<P&&(q=P),q===r(this,E)?!1:(pe(this,E,q),s.docStyle.setProperty(a,`${q}px`),!0)},B=new WeakSet,Ts=function(q){let G=q.clientX;r(this,g)&&(G=this.outerContainerWidth-G),X(this,K,qt).call(this,G)},se=new WeakSet,Rs=function(q){this.outerContainer.classList.remove(S),this.eventBus.dispatch("resize",{source:this}),window.removeEventListener("mousemove",r(this,m)),window.removeEventListener("mouseup",r(this,A))},b.PDFSidebar=n},(I,b,f)=>{var n,Ms,m,xs;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFThumbnailViewer=void 0;var s=f(4),a=f(29);const P=-19,S="selected";class R{constructor({container:E,eventBus:C,linkService:l,renderingQueue:c,l10n:y,pageColors:v}){V(this,n);V(this,m);this.container=E,this.eventBus=C,this.linkService=l,this.renderingQueue=c,this.l10n=y,this.pageColors=v||null,this.scroll=(0,s.watchScroll)(this.container,this._scrollUpdated.bind(this)),this._resetView()}_scrollUpdated(){this.renderingQueue.renderHighestPriority()}getThumbnail(E){return this._thumbnails[E]}_getVisibleThumbs(){return(0,s.getVisibleElements)({scrollEl:this.container,views:this._thumbnails})}scrollThumbnailIntoView(E){if(!this.pdfDocument)return;const C=this._thumbnails[E-1];if(!C){console.error('scrollThumbnailIntoView: Invalid "pageNumber" parameter.');return}E!==this._currentPageNumber&&(this._thumbnails[this._currentPageNumber-1].div.classList.remove(S),C.div.classList.add(S));const{first:l,last:c,views:y}=this._getVisibleThumbs();if(y.length>0){let v=!1;if(E<=l.id||E>=c.id)v=!0;else for(const{id:_,percent:O}of y)if(_===E){v=O<100;break}v&&(0,s.scrollIntoView)(C.div,{top:P})}this._currentPageNumber=E}get pagesRotation(){return this._pagesRotation}set pagesRotation(E){if(!(0,s.isValidRotation)(E))throw new Error("Invalid thumbnails rotation angle.");if(!this.pdfDocument||this._pagesRotation===E)return;this._pagesRotation=E;const C={rotation:E};for(const l of this._thumbnails)l.update(C)}cleanup(){for(const E of this._thumbnails)E.renderingState!==s.RenderingStates.FINISHED&&E.reset();a.TempImageFactory.destroyCanvas()}_resetView(){this._thumbnails=[],this._currentPageNumber=1,this._pageLabels=null,this._pagesRotation=0,this.container.textContent=""}setDocument(E){if(this.pdfDocument&&(this._cancelRendering(),this._resetView()),this.pdfDocument=E,!E)return;const C=E.getPage(1),l=E.getOptionalContentConfig();C.then(c=>{var O;const y=E.numPages,v=c.getViewport({scale:1});for(let F=1;F<=y;++F){const K=new a.PDFThumbnailView({container:this.container,eventBus:this.eventBus,id:F,defaultViewport:v.clone(),optionalContentConfigPromise:l,linkService:this.linkService,renderingQueue:this.renderingQueue,l10n:this.l10n,pageColors:this.pageColors});this._thumbnails.push(K)}(O=this._thumbnails[0])==null||O.setPdfPage(c),this._thumbnails[this._currentPageNumber-1].div.classList.add(S)}).catch(c=>{console.error("Unable to initialize thumbnail viewer",c)})}_cancelRendering(){for(const E of this._thumbnails)E.cancelRendering()}setPageLabels(E){var C;if(this.pdfDocument){E?Array.isArray(E)&&this.pdfDocument.numPages===E.length?this._pageLabels=E:(this._pageLabels=null,console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let l=0,c=this._thumbnails.length;l<c;l++)this._thumbnails[l].setPageLabel(((C=this._pageLabels)==null?void 0:C[l])??null)}}forceRendering(){const E=this._getVisibleThumbs(),C=X(this,m,xs).call(this,E),l=this.renderingQueue.getHighestPriority(E,this._thumbnails,C);return l?(X(this,n,Ms).call(this,l).then(()=>{this.renderingQueue.renderView(l)}),!0):!1}}n=new WeakSet,Ms=async function(E){if(E.pdfPage)return E.pdfPage;try{const C=await this.pdfDocument.getPage(E.id);return E.pdfPage||E.setPdfPage(C),C}catch(C){return console.error("Unable to get page for thumb view",C),null}},m=new WeakSet,xs=function(E){var C,l;return((C=E.first)==null?void 0:C.id)===1?!0:((l=E.last)==null?void 0:l.id)===this._thumbnails.length?!1:this.scroll.down},b.PDFThumbnailViewer=R},(I,b,f)=>{var m,A,qi,E,Xi;Object.defineProperty(b,"__esModule",{value:!0}),b.TempImageFactory=b.PDFThumbnailView=void 0;var s=f(4),a=f(5);const P=2,S=3,R=98;class n{static getCanvas(c,y){const v=r(this,m)||pe(this,m,document.createElement("canvas"));v.width=c,v.height=y;const _=v.getContext("2d",{alpha:!1});return _.save(),_.fillStyle="rgb(255, 255, 255)",_.fillRect(0,0,c,y),_.restore(),[v,v.getContext("2d")]}static destroyCanvas(){const c=r(this,m);c&&(c.width=0,c.height=0),pe(this,m,null)}}m=new WeakMap,V(n,m,null),b.TempImageFactory=n;class g{constructor({container:c,eventBus:y,id:v,defaultViewport:_,optionalContentConfigPromise:O,linkService:F,renderingQueue:K,l10n:le,pageColors:B}){V(this,A);V(this,E);this.id=v,this.renderingId="thumbnail"+v,this.pageLabel=null,this.pdfPage=null,this.rotation=0,this.viewport=_,this.pdfPageRotate=_.rotation,this._optionalContentConfigPromise=O||null,this.pageColors=B||null,this.eventBus=y,this.linkService=F,this.renderingQueue=K,this.renderTask=null,this.renderingState=s.RenderingStates.INITIAL,this.resume=null,this.l10n=le;const Y=document.createElement("a");Y.href=F.getAnchorUrl("#page="+v),this._thumbPageTitle.then(N=>{Y.title=N}),Y.onclick=function(){return F.goToPage(v),!1},this.anchor=Y;const se=document.createElement("div");se.className="thumbnail",se.setAttribute("data-page-number",this.id),this.div=se,X(this,A,qi).call(this);const ee=document.createElement("div");ee.className="thumbnailImage",this._placeholderImg=ee,se.append(ee),Y.append(se),c.append(Y)}setPdfPage(c){this.pdfPage=c,this.pdfPageRotate=c.rotate;const y=(this.rotation+this.pdfPageRotate)%360;this.viewport=c.getViewport({scale:1,rotation:y}),this.reset()}reset(){var c;this.cancelRendering(),this.renderingState=s.RenderingStates.INITIAL,this.div.removeAttribute("data-loaded"),(c=this.image)==null||c.replaceWith(this._placeholderImg),X(this,A,qi).call(this),this.image&&(this.image.removeAttribute("src"),delete this.image)}update({rotation:c=null}){typeof c=="number"&&(this.rotation=c);const y=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:y}),this.reset()}cancelRendering(){this.renderTask&&(this.renderTask.cancel(),this.renderTask=null),this.resume=null}_getPageDrawContext(c=1){const y=document.createElement("canvas"),v=y.getContext("2d",{alpha:!1}),_=new s.OutputScale;y.width=c*this.canvasWidth*_.sx|0,y.height=c*this.canvasHeight*_.sy|0;const O=_.scaled?[_.sx,0,0,_.sy,0,0]:null;return{ctx:v,canvas:y,transform:O}}_convertCanvasToImage(c){if(this.renderingState!==s.RenderingStates.FINISHED)throw new Error("_convertCanvasToImage: Rendering has not finished.");const y=this._reduceImage(c),v=document.createElement("img");v.className="thumbnailImage",this._thumbPageCanvas.then(_=>{v.setAttribute("aria-label",_)}),v.src=y.toDataURL(),this.image=v,this.div.setAttribute("data-loaded",!0),this._placeholderImg.replaceWith(v),y.width=0,y.height=0}async draw(){if(this.renderingState!==s.RenderingStates.INITIAL){console.error("Must be in new state before drawing");return}const{pdfPage:c}=this;if(!c)throw this.renderingState=s.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=s.RenderingStates.RUNNING;const{ctx:y,canvas:v,transform:_}=this._getPageDrawContext(P),O=this.viewport.clone({scale:P*this.scale}),F=Y=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=s.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=s.RenderingStates.RUNNING,Y()};return}Y()},K={canvasContext:y,transform:_,viewport:O,optionalContentConfigPromise:this._optionalContentConfigPromise,pageColors:this.pageColors},le=this.renderTask=c.render(K);le.onContinue=F;const B=le.promise.then(()=>X(this,E,Xi).call(this,le,v),Y=>X(this,E,Xi).call(this,le,v,Y));return B.finally(()=>{v.width=0,v.height=0,this.eventBus.dispatch("thumbnailrendered",{source:this,pageNumber:this.id,pdfPage:this.pdfPage})}),B}setImage(c){if(this.renderingState!==s.RenderingStates.INITIAL)return;const{thumbnailCanvas:y,pdfPage:v,scale:_}=c;y&&(this.pdfPage||this.setPdfPage(v),!(_<this.scale)&&(this.renderingState=s.RenderingStates.FINISHED,this._convertCanvasToImage(y)))}_reduceImage(c){const{ctx:y,canvas:v}=this._getPageDrawContext();if(c.width<=2*v.width)return y.drawImage(c,0,0,c.width,c.height,0,0,v.width,v.height),v;let _=v.width<<S,O=v.height<<S;const[F,K]=n.getCanvas(_,O);for(;_>c.width||O>c.height;)_>>=1,O>>=1;for(K.drawImage(c,0,0,c.width,c.height,0,0,_,O);_>2*v.width;)K.drawImage(F,0,0,_,O,0,0,_>>1,O>>1),_>>=1,O>>=1;return y.drawImage(F,0,0,_,O,0,0,v.width,v.height),v}get _thumbPageTitle(){return this.l10n.get("thumb_page_title",{page:this.pageLabel??this.id})}get _thumbPageCanvas(){return this.l10n.get("thumb_page_canvas",{page:this.pageLabel??this.id})}setPageLabel(c){this.pageLabel=typeof c=="string"?c:null,this._thumbPageTitle.then(y=>{this.anchor.title=y}),this.renderingState===s.RenderingStates.FINISHED&&this._thumbPageCanvas.then(y=>{var v;(v=this.image)==null||v.setAttribute("aria-label",y)})}}A=new WeakSet,qi=function(){const{width:c,height:y}=this.viewport,v=c/y;this.canvasWidth=R,this.canvasHeight=this.canvasWidth/v|0,this.scale=this.canvasWidth/c;const{style:_}=this.div;_.setProperty("--thumbnail-width",`${this.canvasWidth}px`),_.setProperty("--thumbnail-height",`${this.canvasHeight}px`)},E=new WeakSet,Xi=async function(c,y,v=null){if(c===this.renderTask&&(this.renderTask=null),!(v instanceof a.RenderingCancelledException)&&(this.renderingState=s.RenderingStates.FINISHED,this._convertCanvasToImage(y),v))throw v},b.PDFThumbnailView=g},(I,b,f)=>{var C,l,c,Ki,v,_,O,F,K,le,B,Y,se,ee,N,q,G,ge,Pe,W,M,Ls,w,Is,D,ks,ie,Os,U,Lt,j,Xt,fe,Fs,Ee,Yi,ve,Ns,ce,at,ue,Zi,ke,Ds,je,Bs,Ue,Ji,Xe,Vs;Object.defineProperty(b,"__esModule",{value:!0}),b.PagesCountLimit=b.PDFViewer=b.PDFPageViewBuffer=void 0;var s=f(5),a=f(4),P=f(31),S=f(32),R=f(25),n=f(11);const g=10,m={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};b.PagesCountLimit=m;function A(De){return Object.values(s.AnnotationEditorType).includes(De)&&De!==s.AnnotationEditorType.DISABLE}class T{constructor(k){V(this,c);V(this,C,new Set);V(this,l,0);pe(this,l,k)}push(k){const Q=r(this,C);Q.has(k)&&Q.delete(k),Q.add(k),Q.size>r(this,l)&&X(this,c,Ki).call(this)}resize(k,Q=null){pe(this,l,k);const Ae=r(this,C);if(Q){const be=Ae.size;let ye=1;for(const we of Ae)if(Q.has(we.id)&&(Ae.delete(we),Ae.add(we)),++ye>be)break}for(;Ae.size>r(this,l);)X(this,c,Ki).call(this)}has(k){return r(this,C).has(k)}[Symbol.iterator](){return r(this,C).keys()}}C=new WeakMap,l=new WeakMap,c=new WeakSet,Ki=function(){const k=r(this,C).keys().next().value;k==null||k.destroy(),r(this,C).delete(k)},b.PDFPageViewBuffer=T;class E{constructor(k){V(this,M);V(this,w);V(this,D);V(this,ie);V(this,U);V(this,j);V(this,fe);V(this,Ee);V(this,ve);V(this,ce);V(this,ue);V(this,ke);V(this,je);V(this,Ue);V(this,Xe);V(this,v,null);V(this,_,s.AnnotationEditorType.NONE);V(this,O,null);V(this,F,s.AnnotationMode.ENABLE_FORMS);V(this,K,null);V(this,le,null);V(this,B,!1);V(this,Y,!1);V(this,se,null);V(this,ee,!1);V(this,N,0);V(this,q,new ResizeObserver(X(this,Xe,Vs).bind(this)));V(this,G,null);V(this,ge,null);V(this,Pe,null);V(this,W,a.TextLayerMode.ENABLE);var Ae,be;const Q="3.11.2";if(s.version!==Q)throw new Error(`The API version "${s.version}" does not match the Viewer version "${Q}".`);if(this.container=k.container,this.viewer=k.viewer||k.container.firstElementChild,((Ae=this.container)==null?void 0:Ae.tagName)!=="DIV"||((be=this.viewer)==null?void 0:be.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");r(this,q).observe(this.container),this.eventBus=k.eventBus,this.linkService=k.linkService||new n.SimpleLinkService,this.downloadManager=k.downloadManager||null,this.findController=k.findController||null,this.findController&&(this.findController.onIsPageVisible=ye=>this._getVisiblePages().ids.has(ye)),this._scriptingManager=k.scriptingManager||null,pe(this,W,k.textLayerMode??a.TextLayerMode.ENABLE),pe(this,F,k.annotationMode??s.AnnotationMode.ENABLE_FORMS),pe(this,_,k.annotationEditorMode??s.AnnotationEditorType.NONE),this.imageResourcesPath=k.imageResourcesPath||"",this.enablePrintAutoRotate=k.enablePrintAutoRotate||!1,this.removePageBorders=k.removePageBorders||!1,k.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),k.maxCanvasPixels=0),this.isOffscreenCanvasSupported=k.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=k.maxCanvasPixels,this.l10n=k.l10n||P.NullL10n,pe(this,B,k.enablePermissions||!1),this.pageColors=k.pageColors||null,this.defaultRenderingQueue=!k.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new R.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=k.renderingQueue,this.scroll=(0,a.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=a.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),X(this,Ue,Ji).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:ye,pdfPage:we})=>{const xe=this._pages[ye-1];r(this,v).has(xe)||we==null||we.cleanup()})}get pagesCount(){return this._pages.length}getPageView(k){return this._pages[k]}getCachedPageViews(){return new Set(r(this,v))}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every(k=>k==null?void 0:k.pdfPage)}get renderForms(){return r(this,F)===s.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(k){if(!Number.isInteger(k))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(k,!0)||console.error(`currentPageNumber: "${k}" is not a valid page.`))}_setCurrentPageNumber(k,Q=!1){var be;if(this._currentPageNumber===k)return Q&&X(this,ue,Zi).call(this),!0;if(!(0<k&&k<=this.pagesCount))return!1;const Ae=this._currentPageNumber;return this._currentPageNumber=k,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:k,pageLabel:((be=this._pageLabels)==null?void 0:be[k-1])??null,previous:Ae}),Q&&X(this,ue,Zi).call(this),!0}get currentPageLabel(){var k;return((k=this._pageLabels)==null?void 0:k[this._currentPageNumber-1])??null}set currentPageLabel(k){if(!this.pdfDocument)return;let Q=k|0;if(this._pageLabels){const Ae=this._pageLabels.indexOf(k);Ae>=0&&(Q=Ae+1)}this._setCurrentPageNumber(Q,!0)||console.error(`currentPageLabel: "${k}" is not a valid page.`)}get currentScale(){return this._currentScale!==a.UNKNOWN_SCALE?this._currentScale:a.DEFAULT_SCALE}set currentScale(k){if(isNaN(k))throw new Error("Invalid numeric scale.");this.pdfDocument&&X(this,ce,at).call(this,k,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(k){this.pdfDocument&&X(this,ce,at).call(this,k,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(k){if(!(0,a.isValidRotation)(k))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(k%=360,k<0&&(k+=360),this._pagesRotation===k))return;this._pagesRotation=k;const Q=this._currentPageNumber;this.refresh(!0,{rotation:k}),this._currentScaleValue&&X(this,ce,at).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:k,pageNumber:Q}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}async getAllText(){const k=[],Q=[];for(let Ae=1,be=this.pdfDocument.numPages;Ae<=be;++Ae){if(r(this,ee))return null;Q.length=0;const ye=await this.pdfDocument.getPage(Ae),{items:we}=await ye.getTextContent();for(const xe of we)xe.str&&Q.push(xe.str),xe.hasEOL&&Q.push(`
`);k.push((0,a.removeNullCharacters)(Q.join("")))}return k.join(`
`)}setDocument(k){var we,xe;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(we=this.findController)==null||we.setDocument(null),(xe=this._scriptingManager)==null||xe.setDocument(null),r(this,O)&&(r(this,O).destroy(),pe(this,O,null))),this.pdfDocument=k,!k)return;const Q=k.numPages,Ae=k.getPage(1),be=k.getOptionalContentConfig(),ye=r(this,B)?k.getPermissions():Promise.resolve();if(Q>m.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const J=this._scrollMode=a.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:J})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Q})},()=>{}),this._onBeforeDraw=J=>{const Ce=this._pages[J.pageNumber-1];Ce&&r(this,v).push(Ce)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=J=>{J.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:J.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,r(this,ge)&&(document.removeEventListener("visibilitychange",r(this,ge)),pe(this,ge,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Ae,ye]).then(([J,Ce])=>{var Be,ae;if(k!==this.pdfDocument)return;this._firstPageCapability.resolve(J),this._optionalContentConfigPromise=be;const{annotationEditorMode:Fe,annotationMode:Le,textLayerMode:Z}=X(this,w,Is).call(this,Ce);if(Z!==a.TextLayerMode.DISABLE){const Se=pe(this,se,document.createElement("div"));Se.id="hiddenCopyElement",this.viewer.before(Se)}if(Fe!==s.AnnotationEditorType.DISABLE){const Se=Fe;k.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):A(Se)?(pe(this,O,new s.AnnotationEditorUIManager(this.container,this.viewer,this.eventBus,k,this.pageColors)),Se!==s.AnnotationEditorType.NONE&&r(this,O).updateMode(Se)):console.error(`Invalid AnnotationEditor mode: ${Se}`)}const H=X(this,M,Ls).bind(this),re=this._scrollMode===a.ScrollMode.PAGE?null:this.viewer,oe=this.currentScale,_e=J.getViewport({scale:oe*s.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",_e.scale),(((Be=this.pageColors)==null?void 0:Be.foreground)==="CanvasText"||((ae=this.pageColors)==null?void 0:ae.background)==="Canvas")&&this.viewer.style.setProperty("--hcm-highligh-filter",k.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(let Se=1;Se<=Q;++Se){const Ie=new S.PDFPageView({container:re,eventBus:this.eventBus,id:Se,scale:oe,defaultViewport:_e.clone(),optionalContentConfigPromise:be,renderingQueue:this.renderingQueue,textLayerMode:Z,annotationMode:Le,imageResourcesPath:this.imageResourcesPath,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:H});this._pages.push(Ie)}const Me=this._pages[0];Me&&(Me.setPdfPage(J),this.linkService.cachePageRef(1,J.ref)),this._scrollMode===a.ScrollMode.PAGE?X(this,U,Lt).call(this):this._spreadMode!==a.SpreadMode.NONE&&this._updateSpreadMode(),X(this,D,ks).call(this).then(async()=>{var Ie,Ve;if((Ie=this.findController)==null||Ie.setDocument(k),(Ve=this._scriptingManager)==null||Ve.setDocument(k),r(this,se)&&(pe(this,le,X(this,ie,Os).bind(this,Z)),document.addEventListener("copy",r(this,le))),r(this,O)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:r(this,_)}),k.loadingParams.disableAutoFetch||Q>m.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let Se=Q-1;if(Se<=0){this._pagesCapability.resolve();return}for(let Ne=2;Ne<=Q;++Ne){const He=k.getPage(Ne).then($e=>{const qe=this._pages[Ne-1];qe.pdfPage||qe.setPdfPage($e),this.linkService.cachePageRef(Ne,$e.ref),--Se===0&&this._pagesCapability.resolve()},$e=>{console.error(`Unable to get page ${Ne} to initialize viewer`,$e),--Se===0&&this._pagesCapability.resolve()});Ne%m.PAUSE_EAGER_PAGE_INIT===0&&await He}}),this.eventBus.dispatch("pagesinit",{source:this}),k.getMetadata().then(({info:Se})=>{k===this.pdfDocument&&Se.Language&&(this.viewer.lang=Se.Language)}),this.defaultRenderingQueue&&this.update()}).catch(J=>{console.error("Unable to initialize viewer",J),this._pagesCapability.reject(J)})}setPageLabels(k){var Q;if(this.pdfDocument){k?Array.isArray(k)&&this.pdfDocument.numPages===k.length?this._pageLabels=k:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Ae=0,be=this._pages.length;Ae<be;Ae++)this._pages[Ae].setPageLabel(((Q=this._pageLabels)==null?void 0:Q[Ae])??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=a.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,pe(this,v,new T(g)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new s.PromiseCapability,this._onePageRenderedCapability=new s.PromiseCapability,this._pagesCapability=new s.PromiseCapability,this._scrollMode=a.ScrollMode.VERTICAL,this._previousScrollMode=a.ScrollMode.UNKNOWN,this._spreadMode=a.SpreadMode.NONE,pe(this,G,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),r(this,ge)&&(document.removeEventListener("visibilitychange",r(this,ge)),pe(this,ge,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),r(this,se)&&(document.removeEventListener("copy",r(this,le)),pe(this,le,null),r(this,se).remove(),pe(this,se,null))}_scrollUpdate(){this.pagesCount!==0&&this.update()}pageLabelToPageNumber(k){if(!this._pageLabels)return null;const Q=this._pageLabels.indexOf(k);return Q<0?null:Q+1}scrollPageIntoView({pageNumber:k,destArray:Q=null,allowNegativeOffset:Ae=!1,ignoreDestinationZoom:be=!1}){if(!this.pdfDocument)return;const ye=Number.isInteger(k)&&this._pages[k-1];if(!ye){console.error(`scrollPageIntoView: "${k}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!Q){this._setCurrentPageNumber(k,!0);return}let we=0,xe=0,J=0,Ce=0,Fe,Le;const Z=ye.rotation%180!==0,H=(Z?ye.height:ye.width)/ye.scale/s.PixelsPerInch.PDF_TO_CSS_UNITS,re=(Z?ye.width:ye.height)/ye.scale/s.PixelsPerInch.PDF_TO_CSS_UNITS;let oe=0;switch(Q[1].name){case"XYZ":we=Q[2],xe=Q[3],oe=Q[4],we=we!==null?we:0,xe=xe!==null?xe:re;break;case"Fit":case"FitB":oe="page-fit";break;case"FitH":case"FitBH":xe=Q[2],oe="page-width",xe===null&&this._location?(we=this._location.left,xe=this._location.top):(typeof xe!="number"||xe<0)&&(xe=re);break;case"FitV":case"FitBV":we=Q[2],J=H,Ce=re,oe="page-height";break;case"FitR":we=Q[2],xe=Q[3],J=Q[4]-we,Ce=Q[5]-xe;let ae=a.SCROLLBAR_PADDING,Se=a.VERTICAL_PADDING;this.removePageBorders&&(ae=Se=0),Fe=(this.container.clientWidth-ae)/J/s.PixelsPerInch.PDF_TO_CSS_UNITS,Le=(this.container.clientHeight-Se)/Ce/s.PixelsPerInch.PDF_TO_CSS_UNITS,oe=Math.min(Math.abs(Fe),Math.abs(Le));break;default:console.error(`scrollPageIntoView: "${Q[1].name}" is not a valid destination type.`);return}if(be||(oe&&oe!==this._currentScale?this.currentScaleValue=oe:this._currentScale===a.UNKNOWN_SCALE&&(this.currentScaleValue=a.DEFAULT_SCALE_VALUE)),oe==="page-fit"&&!Q[4]){X(this,j,Xt).call(this,ye);return}const _e=[ye.viewport.convertToViewportPoint(we,xe),ye.viewport.convertToViewportPoint(we+J,xe+Ce)];let Me=Math.min(_e[0][0],_e[1][0]),Be=Math.min(_e[0][1],_e[1][1]);Ae||(Me=Math.max(Me,0),Be=Math.max(Be,0)),X(this,j,Xt).call(this,ye,{left:Me,top:Be})}_updateLocation(k){const Q=this._currentScale,Ae=this._currentScaleValue,be=parseFloat(Ae)===Q?Math.round(Q*1e4)/100:Ae,ye=k.id,we=this._pages[ye-1],xe=this.container,J=we.getPagePoint(xe.scrollLeft-k.x,xe.scrollTop-k.y),Ce=Math.round(J[0]),Fe=Math.round(J[1]);let Le=`#page=${ye}`;this.isInPresentationMode||(Le+=`&zoom=${be},${Ce},${Fe}`),this._location={pageNumber:ye,scale:be,top:Fe,left:Ce,rotation:this._pagesRotation,pdfOpenParams:Le}}update(){const k=this._getVisiblePages(),Q=k.views,Ae=Q.length;if(Ae===0)return;const be=Math.max(g,2*Ae+1);r(this,v).resize(be,k.ids),this.renderingQueue.renderHighestPriority(k);const ye=this._spreadMode===a.SpreadMode.NONE&&(this._scrollMode===a.ScrollMode.PAGE||this._scrollMode===a.ScrollMode.VERTICAL),we=this._currentPageNumber;let xe=!1;for(const J of Q){if(J.percent<100)break;if(J.id===we&&ye){xe=!0;break}}this._setCurrentPageNumber(xe?we:Q[0].id),this._updateLocation(k.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(k){return this.container.contains(k)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===a.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===a.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const k=this._scrollMode===a.ScrollMode.PAGE?r(this,G).pages:this._pages,Q=this._scrollMode===a.ScrollMode.HORIZONTAL,Ae=Q&&this._isContainerRtl;return(0,a.getVisibleElements)({scrollEl:this.container,views:k,sortByVisibility:!0,horizontal:Q,rtl:Ae})}cleanup(){for(const k of this._pages)k.renderingState!==a.RenderingStates.FINISHED&&k.reset()}_cancelRendering(){for(const k of this._pages)k.cancelRendering()}forceRendering(k){const Q=k||this._getVisiblePages(),Ae=X(this,je,Bs).call(this,Q),be=this._spreadMode!==a.SpreadMode.NONE&&this._scrollMode!==a.ScrollMode.HORIZONTAL,ye=this.renderingQueue.getHighestPriority(Q,this._pages,Ae,be);return ye?(X(this,ke,Ds).call(this,ye).then(()=>{this.renderingQueue.renderView(ye)}),!0):!1}get hasEqualPageSizes(){const k=this._pages[0];for(let Q=1,Ae=this._pages.length;Q<Ae;++Q){const be=this._pages[Q];if(be.width!==k.width||be.height!==k.height)return!1}return!0}getPagesOverview(){let k;return this._pages.map(Q=>{const Ae=Q.pdfPage.getViewport({scale:1}),be=(0,a.isPortraitOrientation)(Ae);if(k===void 0)k=be;else if(this.enablePrintAutoRotate&&be!==k)return{width:Ae.height,height:Ae.width,rotation:(Ae.rotation-90)%360};return{width:Ae.width,height:Ae.height,rotation:Ae.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(k){if(!(k instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${k}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=k,this.refresh(!1,{optionalContentConfigPromise:k}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:k}))}get scrollMode(){return this._scrollMode}set scrollMode(k){if(this._scrollMode!==k){if(!(0,a.isValidScrollMode)(k))throw new Error(`Invalid scroll mode: ${k}`);this.pagesCount>m.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=k,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:k}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(k=null){const Q=this._scrollMode,Ae=this.viewer;Ae.classList.toggle("scrollHorizontal",Q===a.ScrollMode.HORIZONTAL),Ae.classList.toggle("scrollWrapped",Q===a.ScrollMode.WRAPPED),!(!this.pdfDocument||!k)&&(Q===a.ScrollMode.PAGE?X(this,U,Lt).call(this):this._previousScrollMode===a.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&X(this,ce,at).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(k,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(k){if(this._spreadMode!==k){if(!(0,a.isValidSpreadMode)(k))throw new Error(`Invalid spread mode: ${k}`);this._spreadMode=k,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:k}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(k=null){if(!this.pdfDocument)return;const Q=this.viewer,Ae=this._pages;if(this._scrollMode===a.ScrollMode.PAGE)X(this,U,Lt).call(this);else if(Q.textContent="",this._spreadMode===a.SpreadMode.NONE)for(const be of this._pages)Q.append(be.div);else{const be=this._spreadMode-1;let ye=null;for(let we=0,xe=Ae.length;we<xe;++we)ye===null?(ye=document.createElement("div"),ye.className="spread",Q.append(ye)):we%2===be&&(ye=ye.cloneNode(!1),Q.append(ye)),ye.append(Ae[we].div)}k&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&X(this,ce,at).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(k,!0),this.update())}_getPageAdvance(k,Q=!1){switch(this._scrollMode){case a.ScrollMode.WRAPPED:{const{views:Ae}=this._getVisiblePages(),be=new Map;for(const{id:ye,y:we,percent:xe,widthPercent:J}of Ae){if(xe===0||J<100)continue;let Ce=be.get(we);Ce||be.set(we,Ce||(Ce=[])),Ce.push(ye)}for(const ye of be.values()){const we=ye.indexOf(k);if(we===-1)continue;const xe=ye.length;if(xe===1)break;if(Q)for(let J=we-1,Ce=0;J>=Ce;J--){const Fe=ye[J],Le=ye[J+1]-1;if(Fe<Le)return k-Le}else for(let J=we+1,Ce=xe;J<Ce;J++){const Fe=ye[J],Le=ye[J-1]+1;if(Fe>Le)return Le-k}if(Q){const J=ye[0];if(J<k)return k-J+1}else{const J=ye[xe-1];if(J>k)return J-k+1}break}break}case a.ScrollMode.HORIZONTAL:break;case a.ScrollMode.PAGE:case a.ScrollMode.VERTICAL:{if(this._spreadMode===a.SpreadMode.NONE)break;const Ae=this._spreadMode-1;if(Q&&k%2!==Ae)break;if(!Q&&k%2===Ae)break;const{views:be}=this._getVisiblePages(),ye=Q?k-1:k+1;for(const{id:we,percent:xe,widthPercent:J}of be)if(we===ye){if(xe>0&&J===100)return 2;break}break}}return 1}nextPage(){const k=this._currentPageNumber,Q=this.pagesCount;if(k>=Q)return!1;const Ae=this._getPageAdvance(k,!1)||1;return this.currentPageNumber=Math.min(k+Ae,Q),!0}previousPage(){const k=this._currentPageNumber;if(k<=1)return!1;const Q=this._getPageAdvance(k,!0)||1;return this.currentPageNumber=Math.max(k-Q,1),!0}increaseScale({drawingDelay:k,scaleFactor:Q,steps:Ae}={}){if(!this.pdfDocument)return;let be=this._currentScale;if(Q>1)be=Math.round(be*Q*100)/100;else{Ae??(Ae=1);do be=Math.ceil((be*a.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--Ae>0&&be<a.MAX_SCALE)}X(this,ce,at).call(this,Math.min(a.MAX_SCALE,be),{noScroll:!1,drawingDelay:k})}decreaseScale({drawingDelay:k,scaleFactor:Q,steps:Ae}={}){if(!this.pdfDocument)return;let be=this._currentScale;if(Q>0&&Q<1)be=Math.round(be*Q*100)/100;else{Ae??(Ae=1);do be=Math.floor((be/a.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--Ae>0&&be>a.MIN_SCALE)}X(this,ce,at).call(this,Math.max(a.MIN_SCALE,be),{noScroll:!1,drawingDelay:k})}get containerTopLeft(){return r(this,K)||pe(this,K,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return r(this,O)?r(this,_):s.AnnotationEditorType.DISABLE}set annotationEditorMode({mode:k,editId:Q=null}){if(!r(this,O))throw new Error("The AnnotationEditor is not enabled.");if(r(this,_)!==k){if(!A(k))throw new Error(`Invalid AnnotationEditor mode: ${k}`);this.pdfDocument&&(pe(this,_,k),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:k}),r(this,O).updateMode(k,Q))}}set annotationEditorParams({type:k,value:Q}){if(!r(this,O))throw new Error("The AnnotationEditor is not enabled.");r(this,O).updateParams(k,Q)}refresh(k=!1,Q=Object.create(null)){if(this.pdfDocument){for(const Ae of this._pages)Ae.update(Q);r(this,Pe)!==null&&(clearTimeout(r(this,Pe)),pe(this,Pe,null)),k||this.update()}}}v=new WeakMap,_=new WeakMap,O=new WeakMap,F=new WeakMap,K=new WeakMap,le=new WeakMap,B=new WeakMap,Y=new WeakMap,se=new WeakMap,ee=new WeakMap,N=new WeakMap,q=new WeakMap,G=new WeakMap,ge=new WeakMap,Pe=new WeakMap,W=new WeakMap,M=new WeakSet,Ls=function(){const k=this;return{get annotationEditorUIManager(){return r(k,O)},get annotationStorage(){var Q;return(Q=k.pdfDocument)==null?void 0:Q.annotationStorage},get downloadManager(){return k.downloadManager},get enableScripting(){return!!k._scriptingManager},get fieldObjectsPromise(){var Q;return(Q=k.pdfDocument)==null?void 0:Q.getFieldObjects()},get findController(){return k.findController},get hasJSActionsPromise(){var Q;return(Q=k.pdfDocument)==null?void 0:Q.hasJSActions()},get linkService(){return k.linkService}}},w=new WeakSet,Is=function(k){const Q={annotationEditorMode:r(this,_),annotationMode:r(this,F),textLayerMode:r(this,W)};return k&&(!k.includes(s.PermissionFlag.COPY)&&r(this,W)===a.TextLayerMode.ENABLE&&(Q.textLayerMode=a.TextLayerMode.ENABLE_PERMISSIONS),k.includes(s.PermissionFlag.MODIFY_CONTENTS)||(Q.annotationEditorMode=s.AnnotationEditorType.DISABLE),!k.includes(s.PermissionFlag.MODIFY_ANNOTATIONS)&&!k.includes(s.PermissionFlag.FILL_INTERACTIVE_FORMS)&&r(this,F)===s.AnnotationMode.ENABLE_FORMS&&(Q.annotationMode=s.AnnotationMode.ENABLE)),Q},D=new WeakSet,ks=function(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const k=new Promise(Q=>{pe(this,ge,()=>{document.visibilityState==="hidden"&&(Q(),document.removeEventListener("visibilitychange",r(this,ge)),pe(this,ge,null))}),document.addEventListener("visibilitychange",r(this,ge))});return Promise.race([this._onePageRenderedCapability.promise,k])},ie=new WeakSet,Os=function(k,Q){const Ae=document.getSelection(),{focusNode:be,anchorNode:ye}=Ae;if(ye&&be&&Ae.containsNode(r(this,se))){if(r(this,Y)||k===a.TextLayerMode.ENABLE_PERMISSIONS){Q.preventDefault(),Q.stopPropagation();return}pe(this,Y,!0);const we=this.container.style.cursor;this.container.style.cursor="wait";const xe=J=>pe(this,ee,J.key==="Escape");window.addEventListener("keydown",xe),this.getAllText().then(async J=>{J!==null&&await navigator.clipboard.writeText(J)}).catch(J=>{console.warn(`Something goes wrong when extracting the text: ${J.message}`)}).finally(()=>{pe(this,Y,!1),pe(this,ee,!1),window.removeEventListener("keydown",xe),this.container.style.cursor=we}),Q.preventDefault(),Q.stopPropagation()}},U=new WeakSet,Lt=function(){if(this._scrollMode!==a.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const k=this._currentPageNumber,Q=r(this,G),Ae=this.viewer;if(Ae.textContent="",Q.pages.length=0,this._spreadMode===a.SpreadMode.NONE&&!this.isInPresentationMode){const be=this._pages[k-1];Ae.append(be.div),Q.pages.push(be)}else{const be=new Set,ye=this._spreadMode-1;ye===-1?be.add(k-1):k%2!==ye?(be.add(k-1),be.add(k)):(be.add(k-2),be.add(k-1));const we=document.createElement("div");if(we.className="spread",this.isInPresentationMode){const xe=document.createElement("div");xe.className="dummyPage",we.append(xe)}for(const xe of be){const J=this._pages[xe];J&&(we.append(J.div),Q.pages.push(J))}Ae.append(we)}Q.scrollDown=k>=Q.previousPageNumber,Q.previousPageNumber=k},j=new WeakSet,Xt=function(k,Q=null){const{div:Ae,id:be}=k;if(this._currentPageNumber!==be&&this._setCurrentPageNumber(be),this._scrollMode===a.ScrollMode.PAGE&&(X(this,U,Lt).call(this),this.update()),!Q&&!this.isInPresentationMode){const ye=Ae.offsetLeft+Ae.clientLeft,we=ye+Ae.clientWidth,{scrollLeft:xe,clientWidth:J}=this.container;(this._scrollMode===a.ScrollMode.HORIZONTAL||ye<xe||we>xe+J)&&(Q={left:0,top:0})}(0,a.scrollIntoView)(Ae,Q),!this._currentScaleValue&&this._location&&(this._location=null)},fe=new WeakSet,Fs=function(k){return k===this._currentScale||Math.abs(k-this._currentScale)<1e-15},Ee=new WeakSet,Yi=function(k,Q,{noScroll:Ae=!1,preset:be=!1,drawingDelay:ye=-1}){if(this._currentScaleValue=Q.toString(),X(this,fe,Fs).call(this,k)){be&&this.eventBus.dispatch("scalechanging",{source:this,scale:k,presetValue:Q});return}this.viewer.style.setProperty("--scale-factor",k*s.PixelsPerInch.PDF_TO_CSS_UNITS);const we=ye>=0&&ye<1e3;if(this.refresh(!0,{scale:k,drawingDelay:we?ye:-1}),we&&pe(this,Pe,setTimeout(()=>{pe(this,Pe,null),this.refresh()},ye)),this._currentScale=k,!Ae){let xe=this._currentPageNumber,J;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(xe=this._location.pageNumber,J=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:xe,destArray:J,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:k,presetValue:be?Q:void 0}),this.defaultRenderingQueue&&this.update()},ve=new WeakSet,Ns=function(){return this._spreadMode!==a.SpreadMode.NONE&&this._scrollMode!==a.ScrollMode.HORIZONTAL?2:1},ce=new WeakSet,at=function(k,Q){let Ae=parseFloat(k);if(Ae>0)Q.preset=!1,X(this,Ee,Yi).call(this,Ae,k,Q);else{const be=this._pages[this._currentPageNumber-1];if(!be)return;let ye=a.SCROLLBAR_PADDING,we=a.VERTICAL_PADDING;this.isInPresentationMode?(ye=we=4,this._spreadMode!==a.SpreadMode.NONE&&(ye*=2)):this.removePageBorders?ye=we=0:this._scrollMode===a.ScrollMode.HORIZONTAL&&([ye,we]=[we,ye]);const xe=(this.container.clientWidth-ye)/be.width*be.scale/r(this,ve,Ns),J=(this.container.clientHeight-we)/be.height*be.scale;switch(k){case"page-actual":Ae=1;break;case"page-width":Ae=xe;break;case"page-height":Ae=J;break;case"page-fit":Ae=Math.min(xe,J);break;case"auto":const Ce=(0,a.isPortraitOrientation)(be)?xe:Math.min(J,xe);Ae=Math.min(a.MAX_AUTO_SCALE,Ce);break;default:console.error(`#setScale: "${k}" is an unknown zoom value.`);return}Q.preset=!0,X(this,Ee,Yi).call(this,Ae,k,Q)}},ue=new WeakSet,Zi=function(){const k=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&X(this,ce,at).call(this,this._currentScaleValue,{noScroll:!0}),X(this,j,Xt).call(this,k)},ke=new WeakSet,Ds=async function(k){var Q,Ae;if(k.pdfPage)return k.pdfPage;try{const be=await this.pdfDocument.getPage(k.id);return k.pdfPage||k.setPdfPage(be),(Ae=(Q=this.linkService)._cachedPageNumber)!=null&&Ae.call(Q,be.ref)||this.linkService.cachePageRef(k.id,be.ref),be}catch(be){return console.error("Unable to get page for page view",be),null}},je=new WeakSet,Bs=function(k){var Q,Ae;if(((Q=k.first)==null?void 0:Q.id)===1)return!0;if(((Ae=k.last)==null?void 0:Ae.id)===this.pagesCount)return!1;switch(this._scrollMode){case a.ScrollMode.PAGE:return r(this,G).scrollDown;case a.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Ue=new WeakSet,Ji=function(k=this.container.clientHeight){k!==r(this,N)&&(pe(this,N,k),a.docStyle.setProperty("--viewer-container-height",`${k}px`))},Xe=new WeakSet,Vs=function(k){for(const Q of k)if(Q.target===this.container){X(this,Ue,Ji).call(this,Math.floor(Q.borderBoxSize[0].blockSize)),pe(this,K,null);break}},b.PDFViewer=E},(I,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NullL10n=void 0,b.getL10nFallback=s;const f={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image"};f.print_progress_percent="{{progress}}%";function s(S,R){switch(S){case"find_match_count":S=`find_match_count[${R.total===1?"one":"other"}]`;break;case"find_match_count_limit":S=`find_match_count_limit[${R.limit===1?"one":"other"}]`;break}return f[S]||""}function a(S,R){return R?S.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(n,g)=>g in R?R[g]:"{{"+g+"}}"):S}const P={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(S,R=null,n=s(S,R)){return a(n,R)},async translate(S){}};b.NullL10n=P},(I,b,f)=>{var y,v,_,O,F,K,le,B,Y,se,ee,Kt,q,Qi,ge,en,W,tn,d,nn,x,Us,$,Hs,he,sn;Object.defineProperty(b,"__esModule",{value:!0}),b.PDFPageView=void 0;var s=f(5),a=f(4),P=f(33),S=f(34),R=f(9),n=f(31);f(11);var g=f(35),m=f(36),A=f(37),T=f(38),E=f(39);const C=R.compatibilityParams.maxCanvasPixels||16777216,l=()=>null;class c{constructor(j){V(this,ee);V(this,q);V(this,ge);V(this,W);V(this,d);V(this,x);V(this,$);V(this,he);V(this,y,s.AnnotationMode.ENABLE_FORMS);V(this,v,!1);V(this,_,null);V(this,O,null);V(this,F,null);V(this,K,null);V(this,le,a.RenderingStates.INITIAL);V(this,B,a.TextLayerMode.ENABLE);V(this,Y,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});V(this,se,new WeakMap);var Ee;const te=j.container,fe=j.defaultViewport;this.id=j.id,this.renderingId="page"+this.id,pe(this,_,j.layerProperties||l),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=j.scale||a.DEFAULT_SCALE,this.viewport=fe,this.pdfPageRotate=fe.rotation,this._optionalContentConfigPromise=j.optionalContentConfigPromise||null,pe(this,B,j.textLayerMode??a.TextLayerMode.ENABLE),pe(this,y,j.annotationMode??s.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=j.imageResourcesPath||"",this.isOffscreenCanvasSupported=j.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=j.maxCanvasPixels??C,this.pageColors=j.pageColors||null,this.eventBus=j.eventBus,this.renderingQueue=j.renderingQueue,this.l10n=j.l10n||n.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!((Ee=this.renderingQueue)!=null&&Ee.hasViewer()),this._container=te,j.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),this.maxCanvasPixels=0),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const de=document.createElement("div");if(de.className="page",de.setAttribute("data-page-number",this.id),de.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(Te=>{de.setAttribute("aria-label",Te)}),this.div=de,X(this,ee,Kt).call(this),te==null||te.append(de),this._isStandalone){te==null||te.style.setProperty("--scale-factor",this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:Te}=j;Te&&Te.then(ve=>{Te===this._optionalContentConfigPromise&&(r(this,Y).initialOptionalContent=ve.hasInitialVisibility)})}}get renderingState(){return r(this,le)}set renderingState(j){if(j!==r(this,le))switch(pe(this,le,j),r(this,O)&&(clearTimeout(r(this,O)),pe(this,O,null)),j){case a.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case a.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),pe(this,O,setTimeout(()=>{this.div.classList.add("loading"),pe(this,O,null)},0));break;case a.RenderingStates.INITIAL:case a.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}setPdfPage(j){var fe,de,Ee;this._isStandalone&&(((fe=this.pageColors)==null?void 0:fe.foreground)==="CanvasText"||((de=this.pageColors)==null?void 0:de.background)==="Canvas")&&((Ee=this._container)==null||Ee.style.setProperty("--hcm-highligh-filter",j.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=j,this.pdfPageRotate=j.rotate;const te=(this.rotation+this.pdfPageRotate)%360;this.viewport=j.getViewport({scale:this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:te}),X(this,ee,Kt).call(this),this.reset()}destroy(){var j;this.reset(),(j=this.pdfPage)==null||j.cleanup()}get _textHighlighter(){return(0,s.shadow)(this,"_textHighlighter",new A.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:r(this,_).call(this).findController}))}_resetZoomLayer(j=!1){if(!this.zoomLayer)return;const te=this.zoomLayer.firstChild;r(this,se).delete(te),te.width=0,te.height=0,j&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:j=!1,keepAnnotationLayer:te=!1,keepAnnotationEditorLayer:fe=!1,keepXfaLayer:de=!1,keepTextLayer:Ee=!1}={}){var ke,Oe,je,We,Ue;this.cancelRendering({keepAnnotationLayer:te,keepAnnotationEditorLayer:fe,keepXfaLayer:de,keepTextLayer:Ee}),this.renderingState=a.RenderingStates.INITIAL;const Te=this.div,ve=Te.childNodes,Re=j&&this.zoomLayer||null,ce=te&&((ke=this.annotationLayer)==null?void 0:ke.div)||null,ne=fe&&((Oe=this.annotationEditorLayer)==null?void 0:Oe.div)||null,ue=de&&((je=this.xfaLayer)==null?void 0:je.div)||null,me=Ee&&((We=this.textLayer)==null?void 0:We.div)||null;for(let ze=ve.length-1;ze>=0;ze--){const Xe=ve[ze];switch(Xe){case Re:case ce:case ne:case ue:case me:continue}Xe.remove()}Te.removeAttribute("data-loaded"),ce&&this.annotationLayer.hide(),ne&&this.annotationEditorLayer.hide(),ue&&this.xfaLayer.hide(),me&&this.textLayer.hide(),(Ue=this.structTreeLayer)==null||Ue.hide(),Re||(this.canvas&&(r(this,se).delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:j=0,rotation:te=null,optionalContentConfigPromise:fe=null,drawingDelay:de=-1}){var Te;this.scale=j||this.scale,typeof te=="number"&&(this.rotation=te),fe instanceof Promise&&(this._optionalContentConfigPromise=fe,fe.then(ve=>{fe===this._optionalContentConfigPromise&&(r(this,Y).initialOptionalContent=ve.hasInitialVisibility)})),r(this,Y).directDrawing=!0;const Ee=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:Ee}),X(this,ee,Kt).call(this),this._isStandalone&&((Te=this._container)==null||Te.style.setProperty("--scale-factor",this.viewport.scale)),this.canvas){let ve=!1;if(r(this,v)){if(this.maxCanvasPixels===0)ve=!0;else if(this.maxCanvasPixels>0){const{width:ce,height:ne}=this.viewport,{sx:ue,sy:me}=this.outputScale;ve=(Math.floor(ce)*ue|0)*(Math.floor(ne)*me|0)>this.maxCanvasPixels}}const Re=!ve&&de>=0&&de<1e3;if(Re||ve){if(Re&&this.renderingState!==a.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:de}),this.renderingState=a.RenderingStates.FINISHED,r(this,Y).directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!Re,hideTextLayer:Re}),Re)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:r(this,K)});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:j=!1,keepAnnotationEditorLayer:te=!1,keepXfaLayer:fe=!1,keepTextLayer:de=!1,cancelExtraDelay:Ee=0}={}){var Te;this.renderTask&&(this.renderTask.cancel(Ee),this.renderTask=null),this.resume=null,this.textLayer&&(!de||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!j||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!te||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!fe||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(Te=this._textHighlighter)==null||Te.disable())}cssTransform({target:j,redrawAnnotationLayer:te=!1,redrawAnnotationEditorLayer:fe=!1,redrawXfaLayer:de=!1,redrawTextLayer:Ee=!1,hideTextLayer:Te=!1}){var Re;if(!j.hasAttribute("zooming")){j.setAttribute("zooming",!0);const{style:ce}=j;ce.width=ce.height=""}const ve=r(this,se).get(j);if(this.viewport!==ve){const ce=this.viewport.rotation-ve.rotation,ne=Math.abs(ce);let ue=1,me=1;if(ne===90||ne===270){const{width:ke,height:Oe}=this.viewport;ue=Oe/ke,me=ke/Oe}j.style.transform=`rotate(${ce}deg) scale(${ue}, ${me})`}te&&this.annotationLayer&&X(this,q,Qi).call(this),fe&&this.annotationEditorLayer&&X(this,ge,en).call(this),de&&this.xfaLayer&&X(this,W,tn).call(this),this.textLayer&&(Te?(this.textLayer.hide(),(Re=this.structTreeLayer)==null||Re.hide()):Ee&&X(this,d,nn).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(j,te){return this.viewport.convertToPdfPoint(j,te)}async draw(){this.renderingState!==a.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:j,l10n:te,pageColors:fe,pdfPage:de,viewport:Ee}=this;if(!de)throw this.renderingState=a.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=a.RenderingStates.RUNNING;const Te=document.createElement("div");if(Te.classList.add("canvasWrapper"),j.append(Te),!this.textLayer&&r(this,B)!==a.TextLayerMode.DISABLE&&!de.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new m.TextAccessibilityManager),this.textLayer=new T.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:r(this,B)===a.TextLayerMode.ENABLE_PERMISSIONS}),j.append(this.textLayer.div)),!this.annotationLayer&&r(this,y)!==s.AnnotationMode.DISABLE){const{annotationStorage:k,downloadManager:Q,enableScripting:Ae,fieldObjectsPromise:be,hasJSActionsPromise:ye,linkService:we}=r(this,_).call(this);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new S.AnnotationLayerBuilder({pageDiv:j,pdfPage:de,annotationStorage:k,imageResourcesPath:this.imageResourcesPath,renderForms:r(this,y)===s.AnnotationMode.ENABLE_FORMS,linkService:we,downloadManager:Q,l10n:te,enableScripting:Ae,hasJSActionsPromise:ye,fieldObjectsPromise:be,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}const ve=k=>{if(me==null||me(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=a.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=a.RenderingStates.RUNNING,k()};return}k()},{width:Re,height:ce}=Ee,ne=document.createElement("canvas");ne.setAttribute("role","presentation"),ne.hidden=!0;const ue=!!(fe!=null&&fe.background&&(fe!=null&&fe.foreground));let me=k=>{(!ue||k)&&(ne.hidden=!1,me=null)};Te.append(ne),this.canvas=ne;const ke=ne.getContext("2d",{alpha:!1}),Oe=this.outputScale=new a.OutputScale;if(this.maxCanvasPixels===0){const k=1/this.scale;Oe.sx*=k,Oe.sy*=k,pe(this,v,!0)}else if(this.maxCanvasPixels>0){const k=Re*ce,Q=Math.sqrt(this.maxCanvasPixels/k);Oe.sx>Q||Oe.sy>Q?(Oe.sx=Q,Oe.sy=Q,pe(this,v,!0)):pe(this,v,!1)}const je=(0,a.approximateFraction)(Oe.sx),We=(0,a.approximateFraction)(Oe.sy);ne.width=(0,a.roundToDivide)(Re*Oe.sx,je[0]),ne.height=(0,a.roundToDivide)(ce*Oe.sy,We[0]);const{style:Ue}=ne;Ue.width=(0,a.roundToDivide)(Re,je[1])+"px",Ue.height=(0,a.roundToDivide)(ce,We[1])+"px",r(this,se).set(ne,Ee);const ze=Oe.scaled?[Oe.sx,0,0,Oe.sy,0,0]:null,Xe={canvasContext:ke,transform:ze,viewport:Ee,annotationMode:r(this,y),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:fe},Ge=this.renderTask=this.pdfPage.render(Xe);Ge.onContinue=ve;const De=Ge.promise.then(async()=>{var k;if(me==null||me(!0),await X(this,he,sn).call(this,Ge),X(this,d,nn).call(this),this.annotationLayer&&await X(this,q,Qi).call(this),!this.annotationEditorLayer){const{annotationEditorUIManager:Q}=r(this,_).call(this);if(!Q)return;this.annotationEditorLayer=new P.AnnotationEditorLayerBuilder({uiManager:Q,pageDiv:j,pdfPage:de,l10n:te,accessibilityManager:this._accessibilityManager,annotationLayer:(k=this.annotationLayer)==null?void 0:k.annotationLayer})}X(this,ge,en).call(this)},k=>(k instanceof s.RenderingCancelledException||me==null||me(!0),X(this,he,sn).call(this,Ge,k)));if(de.isPureXfa){if(this.xfaLayer)this.xfaLayer.div&&j.append(this.xfaLayer.div);else{const{annotationStorage:k,linkService:Q}=r(this,_).call(this);this.xfaLayer=new E.XfaLayerBuilder({pageDiv:j,pdfPage:de,annotationStorage:k,linkService:Q})}X(this,W,tn).call(this)}return j.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),De}setPageLabel(j){this.pageLabel=typeof j=="string"?j:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:j,initialOptionalContent:te,regularAnnotations:fe}=r(this,Y);return j&&te&&fe?this.canvas:null}}y=new WeakMap,v=new WeakMap,_=new WeakMap,O=new WeakMap,F=new WeakMap,K=new WeakMap,le=new WeakMap,B=new WeakMap,Y=new WeakMap,se=new WeakMap,ee=new WeakSet,Kt=function(){const{viewport:j}=this;if(this.pdfPage){if(r(this,F)===j.rotation)return;pe(this,F,j.rotation)}(0,s.setLayerDimensions)(this.div,j,!0,!1)},q=new WeakSet,Qi=async function(){let j=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(te){console.error(`#renderAnnotationLayer: "${te}".`),j=te}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:j})}},ge=new WeakSet,en=async function(){let j=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(te){console.error(`#renderAnnotationEditorLayer: "${te}".`),j=te}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:j})}},W=new WeakSet,tn=async function(){let j=null;try{const te=await this.xfaLayer.render(this.viewport,"display");te!=null&&te.textDivs&&this._textHighlighter&&X(this,$,Hs).call(this,te.textDivs)}catch(te){console.error(`#renderXfaLayer: "${te}".`),j=te}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:j})}},d=new WeakSet,nn=async function(){const{pdfPage:j,textLayer:te,viewport:fe}=this;if(!te)return;let de=null;try{if(!te.renderingDone){const Ee=j.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});te.setTextContentSource(Ee)}await te.render(fe)}catch(Ee){if(Ee instanceof s.AbortException)return;console.error(`#renderTextLayer: "${Ee}".`),de=Ee}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:te.numTextDivs,error:de}),X(this,x,Us).call(this)},x=new WeakSet,Us=async function(){var fe,de,Ee;if(!this.textLayer)return;this.structTreeLayer||(this.structTreeLayer=new g.StructTreeLayerBuilder);const j=await(this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree()),te=(fe=this.structTreeLayer)==null?void 0:fe.render(j);te&&((de=this.canvas)==null||de.append(te)),(Ee=this.structTreeLayer)==null||Ee.show()},$=new WeakSet,Hs=async function(j){const te=await this.pdfPage.getTextContent(),fe=[];for(const de of te.items)fe.push(de.str);this._textHighlighter.setTextMapping(j,fe),this._textHighlighter.enable()},he=new WeakSet,sn=async function(j,te=null){if(j===this.renderTask&&(this.renderTask=null),te instanceof s.RenderingCancelledException){pe(this,K,null);return}if(pe(this,K,te),this.renderingState=a.RenderingStates.FINISHED,this._resetZoomLayer(!0),r(this,Y).regularAnnotations=!j.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:r(this,K)}),te)throw te},b.PDFPageView=c},(I,b,f)=>{var S,R;Object.defineProperty(b,"__esModule",{value:!0}),b.AnnotationEditorLayerBuilder=void 0;var s=f(5),a=f(31);class P{constructor(g){V(this,S,null);V(this,R,void 0);this.pageDiv=g.pageDiv,this.pdfPage=g.pdfPage,this.accessibilityManager=g.accessibilityManager,this.l10n=g.l10n||a.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,pe(this,R,g.uiManager),pe(this,S,g.annotationLayer||null)}async render(g,m="display"){if(m!=="display"||this._cancelled)return;const A=g.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:A}),this.show();return}const T=this.div=document.createElement("div");T.className="annotationEditorLayer",T.tabIndex=0,T.hidden=!0,this.pageDiv.append(T),this.annotationEditorLayer=new s.AnnotationEditorLayer({uiManager:r(this,R),div:T,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:A,annotationLayer:r(this,S)});const E={viewport:A,div:T,annotations:null,intent:m};this.annotationEditorLayer.render(E),this.show()}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isEmpty||(this.div.hidden=!1)}}S=new WeakMap,R=new WeakMap,b.AnnotationEditorLayerBuilder=P},(I,b,f)=>{var R,n,rn;Object.defineProperty(b,"__esModule",{value:!0}),b.AnnotationLayerBuilder=void 0;var s=f(5),a=f(31),P=f(4);class S{constructor({pageDiv:A,pdfPage:T,linkService:E,downloadManager:C,annotationStorage:l=null,imageResourcesPath:c="",renderForms:y=!0,l10n:v=a.NullL10n,enableScripting:_=!1,hasJSActionsPromise:O=null,fieldObjectsPromise:F=null,annotationCanvasMap:K=null,accessibilityManager:le=null}){V(this,n);V(this,R,null);this.pageDiv=A,this.pdfPage=T,this.linkService=E,this.downloadManager=C,this.imageResourcesPath=c,this.renderForms=y,this.l10n=v,this.annotationStorage=l,this.enableScripting=_,this._hasJSActionsPromise=O||Promise.resolve(!1),this._fieldObjectsPromise=F||Promise.resolve(null),this._annotationCanvasMap=K,this._accessibilityManager=le,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=E.eventBus}async render(A,T="display"){var y;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:A.clone({dontFlip:!0})});return}const[E,C,l]=await Promise.all([this.pdfPage.getAnnotations({intent:T}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const c=this.div=document.createElement("div");if(c.className="annotationLayer",this.pageDiv.append(c),E.length===0){this.hide();return}this.annotationLayer=new s.AnnotationLayer({div:c,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,l10n:this.l10n,page:this.pdfPage,viewport:A.clone({dontFlip:!0})}),await this.annotationLayer.render({annotations:E,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:C,fieldObjects:l}),this.linkService.isInPresentationMode&&X(this,n,rn).call(this,P.PresentationModeState.FULLSCREEN),r(this,R)||(pe(this,R,v=>{X(this,n,rn).call(this,v.state)}),(y=this._eventBus)==null||y._on("presentationmodechanged",r(this,R)))}cancel(){var A;this._cancelled=!0,r(this,R)&&((A=this._eventBus)==null||A._off("presentationmodechanged",r(this,R)),pe(this,R,null))}hide(){this.div&&(this.div.hidden=!0)}}R=new WeakMap,n=new WeakSet,rn=function(A){if(!this.div)return;let T=!1;switch(A){case P.PresentationModeState.FULLSCREEN:T=!0;break;case P.PresentationModeState.NORMAL:break;default:return}for(const E of this.div.childNodes)E.hasAttribute("data-internal-link")||(E.inert=T)},b.AnnotationLayerBuilder=S},(I,b)=>{var P,S,an,n,on;Object.defineProperty(b,"__esModule",{value:!0}),b.StructTreeLayerBuilder=void 0;const f={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},s=/^H(\d+)$/;class a{constructor(){V(this,S);V(this,n);V(this,P,void 0)}get renderingDone(){return r(this,P)!==void 0}render(A){if(r(this,P)!==void 0)return r(this,P);const T=X(this,n,on).call(this,A);return T==null||T.classList.add("structTree"),pe(this,P,T)}hide(){r(this,P)&&!r(this,P).hidden&&(r(this,P).hidden=!0)}show(){var A;(A=r(this,P))!=null&&A.hidden&&(r(this,P).hidden=!1)}}P=new WeakMap,S=new WeakSet,an=function(A,T){A.alt!==void 0&&T.setAttribute("aria-label",A.alt),A.id!==void 0&&T.setAttribute("aria-owns",A.id),A.lang!==void 0&&T.setAttribute("lang",A.lang)},n=new WeakSet,on=function(A){if(!A)return null;const T=document.createElement("span");if("role"in A){const{role:E}=A,C=E.match(s);C?(T.setAttribute("role","heading"),T.setAttribute("aria-level",C[1])):f[E]&&T.setAttribute("role",f[E])}if(X(this,S,an).call(this,A,T),A.children)if(A.children.length===1&&"id"in A.children[0])X(this,S,an).call(this,A.children[0],T);else for(const E of A.children)T.append(X(this,n,on).call(this,E));return T},b.StructTreeLayerBuilder=a},(I,b,f)=>{var P,S,R,n,g,Yt,A,ln;Object.defineProperty(b,"__esModule",{value:!0}),b.TextAccessibilityManager=void 0;var s=f(4);const E=class E{constructor(){V(this,A);V(this,P,!1);V(this,S,null);V(this,R,new Map);V(this,n,new Map)}setTextMapping(l){pe(this,S,l)}enable(){if(r(this,P))throw new Error("TextAccessibilityManager is already enabled.");if(!r(this,S))throw new Error("Text divs and strings have not been set.");if(pe(this,P,!0),pe(this,S,r(this,S).slice()),r(this,S).sort(X(E,g,Yt)),r(this,R).size>0){const l=r(this,S);for(const[c,y]of r(this,R)){if(!document.getElementById(c)){r(this,R).delete(c);continue}X(this,A,ln).call(this,c,l[y])}}for(const[l,c]of r(this,n))this.addPointerInTextLayer(l,c);r(this,n).clear()}disable(){r(this,P)&&(r(this,n).clear(),pe(this,S,null),pe(this,P,!1))}removePointerInTextLayer(l){if(!r(this,P)){r(this,n).delete(l);return}const c=r(this,S);if(!c||c.length===0)return;const{id:y}=l,v=r(this,R).get(y);if(v===void 0)return;const _=c[v];r(this,R).delete(y);let O=_.getAttribute("aria-owns");O!=null&&O.includes(y)&&(O=O.split(" ").filter(F=>F!==y).join(" "),O?_.setAttribute("aria-owns",O):(_.removeAttribute("aria-owns"),_.setAttribute("role","presentation")))}addPointerInTextLayer(l,c){const{id:y}=l;if(!y)return;if(!r(this,P)){r(this,n).set(l,c);return}c&&this.removePointerInTextLayer(l);const v=r(this,S);if(!v||v.length===0)return;const _=(0,s.binarySearchFirstItem)(v,F=>{var K;return X(K=E,g,Yt).call(K,l,F)<0}),O=Math.max(0,_-1);X(this,A,ln).call(this,y,v[O]),r(this,R).set(y,O)}moveElementInDOM(l,c,y,v){if(this.addPointerInTextLayer(y,v),!l.hasChildNodes()){l.append(c);return}const _=Array.from(l.childNodes).filter(K=>K!==c);if(_.length===0)return;const O=y||c,F=(0,s.binarySearchFirstItem)(_,K=>{var le;return X(le=E,g,Yt).call(le,O,K)<0});F===0?_[0].before(c):_[F-1].after(c)}};P=new WeakMap,S=new WeakMap,R=new WeakMap,n=new WeakMap,g=new WeakSet,Yt=function(l,c){const y=l.getBoundingClientRect(),v=c.getBoundingClientRect();if(y.width===0&&y.height===0)return 1;if(v.width===0&&v.height===0)return-1;const _=y.y,O=y.y+y.height,F=y.y+y.height/2,K=v.y,le=v.y+v.height,B=v.y+v.height/2;if(F<=K&&B>=O)return-1;if(B<=_&&F>=le)return 1;const Y=y.x+y.width/2,se=v.x+v.width/2;return Y-se},A=new WeakSet,ln=function(l,c){const y=c.getAttribute("aria-owns");y!=null&&y.includes(l)||c.setAttribute("aria-owns",y?`${y} ${l}`:l),c.removeAttribute("role")},V(E,g);let a=E;b.TextAccessibilityManager=a},(I,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TextHighlighter=void 0;class f{constructor({findController:a,eventBus:P,pageIndex:S}){this.findController=a,this.matches=[],this.eventBus=P,this.pageIdx=S,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(a,P){this.textDivs=a,this.textContentItemsStr=P}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=a=>{(a.pageIndex===this.pageIdx||a.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(a,P){if(!a)return[];const{textContentItemsStr:S}=this;let R=0,n=0;const g=S.length-1,m=[];for(let A=0,T=a.length;A<T;A++){let E=a[A];for(;R!==g&&E>=n+S[R].length;)n+=S[R].length,R++;R===S.length&&console.error("Could not find a matching mapping");const C={begin:{divIdx:R,offset:E-n}};for(E+=P[A];R!==g&&E>n+S[R].length;)n+=S[R].length,R++;C.end={divIdx:R,offset:E-n},m.push(C)}return m}_renderMatches(a){if(a.length===0)return;const{findController:P,pageIdx:S}=this,{textContentItemsStr:R,textDivs:n}=this,g=S===P.selected.pageIdx,m=P.selected.matchIdx,A=P.state.highlightAll;let T=null;const E={divIdx:-1,offset:void 0};function C(O,F){const K=O.divIdx;return n[K].textContent="",l(K,0,O.offset,F)}function l(O,F,K,le){let B=n[O];if(B.nodeType===Node.TEXT_NODE){const ee=document.createElement("span");B.before(ee),ee.append(B),n[O]=ee,B=ee}const Y=R[O].substring(F,K),se=document.createTextNode(Y);if(le){const ee=document.createElement("span");return ee.className=`${le} appended`,ee.append(se),B.append(ee),le.includes("selected")?ee.offsetLeft:0}return B.append(se),0}let c=m,y=c+1;if(A)c=0,y=a.length;else if(!g)return;let v=-1,_=-1;for(let O=c;O<y;O++){const F=a[O],K=F.begin;if(K.divIdx===v&&K.offset===_)continue;v=K.divIdx,_=K.offset;const le=F.end,B=g&&O===m,Y=B?" selected":"";let se=0;if(!T||K.divIdx!==T.divIdx?(T!==null&&l(T.divIdx,T.offset,E.offset),C(K)):l(T.divIdx,T.offset,K.offset),K.divIdx===le.divIdx)se=l(K.divIdx,K.offset,le.offset,"highlight"+Y);else{se=l(K.divIdx,K.offset,E.offset,"highlight begin"+Y);for(let ee=K.divIdx+1,N=le.divIdx;ee<N;ee++)n[ee].className="highlight middle"+Y;C(le,"highlight end"+Y)}T=le,B&&P.scrollMatchIntoView({element:n[K.divIdx],selectedLeft:se,pageIndex:S,matchIndex:m})}T&&l(T.divIdx,T.offset,E.offset)}_updateMatches(a=!1){if(!this.enabled&&!a)return;const{findController:P,matches:S,pageIdx:R}=this,{textContentItemsStr:n,textDivs:g}=this;let m=-1;for(const E of S){const C=Math.max(m,E.begin.divIdx);for(let l=C,c=E.end.divIdx;l<=c;l++){const y=g[l];y.textContent=n[l],y.className=""}m=E.end.divIdx+1}if(!(P!=null&&P.highlightMatches)||a)return;const A=P.pageMatches[R]||null,T=P.pageMatchesLength[R]||null;this.matches=this._convertMatches(A,T),this._renderMatches(this.matches)}}b.TextHighlighter=f},(I,b,f)=>{var S,R,n,g,m,js,T,zs;Object.defineProperty(b,"__esModule",{value:!0}),b.TextLayerBuilder=void 0;var s=f(5),a=f(4);class P{constructor({highlighter:l=null,accessibilityManager:c=null,isOffscreenCanvasSupported:y=!0,enablePermissions:v=!1}){V(this,m);V(this,T);V(this,S,!1);V(this,R,0);V(this,n,0);V(this,g,null);this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=l,this.accessibilityManager=c,this.isOffscreenCanvasSupported=y,pe(this,S,v===!0),this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}get numTextDivs(){return this.textDivs.length}async render(l){var v,_,O;if(!r(this,g))throw new Error('No "textContentSource" parameter specified.');const c=l.scale*(globalThis.devicePixelRatio||1),{rotation:y}=l;if(this.renderingDone){const F=y!==r(this,R),K=c!==r(this,n);(F||K)&&(this.hide(),(0,s.updateTextLayer)({container:this.div,viewport:l,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:K,mustRotate:F}),pe(this,n,c),pe(this,R,y)),this.show();return}this.cancel(),(v=this.highlighter)==null||v.setTextMapping(this.textDivs,this.textContentItemsStr),(_=this.accessibilityManager)==null||_.setTextMapping(this.textDivs),this.textLayerRenderTask=(0,s.renderTextLayer)({textContentSource:r(this,g),container:this.div,viewport:l,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItemsStr:this.textContentItemsStr,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported}),await this.textLayerRenderTask.promise,X(this,m,js).call(this),pe(this,n,c),pe(this,R,y),this.show(),(O=this.accessibilityManager)==null||O.enable()}hide(){var l;this.div.hidden||((l=this.highlighter)==null||l.disable(),this.div.hidden=!0)}show(){var l;this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,(l=this.highlighter)==null||l.enable())}cancel(){var l,c;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(l=this.highlighter)==null||l.disable(),(c=this.accessibilityManager)==null||c.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(l){this.cancel(),pe(this,g,l)}}S=new WeakMap,R=new WeakMap,n=new WeakMap,g=new WeakMap,m=new WeakSet,js=function(){this.renderingDone=!0;const l=document.createElement("div");l.className="endOfContent",this.div.append(l),X(this,T,zs).call(this)},T=new WeakSet,zs=function(){const{div:l}=this;l.addEventListener("mousedown",c=>{const y=l.querySelector(".endOfContent");if(!y)return;let v=c.target!==l;if(v&&(v=getComputedStyle(y).getPropertyValue("-moz-user-select")!=="none"),v){const _=l.getBoundingClientRect(),O=Math.max(0,(c.pageY-_.top)/_.height);y.style.top=(O*100).toFixed(2)+"%"}y.classList.add("active")}),l.addEventListener("mouseup",()=>{const c=l.querySelector(".endOfContent");c&&(c.style.top="",c.classList.remove("active"))}),l.addEventListener("copy",c=>{if(!r(this,S)){const y=document.getSelection();c.clipboardData.setData("text/plain",(0,a.removeNullCharacters)((0,s.normalizeUnicode)(y.toString())))}c.preventDefault(),c.stopPropagation()})},b.TextLayerBuilder=P},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.XfaLayerBuilder=void 0;var s=f(5);class a{constructor({pageDiv:S,pdfPage:R,annotationStorage:n=null,linkService:g,xfaHtml:m=null}){this.pageDiv=S,this.pdfPage=R,this.annotationStorage=n,this.linkService=g,this.xfaHtml=m,this.div=null,this._cancelled=!1}async render(S,R="display"){if(R==="print"){const m={viewport:S.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:R},A=document.createElement("div");return this.pageDiv.append(A),m.div=A,s.XfaLayer.render(m)}const n=await this.pdfPage.getXfa();if(this._cancelled||!n)return{textDivs:[]};const g={viewport:S.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:R};return this.div?s.XfaLayer.update(g):(this.div=document.createElement("div"),this.pageDiv.append(this.div),g.div=this.div,s.XfaLayer.render(g))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}b.XfaLayerBuilder=a},(I,b,f)=>{var S,Zt,n,Ws,m,$s,T,Gs,C,qs;Object.defineProperty(b,"__esModule",{value:!0}),b.SecondaryToolbar=void 0;var s=f(4),a=f(30);class P{constructor(y,v,_){V(this,S);V(this,n);V(this,m);V(this,T);V(this,C);this.toolbar=y.toolbar,this.toggleButton=y.toggleButton,this.buttons=[{element:y.presentationModeButton,eventName:"presentationmode",close:!0},{element:y.printButton,eventName:"print",close:!0},{element:y.downloadButton,eventName:"download",close:!0},{element:y.viewBookmarkButton,eventName:null,close:!0},{element:y.firstPageButton,eventName:"firstpage",close:!0},{element:y.lastPageButton,eventName:"lastpage",close:!0},{element:y.pageRotateCwButton,eventName:"rotatecw",close:!1},{element:y.pageRotateCcwButton,eventName:"rotateccw",close:!1},{element:y.cursorSelectToolButton,eventName:"switchcursortool",eventDetails:{tool:s.CursorTool.SELECT},close:!0},{element:y.cursorHandToolButton,eventName:"switchcursortool",eventDetails:{tool:s.CursorTool.HAND},close:!0},{element:y.scrollPageButton,eventName:"switchscrollmode",eventDetails:{mode:s.ScrollMode.PAGE},close:!0},{element:y.scrollVerticalButton,eventName:"switchscrollmode",eventDetails:{mode:s.ScrollMode.VERTICAL},close:!0},{element:y.scrollHorizontalButton,eventName:"switchscrollmode",eventDetails:{mode:s.ScrollMode.HORIZONTAL},close:!0},{element:y.scrollWrappedButton,eventName:"switchscrollmode",eventDetails:{mode:s.ScrollMode.WRAPPED},close:!0},{element:y.spreadNoneButton,eventName:"switchspreadmode",eventDetails:{mode:s.SpreadMode.NONE},close:!0},{element:y.spreadOddButton,eventName:"switchspreadmode",eventDetails:{mode:s.SpreadMode.ODD},close:!0},{element:y.spreadEvenButton,eventName:"switchspreadmode",eventDetails:{mode:s.SpreadMode.EVEN},close:!0},{element:y.documentPropertiesButton,eventName:"documentproperties",close:!0}],this.buttons.push({element:y.openFileButton,eventName:"openfile",close:!0}),this.items={firstPage:y.firstPageButton,lastPage:y.lastPageButton,pageRotateCw:y.pageRotateCwButton,pageRotateCcw:y.pageRotateCcwButton},this.eventBus=v,this.externalServices=_,this.opened=!1,X(this,n,Ws).call(this),X(this,m,$s).call(this,y),X(this,T,Gs).call(this,y),X(this,C,qs).call(this,y),this.reset()}get isOpen(){return this.opened}setPageNumber(y){this.pageNumber=y,X(this,S,Zt).call(this)}setPagesCount(y){this.pagesCount=y,X(this,S,Zt).call(this)}reset(){this.pageNumber=0,this.pagesCount=0,X(this,S,Zt).call(this),this.eventBus.dispatch("secondarytoolbarreset",{source:this})}open(){this.opened||(this.opened=!0,(0,s.toggleExpandedBtn)(this.toggleButton,!0,this.toolbar))}close(){this.opened&&(this.opened=!1,(0,s.toggleExpandedBtn)(this.toggleButton,!1,this.toolbar))}toggle(){this.opened?this.close():this.open()}}S=new WeakSet,Zt=function(){this.items.firstPage.disabled=this.pageNumber<=1,this.items.lastPage.disabled=this.pageNumber>=this.pagesCount,this.items.pageRotateCw.disabled=this.pagesCount===0,this.items.pageRotateCcw.disabled=this.pagesCount===0},n=new WeakSet,Ws=function(){this.toggleButton.addEventListener("click",this.toggle.bind(this));for(const{element:y,eventName:v,close:_,eventDetails:O}of this.buttons)y.addEventListener("click",F=>{v!==null&&this.eventBus.dispatch(v,{source:this,...O}),_&&this.close(),this.externalServices.reportTelemetry({type:"buttons",data:{id:y.id}})})},m=new WeakSet,$s=function({cursorSelectToolButton:y,cursorHandToolButton:v}){this.eventBus._on("cursortoolchanged",({tool:_})=>{(0,s.toggleCheckedBtn)(y,_===s.CursorTool.SELECT),(0,s.toggleCheckedBtn)(v,_===s.CursorTool.HAND)})},T=new WeakSet,Gs=function({scrollPageButton:y,scrollVerticalButton:v,scrollHorizontalButton:_,scrollWrappedButton:O,spreadNoneButton:F,spreadOddButton:K,spreadEvenButton:le}){const B=({mode:Y})=>{(0,s.toggleCheckedBtn)(y,Y===s.ScrollMode.PAGE),(0,s.toggleCheckedBtn)(v,Y===s.ScrollMode.VERTICAL),(0,s.toggleCheckedBtn)(_,Y===s.ScrollMode.HORIZONTAL),(0,s.toggleCheckedBtn)(O,Y===s.ScrollMode.WRAPPED);const se=this.pagesCount>a.PagesCountLimit.FORCE_SCROLL_MODE_PAGE;y.disabled=se,v.disabled=se,_.disabled=se,O.disabled=se;const ee=Y===s.ScrollMode.HORIZONTAL;F.disabled=ee,K.disabled=ee,le.disabled=ee};this.eventBus._on("scrollmodechanged",B),this.eventBus._on("secondarytoolbarreset",Y=>{Y.source===this&&B({mode:s.ScrollMode.VERTICAL})})},C=new WeakSet,qs=function({spreadNoneButton:y,spreadOddButton:v,spreadEvenButton:_}){const O=({mode:F})=>{(0,s.toggleCheckedBtn)(y,F===s.SpreadMode.NONE),(0,s.toggleCheckedBtn)(v,F===s.SpreadMode.ODD),(0,s.toggleCheckedBtn)(_,F===s.SpreadMode.EVEN)};this.eventBus._on("spreadmodechanged",O),this.eventBus._on("secondarytoolbarreset",F=>{F.source===this&&O({mode:s.SpreadMode.NONE})})},b.SecondaryToolbar=P},(I,b,f)=>{var R,n,Xs,m,Ks,T,mt,C,Ys;Object.defineProperty(b,"__esModule",{value:!0}),b.Toolbar=void 0;var s=f(4),a=f(5);const P="visiblePageIsLoading";class S{constructor(y,v,_){V(this,n);V(this,m);V(this,T);V(this,C);V(this,R,!1);this.toolbar=y.container,this.eventBus=v,this.l10n=_,this.buttons=[{element:y.previous,eventName:"previouspage"},{element:y.next,eventName:"nextpage"},{element:y.zoomIn,eventName:"zoomin"},{element:y.zoomOut,eventName:"zoomout"},{element:y.print,eventName:"print"},{element:y.download,eventName:"download"},{element:y.editorFreeTextButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){const{classList:O}=y.editorFreeTextButton;return O.contains("toggled")?a.AnnotationEditorType.NONE:a.AnnotationEditorType.FREETEXT}}},{element:y.editorInkButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){const{classList:O}=y.editorInkButton;return O.contains("toggled")?a.AnnotationEditorType.NONE:a.AnnotationEditorType.INK}}},{element:y.editorStampButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){const{classList:O}=y.editorStampButton;return O.contains("toggled")?a.AnnotationEditorType.NONE:a.AnnotationEditorType.STAMP}}}],this.buttons.push({element:y.openFile,eventName:"openfile"}),this.items={numPages:y.numPages,pageNumber:y.pageNumber,scaleSelect:y.scaleSelect,customScaleOption:y.customScaleOption,previous:y.previous,next:y.next,zoomIn:y.zoomIn,zoomOut:y.zoomOut},X(this,n,Xs).call(this,y),this.reset()}setPageNumber(y,v){this.pageNumber=y,this.pageLabel=v,X(this,T,mt).call(this,!1)}setPagesCount(y,v){this.pagesCount=y,this.hasPageLabels=v,X(this,T,mt).call(this,!0)}setPageScale(y,v){this.pageScaleValue=(y||v).toString(),this.pageScale=v,X(this,T,mt).call(this,!1)}reset(){this.pageNumber=0,this.pageLabel=null,this.hasPageLabels=!1,this.pagesCount=0,this.pageScaleValue=s.DEFAULT_SCALE_VALUE,this.pageScale=s.DEFAULT_SCALE,X(this,T,mt).call(this,!0),this.updateLoadingIndicatorState(),this.eventBus.dispatch("toolbarreset",{source:this})}updateLoadingIndicatorState(y=!1){const{pageNumber:v}=this.items;v.classList.toggle(P,y)}}R=new WeakMap,n=new WeakSet,Xs=function(y){const{pageNumber:v,scaleSelect:_}=this.items,O=this;for(const{element:F,eventName:K,eventDetails:le}of this.buttons)F.addEventListener("click",B=>{K!==null&&this.eventBus.dispatch(K,{source:this,...le})});v.addEventListener("click",function(){this.select()}),v.addEventListener("change",function(){O.eventBus.dispatch("pagenumberchanged",{source:O,value:this.value})}),_.addEventListener("change",function(){this.value!=="custom"&&O.eventBus.dispatch("scalechanged",{source:O,value:this.value})}),_.addEventListener("click",function(F){const K=F.target;this.value===O.pageScaleValue&&K.tagName.toUpperCase()==="OPTION"&&this.blur()}),_.oncontextmenu=s.noContextMenuHandler,this.eventBus._on("localized",()=>{pe(this,R,!0),X(this,C,Ys).call(this),X(this,T,mt).call(this,!0)}),X(this,m,Ks).call(this,y)},m=new WeakSet,Ks=function({editorFreeTextButton:y,editorFreeTextParamsToolbar:v,editorInkButton:_,editorInkParamsToolbar:O,editorStampButton:F,editorStampParamsToolbar:K}){const le=({mode:B})=>{(0,s.toggleCheckedBtn)(y,B===a.AnnotationEditorType.FREETEXT,v),(0,s.toggleCheckedBtn)(_,B===a.AnnotationEditorType.INK,O),(0,s.toggleCheckedBtn)(F,B===a.AnnotationEditorType.STAMP,K);const Y=B===a.AnnotationEditorType.DISABLE;y.disabled=Y,_.disabled=Y,F.disabled=Y};this.eventBus._on("annotationeditormodechanged",le),this.eventBus._on("toolbarreset",B=>{B.source===this&&le({mode:a.AnnotationEditorType.DISABLE})})},T=new WeakSet,mt=function(y=!1){if(!r(this,R))return;const{pageNumber:v,pagesCount:_,pageScaleValue:O,pageScale:F,items:K}=this;y&&(this.hasPageLabels?K.pageNumber.type="text":(K.pageNumber.type="number",this.l10n.get("of_pages",{pagesCount:_}).then(le=>{K.numPages.textContent=le})),K.pageNumber.max=_),this.hasPageLabels?(K.pageNumber.value=this.pageLabel,this.l10n.get("page_of_pages",{pageNumber:v,pagesCount:_}).then(le=>{K.numPages.textContent=le})):K.pageNumber.value=v,K.previous.disabled=v<=1,K.next.disabled=v>=_,K.zoomOut.disabled=F<=s.MIN_SCALE,K.zoomIn.disabled=F>=s.MAX_SCALE,this.l10n.get("page_scale_percent",{scale:Math.round(F*1e4)/100}).then(le=>{let B=!1;for(const Y of K.scaleSelect.options){if(Y.value!==O){Y.selected=!1;continue}Y.selected=!0,B=!0}B||(K.customScaleOption.textContent=le,K.customScaleOption.selected=!0)})},C=new WeakSet,Ys=async function(){const{items:y,l10n:v}=this,_=Promise.all([v.get("page_scale_auto"),v.get("page_scale_actual"),v.get("page_scale_fit"),v.get("page_scale_width")]);await s.animationStarted;const O=getComputedStyle(y.scaleSelect),F=parseFloat(O.getPropertyValue("--scale-select-width")),K=document.createElement("canvas"),le=K.getContext("2d",{alpha:!1});le.font=`${O.fontSize} ${O.fontFamily}`;let B=0;for(const Y of await _){const{width:se}=le.measureText(Y);se>B&&(B=se)}B+=.3*F,B>F&&y.scaleSelect.parentNode.style.setProperty("--scale-select-width",`${B}px`),K.width=0,K.height=0},b.Toolbar=S},(I,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ViewHistory=void 0;const f=20;class s{constructor(P,S=f){this.fingerprint=P,this.cacheSize=S,this._initializedPromise=this._readFromStorage().then(R=>{const n=JSON.parse(R||"{}");let g=-1;if(!Array.isArray(n.files))n.files=[];else{for(;n.files.length>=this.cacheSize;)n.files.shift();for(let m=0,A=n.files.length;m<A;m++)if(n.files[m].fingerprint===this.fingerprint){g=m;break}}g===-1&&(g=n.files.push({fingerprint:this.fingerprint})-1),this.file=n.files[g],this.database=n})}async _writeToStorage(){const P=JSON.stringify(this.database);localStorage.setItem("pdfjs.history",P)}async _readFromStorage(){return localStorage.getItem("pdfjs.history")}async set(P,S){return await this._initializedPromise,this.file[P]=S,this._writeToStorage()}async setMultiple(P){await this._initializedPromise;for(const S in P)this.file[S]=P[S];return this._writeToStorage()}async get(P,S){await this._initializedPromise;const R=this.file[P];return R!==void 0?R:S}async getMultiple(P){await this._initializedPromise;const S=Object.create(null);for(const R in P){const n=this.file[R];S[R]=n!==void 0?n:P[R]}return S}}b.ViewHistory=s},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DefaultExternalServices=void 0;var s=f(5);class a{constructor(){throw new Error("Cannot initialize DefaultExternalServices.")}static updateFindControlState(S){}static updateFindMatchesCount(S){}static initPassiveLoading(S){}static reportTelemetry(S){}static createDownloadManager(){throw new Error("Not implemented: createDownloadManager")}static createPreferences(){throw new Error("Not implemented: createPreferences")}static createL10n(S){throw new Error("Not implemented: createL10n")}static createScripting(S){throw new Error("Not implemented: createScripting")}static get supportsPinchToZoom(){return(0,s.shadow)(this,"supportsPinchToZoom",!0)}static get supportsIntegratedFind(){return(0,s.shadow)(this,"supportsIntegratedFind",!1)}static get supportsDocumentFonts(){return(0,s.shadow)(this,"supportsDocumentFonts",!0)}static get supportedMouseWheelZoomModifierKeys(){return(0,s.shadow)(this,"supportedMouseWheelZoomModifierKeys",{ctrlKey:!0,metaKey:!0})}static get isInAutomation(){return(0,s.shadow)(this,"isInAutomation",!1)}static updateEditorStates(S){throw new Error("Not implemented: updateEditorStates")}static get canvasMaxAreaInBytes(){return(0,s.shadow)(this,"canvasMaxAreaInBytes",-1)}static getNimbusExperimentData(){return(0,s.shadow)(this,"getNimbusExperimentData",Promise.resolve(null))}}b.DefaultExternalServices=a},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.bindPrintServiceFactory=b.bindExternalService=void 0;let s;b.bindPrintServiceFactory=s;let a;b.bindExternalService=a,b.bindExternalService=a=f(45).bindExternalService,b.bindPrintServiceFactory=s=f(51).bindPrintServiceFactory,document.blockUnblockOnload&&document.blockUnblockOnload(!0)},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.bindExternalService=m;var s=f(43),a=f(46),P=f(47),S=f(48),R=f(50);class n extends a.BasePreferences{async _writeToStorage(T){localStorage.setItem("pdfjs.preferences",JSON.stringify(T))}async _readFromStorage(T){return JSON.parse(localStorage.getItem("pdfjs.preferences"))}}class g extends s.DefaultExternalServices{static createDownloadManager(){return new P.DownloadManager}static createPreferences(){return new n}static createL10n({locale:T="en-US"}){return new S.GenericL10n(T)}static createScripting({sandboxBundleSrc:T}){return new R.GenericScripting(T)}}function m(A){A.externalServices=g}},(I,b,f)=>{var a,P,S;Object.defineProperty(b,"__esModule",{value:!0}),b.BasePreferences=void 0,f(9);const R=class R{constructor(){V(this,a,Object.freeze({annotationEditorMode:0,annotationMode:2,cursorToolOnLoad:0,defaultZoomDelay:400,defaultZoomValue:"",disablePageLabels:!1,enablePermissions:!1,enablePrintAutoRotate:!0,enableScripting:!0,enableStampEditor:!0,externalLinkTarget:0,historyUpdateUrl:!1,ignoreDestinationZoom:!1,forcePageColors:!1,pageColorsBackground:"Canvas",pageColorsForeground:"CanvasText",pdfBugEnabled:!1,sidebarViewOnLoad:-1,scrollModeOnLoad:-1,spreadModeOnLoad:-1,textLayerMode:1,viewerCssTheme:0,viewOnLoad:0,disableAutoFetch:!1,disableFontFace:!1,disableRange:!1,disableStream:!1,enableXfa:!0}));V(this,P,Object.create(null));V(this,S,null);if(this.constructor===R)throw new Error("Cannot initialize BasePreferences.");pe(this,S,this._readFromStorage(r(this,a)).then(g=>{for(const m in r(this,a)){const A=g==null?void 0:g[m];typeof A==typeof r(this,a)[m]&&(r(this,P)[m]=A)}}))}async _writeToStorage(g){throw new Error("Not implemented: _writeToStorage")}async _readFromStorage(g){throw new Error("Not implemented: _readFromStorage")}async reset(){await r(this,S);const g=r(this,P);return pe(this,P,Object.create(null)),this._writeToStorage(r(this,a)).catch(m=>{throw pe(this,P,g),m})}async set(g,m){await r(this,S);const A=r(this,a)[g],T=r(this,P);if(A===void 0)throw new Error(`Set preference: "${g}" is undefined.`);if(m===void 0)throw new Error("Set preference: no value is specified.");const E=typeof m,C=typeof A;if(E!==C)if(E==="number"&&C==="string")m=m.toString();else throw new Error(`Set preference: "${m}" is a ${E}, expected a ${C}.`);else if(E==="number"&&!Number.isInteger(m))throw new Error(`Set preference: "${m}" must be an integer.`);return r(this,P)[g]=m,this._writeToStorage(r(this,P)).catch(l=>{throw pe(this,P,T),l})}async get(g){await r(this,S);const m=r(this,a)[g];if(m===void 0)throw new Error(`Get preference: "${g}" is undefined.`);return r(this,P)[g]??m}async getAll(){await r(this,S);const g=Object.create(null);for(const m in r(this,a))g[m]=r(this,P)[m]??r(this,a)[m];return g}};a=new WeakMap,P=new WeakMap,S=new WeakMap;let s=R;b.BasePreferences=s},(I,b,f)=>{var S;Object.defineProperty(b,"__esModule",{value:!0}),b.DownloadManager=void 0;var s=f(5);function a(R,n){const g=document.createElement("a");if(!g.click)throw new Error('DownloadManager: "a.click()" is not supported.');g.href=R,g.target="_parent","download"in g&&(g.download=n),(document.body||document.documentElement).append(g),g.click(),g.remove()}class P{constructor(){V(this,S,new WeakMap)}downloadUrl(n,g,m){if(!(0,s.createValidAbsoluteUrl)(n,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${n}`);return}a(n+"#pdfjs.action=download",g)}downloadData(n,g,m){const A=URL.createObjectURL(new Blob([n],{type:m}));a(A,g)}openOrDownloadData(n,g,m){const A=(0,s.isPdfFile)(m),T=A?"application/pdf":"";if(A){let E=r(this,S).get(n);E||(E=URL.createObjectURL(new Blob([g],{type:T})),r(this,S).set(n,E));let C;C="?file="+encodeURIComponent(E+"#"+m);try{return window.open(C),!0}catch(l){console.error(`openOrDownloadData: ${l}`),URL.revokeObjectURL(E),r(this,S).delete(n)}}return this.downloadData(g,m,T),!1}download(n,g,m,A){const T=URL.createObjectURL(n);a(T,m)}}S=new WeakMap,b.DownloadManager=P},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.GenericL10n=void 0,f(49);var s=f(31);const a={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function P(R){return a[R==null?void 0:R.toLowerCase()]||R}class S{constructor(n){const{webL10n:g}=document;this._lang=n,this._ready=new Promise((m,A)=>{g.setLanguage(P(n),()=>{m(g)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(n,g=null,m=(0,s.getL10nFallback)(n,g)){return(await this._ready).get(n,g,m)}async translate(n){return(await this._ready).translate(n)}}b.GenericL10n=S},()=>{document.webL10n=function(I,b){var f={},s="",a="textContent",P="",S={},R="loading",n=!0;function g(){return b.querySelectorAll('link[type="application/l10n"]')}function m(){var B=b.querySelector('script[type="application/l10n"]');return B?JSON.parse(B.innerHTML):null}function A(B){return B?B.querySelectorAll("*[data-l10n-id]"):[]}function T(B){if(!B)return{};var Y=B.getAttribute("data-l10n-id"),se=B.getAttribute("data-l10n-args"),ee={};if(se)try{ee=JSON.parse(se)}catch{console.warn("could not parse arguments for #"+Y)}return{id:Y,args:ee}}function E(B,Y,se){Y=Y||function(q){},se=se||function(){};var ee=new XMLHttpRequest;ee.open("GET",B,n),ee.overrideMimeType&&ee.overrideMimeType("text/plain; charset=utf-8"),ee.onreadystatechange=function(){ee.readyState==4&&(ee.status==200||ee.status===0?Y(ee.responseText):se())},ee.onerror=se,ee.ontimeout=se;try{ee.send(null)}catch{se()}}function C(B,Y,se,ee){var N=B.replace(/[^\/]*$/,"")||"./";function q(ge){return ge.lastIndexOf("\\")<0?ge:ge.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function G(ge,Pe){var W={},M=/^\s*|\s*$/,d=/^\s*#|^\s*$/,w=/^\s*\[(.*)\]\s*$/,x=/^\s*@import\s+url\((.*)\)\s*$/i,D=/^([^=\s]*)\s*=\s*(.+)$/;function $(he,U,z){var j=he.replace(M,"").split(/[\r\n]+/),te="*",fe=Y.split("-",1)[0],de=!1,Ee="";function Te(){for(;;){if(!j.length){z();return}var ve=j.shift();if(!d.test(ve)){if(U){if(Ee=w.exec(ve),Ee){te=Ee[1].toLowerCase(),de=te!=="*"&&te!==Y&&te!==fe;continue}else if(de)continue;if(Ee=x.exec(ve),Ee){ie(N+Ee[1],Te);return}}var Re=ve.match(D);Re&&Re.length==3&&(W[Re[1]]=q(Re[2]))}}}Te()}function ie(he,U){E(he,function(z){$(z,!1,U)},function(){console.warn(he+" not found."),U()})}$(ge,!0,function(){Pe(W)})}E(B,function(ge){s+=ge,G(ge,function(Pe){for(var W in Pe){var M,d,w=W.lastIndexOf(".");w>0?(M=W.substring(0,w),d=W.substring(w+1)):(M=W,d=a),f[M]||(f[M]={}),f[M][d]=Pe[W]}se&&se()})},ee)}function l(B,Y){B&&(B=B.toLowerCase()),Y=Y||function(){},c(),P=B;var se=g(),ee=se.length;if(ee===0){var N=m();if(N&&N.locales&&N.default_locale){if(console.log("using the embedded JSON directory, early way out"),f=N.locales[B],!f){var q=N.default_locale.toLowerCase();for(var G in N.locales)if(G=G.toLowerCase(),G===B){f=N.locales[B];break}else G===q&&(f=N.locales[q])}Y()}else console.log("no resource to load, early way out");R="complete";return}var ge=null,Pe=0;ge=function(){Pe++,Pe>=ee&&(Y(),R="complete")};function W(w){var x=w.href;this.load=function(D,$){C(x,D,$,function(){console.warn(x+" not found."),console.warn('"'+D+'" resource not found'),P="",$()})}}for(var M=0;M<ee;M++){var d=new W(se[M]);d.load(B,ge)}}function c(){f={},s="",P=""}function y(B){var Y={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function se(G,ge){return ge.indexOf(G)!==-1}function ee(G,ge,Pe){return ge<=G&&G<=Pe}var N={0:function(G){return"other"},1:function(G){return ee(G%100,3,10)?"few":G===0?"zero":ee(G%100,11,99)?"many":G==2?"two":G==1?"one":"other"},2:function(G){return G!==0&&G%10===0?"many":G==2?"two":G==1?"one":"other"},3:function(G){return G==1?"one":"other"},4:function(G){return ee(G,0,1)?"one":"other"},5:function(G){return ee(G,0,2)&&G!=2?"one":"other"},6:function(G){return G===0?"zero":G%10==1&&G%100!=11?"one":"other"},7:function(G){return G==2?"two":G==1?"one":"other"},8:function(G){return ee(G,3,6)?"few":ee(G,7,10)?"many":G==2?"two":G==1?"one":"other"},9:function(G){return G===0||G!=1&&ee(G%100,1,19)?"few":G==1?"one":"other"},10:function(G){return ee(G%10,2,9)&&!ee(G%100,11,19)?"few":G%10==1&&!ee(G%100,11,19)?"one":"other"},11:function(G){return ee(G%10,2,4)&&!ee(G%100,12,14)?"few":G%10===0||ee(G%10,5,9)||ee(G%100,11,14)?"many":G%10==1&&G%100!=11?"one":"other"},12:function(G){return ee(G,2,4)?"few":G==1?"one":"other"},13:function(G){return ee(G%10,2,4)&&!ee(G%100,12,14)?"few":G!=1&&ee(G%10,0,1)||ee(G%10,5,9)||ee(G%100,12,14)?"many":G==1?"one":"other"},14:function(G){return ee(G%100,3,4)?"few":G%100==2?"two":G%100==1?"one":"other"},15:function(G){return G===0||ee(G%100,2,10)?"few":ee(G%100,11,19)?"many":G==1?"one":"other"},16:function(G){return G%10==1&&G!=11?"one":"other"},17:function(G){return G==3?"few":G===0?"zero":G==6?"many":G==2?"two":G==1?"one":"other"},18:function(G){return G===0?"zero":ee(G,0,2)&&G!==0&&G!=2?"one":"other"},19:function(G){return ee(G,2,10)?"few":ee(G,0,1)?"one":"other"},20:function(G){return(ee(G%10,3,4)||G%10==9)&&!(ee(G%100,10,19)||ee(G%100,70,79)||ee(G%100,90,99))?"few":G%1e6===0&&G!==0?"many":G%10==2&&!se(G%100,[12,72,92])?"two":G%10==1&&!se(G%100,[11,71,91])?"one":"other"},21:function(G){return G===0?"zero":G==1?"one":"other"},22:function(G){return ee(G,0,1)||ee(G,11,99)?"one":"other"},23:function(G){return ee(G%10,1,2)||G%20===0?"one":"other"},24:function(G){return ee(G,3,10)||ee(G,13,19)?"few":se(G,[2,12])?"two":se(G,[1,11])?"one":"other"}},q=Y[B.replace(/-.*$/,"")];return q in N?N[q]:(console.warn("plural form unknown for ["+B+"]"),function(){return"other"})}S.plural=function(B,Y,se,ee){var N=parseFloat(Y);if(isNaN(N)||ee!=a)return B;S._pluralRules||(S._pluralRules=y(P));var q="["+S._pluralRules(N)+"]";return N===0&&se+"[zero]"in f?B=f[se+"[zero]"][ee]:N==1&&se+"[one]"in f?B=f[se+"[one]"][ee]:N==2&&se+"[two]"in f?B=f[se+"[two]"][ee]:se+q in f?B=f[se+q][ee]:se+"[other]"in f&&(B=f[se+"[other]"][ee]),B};function v(B,Y,se){var ee=f[B];if(!ee){if(console.warn("#"+B+" is undefined."),!se)return null;ee=se}var N={};for(var q in ee){var G=ee[q];G=_(G,Y,B,q),G=O(G,Y,B),N[q]=G}return N}function _(B,Y,se,ee){var N=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,q=N.exec(B);if(!q||!q.length)return B;var G=q[1],ge=q[2],Pe;if(Y&&ge in Y?Pe=Y[ge]:ge in f&&(Pe=f[ge]),G in S){var W=S[G];B=W(B,Pe,se,ee)}return B}function O(B,Y,se){var ee=/\{\{\s*(.+?)\s*\}\}/g;return B.replace(ee,function(N,q){return Y&&q in Y?Y[q]:q in f?f[q]:(console.log("argument {{"+q+"}} for #"+se+" is undefined."),N)})}function F(B){var Y=T(B);if(Y.id){var se=v(Y.id,Y.args);if(!se){console.warn("#"+Y.id+" is undefined.");return}if(se[a]){if(K(B)===0)B[a]=se[a];else{for(var ee=B.childNodes,N=!1,q=0,G=ee.length;q<G;q++)ee[q].nodeType===3&&/\S/.test(ee[q].nodeValue)&&(N?ee[q].nodeValue="":(ee[q].nodeValue=se[a],N=!0));if(!N){var ge=b.createTextNode(se[a]);B.prepend(ge)}}delete se[a]}for(var Pe in se)B[Pe]=se[Pe]}}function K(B){if(B.children)return B.children.length;if(typeof B.childElementCount<"u")return B.childElementCount;for(var Y=0,se=0;se<B.childNodes.length;se++)Y+=B.nodeType===1?1:0;return Y}function le(B){B=B||b.documentElement;for(var Y=A(B),se=Y.length,ee=0;ee<se;ee++)F(Y[ee]);F(B)}return{get:function(B,Y,se){var ee=B.lastIndexOf("."),N=a;ee>0&&(N=B.substring(ee+1),B=B.substring(0,ee));var q;se&&(q={},q[N]=se);var G=v(B,Y,q);return G&&N in G?G[N]:"{{"+B+"}}"},getData:function(){return f},getText:function(){return s},getLanguage:function(){return P},setLanguage:function(B,Y){l(B,function(){Y&&Y()})},getDirection:function(){var B=["ar","he","fa","ps","ur"],Y=P.split("-",1)[0];return B.indexOf(Y)>=0?"rtl":"ltr"},translate:le,getReadyState:function(){return R},ready:function(B){if(B)R=="complete"||R=="interactive"?I.setTimeout(function(){B()}):b.addEventListener&&b.addEventListener("localized",function Y(){b.removeEventListener("localized",Y),B()});else return}}}(window,document)},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.GenericScripting=void 0,b.docProperties=a;var s=f(5);async function a(S){const R="",n=R.split("#")[0];let{info:g,metadata:m,contentDispositionFilename:A,contentLength:T}=await S.getMetadata();if(!T){const{length:E}=await S.getDownloadInfo();T=E}return{...g,baseURL:n,filesize:T,filename:A||(0,s.getPdfFilenameFromUrl)(R),metadata:m==null?void 0:m.getRaw(),authors:m==null?void 0:m.get("dc:creator"),numPages:S.numPages,URL:R}}class P{constructor(R){this._ready=(0,s.loadScript)(R,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(R){(await this._ready).create(R)}async dispatchEventInSandbox(R){const n=await this._ready;setTimeout(()=>n.dispatchEvent(R),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}b.GenericScripting=P},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.bindPrintServiceFactory=y;var s=f(5),a=f(52),P=f(1);let S=null,R=null,n=null;function g(v,_,O,F,K,le,B){const Y=S.scratchCanvas,se=K/s.PixelsPerInch.PDF;Y.width=Math.floor(F.width*se),Y.height=Math.floor(F.height*se);const ee=Y.getContext("2d");return ee.save(),ee.fillStyle="rgb(255, 255, 255)",ee.fillRect(0,0,Y.width,Y.height),ee.restore(),Promise.all([_.getPage(O),B]).then(function([N,q]){const G={canvasContext:ee,transform:[se,0,0,se,0,0],viewport:N.getViewport({scale:1,rotation:F.rotation}),intent:"print",annotationMode:s.AnnotationMode.ENABLE_STORAGE,optionalContentConfigPromise:le,printAnnotationStorage:q};return N.render(G).promise})}class m{constructor(_,O,F,K,le=null,B=null,Y){this.pdfDocument=_,this.pagesOverview=O,this.printContainer=F,this._printResolution=K||150,this._optionalContentConfigPromise=le||_.getOptionalContentConfig(),this._printAnnotationStoragePromise=B||Promise.resolve(),this.l10n=Y,this.currentPage=-1,this.scratchCanvas=document.createElement("canvas")}layout(){this.throwIfInactive();const _=document.querySelector("body");_.setAttribute("data-pdfjsprinting",!0);const{width:O,height:F}=this.pagesOverview[0];this.pagesOverview.every(le=>le.width===O&&le.height===F)||console.warn("Not all pages have the same size. The printed result may be incorrect!"),this.pageStyleSheet=document.createElement("style"),this.pageStyleSheet.textContent=`@page { size: ${O}pt ${F}pt;}`,_.append(this.pageStyleSheet)}destroy(){if(S!==this)return;this.printContainer.textContent="",document.querySelector("body").removeAttribute("data-pdfjsprinting"),this.pageStyleSheet&&(this.pageStyleSheet.remove(),this.pageStyleSheet=null),this.scratchCanvas.width=this.scratchCanvas.height=0,this.scratchCanvas=null,S=null,c().then(function(){n.active===R&&n.close(R)})}renderPages(){if(this.pdfDocument.isPureXfa)return(0,a.getXfaHtmlForPrinting)(this.printContainer,this.pdfDocument),Promise.resolve();const _=this.pagesOverview.length,O=(F,K)=>{if(this.throwIfInactive(),++this.currentPage>=_){C(_,_,this.l10n),F();return}const le=this.currentPage;C(le,_,this.l10n),g(this,this.pdfDocument,le+1,this.pagesOverview[le],this._printResolution,this._optionalContentConfigPromise,this._printAnnotationStoragePromise).then(this.useRenderedPage.bind(this)).then(function(){O(F,K)},K)};return new Promise(O)}useRenderedPage(){this.throwIfInactive();const _=document.createElement("img"),O=this.scratchCanvas;"toBlob"in O?O.toBlob(function(K){_.src=URL.createObjectURL(K)}):_.src=O.toDataURL();const F=document.createElement("div");return F.className="printedPage",F.append(_),this.printContainer.append(F),new Promise(function(K,le){_.onload=K,_.onerror=le})}performPrint(){return this.throwIfInactive(),new Promise(_=>{setTimeout(()=>{if(!this.active){_();return}A.call(window),setTimeout(_,20)},0)})}get active(){return this===S}throwIfInactive(){if(!this.active)throw new Error("This print request was cancelled or completed.")}}const A=window.print;window.print=function(){if(S){console.warn("Ignored window.print() because of a pending print job.");return}c().then(function(){S&&n.open(R)});try{T("beforeprint")}finally{if(!S){console.error("Expected print service to be initialized."),c().then(function(){n.active===R&&n.close(R)});return}const v=S;S.renderPages().then(function(){return v.performPrint()}).catch(function(){}).then(function(){v.active&&E()})}};function T(v){const _=new CustomEvent(v,{bubbles:!1,cancelable:!1,detail:"custom"});window.dispatchEvent(_)}function E(){S&&(S.destroy(),T("afterprint"))}function C(v,_,O){const F=(0,P.getActiveApp)();R||(R=F.appConfig.appContainer.querySelector(".printServiceDialog"));const K=Math.round(100*v/_),le=R.querySelector("progress"),B=R.querySelector(".relative-progress");le.value=K,O.get("print_progress_percent",{progress:K}).then(Y=>{B.textContent=Y})}if(window.addEventListener("keydown",function(v){v.keyCode===80&&(v.ctrlKey||v.metaKey)&&!v.altKey&&(!v.shiftKey||window.chrome||window.opera)&&(window.print(),v.preventDefault(),v.stopImmediatePropagation())},!0),"onbeforeprint"in window){const v=function(_){_.detail!=="custom"&&_.stopImmediatePropagation()};window.addEventListener("beforeprint",v),window.addEventListener("afterprint",v)}let l;function c(){if(!l){const v=(0,P.getActiveApp)();if(n=v.overlayManager,!n)throw new Error("The overlay manager has not yet been initialized.");R||(R=v.appConfig.appContainer.querySelector(".printServiceDialog")),l=n.register(R,!0),v.appConfig.appContainer.querySelector(".printCancel").onclick=E,R.addEventListener("close",E)}return l}function y(v){v.instance={supportsPrinting:!0,createPrintService(_,O,F,K,le,B,Y){if(S)throw new Error("The print service is created and active.");return S=new m(_,O,F,K,le,B,Y),S}}}},(I,b,f)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getXfaHtmlForPrinting=S;var s=f(5),a=f(11),P=f(39);function S(R,n){const g=n.allXfaHtml,m=new a.SimpleLinkService,A=Math.round(s.PixelsPerInch.PDF_TO_CSS_UNITS*100)/100;for(const T of g.children){const E=document.createElement("div");E.className="xfaPrintedPage",R.append(E);const C=new P.XfaLayerBuilder({pageDiv:E,pdfPage:null,annotationStorage:n.annotationStorage,linkService:m,xfaHtml:T}),l=(0,s.getXfaPageViewport)(T,{scale:A});C.render(l,"print")}}},(I,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.injectLocaleResource=f;function f(s){const a="application/l10n";let P=document.querySelector(`link[type="${a}"]`);P&&P.getAttribute("href")===s||(P=document.createElement("link"),P.rel="resource",P.type=a,P.href=s,document.head.appendChild(P))}},(I,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;const f=`
<div data-dom-id="outerContainer" class="outerContainer">
  <div data-dom-id="sidebarContainer" class="sidebarContainer">
    <div data-dom-id="toolbarSidebar" class="toolbarSidebar">
      <div data-dom-id="toolbarSidebarLeft" class="toolbarSidebarLeft">
        <div
          role="radiogroup"
          data-dom-id="sidebarViewButtons"
          class="splitToolbarButton toggled sidebarViewButtons"
        >
          <button
            title="Show Thumbnails"
            tabindex="2"
            data-l10n-id="thumbs"
            role="radio"
            aria-checked="true"
            aria-controls="thumbnailView"
            data-dom-id="viewThumbnail"
            class="toolbarButton toggled viewThumbnail"
          >
            <span data-l10n-id="thumbs_label">Thumbnails</span></button
          ><button
            title="Show Document Outline (double-click to expand/collapse all items)"
            tabindex="3"
            data-l10n-id="document_outline"
            role="radio"
            aria-checked="false"
            aria-controls="outlineView"
            data-dom-id="viewOutline"
            class="toolbarButton viewOutline"
          >
            <span data-l10n-id="document_outline_label"
              >Document Outline</span
            ></button
          ><button
            title="Show Attachments"
            tabindex="4"
            data-l10n-id="attachments"
            role="radio"
            aria-checked="false"
            aria-controls="attachmentsView"
            data-dom-id="viewAttachments"
            class="toolbarButton viewAttachments"
          >
            <span data-l10n-id="attachments_label">Attachments</span></button
          ><button
            title="Show Layers (double-click to reset all layers to the default state)"
            tabindex="5"
            data-l10n-id="layers"
            role="radio"
            aria-checked="false"
            aria-controls="layersView"
            data-dom-id="viewLayers"
            class="toolbarButton viewLayers"
          >
            <span data-l10n-id="layers_label">Layers</span>
          </button>
        </div>
      </div>
      <div data-dom-id="toolbarSidebarRight" class="toolbarSidebarRight">
        <div
          data-dom-id="outlineOptionsContainer"
          class="hidden outlineOptionsContainer"
        >
          <div class="verticalToolbarSeparator"></div>
          <button
            disabled="disabled"
            title="Find Current Outline Item"
            tabindex="6"
            data-l10n-id="current_outline_item"
            data-dom-id="currentOutlineItem"
            class="toolbarButton currentOutlineItem"
          >
            <span data-l10n-id="current_outline_item_label"
              >Current Outline Item</span
            >
          </button>
        </div>
      </div>
    </div>
    <div data-dom-id="sidebarContent" class="sidebarContent">
      <div data-dom-id="thumbnailView" class="thumbnailView"></div>
      <div data-dom-id="outlineView" class="hidden outlineView"></div>
      <div data-dom-id="attachmentsView" class="hidden attachmentsView"></div>
      <div data-dom-id="layersView" class="hidden layersView"></div>
    </div>
    <div data-dom-id="sidebarResizer" class="sidebarResizer"></div>
  </div>
  <!-- sidebarContainer -->
  <div data-dom-id="mainContainer" class="mainContainer">
    <div class="findbar hidden doorHanger" data-dom-id="findbar">
      <div data-dom-id="findbarInputContainer" class="findbarInputContainer">
        <input
          title="Find"
          placeholder="Find in document…"
          tabindex="91"
          data-l10n-id="find_input"
          aria-invalid="false"
          data-dom-id="findInput"
          class="toolbarField findInput"
        />
        <div class="splitToolbarButton">
          <button
            title="Find the previous occurrence of the phrase"
            tabindex="92"
            data-l10n-id="find_previous"
            data-dom-id="findPrevious"
            class="toolbarButton findPrevious"
          >
            <span data-l10n-id="find_previous_label">Previous</span>
          </button>
          <div class="splitToolbarButtonSeparator"></div>
          <button
            title="Find the next occurrence of the phrase"
            tabindex="93"
            data-l10n-id="find_next"
            data-dom-id="findNext"
            class="toolbarButton findNext"
          >
            <span data-l10n-id="find_next_label">Next</span>
          </button>
        </div>
      </div>
      <div
        data-dom-id="findbarOptionsOneContainer"
        class="findbarOptionsOneContainer"
      >
        <label
          ><input
            type="checkbox"
            tabindex="94"
            data-dom-id="findHighlightAll"
            class="toolbarField findHighlightAll"
          /><span class="toolbarLabel" data-l10n-id="find_highlight"
            >Highlight All</span
          ></label
        ><!--Removed!--><label
          ><input
            type="checkbox"
            tabindex="95"
            data-dom-id="findMatchCase"
            class="toolbarField findMatchCase"
          /><span class="toolbarLabel" data-l10n-id="find_match_case_label"
            >Match Case</span
          ></label
        ><!--Removed!-->
      </div>
      <div
        data-dom-id="findbarOptionsTwoContainer"
        class="findbarOptionsTwoContainer"
      >
        <label
          ><input
            type="checkbox"
            tabindex="96"
            data-dom-id="findMatchDiacritics"
            class="toolbarField findMatchDiacritics"
          /><span
            class="toolbarLabel"
            data-l10n-id="find_match_diacritics_label"
            >Match Diacritics</span
          ></label
        ><!--Removed!--><label
          ><input
            type="checkbox"
            tabindex="97"
            data-dom-id="findEntireWord"
            class="toolbarField findEntireWord"
          /><span class="toolbarLabel" data-l10n-id="find_entire_word_label"
            >Whole Words</span
          ></label
        ><!--Removed!-->
      </div>
      <div
        aria-live="polite"
        data-dom-id="findbarMessageContainer"
        class="findbarMessageContainer"
      >
        <span
          data-dom-id="findResultsCount"
          class="toolbarLabel findResultsCount"
        ></span
        ><span data-dom-id="findMsg" class="toolbarLabel findMsg"></span>
      </div>
    </div>
    <!-- findbar -->
    <div
      data-dom-id="editorFreeTextParamsToolbar"
      class="editorParamsToolbar hidden doorHangerRight editorFreeTextParamsToolbar"
    >
      <div class="editorParamsToolbarContainer">
        <div class="editorParamsSetter">
          <!--Removed!--><label
            ><input
              type="color"
              tabindex="100"
              data-dom-id="editorFreeTextColor"
              class="editorParamsColor editorFreeTextColor"
            /><span class="toolbarLabel" data-l10n-id="editor_free_text_color"
              >Color</span
            ></label
          >
        </div>
        <div class="editorParamsSetter">
          <!--Removed!--><label
            ><input
              type="range"
              value="10"
              min="5"
              max="100"
              step="1"
              tabindex="101"
              data-dom-id="editorFreeTextFontSize"
              class="editorParamsSlider editorFreeTextFontSize"
            /><span class="toolbarLabel" data-l10n-id="editor_free_text_size"
              >Size</span
            ></label
          >
        </div>
      </div>
    </div>
    <div
      data-dom-id="editorInkParamsToolbar"
      class="editorParamsToolbar hidden doorHangerRight editorInkParamsToolbar"
    >
      <div class="editorParamsToolbarContainer">
        <div class="editorParamsSetter">
          <!--Removed!--><label
            ><input
              type="color"
              tabindex="102"
              data-dom-id="editorInkColor"
              class="editorParamsColor editorInkColor"
            /><span class="toolbarLabel" data-l10n-id="editor_ink_color"
              >Color</span
            ></label
          >
        </div>
        <div class="editorParamsSetter">
          <!--Removed!--><label
            ><input
              type="range"
              value="1"
              min="1"
              max="20"
              step="1"
              tabindex="103"
              data-dom-id="editorInkThickness"
              class="editorParamsSlider editorInkThickness"
            /><span class="toolbarLabel" data-l10n-id="editor_ink_thickness"
              >Thickness</span
            ></label
          >
        </div>
        <div class="editorParamsSetter">
          <!--Removed!--><label
            ><input
              type="range"
              value="100"
              min="1"
              max="100"
              step="1"
              tabindex="104"
              data-dom-id="editorInkOpacity"
              class="editorParamsSlider editorInkOpacity"
            /><span class="toolbarLabel" data-l10n-id="editor_ink_opacity"
              >Opacity</span
            ></label
          >
        </div>
      </div>
    </div>
    <div
      data-dom-id="editorStampParamsToolbar"
      class="editorParamsToolbar hidden doorHangerRight editorStampParamsToolbar"
    >
      <div class="editorParamsToolbarContainer">
        <button
          title="Add image"
          tabindex="105"
          data-l10n-id="editor_stamp_add_image"
          data-dom-id="editorStampAddImage"
          class="secondaryToolbarButton editorStampAddImage"
        >
          <span data-l10n-id="editor_stamp_add_image_label">Add image</span>
        </button>
      </div>
    </div>
    <div
      class="secondaryToolbar hidden doorHangerRight"
      data-dom-id="secondaryToolbar"
    >
      <div
        data-dom-id="secondaryToolbarButtonContainer"
        class="secondaryToolbarButtonContainer"
      >
        <!--#if GENERIC--><button
          title="Open File"
          tabindex="51"
          data-l10n-id="open_file"
          data-dom-id="secondaryOpenFile"
          class="secondaryToolbarButton visibleLargeView secondaryOpenFile"
        >
          <span data-l10n-id="open_file_label">Open</span></button
        ><!--#endif--><button
          title="Print"
          tabindex="52"
          data-l10n-id="print"
          data-dom-id="secondaryPrint"
          class="secondaryToolbarButton visibleMediumView secondaryPrint"
        >
          <span data-l10n-id="print_label">Print</span></button
        ><button
          title="Save"
          tabindex="53"
          data-l10n-id="save"
          data-dom-id="secondaryDownload"
          class="secondaryToolbarButton visibleMediumView secondaryDownload"
        >
          <span data-l10n-id="save_label">Save</span></button
        ><!--#if GENERIC-->
        <div class="horizontalToolbarSeparator visibleLargeView"></div>
        <!--#else--><!--        <div class="horizontalToolbarSeparator visibleMediumView"></div>--><!--#endif--><button
          title="Switch to Presentation Mode"
          tabindex="54"
          data-l10n-id="presentation_mode"
          data-dom-id="presentationMode"
          class="secondaryToolbarButton presentationMode"
        >
          <span data-l10n-id="presentation_mode_label"
            >Presentation Mode</span
          ></button
        ><a
          href="#"
          title="Current Page (View URL from Current Page)"
          tabindex="55"
          data-l10n-id="bookmark1"
          data-dom-id="viewBookmark"
          class="secondaryToolbarButton viewBookmark"
          ><span data-l10n-id="bookmark1_label">Current Page</span></a
        >
        <div
          data-dom-id="viewBookmarkSeparator"
          class="horizontalToolbarSeparator viewBookmarkSeparator"
        ></div>
        <button
          title="Go to First Page"
          tabindex="56"
          data-l10n-id="first_page"
          data-dom-id="firstPage"
          class="secondaryToolbarButton firstPage"
        >
          <span data-l10n-id="first_page_label">Go to First Page</span></button
        ><button
          title="Go to Last Page"
          tabindex="57"
          data-l10n-id="last_page"
          data-dom-id="lastPage"
          class="secondaryToolbarButton lastPage"
        >
          <span data-l10n-id="last_page_label">Go to Last Page</span>
        </button>
        <div class="horizontalToolbarSeparator"></div>
        <button
          title="Rotate Clockwise"
          tabindex="58"
          data-l10n-id="page_rotate_cw"
          data-dom-id="pageRotateCw"
          class="secondaryToolbarButton pageRotateCw"
        >
          <span data-l10n-id="page_rotate_cw_label"
            >Rotate Clockwise</span
          ></button
        ><button
          title="Rotate Counterclockwise"
          tabindex="59"
          data-l10n-id="page_rotate_ccw"
          data-dom-id="pageRotateCcw"
          class="secondaryToolbarButton pageRotateCcw"
        >
          <span data-l10n-id="page_rotate_ccw_label"
            >Rotate Counterclockwise</span
          >
        </button>
        <div class="horizontalToolbarSeparator"></div>
        <div
          role="radiogroup"
          data-dom-id="cursorToolButtons"
          class="cursorToolButtons"
        >
          <button
            title="Enable Text Selection Tool"
            tabindex="60"
            data-l10n-id="cursor_text_select_tool"
            role="radio"
            aria-checked="true"
            data-dom-id="cursorSelectTool"
            class="secondaryToolbarButton toggled cursorSelectTool"
          >
            <span data-l10n-id="cursor_text_select_tool_label"
              >Text Selection Tool</span
            ></button
          ><button
            title="Enable Hand Tool"
            tabindex="61"
            data-l10n-id="cursor_hand_tool"
            role="radio"
            aria-checked="false"
            data-dom-id="cursorHandTool"
            class="secondaryToolbarButton cursorHandTool"
          >
            <span data-l10n-id="cursor_hand_tool_label">Hand Tool</span>
          </button>
        </div>
        <div class="horizontalToolbarSeparator"></div>
        <div
          role="radiogroup"
          data-dom-id="scrollModeButtons"
          class="scrollModeButtons"
        >
          <button
            title="Use Page Scrolling"
            tabindex="62"
            data-l10n-id="scroll_page"
            role="radio"
            aria-checked="false"
            data-dom-id="scrollPage"
            class="secondaryToolbarButton scrollPage"
          >
            <span data-l10n-id="scroll_page_label">Page Scrolling</span></button
          ><button
            title="Use Vertical Scrolling"
            tabindex="63"
            data-l10n-id="scroll_vertical"
            role="radio"
            aria-checked="true"
            data-dom-id="scrollVertical"
            class="secondaryToolbarButton toggled scrollVertical"
          >
            <span data-l10n-id="scroll_vertical_label"
              >Vertical Scrolling</span
            ></button
          ><button
            title="Use Horizontal Scrolling"
            tabindex="64"
            data-l10n-id="scroll_horizontal"
            role="radio"
            aria-checked="false"
            data-dom-id="scrollHorizontal"
            class="secondaryToolbarButton scrollHorizontal"
          >
            <span data-l10n-id="scroll_horizontal_label"
              >Horizontal Scrolling</span
            ></button
          ><button
            title="Use Wrapped Scrolling"
            tabindex="65"
            data-l10n-id="scroll_wrapped"
            role="radio"
            aria-checked="false"
            data-dom-id="scrollWrapped"
            class="secondaryToolbarButton scrollWrapped"
          >
            <span data-l10n-id="scroll_wrapped_label">Wrapped Scrolling</span>
          </button>
        </div>
        <div class="horizontalToolbarSeparator"></div>
        <div
          role="radiogroup"
          data-dom-id="spreadModeButtons"
          class="spreadModeButtons"
        >
          <button
            title="Do not join page spreads"
            tabindex="66"
            data-l10n-id="spread_none"
            role="radio"
            aria-checked="true"
            data-dom-id="spreadNone"
            class="secondaryToolbarButton toggled spreadNone"
          >
            <span data-l10n-id="spread_none_label">No Spreads</span></button
          ><button
            title="Join page spreads starting with odd-numbered pages"
            tabindex="67"
            data-l10n-id="spread_odd"
            role="radio"
            aria-checked="false"
            data-dom-id="spreadOdd"
            class="secondaryToolbarButton spreadOdd"
          >
            <span data-l10n-id="spread_odd_label">Odd Spreads</span></button
          ><button
            title="Join page spreads starting with even-numbered pages"
            tabindex="68"
            data-l10n-id="spread_even"
            role="radio"
            aria-checked="false"
            data-dom-id="spreadEven"
            class="secondaryToolbarButton spreadEven"
          >
            <span data-l10n-id="spread_even_label">Even Spreads</span>
          </button>
        </div>
        <div class="horizontalToolbarSeparator"></div>
        <button
          title="Document Properties…"
          tabindex="69"
          data-l10n-id="document_properties"
          aria-controls="documentPropertiesDialog"
          data-dom-id="documentProperties"
          class="secondaryToolbarButton documentProperties"
        >
          <span data-l10n-id="document_properties_label"
            >Document Properties…</span
          >
        </button>
      </div>
    </div>
    <!-- secondaryToolbar -->
    <div class="toolbar">
      <div data-dom-id="toolbarContainer" class="toolbarContainer">
        <div data-dom-id="toolbarViewer" class="toolbarViewer">
          <div data-dom-id="toolbarViewerLeft" class="toolbarViewerLeft">
            <button
              title="Toggle Sidebar"
              tabindex="11"
              data-l10n-id="toggle_sidebar"
              aria-expanded="false"
              aria-controls="sidebarContainer"
              data-dom-id="sidebarToggle"
              class="toolbarButton sidebarToggle"
            >
              <span data-l10n-id="toggle_sidebar_label">Toggle Sidebar</span>
            </button>
            <div class="toolbarButtonSpacer"></div>
            <button
              title="Find in Document"
              tabindex="12"
              data-l10n-id="findbar"
              aria-expanded="false"
              aria-controls="findbar"
              data-dom-id="viewFind"
              class="toolbarButton viewFind"
            >
              <span data-l10n-id="findbar_label">Find</span>
            </button>
            <div class="splitToolbarButton hiddenSmallView">
              <button
                title="Previous Page"
                tabindex="13"
                data-l10n-id="previous"
                data-dom-id="previous"
                class="toolbarButton previous"
              >
                <span data-l10n-id="previous_label">Previous</span>
              </button>
              <div class="splitToolbarButtonSeparator"></div>
              <button
                title="Next Page"
                tabindex="14"
                data-l10n-id="next"
                data-dom-id="next"
                class="toolbarButton next"
              >
                <span data-l10n-id="next_label">Next</span>
              </button>
            </div>
            <input
              type="number"
              title="Page"
              value="1"
              min="1"
              tabindex="15"
              data-l10n-id="page"
              autocomplete="off"
              data-dom-id="pageNumber"
              class="toolbarField pageNumber"
            /><span data-dom-id="numPages" class="toolbarLabel numPages"></span>
          </div>
          <div data-dom-id="toolbarViewerRight" class="toolbarViewerRight">
            <!--#if GENERIC--><button
              title="Open File"
              tabindex="31"
              data-l10n-id="open_file"
              data-dom-id="openFile"
              class="toolbarButton hiddenLargeView openFile"
            >
              <span data-l10n-id="open_file_label">Open</span></button
            ><!--#endif--><button
              title="Print"
              tabindex="32"
              data-l10n-id="print"
              data-dom-id="print"
              class="toolbarButton hiddenMediumView print"
            >
              <span data-l10n-id="print_label">Print</span></button
            ><button
              title="Save"
              tabindex="33"
              data-l10n-id="save"
              data-dom-id="download"
              class="toolbarButton hiddenMediumView download"
            >
              <span data-l10n-id="save_label">Save</span>
            </button>
            <div class="verticalToolbarSeparator hiddenMediumView"></div>
            <div
              role="radiogroup"
              data-dom-id="editorModeButtons"
              class="splitToolbarButton toggled editorModeButtons"
            >
              <button
                disabled="disabled"
                title="Text"
                role="radio"
                aria-checked="false"
                aria-controls="editorFreeTextParamsToolbar"
                tabindex="34"
                data-l10n-id="editor_free_text2"
                data-dom-id="editorFreeText"
                class="toolbarButton editorFreeText"
              >
                <span data-l10n-id="editor_free_text2_label">Text</span></button
              ><button
                disabled="disabled"
                title="Draw"
                role="radio"
                aria-checked="false"
                aria-controls="editorInkParamsToolbar"
                tabindex="35"
                data-l10n-id="editor_ink2"
                data-dom-id="editorInk"
                class="toolbarButton editorInk"
              >
                <span data-l10n-id="editor_ink2_label">Draw</span></button
              ><button
                disabled="disabled"
                title="Add or edit images"
                role="radio"
                aria-checked="false"
                aria-controls="editorStampParamsToolbar"
                tabindex="36"
                data-l10n-id="editor_stamp1"
                data-dom-id="editorStamp"
                class="toolbarButton hidden editorStamp"
              >
                <span data-l10n-id="editor_stamp1_label"
                  >Add or edit images</span
                >
              </button>
            </div>
            <div
              data-dom-id="editorModeSeparator"
              class="verticalToolbarSeparator editorModeSeparator"
            ></div>
            <button
              title="Tools"
              tabindex="48"
              data-l10n-id="tools"
              aria-expanded="false"
              aria-controls="secondaryToolbar"
              data-dom-id="secondaryToolbarToggle"
              class="toolbarButton secondaryToolbarToggle"
            >
              <span data-l10n-id="tools_label">Tools</span>
            </button>
          </div>
          <div data-dom-id="toolbarViewerMiddle" class="toolbarViewerMiddle">
            <div class="splitToolbarButton">
              <button
                title="Zoom Out"
                tabindex="21"
                data-l10n-id="zoom_out"
                data-dom-id="zoomOut"
                class="toolbarButton zoomOut"
              >
                <span data-l10n-id="zoom_out_label">Zoom Out</span>
              </button>
              <div class="splitToolbarButtonSeparator"></div>
              <button
                title="Zoom In"
                tabindex="22"
                data-l10n-id="zoom_in"
                data-dom-id="zoomIn"
                class="toolbarButton zoomIn"
              >
                <span data-l10n-id="zoom_in_label">Zoom In</span>
              </button>
            </div>
            <span
              data-dom-id="scaleSelectContainer"
              class="dropdownToolbarButton scaleSelectContainer"
              ><select
                title="Zoom"
                tabindex="23"
                data-l10n-id="zoom"
                data-dom-id="scaleSelect"
                class="scaleSelect"
              >
                <option
                  id="pageAutoOption"
                  title=""
                  value="auto"
                  selected="selected"
                  data-l10n-id="page_scale_auto"
                >
                  Automatic Zoom
                </option>
                <option
                  id="pageActualOption"
                  title=""
                  value="page-actual"
                  data-l10n-id="page_scale_actual"
                >
                  Actual Size
                </option>
                <option
                  id="pageFitOption"
                  title=""
                  value="page-fit"
                  data-l10n-id="page_scale_fit"
                >
                  Page Fit
                </option>
                <option
                  id="pageWidthOption"
                  title=""
                  value="page-width"
                  data-l10n-id="page_scale_width"
                >
                  Page Width
                </option>
                <option
                  id="customScaleOption"
                  title=""
                  value="custom"
                  disabled="disabled"
                  hidden="true"
                ></option>
                <option
                  title=""
                  value="0.5"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 50 }'
                >
                  50%
                </option>
                <option
                  title=""
                  value="0.75"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 75 }'
                >
                  75%
                </option>
                <option
                  title=""
                  value="1"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 100 }'
                >
                  100%
                </option>
                <option
                  title=""
                  value="1.25"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 125 }'
                >
                  125%
                </option>
                <option
                  title=""
                  value="1.5"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 150 }'
                >
                  150%
                </option>
                <option
                  title=""
                  value="2"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 200 }'
                >
                  200%
                </option>
                <option
                  title=""
                  value="3"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 300 }'
                >
                  300%
                </option>
                <option
                  title=""
                  value="4"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 400 }'
                >
                  400%
                </option>
              </select></span
            >
          </div>
        </div>
        <div data-dom-id="loadingBar" class="loadingBar">
          <div class="progress"><div class="glimmer"></div></div>
        </div>
      </div>
    </div>
    <div tabindex="0" data-dom-id="viewerContainer" class="viewerContainer">
      <div data-dom-id="viewer" class="pdfViewer viewer"></div>
    </div>
  </div>
  <!-- mainContainer -->
  <div data-dom-id="dialogContainer" class="dialogContainer">
    <dialog data-dom-id="passwordDialog" class="passwordDialog">
      <div class="row"><!--Removed!--></div>
      <div class="row">
        <input
          type="password"
          data-dom-id="password"
          class="toolbarField password"
        />
      </div>
      <div class="buttonRow">
        <button
          data-dom-id="passwordCancel"
          class="dialogButton passwordCancel"
        >
          <span data-l10n-id="password_cancel">Cancel</span></button
        ><button
          data-dom-id="passwordSubmit"
          class="dialogButton passwordSubmit"
        >
          <span data-l10n-id="password_ok">OK</span>
        </button>
      </div>
    </dialog>
    <dialog
      data-dom-id="documentPropertiesDialog"
      class="documentPropertiesDialog"
    >
      <div class="row">
        <span
          data-l10n-id="document_properties_file_name"
          data-dom-id="fileNameLabel"
          class="fileNameLabel"
          >File name:</span
        >
        <p
          aria-labelledby="fileNameLabel"
          data-dom-id="fileNameField"
          class="fileNameField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_file_size"
          data-dom-id="fileSizeLabel"
          class="fileSizeLabel"
          >File size:</span
        >
        <p
          aria-labelledby="fileSizeLabel"
          data-dom-id="fileSizeField"
          class="fileSizeField"
        >
          -
        </p>
      </div>
      <div class="separator"></div>
      <div class="row">
        <span
          data-l10n-id="document_properties_title"
          data-dom-id="titleLabel"
          class="titleLabel"
          >Title:</span
        >
        <p
          aria-labelledby="titleLabel"
          data-dom-id="titleField"
          class="titleField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_author"
          data-dom-id="authorLabel"
          class="authorLabel"
          >Author:</span
        >
        <p
          aria-labelledby="authorLabel"
          data-dom-id="authorField"
          class="authorField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_subject"
          data-dom-id="subjectLabel"
          class="subjectLabel"
          >Subject:</span
        >
        <p
          aria-labelledby="subjectLabel"
          data-dom-id="subjectField"
          class="subjectField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_keywords"
          data-dom-id="keywordsLabel"
          class="keywordsLabel"
          >Keywords:</span
        >
        <p
          aria-labelledby="keywordsLabel"
          data-dom-id="keywordsField"
          class="keywordsField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_creation_date"
          data-dom-id="creationDateLabel"
          class="creationDateLabel"
          >Creation Date:</span
        >
        <p
          aria-labelledby="creationDateLabel"
          data-dom-id="creationDateField"
          class="creationDateField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_modification_date"
          data-dom-id="modificationDateLabel"
          class="modificationDateLabel"
          >Modification Date:</span
        >
        <p
          aria-labelledby="modificationDateLabel"
          data-dom-id="modificationDateField"
          class="modificationDateField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_creator"
          data-dom-id="creatorLabel"
          class="creatorLabel"
          >Creator:</span
        >
        <p
          aria-labelledby="creatorLabel"
          data-dom-id="creatorField"
          class="creatorField"
        >
          -
        </p>
      </div>
      <div class="separator"></div>
      <div class="row">
        <span
          data-l10n-id="document_properties_producer"
          data-dom-id="producerLabel"
          class="producerLabel"
          >PDF Producer:</span
        >
        <p
          aria-labelledby="producerLabel"
          data-dom-id="producerField"
          class="producerField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_version"
          data-dom-id="versionLabel"
          class="versionLabel"
          >PDF Version:</span
        >
        <p
          aria-labelledby="versionLabel"
          data-dom-id="versionField"
          class="versionField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_page_count"
          data-dom-id="pageCountLabel"
          class="pageCountLabel"
          >Page Count:</span
        >
        <p
          aria-labelledby="pageCountLabel"
          data-dom-id="pageCountField"
          class="pageCountField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_page_size"
          data-dom-id="pageSizeLabel"
          class="pageSizeLabel"
          >Page Size:</span
        >
        <p
          aria-labelledby="pageSizeLabel"
          data-dom-id="pageSizeField"
          class="pageSizeField"
        >
          -
        </p>
      </div>
      <div class="separator"></div>
      <div class="row">
        <span
          data-l10n-id="document_properties_linearized"
          data-dom-id="linearizedLabel"
          class="linearizedLabel"
          >Fast Web View:</span
        >
        <p
          aria-labelledby="linearizedLabel"
          data-dom-id="linearizedField"
          class="linearizedField"
        >
          -
        </p>
      </div>
      <div class="buttonRow">
        <button
          data-dom-id="documentPropertiesClose"
          class="dialogButton documentPropertiesClose"
        >
          <span data-l10n-id="document_properties_close">Close</span>
        </button>
      </div>
    </dialog>
    <!--#if !MOZCENTRAL-->
    <dialog
      style="min-width: 200px"
      data-dom-id="printServiceDialog"
      class="printServiceDialog"
    >
      <div class="row">
        <span data-l10n-id="print_progress_message"
          >Preparing document for printing…</span
        >
      </div>
      <div class="row">
        <progress value="0" max="100"></progress
        ><span
          data-l10n-id="print_progress_percent"
          data-l10n-args='{ "progress": 0 }'
          class="relative-progress"
          >0%</span
        >
      </div>
      <div class="buttonRow">
        <button data-dom-id="printCancel" class="dialogButton printCancel">
          <span data-l10n-id="print_progress_close">Cancel</span>
        </button>
      </div>
    </dialog>
    <!--#endif--><!--#if CHROME--><!--#include viewer-snippet-chrome-overlays.html--><!--#endif-->
  </div>
  <!-- dialogContainer -->
</div>
<!-- outerContainer -->
<div data-dom-id="printContainer" class="printContainer"></div>
<!--#if GENERIC--><input
  type="file"
  data-dom-id="fileInput"
  class="hidden fileInput"
/><!--#endif-->
`;let s;function a(){if(!s){const S=document.createElement("template");S.innerHTML=f,s=S.content}return document.importNode(s,!0)}var P=a;b.default=P}],i={};function u(I){var b=i[I];if(b!==void 0)return b.exports;var f=i[I]={exports:{}};return o[I](f,f.exports,u),f.exports}var L={};return(()=>{var f;var I=L;Object.defineProperty(I,"__esModule",{value:!0}),Object.defineProperty(I,"createViewerApp",{enumerable:!0,get:function(){return b.createViewerApp}}),Object.defineProperty(I,"getViewerConfiguration",{enumerable:!0,get:function(){return b.getViewerConfiguration}});var b=u(1);(f=document.blockUnblockOnload)==null||f.call(document,!0)})(),L})())})(app$1);var appExports=app$1.exports;const viewer="";let src$1="./document-viewer/web/compressed.tracemonkey-pldi-09.pdf";const appOptions$1={src:src$1,resourcePath:"document-viewer",disableCORSCheck:!0,disableAutoSetTitle:!0};function injectApp(e){return console.log("injectApp",e),appExports.createViewerApp({parent:e,...appOptions$1})}const CustomToolbar_vue_vue_type_style_index_0_scoped_8c877500_lang="",_withScopeId=e=>(pushScopeId("data-v-8c877500"),e=e(),popScopeId(),e),_hoisted_1$1={class:"pdf-viewer"},_hoisted_2$1={class:"viewer-header"},_hoisted_3$1=_withScopeId(()=>createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"22",height:"22",viewBox:"0 0 30 30"},[createBaseVNode("path",{d:"M 3 7 A 1.0001 1.0001 0 1 0 3 9 L 27 9 A 1.0001 1.0001 0 1 0 27 7 L 3 7 z M 3 14 A 1.0001 1.0001 0 1 0 3 16 L 27 16 A 1.0001 1.0001 0 1 0 27 14 L 3 14 z M 3 21 A 1.0001 1.0001 0 1 0 3 23 L 27 23 A 1.0001 1.0001 0 1 0 27 21 L 3 21 z"})],-1)),_hoisted_4$1=[_hoisted_3$1],_hoisted_5={class:"header-item"},_hoisted_6=["value"],_sfc_main$1={__name:"CustomToolbar",setup(e){const t=ref(null),o=shallowRef(null),i=ref(1);onMounted(function(){o.value=injectApp(t.value),o.value.initializedPromise.then(function(){o.value.eventBus.on("pagechanging",function(I){i.value=I.pageNumber})})});function u(){o.value.pdfSidebar.toggle()}function L(I){const b=parseInt(I.target.value,10);o.value.pdfViewer.currentPageNumber=b}return(I,b)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",{class:"header-item"},[createBaseVNode("button",{onClick:u,class:"menu-outline"},_hoisted_4$1)]),createBaseVNode("div",_hoisted_5,[createBaseVNode("input",{class:"page-input",type:"text",value:i.value,onChange:L},null,40,_hoisted_6)])]),createBaseVNode("div",{ref_key:"el$",ref:t,class:"viewer-content"},null,512)]))}},CustomToolbar=_export_sfc(_sfc_main$1,[["__scopeId","data-v-8c877500"]]);let src="./document-viewer/web/compressed.tracemonkey-pldi-09.pdf";const appOptions={src,resourcePath:"document-viewer",disableCORSCheck:!0,disableAutoSetTitle:!0};function injectApps(){appExports.createViewerApp({parent:document.getElementById("app1"),...appOptions}),appExports.createViewerApp({parent:document.getElementById("app2"),...appOptions})}const MultipleFiles_vue_vue_type_style_index_0_lang="",_hoisted_1={class:"main"},_hoisted_2=createBaseVNode("div",{id:"app1"},null,-1),_hoisted_3=createBaseVNode("div",{id:"app2"},null,-1),_hoisted_4=[_hoisted_2,_hoisted_3],_sfc_main={__name:"MultipleFiles",setup(e){return onMounted(function(){injectApps()}),(t,o)=>(openBlock(),createElementBlock("div",_hoisted_1,_hoisted_4))}},router=createRouter({history:createWebHashHistory("/"),routes:[{path:"/",name:"home",redirect:"/custom-toolbar"},{path:"/custom-toolbar",name:"customToolbar",component:CustomToolbar},{path:"/multiple-pdf-files",name:"multiplePDFFiles",component:_sfc_main}]}),app=createApp(App);app.use(router);app.mount("#app");
