var ur=Object.defineProperty;var fr=(e,t,r)=>t in e?ur(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Qe=(e,t,r)=>(fr(e,typeof t!="symbol"?t+"":t,r),r),ai=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var n=(e,t,r)=>(ai(e,t,"read from private field"),r?r.call(e):t.get(e)),D=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},ne=(e,t,r,i)=>(ai(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r);var ft=(e,t,r,i)=>({set _(f){ne(e,t,f,r)},get _(){return n(e,t,i)}}),j=(e,t,r)=>(ai(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const L of f)if(L.type==="childList")for(const C of L.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&i(C)}).observe(document,{childList:!0,subtree:!0});function r(f){const L={};return f.integrity&&(L.integrity=f.integrity),f.referrerPolicy&&(L.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?L.credentials="include":f.crossOrigin==="anonymous"?L.credentials="omit":L.credentials="same-origin",L}function i(f){if(f.ep)return;f.ep=!0;const L=r(f);fetch(f.href,L)}})();const main="";/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(e,t){const r=new Set(e.split(","));return t?i=>r.has(i.toLowerCase()):i=>r.has(i)}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>(isObject(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},def=(e,t,r,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:r})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray$1(e)){const t={};for(let r=0;r<e.length;r++){const i=e[r],f=isString(i)?parseStringStyle(i):normalizeStyle(i);if(f)for(const L in f)t[L]=f[L]}return t}else if(isString(e)||isObject(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const i=r.split(propertyDelimiterRE);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray$1(e))for(let r=0;r<e.length;r++){const i=normalizeClass(e[r]);i&&(t+=i+" ")}else if(isObject(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}let activeEffect;class ReactiveEffect{constructor(t,r,i,f){this.fn=t,this.trigger=r,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,recordEffectScope(this,f)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,pauseTracking();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(triggerComputed(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),resetTracking()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=shouldTrack,r=activeEffect;try{return shouldTrack=!0,activeEffect=this,this._runnings++,preCleanupEffect(this),this.fn()}finally{postCleanupEffect(this),this._runnings--,activeEffect=r,shouldTrack=t}}stop(){this.active&&(preCleanupEffect(this),postCleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function triggerComputed(e){return e.value}function preCleanupEffect(e){e._trackId++,e._depsLength=0}function postCleanupEffect(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)cleanupDepEffect(e.deps[t],e);e.deps.length=e._depsLength}}function cleanupDepEffect(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}let shouldTrack=!0,pauseScheduleStack=0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function pauseScheduling(){pauseScheduleStack++}function resetScheduling(){for(pauseScheduleStack--;!pauseScheduleStack&&queueEffectSchedulers.length;)queueEffectSchedulers.shift()()}function trackEffect(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&cleanupDepEffect(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const queueEffectSchedulers=[];function triggerEffects(e,t,r){pauseScheduling();for(const i of e.keys()){let f;i._dirtyLevel<t&&(f??(f=e.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=t),i._shouldSchedule&&(f??(f=e.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&queueEffectSchedulers.push(i.scheduler)))}resetScheduling()}const createDep=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");function track(e,t,r){if(shouldTrack&&activeEffect){let i=targetMap.get(e);i||targetMap.set(e,i=new Map);let f=i.get(r);f||i.set(r,f=createDep(()=>i.delete(r))),trackEffect(activeEffect,f)}}function trigger(e,t,r,i,f,L){const C=targetMap.get(e);if(!C)return;let u=[];if(t==="clear")u=[...C.values()];else if(r==="length"&&isArray$1(e)){const c=Number(i);C.forEach((s,o)=>{(o==="length"||!isSymbol(o)&&o>=c)&&u.push(s)})}else switch(r!==void 0&&u.push(C.get(r)),t){case"add":isArray$1(e)?isIntegerKey(r)&&u.push(C.get("length")):(u.push(C.get(ITERATE_KEY)),isMap(e)&&u.push(C.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(e)||(u.push(C.get(ITERATE_KEY)),isMap(e)&&u.push(C.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&u.push(C.get(ITERATE_KEY));break}pauseScheduling();for(const c of u)c&&triggerEffects(c,4);resetScheduling()}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const i=toRaw(this);for(let L=0,C=this.length;L<C;L++)track(i,"get",L+"");const f=i[t](...r);return f===-1||f===!1?i[t](...r.map(toRaw)):f}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){pauseTracking(),pauseScheduling();const i=toRaw(this)[t].apply(this,r);return resetScheduling(),resetTracking(),i}}),e}function hasOwnProperty(e){isSymbol(e)||(e=String(e));const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,i){const f=this._isReadonly,L=this._isShallow;if(r==="__v_isReactive")return!f;if(r==="__v_isReadonly")return f;if(r==="__v_isShallow")return L;if(r==="__v_raw")return i===(f?L?shallowReadonlyMap:readonlyMap:L?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const C=isArray$1(t);if(!f){if(C&&hasOwn(arrayInstrumentations,r))return Reflect.get(arrayInstrumentations,r,i);if(r==="hasOwnProperty")return hasOwnProperty}const u=Reflect.get(t,r,i);return(isSymbol(r)?builtInSymbols.has(r):isNonTrackableKeys(r))||(f||track(t,"get",r),L)?u:isRef(u)?C&&isIntegerKey(r)?u:u.value:isObject(u)?f?readonly(u):reactive(u):u}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,r,i,f){let L=t[r];if(!this._isShallow){const c=isReadonly(L);if(!isShallow(i)&&!isReadonly(i)&&(L=toRaw(L),i=toRaw(i)),!isArray$1(t)&&isRef(L)&&!isRef(i))return c?!1:(L.value=i,!0)}const C=isArray$1(t)&&isIntegerKey(r)?Number(r)<t.length:hasOwn(t,r),u=Reflect.set(t,r,i,f);return t===toRaw(f)&&(C?hasChanged(i,L)&&trigger(t,"set",r,i):trigger(t,"add",r,i)),u}deleteProperty(t,r){const i=hasOwn(t,r);t[r];const f=Reflect.deleteProperty(t,r);return f&&i&&trigger(t,"delete",r,void 0),f}has(t,r){const i=Reflect.has(t,r);return(!isSymbol(r)||!builtInSymbols.has(r))&&track(t,"has",r),i}ownKeys(t){return track(t,"iterate",isArray$1(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get(e,t,r=!1,i=!1){e=e.__v_raw;const f=toRaw(e),L=toRaw(t);r||(hasChanged(t,L)&&track(f,"get",t),track(f,"get",L));const{has:C}=getProto(f),u=i?toShallow:r?toReadonly:toReactive;if(C.call(f,t))return u(e.get(t));if(C.call(f,L))return u(e.get(L));e!==f&&e.get(t)}function has(e,t=!1){const r=this.__v_raw,i=toRaw(r),f=toRaw(e);return t||(hasChanged(e,f)&&track(i,"has",e),track(i,"has",f)),e===f?r.has(e):r.has(e)||r.has(f)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e,t=!1){!t&&!isShallow(e)&&!isReadonly(e)&&(e=toRaw(e));const r=toRaw(this);return getProto(r).has.call(r,e)||(r.add(e),trigger(r,"add",e,e)),this}function set(e,t,r=!1){!r&&!isShallow(t)&&!isReadonly(t)&&(t=toRaw(t));const i=toRaw(this),{has:f,get:L}=getProto(i);let C=f.call(i,e);C||(e=toRaw(e),C=f.call(i,e));const u=L.call(i,e);return i.set(e,t),C?hasChanged(t,u)&&trigger(i,"set",e,t):trigger(i,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:r,get:i}=getProto(t);let f=r.call(t,e);f||(e=toRaw(e),f=r.call(t,e)),i&&i.call(t,e);const L=t.delete(e);return f&&trigger(t,"delete",e,void 0),L}function clear(){const e=toRaw(this),t=e.size!==0,r=e.clear();return t&&trigger(e,"clear",void 0,void 0),r}function createForEach(e,t){return function(i,f){const L=this,C=L.__v_raw,u=toRaw(C),c=t?toShallow:e?toReadonly:toReactive;return!e&&track(u,"iterate",ITERATE_KEY),C.forEach((s,o)=>i.call(f,c(s),c(o),L))}}function createIterableMethod(e,t,r){return function(...i){const f=this.__v_raw,L=toRaw(f),C=isMap(L),u=e==="entries"||e===Symbol.iterator&&C,c=e==="keys"&&C,s=f[e](...i),o=r?toShallow:t?toReadonly:toReactive;return!t&&track(L,"iterate",c?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:S,done:y}=s.next();return y?{value:S,done:y}:{value:u?[o(S[0]),o(S[1])]:o(S),done:y}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(){const e={get(L){return get(this,L)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(L){return get(this,L,!1,!0)},get size(){return size(this)},has,add(L){return add.call(this,L,!0)},set(L,C){return set.call(this,L,C,!0)},delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(L){return get(this,L,!0)},get size(){return size(this,!0)},has(L){return has.call(this,L,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},i={get(L){return get(this,L,!0,!0)},get size(){return size(this,!0)},has(L){return has.call(this,L,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(L=>{e[L]=createIterableMethod(L,!1,!1),r[L]=createIterableMethod(L,!0,!1),t[L]=createIterableMethod(L,!1,!0),i[L]=createIterableMethod(L,!0,!0)}),[e,r,t,i]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const r=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(i,f,L)=>f==="__v_isReactive"?!e:f==="__v_isReadonly"?e:f==="__v_raw"?i:Reflect.get(hasOwn(r,f)&&f in i?r:i,f,L)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,r,i,f){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const L=f.get(e);if(L)return L;const C=getTargetType(e);if(C===0)return e;const u=new Proxy(e,C===2?i:r);return f.set(e,u),u}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly(e):e;class ComputedRefImpl{constructor(t,r,i,f){this.getter=t,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ReactiveEffect(()=>t(this._value),()=>triggerRefValue(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=i}get value(){const t=toRaw(this);return(!t._cacheable||t.effect.dirty)&&hasChanged(t._value,t._value=t.effect.run())&&triggerRefValue(t,4),trackRefValue(t),t.effect._dirtyLevel>=2&&triggerRefValue(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function computed$1(e,t,r=!1){let i,f;const L=isFunction(e);return L?(i=e,f=NOOP):(i=e.get,f=e.set),new ComputedRefImpl(i,f,L||!f,r)}function trackRefValue(e){var t;shouldTrack&&activeEffect&&(e=toRaw(e),trackEffect(activeEffect,(t=e.dep)!=null?t:e.dep=createDep(()=>e.dep=void 0,e instanceof ComputedRefImpl?e:void 0)))}function triggerRefValue(e,t=4,r,i){e=toRaw(e);const f=e.dep;f&&triggerEffects(f,t)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:toRaw(t),this._value=r?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const r=this.__v_isShallow||isShallow(t)||isReadonly(t);t=r?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=r?t:toReactive(t),triggerRefValue(this,4))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,r)=>unref(Reflect.get(e,t,r)),set:(e,t,r,i)=>{const f=e[t];return isRef(f)&&!isRef(r)?(f.value=r,!0):Reflect.set(e,t,r,i)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(e,...t){if(isWarning)return;isWarning=!0,pauseTracking();const r=stack.length?stack[stack.length-1].component:null,i=r&&r.appContext.config.warnHandler,f=getComponentTrace();if(i)callWithErrorHandling(i,r,11,[e+t.map(L=>{var C,u;return(u=(C=L.toString)==null?void 0:C.call(L))!=null?u:JSON.stringify(L)}).join(""),r&&r.proxy,f.map(({vnode:L})=>`at <${formatComponentName(r,L.type)}>`).join(`
`),f]);else{const L=[`[Vue warn]: ${e}`,...t];f.length&&L.push(`
`,...formatTrace(f)),console.warn(...L)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function formatTrace(e){const t=[];return e.forEach((r,i)=>{t.push(...i===0?[]:[`
`],...formatTraceEntry(r))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const r=t>0?`... (${t} recursive calls)`:"",i=e.component?e.component.parent==null:!1,f=` at <${formatComponentName(e.component,e.type,i)}`,L=">"+r;return e.props?[f,...formatProps(e.props),L]:[f+L]}function formatProps(e){const t=[],r=Object.keys(e);return r.slice(0,3).forEach(i=>{t.push(...formatProp(i,e[i]))}),r.length>3&&t.push(" ..."),t}function formatProp(e,t,r){return isString(t)?(t=JSON.stringify(t),r?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?r?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),r?t:[`${e}=Ref<`,t,">"]):isFunction(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),r?t:[`${e}=`,t])}function callWithErrorHandling(e,t,r,i){try{return i?e(...i):e()}catch(f){handleError(f,t,r)}}function callWithAsyncErrorHandling(e,t,r,i){if(isFunction(e)){const f=callWithErrorHandling(e,t,r,i);return f&&isPromise(f)&&f.catch(L=>{handleError(L,t,r)}),f}if(isArray$1(e)){const f=[];for(let L=0;L<e.length;L++)f.push(callWithAsyncErrorHandling(e[L],t,r,i));return f}}function handleError(e,t,r,i=!0){const f=t?t.vnode:null;if(t){let L=t.parent;const C=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;L;){const s=L.ec;if(s){for(let o=0;o<s.length;o++)if(s[o](e,C,u)===!1)return}L=L.parent}const c=t.appContext.config.errorHandler;if(c){pauseTracking(),callWithErrorHandling(c,null,10,[e,C,u]),resetTracking();return}}logError(e,r,f,i)}function logError(e,t,r,i=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex$1(e){let t=flushIndex+1,r=queue.length;for(;t<r;){const i=t+r>>>1,f=queue[i],L=getId(f);L<e||L===e&&f.pre?t=i+1:r=i}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex$1(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t,r=isFlushing?flushIndex+1:0){for(;r<queue.length;r++){const i=queue[r];if(i&&i.pre){if(e&&i.id!==e.uid)continue;queue.splice(r,1),r--,i()}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((r,i)=>getId(r)-getId(i));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const r=activePostFlushCbs[postFlushIndex];r.active!==!1&&r()}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const r=getId(e)-getId(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,r.i,r.i?15:14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,t=currentRenderingInstance,r){if(!t||e._n)return e;const i=(...f)=>{i._d&&setBlockTracking(-1);const L=setCurrentRenderingInstance(t);let C;try{C=e(...f)}finally{setCurrentRenderingInstance(L),i._d&&setBlockTracking(1)}return C};return i._n=!0,i._c=!0,i._d=!0,i}function invokeDirectiveHook(e,t,r,i){const f=e.dirs,L=t&&t.dirs;for(let C=0;C<f.length;C++){const u=f[C];L&&(u.oldValue=L[C].value);let c=u.dir[i];c&&(pauseTracking(),callWithAsyncErrorHandling(c,r,8,[e.el,u,e,t]),resetTracking())}}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(e,t){return isFunction(e)?(()=>extend({name:e.name},t,{setup:e}))():e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,r=currentInstance){const i=e.__wdc||(e.__wdc=()=>{let f=r;for(;f;){if(f.isDeactivated)return;f=f.parent}return e()});if(injectHook(t,i,r),r){let f=r.parent;for(;f&&f.parent;)isKeepAlive(f.parent.vnode)&&injectToKeepAliveRoot(i,t,r,f),f=f.parent}}function injectToKeepAliveRoot(e,t,r,i){const f=injectHook(t,e,i,!0);onUnmounted(()=>{remove(i[t],f)},r)}function injectHook(e,t,r=currentInstance,i=!1){if(r){const f=r[e]||(r[e]=[]),L=t.__weh||(t.__weh=(...C)=>{pauseTracking();const u=setCurrentInstance(r),c=callWithAsyncErrorHandling(t,r,e,C);return u(),resetTracking(),c});return i?f.unshift(L):f.push(L),L}}const createHook=e=>(t,r=currentInstance)=>{(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...i)=>t(...i),r)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc"),getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:i,data:f,props:L,accessCache:C,type:u,appContext:c}=e;let s;if(t[0]!=="$"){const _=C[t];if(_!==void 0)switch(_){case 1:return i[t];case 2:return f[t];case 4:return r[t];case 3:return L[t]}else{if(hasSetupBinding(i,t))return C[t]=1,i[t];if(f!==EMPTY_OBJ&&hasOwn(f,t))return C[t]=2,f[t];if((s=e.propsOptions[0])&&hasOwn(s,t))return C[t]=3,L[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return C[t]=4,r[t];shouldCacheAccess&&(C[t]=0)}}const o=publicPropertiesMap[t];let S,y;if(o)return t==="$attrs"&&track(e.attrs,"get",""),o(e);if((S=u.__cssModules)&&(S=S[t]))return S;if(r!==EMPTY_OBJ&&hasOwn(r,t))return C[t]=4,r[t];if(y=c.config.globalProperties,hasOwn(y,t))return y[t]},set({_:e},t,r){const{data:i,setupState:f,ctx:L}=e;return hasSetupBinding(f,t)?(f[t]=r,!0):i!==EMPTY_OBJ&&hasOwn(i,t)?(i[t]=r,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(L[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:f,propsOptions:L}},C){let u;return!!r[C]||e!==EMPTY_OBJ&&hasOwn(e,C)||hasSetupBinding(t,C)||(u=L[0])&&hasOwn(u,C)||hasOwn(i,C)||hasOwn(publicPropertiesMap,C)||hasOwn(f.config.globalProperties,C)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:hasOwn(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function normalizePropsOrEmits(e){return isArray$1(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),r=e.proxy,i=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,e,"bc");const{data:f,computed:L,methods:C,watch:u,provide:c,inject:s,created:o,beforeMount:S,mounted:y,beforeUpdate:_,updated:a,activated:l,deactivated:d,beforeDestroy:E,beforeUnmount:P,destroyed:b,unmounted:A,render:v,renderTracked:w,renderTriggered:x,errorCaptured:R,serverPrefetch:k,expose:V,inheritAttrs:z,components:K,directives:ve,filters:pe}=t;if(s&&resolveInjections(s,i,null),C)for(const ee in C){const G=C[ee];isFunction(G)&&(i[ee]=G.bind(r))}if(f){const ee=f.call(r,r);isObject(ee)&&(e.data=reactive(ee))}if(shouldCacheAccess=!0,L)for(const ee in L){const G=L[ee],ue=isFunction(G)?G.bind(r,r):isFunction(G.get)?G.get.bind(r,r):NOOP,te=!isFunction(G)&&isFunction(G.set)?G.set.bind(r):NOOP,xe=computed({get:ue,set:te});Object.defineProperty(i,ee,{enumerable:!0,configurable:!0,get:()=>xe.value,set:Ie=>xe.value=Ie})}if(u)for(const ee in u)createWatcher(u[ee],i,r,ee);if(c){const ee=isFunction(c)?c.call(r):c;Reflect.ownKeys(ee).forEach(G=>{provide(G,ee[G])})}o&&callHook(o,e,"c");function $(ee,G){isArray$1(G)?G.forEach(ue=>ee(ue.bind(r))):G&&ee(G.bind(r))}if($(onBeforeMount,S),$(onMounted,y),$(onBeforeUpdate,_),$(onUpdated,a),$(onActivated,l),$(onDeactivated,d),$(onErrorCaptured,R),$(onRenderTracked,w),$(onRenderTriggered,x),$(onBeforeUnmount,P),$(onUnmounted,A),$(onServerPrefetch,k),isArray$1(V))if(V.length){const ee=e.exposed||(e.exposed={});V.forEach(G=>{Object.defineProperty(ee,G,{get:()=>r[G],set:ue=>r[G]=ue})})}else e.exposed||(e.exposed={});v&&e.render===NOOP&&(e.render=v),z!=null&&(e.inheritAttrs=z),K&&(e.components=K),ve&&(e.directives=ve)}function resolveInjections(e,t,r=NOOP){isArray$1(e)&&(e=normalizeInject(e));for(const i in e){const f=e[i];let L;isObject(f)?"default"in f?L=inject(f.from||i,f.default,!0):L=inject(f.from||i):L=inject(f),isRef(L)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>L.value,set:C=>L.value=C}):t[i]=L}}function callHook(e,t,r){callWithAsyncErrorHandling(isArray$1(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,r)}function createWatcher(e,t,r,i){const f=i.includes(".")?createPathGetter(r,i):()=>r[i];if(isString(e)){const L=t[e];isFunction(L)&&watch(f,L)}else if(isFunction(e))watch(f,e.bind(r));else if(isObject(e))if(isArray$1(e))e.forEach(L=>createWatcher(L,t,r,i));else{const L=isFunction(e.handler)?e.handler.bind(r):t[e.handler];isFunction(L)&&watch(f,L,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:r,extends:i}=t,{mixins:f,optionsCache:L,config:{optionMergeStrategies:C}}=e.appContext,u=L.get(t);let c;return u?c=u:!f.length&&!r&&!i?c=t:(c={},f.length&&f.forEach(s=>mergeOptions$1(c,s,C,!0)),mergeOptions$1(c,t,C)),isObject(t)&&L.set(t,c),c}function mergeOptions$1(e,t,r,i=!1){const{mixins:f,extends:L}=t;L&&mergeOptions$1(e,L,r,!0),f&&f.forEach(C=>mergeOptions$1(e,C,r,!0));for(const C in t)if(!(i&&C==="expose")){const u=internalOptionMergeStrats[C]||r&&r[C];e[C]=u?u(e[C],t[C]):t[C]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$1(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray$1(e)&&isArray$1(t)?[...new Set([...e,...t])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const r=extend(Object.create(null),e);for(const i in t)r[i]=mergeAsArray(e[i],t[i]);return r}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(i,f=null){isFunction(i)||(i=extend({},i)),f!=null&&!isObject(f)&&(f=null);const L=createAppContext(),C=new WeakSet;let u=!1;const c=L.app={_uid:uid$1++,_component:i,_props:f,_container:null,_context:L,_instance:null,version,get config(){return L.config},set config(s){},use(s,...o){return C.has(s)||(s&&isFunction(s.install)?(C.add(s),s.install(c,...o)):isFunction(s)&&(C.add(s),s(c,...o))),c},mixin(s){return L.mixins.includes(s)||L.mixins.push(s),c},component(s,o){return o?(L.components[s]=o,c):L.components[s]},directive(s,o){return o?(L.directives[s]=o,c):L.directives[s]},mount(s,o,S){if(!u){const y=createVNode(i,f);return y.appContext=L,S===!0?S="svg":S===!1&&(S=void 0),o&&t?t(y,s):e(y,s,S),u=!0,c._container=s,s.__vue_app__=c,getComponentPublicInstance(y.component)}},unmount(){u&&(e(null,c._container),delete c._container.__vue_app__)},provide(s,o){return L.provides[s]=o,c},runWithContext(s){const o=currentApp;currentApp=c;try{return s()}finally{currentApp=o}}};return c}}let currentApp=null;function provide(e,t){if(currentInstance){let r=currentInstance.provides;const i=currentInstance.parent&&currentInstance.parent.provides;i===r&&(r=currentInstance.provides=Object.create(i)),r[e]=t}}function inject(e,t,r=!1){const i=currentInstance||currentRenderingInstance;if(i||currentApp){const f=currentApp?currentApp._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(f&&e in f)return f[e];if(arguments.length>1)return r&&isFunction(t)?t.call(i&&i.proxy):t}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,t,r,i=!1){const f={},L=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,t,f,L);for(const C in e.propsOptions[0])C in f||(f[C]=void 0);r?e.props=i?f:shallowReactive(f):e.type.props?e.props=f:e.props=L,e.attrs=L}function updateProps(e,t,r,i){const{props:f,attrs:L,vnode:{patchFlag:C}}=e,u=toRaw(f),[c]=e.propsOptions;let s=!1;if((i||C>0)&&!(C&16)){if(C&8){const o=e.vnode.dynamicProps;for(let S=0;S<o.length;S++){let y=o[S];if(isEmitListener(e.emitsOptions,y))continue;const _=t[y];if(c)if(hasOwn(L,y))_!==L[y]&&(L[y]=_,s=!0);else{const a=camelize(y);f[a]=resolvePropValue(c,u,a,_,e,!1)}else _!==L[y]&&(L[y]=_,s=!0)}}}else{setFullProps(e,t,f,L)&&(s=!0);let o;for(const S in u)(!t||!hasOwn(t,S)&&((o=hyphenate(S))===S||!hasOwn(t,o)))&&(c?r&&(r[S]!==void 0||r[o]!==void 0)&&(f[S]=resolvePropValue(c,u,S,void 0,e,!0)):delete f[S]);if(L!==u)for(const S in L)(!t||!hasOwn(t,S))&&(delete L[S],s=!0)}s&&trigger(e.attrs,"set","")}function setFullProps(e,t,r,i){const[f,L]=e.propsOptions;let C=!1,u;if(t)for(let c in t){if(isReservedProp(c))continue;const s=t[c];let o;f&&hasOwn(f,o=camelize(c))?!L||!L.includes(o)?r[o]=s:(u||(u={}))[o]=s:isEmitListener(e.emitsOptions,c)||(!(c in i)||s!==i[c])&&(i[c]=s,C=!0)}if(L){const c=toRaw(r),s=u||EMPTY_OBJ;for(let o=0;o<L.length;o++){const S=L[o];r[S]=resolvePropValue(f,c,S,s[S],e,!hasOwn(s,S))}}return C}function resolvePropValue(e,t,r,i,f,L){const C=e[r];if(C!=null){const u=hasOwn(C,"default");if(u&&i===void 0){const c=C.default;if(C.type!==Function&&!C.skipFactory&&isFunction(c)){const{propsDefaults:s}=f;if(r in s)i=s[r];else{const o=setCurrentInstance(f);i=s[r]=c.call(null,t),o()}}else i=c}C[0]&&(L&&!u?i=!1:C[1]&&(i===""||i===hyphenate(r))&&(i=!0))}return i}const mixinPropsCache=new WeakMap;function normalizePropsOptions(e,t,r=!1){const i=r?mixinPropsCache:t.propsCache,f=i.get(e);if(f)return f;const L=e.props,C={},u=[];let c=!1;if(!isFunction(e)){const o=S=>{c=!0;const[y,_]=normalizePropsOptions(S,t,!0);extend(C,y),_&&u.push(..._)};!r&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}if(!L&&!c)return isObject(e)&&i.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(L))for(let o=0;o<L.length;o++){const S=camelize(L[o]);validatePropName(S)&&(C[S]=EMPTY_OBJ)}else if(L)for(const o in L){const S=camelize(o);if(validatePropName(S)){const y=L[o],_=C[S]=isArray$1(y)||isFunction(y)?{type:y}:extend({},y),a=_.type;let l=!1,d=!0;if(isArray$1(a))for(let E=0;E<a.length;++E){const P=a[E],b=isFunction(P)&&P.name;if(b==="Boolean"){l=!0;break}else b==="String"&&(d=!1)}else l=isFunction(a)&&a.name==="Boolean";_[0]=l,_[1]=d,(l||hasOwn(_,"default"))&&u.push(S)}}const s=[C,u];return isObject(e)&&i.set(e,s),s}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot$1=(e,t,r)=>{if(t._n)return t;const i=withCtx((...f)=>normalizeSlotValue(t(...f)),r);return i._c=!1,i},normalizeObjectSlots=(e,t,r)=>{const i=e._ctx;for(const f in e){if(isInternalKey(f))continue;const L=e[f];if(isFunction(L))t[f]=normalizeSlot$1(f,L,i);else if(L!=null){const C=normalizeSlotValue(L);t[f]=()=>C}}},normalizeVNodeSlots=(e,t)=>{const r=normalizeSlotValue(t);e.slots.default=()=>r},assignSlots=(e,t,r)=>{for(const i in t)(r||i!=="_")&&(e[i]=t[i])},initSlots=(e,t,r)=>{const i=e.slots=createInternalObject();if(e.vnode.shapeFlag&32){const f=t._;f?(assignSlots(i,t,r),r&&def(i,"_",f,!0)):normalizeObjectSlots(t,i)}else t&&normalizeVNodeSlots(e,t)},updateSlots=(e,t,r)=>{const{vnode:i,slots:f}=e;let L=!0,C=EMPTY_OBJ;if(i.shapeFlag&32){const u=t._;u?r&&u===1?L=!1:assignSlots(f,t,r):(L=!t.$stable,normalizeObjectSlots(t,f)),C=t}else t&&(normalizeVNodeSlots(e,t),C={default:1});if(L)for(const u in f)!isInternalKey(u)&&C[u]==null&&delete f[u]};function setRef(e,t,r,i,f=!1){if(isArray$1(e)){e.forEach((y,_)=>setRef(y,t&&(isArray$1(t)?t[_]:t),r,i,f));return}if(isAsyncWrapper(i)&&!f)return;const L=i.shapeFlag&4?getComponentPublicInstance(i.component):i.el,C=f?null:L,{i:u,r:c}=e,s=t&&t.r,o=u.refs===EMPTY_OBJ?u.refs={}:u.refs,S=u.setupState;if(s!=null&&s!==c&&(isString(s)?(o[s]=null,hasOwn(S,s)&&(S[s]=null)):isRef(s)&&(s.value=null)),isFunction(c))callWithErrorHandling(c,u,12,[C,o]);else{const y=isString(c),_=isRef(c);if(y||_){const a=()=>{if(e.f){const l=y?hasOwn(S,c)?S[c]:o[c]:c.value;f?isArray$1(l)&&remove(l,L):isArray$1(l)?l.includes(L)||l.push(L):y?(o[c]=[L],hasOwn(S,c)&&(S[c]=o[c])):(c.value=[L],e.k&&(o[e.k]=c.value))}else y?(o[c]=C,hasOwn(S,c)&&(S[c]=C)):_&&(c.value=C,e.k&&(o[e.k]=C))};C?(a.id=-1,queuePostRenderEffect(a,r)):a()}}}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport,queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const r=getGlobalThis();r.__VUE__=!0;const{insert:i,remove:f,patchProp:L,createElement:C,createText:u,createComment:c,setText:s,setElementText:o,parentNode:S,nextSibling:y,setScopeId:_=NOOP,insertStaticContent:a}=e,l=(M,T,W,Z=null,q=null,we=null,Ae=void 0,Ee=null,oe=!!T.dynamicChildren)=>{if(M===T)return;M&&!isSameVNodeType(M,T)&&(Z=g(M),Ie(M,q,we,!0),M=null),T.patchFlag===-2&&(oe=!1,T.dynamicChildren=null);const{type:Y,ref:Q,shapeFlag:de}=T;switch(Y){case Text:d(M,T,W,Z);break;case Comment:E(M,T,W,Z);break;case Static:M==null&&P(T,W,Z,Ae);break;case Fragment:K(M,T,W,Z,q,we,Ae,Ee,oe);break;default:de&1?v(M,T,W,Z,q,we,Ae,Ee,oe):de&6?ve(M,T,W,Z,q,we,Ae,Ee,oe):(de&64||de&128)&&Y.process(M,T,W,Z,q,we,Ae,Ee,oe,O)}Q!=null&&q&&setRef(Q,M&&M.ref,we,T||M,!T)},d=(M,T,W,Z)=>{if(M==null)i(T.el=u(T.children),W,Z);else{const q=T.el=M.el;T.children!==M.children&&s(q,T.children)}},E=(M,T,W,Z)=>{M==null?i(T.el=c(T.children||""),W,Z):T.el=M.el},P=(M,T,W,Z)=>{[M.el,M.anchor]=a(M.children,T,W,Z,M.el,M.anchor)},b=({el:M,anchor:T},W,Z)=>{let q;for(;M&&M!==T;)q=y(M),i(M,W,Z),M=q;i(T,W,Z)},A=({el:M,anchor:T})=>{let W;for(;M&&M!==T;)W=y(M),f(M),M=W;f(T)},v=(M,T,W,Z,q,we,Ae,Ee,oe)=>{T.type==="svg"?Ae="svg":T.type==="math"&&(Ae="mathml"),M==null?w(T,W,Z,q,we,Ae,Ee,oe):k(M,T,q,we,Ae,Ee,oe)},w=(M,T,W,Z,q,we,Ae,Ee)=>{let oe,Y;const{props:Q,shapeFlag:de,transition:be,dirs:Te}=M;if(oe=M.el=C(M.type,we,Q&&Q.is,Q),de&8?o(oe,M.children):de&16&&R(M.children,oe,null,Z,q,resolveChildrenNamespace(M,we),Ae,Ee),Te&&invokeDirectiveHook(M,null,Z,"created"),x(oe,M,M.scopeId,Ae,Z),Q){for(const Ne in Q)Ne!=="value"&&!isReservedProp(Ne)&&L(oe,Ne,null,Q[Ne],we,Z);"value"in Q&&L(oe,"value",null,Q.value,we),(Y=Q.onVnodeBeforeMount)&&invokeVNodeHook(Y,Z,M)}Te&&invokeDirectiveHook(M,null,Z,"beforeMount");const ke=needTransition(q,be);ke&&be.beforeEnter(oe),i(oe,T,W),((Y=Q&&Q.onVnodeMounted)||ke||Te)&&queuePostRenderEffect(()=>{Y&&invokeVNodeHook(Y,Z,M),ke&&be.enter(oe),Te&&invokeDirectiveHook(M,null,Z,"mounted")},q)},x=(M,T,W,Z,q)=>{if(W&&_(M,W),Z)for(let we=0;we<Z.length;we++)_(M,Z[we]);if(q){let we=q.subTree;if(T===we){const Ae=q.vnode;x(M,Ae,Ae.scopeId,Ae.slotScopeIds,q.parent)}}},R=(M,T,W,Z,q,we,Ae,Ee,oe=0)=>{for(let Y=oe;Y<M.length;Y++){const Q=M[Y]=Ee?cloneIfMounted(M[Y]):normalizeVNode(M[Y]);l(null,Q,T,W,Z,q,we,Ae,Ee)}},k=(M,T,W,Z,q,we,Ae)=>{const Ee=T.el=M.el;let{patchFlag:oe,dynamicChildren:Y,dirs:Q}=T;oe|=M.patchFlag&16;const de=M.props||EMPTY_OBJ,be=T.props||EMPTY_OBJ;let Te;if(W&&toggleRecurse(W,!1),(Te=be.onVnodeBeforeUpdate)&&invokeVNodeHook(Te,W,T,M),Q&&invokeDirectiveHook(T,M,W,"beforeUpdate"),W&&toggleRecurse(W,!0),(de.innerHTML&&be.innerHTML==null||de.textContent&&be.textContent==null)&&o(Ee,""),Y?V(M.dynamicChildren,Y,Ee,W,Z,resolveChildrenNamespace(T,q),we):Ae||G(M,T,Ee,null,W,Z,resolveChildrenNamespace(T,q),we,!1),oe>0){if(oe&16)z(Ee,de,be,W,q);else if(oe&2&&de.class!==be.class&&L(Ee,"class",null,be.class,q),oe&4&&L(Ee,"style",de.style,be.style,q),oe&8){const ke=T.dynamicProps;for(let Ne=0;Ne<ke.length;Ne++){const ze=ke[Ne],We=de[ze],qe=be[ze];(qe!==We||ze==="value")&&L(Ee,ze,We,qe,q,W)}}oe&1&&M.children!==T.children&&o(Ee,T.children)}else!Ae&&Y==null&&z(Ee,de,be,W,q);((Te=be.onVnodeUpdated)||Q)&&queuePostRenderEffect(()=>{Te&&invokeVNodeHook(Te,W,T,M),Q&&invokeDirectiveHook(T,M,W,"updated")},Z)},V=(M,T,W,Z,q,we,Ae)=>{for(let Ee=0;Ee<T.length;Ee++){const oe=M[Ee],Y=T[Ee],Q=oe.el&&(oe.type===Fragment||!isSameVNodeType(oe,Y)||oe.shapeFlag&70)?S(oe.el):W;l(oe,Y,Q,null,Z,q,we,Ae,!0)}},z=(M,T,W,Z,q)=>{if(T!==W){if(T!==EMPTY_OBJ)for(const we in T)!isReservedProp(we)&&!(we in W)&&L(M,we,T[we],null,q,Z);for(const we in W){if(isReservedProp(we))continue;const Ae=W[we],Ee=T[we];Ae!==Ee&&we!=="value"&&L(M,we,Ee,Ae,q,Z)}"value"in W&&L(M,"value",T.value,W.value,q)}},K=(M,T,W,Z,q,we,Ae,Ee,oe)=>{const Y=T.el=M?M.el:u(""),Q=T.anchor=M?M.anchor:u("");let{patchFlag:de,dynamicChildren:be,slotScopeIds:Te}=T;Te&&(Ee=Ee?Ee.concat(Te):Te),M==null?(i(Y,W,Z),i(Q,W,Z),R(T.children||[],W,Q,q,we,Ae,Ee,oe)):de>0&&de&64&&be&&M.dynamicChildren?(V(M.dynamicChildren,be,W,q,we,Ae,Ee),(T.key!=null||q&&T===q.subTree)&&traverseStaticChildren(M,T,!0)):G(M,T,W,Q,q,we,Ae,Ee,oe)},ve=(M,T,W,Z,q,we,Ae,Ee,oe)=>{T.slotScopeIds=Ee,M==null?T.shapeFlag&512?q.ctx.activate(T,W,Z,Ae,oe):pe(T,W,Z,q,we,Ae,oe):_e(M,T,oe)},pe=(M,T,W,Z,q,we,Ae)=>{const Ee=M.component=createComponentInstance(M,Z,q);if(isKeepAlive(M)&&(Ee.ctx.renderer=O),setupComponent(Ee,!1,Ae),Ee.asyncDep){if(q&&q.registerDep(Ee,$,Ae),!M.el){const oe=Ee.subTree=createVNode(Comment);E(null,oe,T,W)}}else $(Ee,M,T,W,q,we,Ae)},_e=(M,T,W)=>{const Z=T.component=M.component;if(shouldUpdateComponent(M,T,W))if(Z.asyncDep&&!Z.asyncResolved){ee(Z,T,W);return}else Z.next=T,invalidateJob(Z.update),Z.effect.dirty=!0,Z.update();else T.el=M.el,Z.vnode=T},$=(M,T,W,Z,q,we,Ae)=>{const Ee=()=>{if(M.isMounted){let{next:Q,bu:de,u:be,parent:Te,vnode:ke}=M;{const Ge=locateNonHydratedAsyncRoot(M);if(Ge){Q&&(Q.el=ke.el,ee(M,Q,Ae)),Ge.asyncDep.then(()=>{M.isUnmounted||Ee()});return}}let Ne=Q,ze;toggleRecurse(M,!1),Q?(Q.el=ke.el,ee(M,Q,Ae)):Q=ke,de&&invokeArrayFns(de),(ze=Q.props&&Q.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ze,Te,Q,ke),toggleRecurse(M,!0);const We=renderComponentRoot(M),qe=M.subTree;M.subTree=We,l(qe,We,S(qe.el),g(qe),M,q,we),Q.el=We.el,Ne===null&&updateHOCHostEl(M,We.el),be&&queuePostRenderEffect(be,q),(ze=Q.props&&Q.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ze,Te,Q,ke),q)}else{let Q;const{el:de,props:be}=T,{bm:Te,m:ke,parent:Ne}=M,ze=isAsyncWrapper(T);if(toggleRecurse(M,!1),Te&&invokeArrayFns(Te),!ze&&(Q=be&&be.onVnodeBeforeMount)&&invokeVNodeHook(Q,Ne,T),toggleRecurse(M,!0),de&&X){const We=()=>{M.subTree=renderComponentRoot(M),X(de,M.subTree,M,q,null)};ze?T.type.__asyncLoader().then(()=>!M.isUnmounted&&We()):We()}else{const We=M.subTree=renderComponentRoot(M);l(null,We,W,Z,M,q,we),T.el=We.el}if(ke&&queuePostRenderEffect(ke,q),!ze&&(Q=be&&be.onVnodeMounted)){const We=T;queuePostRenderEffect(()=>invokeVNodeHook(Q,Ne,We),q)}(T.shapeFlag&256||Ne&&isAsyncWrapper(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&M.a&&queuePostRenderEffect(M.a,q),M.isMounted=!0,T=W=Z=null}},oe=M.effect=new ReactiveEffect(Ee,NOOP,()=>queueJob(Y),M.scope),Y=M.update=()=>{oe.dirty&&oe.run()};Y.i=M,Y.id=M.uid,toggleRecurse(M,!0),Y()},ee=(M,T,W)=>{T.component=M;const Z=M.vnode.props;M.vnode=T,M.next=null,updateProps(M,T.props,Z,W),updateSlots(M,T.children,W),pauseTracking(),flushPreFlushCbs(M),resetTracking()},G=(M,T,W,Z,q,we,Ae,Ee,oe=!1)=>{const Y=M&&M.children,Q=M?M.shapeFlag:0,de=T.children,{patchFlag:be,shapeFlag:Te}=T;if(be>0){if(be&128){te(Y,de,W,Z,q,we,Ae,Ee,oe);return}else if(be&256){ue(Y,de,W,Z,q,we,Ae,Ee,oe);return}}Te&8?(Q&16&&m(Y,q,we),de!==Y&&o(W,de)):Q&16?Te&16?te(Y,de,W,Z,q,we,Ae,Ee,oe):m(Y,q,we,!0):(Q&8&&o(W,""),Te&16&&R(de,W,Z,q,we,Ae,Ee,oe))},ue=(M,T,W,Z,q,we,Ae,Ee,oe)=>{M=M||EMPTY_ARR,T=T||EMPTY_ARR;const Y=M.length,Q=T.length,de=Math.min(Y,Q);let be;for(be=0;be<de;be++){const Te=T[be]=oe?cloneIfMounted(T[be]):normalizeVNode(T[be]);l(M[be],Te,W,null,q,we,Ae,Ee,oe)}Y>Q?m(M,q,we,!0,!1,de):R(T,W,Z,q,we,Ae,Ee,oe,de)},te=(M,T,W,Z,q,we,Ae,Ee,oe)=>{let Y=0;const Q=T.length;let de=M.length-1,be=Q-1;for(;Y<=de&&Y<=be;){const Te=M[Y],ke=T[Y]=oe?cloneIfMounted(T[Y]):normalizeVNode(T[Y]);if(isSameVNodeType(Te,ke))l(Te,ke,W,null,q,we,Ae,Ee,oe);else break;Y++}for(;Y<=de&&Y<=be;){const Te=M[de],ke=T[be]=oe?cloneIfMounted(T[be]):normalizeVNode(T[be]);if(isSameVNodeType(Te,ke))l(Te,ke,W,null,q,we,Ae,Ee,oe);else break;de--,be--}if(Y>de){if(Y<=be){const Te=be+1,ke=Te<Q?T[Te].el:Z;for(;Y<=be;)l(null,T[Y]=oe?cloneIfMounted(T[Y]):normalizeVNode(T[Y]),W,ke,q,we,Ae,Ee,oe),Y++}}else if(Y>be)for(;Y<=de;)Ie(M[Y],q,we,!0),Y++;else{const Te=Y,ke=Y,Ne=new Map;for(Y=ke;Y<=be;Y++){const re=T[Y]=oe?cloneIfMounted(T[Y]):normalizeVNode(T[Y]);re.key!=null&&Ne.set(re.key,Y)}let ze,We=0;const qe=be-ke+1;let Ge=!1,Je=0;const ie=new Array(qe);for(Y=0;Y<qe;Y++)ie[Y]=0;for(Y=Te;Y<=de;Y++){const re=M[Y];if(We>=qe){Ie(re,q,we,!0);continue}let ge;if(re.key!=null)ge=Ne.get(re.key);else for(ze=ke;ze<=be;ze++)if(ie[ze-ke]===0&&isSameVNodeType(re,T[ze])){ge=ze;break}ge===void 0?Ie(re,q,we,!0):(ie[ge-ke]=Y+1,ge>=Je?Je=ge:Ge=!0,l(re,T[ge],W,null,q,we,Ae,Ee,oe),We++)}const ce=Ge?getSequence(ie):EMPTY_ARR;for(ze=ce.length-1,Y=qe-1;Y>=0;Y--){const re=ke+Y,ge=T[re],ae=re+1<Q?T[re+1].el:Z;ie[Y]===0?l(null,ge,W,ae,q,we,Ae,Ee,oe):Ge&&(ze<0||Y!==ce[ze]?xe(ge,W,ae,2):ze--)}}},xe=(M,T,W,Z,q=null)=>{const{el:we,type:Ae,transition:Ee,children:oe,shapeFlag:Y}=M;if(Y&6){xe(M.component.subTree,T,W,Z);return}if(Y&128){M.suspense.move(T,W,Z);return}if(Y&64){Ae.move(M,T,W,O);return}if(Ae===Fragment){i(we,T,W);for(let de=0;de<oe.length;de++)xe(oe[de],T,W,Z);i(M.anchor,T,W);return}if(Ae===Static){b(M,T,W);return}if(Z!==2&&Y&1&&Ee)if(Z===0)Ee.beforeEnter(we),i(we,T,W),queuePostRenderEffect(()=>Ee.enter(we),q);else{const{leave:de,delayLeave:be,afterLeave:Te}=Ee,ke=()=>i(we,T,W),Ne=()=>{de(we,()=>{ke(),Te&&Te()})};be?be(we,ke,Ne):Ne()}else i(we,T,W)},Ie=(M,T,W,Z=!1,q=!1)=>{const{type:we,props:Ae,ref:Ee,children:oe,dynamicChildren:Y,shapeFlag:Q,patchFlag:de,dirs:be,cacheIndex:Te}=M;if(de===-2&&(q=!1),Ee!=null&&setRef(Ee,null,W,M,!0),Te!=null&&(T.renderCache[Te]=void 0),Q&256){T.ctx.deactivate(M);return}const ke=Q&1&&be,Ne=!isAsyncWrapper(M);let ze;if(Ne&&(ze=Ae&&Ae.onVnodeBeforeUnmount)&&invokeVNodeHook(ze,T,M),Q&6)F(M.component,W,Z);else{if(Q&128){M.suspense.unmount(W,Z);return}ke&&invokeDirectiveHook(M,null,T,"beforeUnmount"),Q&64?M.type.remove(M,T,W,O,Z):Y&&!Y.hasOnce&&(we!==Fragment||de>0&&de&64)?m(Y,T,W,!1,!0):(we===Fragment&&de&384||!q&&Q&16)&&m(oe,T,W),Z&&le(M)}(Ne&&(ze=Ae&&Ae.onVnodeUnmounted)||ke)&&queuePostRenderEffect(()=>{ze&&invokeVNodeHook(ze,T,M),ke&&invokeDirectiveHook(M,null,T,"unmounted")},W)},le=M=>{const{type:T,el:W,anchor:Z,transition:q}=M;if(T===Fragment){I(W,Z);return}if(T===Static){A(M);return}const we=()=>{f(W),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(M.shapeFlag&1&&q&&!q.persisted){const{leave:Ae,delayLeave:Ee}=q,oe=()=>Ae(W,we);Ee?Ee(M.el,we,oe):oe()}else we()},I=(M,T)=>{let W;for(;M!==T;)W=y(M),f(M),M=W;f(T)},F=(M,T,W)=>{const{bum:Z,scope:q,update:we,subTree:Ae,um:Ee,m:oe,a:Y}=M;invalidateMount(oe),invalidateMount(Y),Z&&invokeArrayFns(Z),q.stop(),we&&(we.active=!1,Ie(Ae,M,T,W)),Ee&&queuePostRenderEffect(Ee,T),queuePostRenderEffect(()=>{M.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},m=(M,T,W,Z=!1,q=!1,we=0)=>{for(let Ae=we;Ae<M.length;Ae++)Ie(M[Ae],T,W,Z,q)},g=M=>{if(M.shapeFlag&6)return g(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const T=y(M.anchor||M.el),W=T&&T[TeleportEndKey];return W?y(W):T};let N=!1;const U=(M,T,W)=>{M==null?T._vnode&&Ie(T._vnode,null,null,!0):l(T._vnode||null,M,T,null,null,null,W),T._vnode=M,N||(N=!0,flushPreFlushCbs(),flushPostFlushCbs(),N=!1)},O={p:l,um:Ie,m:xe,r:le,mt:pe,mc:R,pc:G,pbc:V,n:g,o:e};let H,X;return t&&([H,X]=t(O)),{render:U,hydrate:H,createApp:createAppAPI(U,H)}}function resolveChildrenNamespace({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function toggleRecurse({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,r=!1){const i=e.children,f=t.children;if(isArray$1(i)&&isArray$1(f))for(let L=0;L<i.length;L++){const C=i[L];let u=f[L];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=f[L]=cloneIfMounted(f[L]),u.el=C.el),!r&&u.patchFlag!==-2&&traverseStaticChildren(C,u)),u.type===Text&&(u.el=C.el)}}function getSequence(e){const t=e.slice(),r=[0];let i,f,L,C,u;const c=e.length;for(i=0;i<c;i++){const s=e[i];if(s!==0){if(f=r[r.length-1],e[f]<s){t[i]=f,r.push(i);continue}for(L=0,C=r.length-1;L<C;)u=L+C>>1,e[r[u]]<s?L=u+1:C=u;s<e[r[L]]&&(L>0&&(t[i]=r[L-1]),r[L]=i)}}for(L=r.length,C=r[L-1];L-- >0;)r[L]=C,C=t[C];return r}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}function invalidateMount(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),INITIAL_WATCHER_VALUE={};function watch(e,t,r){return doWatch(e,t,r)}function doWatch(e,t,{immediate:r,deep:i,flush:f,once:L,onTrack:C,onTrigger:u}=EMPTY_OBJ){if(t&&L){const w=t;t=(...x)=>{w(...x),v()}}const c=currentInstance,s=w=>i===!0?w:traverse(w,i===!1?1:void 0);let o,S=!1,y=!1;if(isRef(e)?(o=()=>e.value,S=isShallow(e)):isReactive(e)?(o=()=>s(e),S=!0):isArray$1(e)?(y=!0,S=e.some(w=>isReactive(w)||isShallow(w)),o=()=>e.map(w=>{if(isRef(w))return w.value;if(isReactive(w))return s(w);if(isFunction(w))return callWithErrorHandling(w,c,2)})):isFunction(e)?t?o=()=>callWithErrorHandling(e,c,2):o=()=>(_&&_(),callWithAsyncErrorHandling(e,c,3,[a])):o=NOOP,t&&i){const w=o;o=()=>traverse(w())}let _,a=w=>{_=b.onStop=()=>{callWithErrorHandling(w,c,4),_=b.onStop=void 0}},l;if(isInSSRComponentSetup)if(a=NOOP,t?r&&callWithAsyncErrorHandling(t,c,3,[o(),y?[]:void 0,a]):o(),f==="sync"){const w=useSSRContext();l=w.__watcherHandles||(w.__watcherHandles=[])}else return NOOP;let d=y?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const E=()=>{if(!(!b.active||!b.dirty))if(t){const w=b.run();(i||S||(y?w.some((x,R)=>hasChanged(x,d[R])):hasChanged(w,d)))&&(_&&_(),callWithAsyncErrorHandling(t,c,3,[w,d===INITIAL_WATCHER_VALUE?void 0:y&&d[0]===INITIAL_WATCHER_VALUE?[]:d,a]),d=w)}else b.run()};E.allowRecurse=!!t;let P;f==="sync"?P=E:f==="post"?P=()=>queuePostRenderEffect(E,c&&c.suspense):(E.pre=!0,c&&(E.id=c.uid),P=()=>queueJob(E));const b=new ReactiveEffect(o,NOOP,P),A=getCurrentScope(),v=()=>{b.stop(),A&&remove(A.effects,b)};return t?r?E():d=b.run():f==="post"?queuePostRenderEffect(b.run.bind(b),c&&c.suspense):b.run(),l&&l.push(v),v}function instanceWatch(e,t,r){const i=this.proxy,f=isString(e)?e.includes(".")?createPathGetter(i,e):()=>i[e]:e.bind(i,i);let L;isFunction(t)?L=t:(L=t.handler,r=t);const C=setCurrentInstance(this),u=doWatch(f,L.bind(i),r);return C(),u}function createPathGetter(e,t){const r=t.split(".");return()=>{let i=e;for(let f=0;f<r.length&&i;f++)i=i[r[f]];return i}}function traverse(e,t=1/0,r){if(t<=0||!isObject(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,isRef(e))traverse(e.value,t,r);else if(isArray$1(e))for(let i=0;i<e.length;i++)traverse(e[i],t,r);else if(isSet(e)||isMap(e))e.forEach(i=>{traverse(i,t,r)});else if(isPlainObject(e)){for(const i in e)traverse(e[i],t,r);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&traverse(e[i],t,r)}return e}const getModelModifiers=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${camelize(t)}Modifiers`]||e[`${hyphenate(t)}Modifiers`];function emit(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||EMPTY_OBJ;let f=r;const L=t.startsWith("update:"),C=L&&getModelModifiers(i,t.slice(7));C&&(C.trim&&(f=r.map(o=>isString(o)?o.trim():o)),C.number&&(f=r.map(looseToNumber)));let u,c=i[u=toHandlerKey(t)]||i[u=toHandlerKey(camelize(t))];!c&&L&&(c=i[u=toHandlerKey(hyphenate(t))]),c&&callWithAsyncErrorHandling(c,e,6,f);const s=i[u+"Once"];if(s){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,callWithAsyncErrorHandling(s,e,6,f)}}function normalizeEmitsOptions(e,t,r=!1){const i=t.emitsCache,f=i.get(e);if(f!==void 0)return f;const L=e.emits;let C={},u=!1;if(!isFunction(e)){const c=s=>{const o=normalizeEmitsOptions(s,t,!0);o&&(u=!0,extend(C,o))};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!L&&!u?(isObject(e)&&i.set(e,null),null):(isArray$1(L)?L.forEach(c=>C[c]=null):extend(C,L),isObject(e)&&i.set(e,C),C)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:r,proxy:i,withProxy:f,propsOptions:[L],slots:C,attrs:u,emit:c,render:s,renderCache:o,props:S,data:y,setupState:_,ctx:a,inheritAttrs:l}=e,d=setCurrentRenderingInstance(e);let E,P;try{if(r.shapeFlag&4){const A=f||i,v=A;E=normalizeVNode(s.call(v,A,o,S,_,y,a)),P=u}else{const A=t;E=normalizeVNode(A.length>1?A(S,{attrs:u,slots:C,emit:c}):A(S,null)),P=t.props?u:getFunctionalFallthrough(u)}}catch(A){blockStack.length=0,handleError(A,e,1),E=createVNode(Comment)}let b=E;if(P&&l!==!1){const A=Object.keys(P),{shapeFlag:v}=b;A.length&&v&7&&(L&&A.some(isModelListener)&&(P=filterModelListeners(P,L)),b=cloneVNode(b,P,!1,!0))}return r.dirs&&(b=cloneVNode(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&(b.transition=r.transition),E=b,setCurrentRenderingInstance(d),E}const getFunctionalFallthrough=e=>{let t;for(const r in e)(r==="class"||r==="style"||isOn(r))&&((t||(t={}))[r]=e[r]);return t},filterModelListeners=(e,t)=>{const r={};for(const i in e)(!isModelListener(i)||!(i.slice(9)in t))&&(r[i]=e[i]);return r};function shouldUpdateComponent(e,t,r){const{props:i,children:f,component:L}=e,{props:C,children:u,patchFlag:c}=t,s=L.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return i?hasPropsChanged(i,C,s):!!C;if(c&8){const o=t.dynamicProps;for(let S=0;S<o.length;S++){const y=o[S];if(C[y]!==i[y]&&!isEmitListener(s,y))return!0}}}else return(f||u)&&(!u||!u.$stable)?!0:i===C?!1:i?C?hasPropsChanged(i,C,s):!0:!!C;return!1}function hasPropsChanged(e,t,r){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let f=0;f<i.length;f++){const L=i[f];if(t[L]!==e[L]&&!isEmitListener(r,L))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},r){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=r,t=t.parent;else break}}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$1(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e,e<0&&currentBlock&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,r,i,f,L){return setupBlock(createBaseVNode(e,t,r,i,f,L,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!r}:e:null);function createBaseVNode(e,t=null,r=null,i=0,f=null,L=e===Fragment?0:1,C=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:L,patchFlag:i,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return u?(normalizeChildren(c,r),L&128&&e.normalize(c)):r&&(c.shapeFlag|=isString(r)?8:16),isBlockTreeEnabled>0&&!C&&currentBlock&&(c.patchFlag>0||L&6)&&c.patchFlag!==32&&currentBlock.push(c),c}const createVNode=_createVNode;function _createVNode(e,t=null,r=null,i=0,f=null,L=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const u=cloneVNode(e,t,!0);return r&&normalizeChildren(u,r),isBlockTreeEnabled>0&&!L&&currentBlock&&(u.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=u:currentBlock.push(u)),u.patchFlag=-2,u}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:u,style:c}=t;u&&!isString(u)&&(t.class=normalizeClass(u)),isObject(c)&&(isProxy(c)&&!isArray$1(c)&&(c=extend({},c)),t.style=normalizeStyle(c))}const C=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,r,i,f,C,L,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend({},e):e:null}function cloneVNode(e,t,r=!1,i=!1){const{props:f,ref:L,patchFlag:C,children:u,transition:c}=e,s=t?mergeProps(f||{},t):f,o={__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&normalizeKey(s),ref:t&&t.ref?r&&L?isArray$1(L)?L.concat(normalizeRef(t)):[L,normalizeRef(t)]:normalizeRef(t):L,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?C===-1?16:C|16:C,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&i&&setTransitionHooks(o,c.clone(o)),o}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let r=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(isArray$1(t))r=16;else if(typeof t=="object")if(i&65){const f=t.default;f&&(f._c&&(f._d=!1),normalizeChildren(e,f()),f._c&&(f._d=!0));return}else{r=32;const f=t._;!f&&!isInternalObject(t)?t._ctx=currentRenderingInstance:f===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},r=32):(t=String(t),i&64?(r=16,t=[createTextVNode(t)]):r=8);e.children=t,e.shapeFlag|=r}function mergeProps(...e){const t={};for(let r=0;r<e.length;r++){const i=e[r];for(const f in i)if(f==="class")t.class!==i.class&&(t.class=normalizeClass([t.class,i.class]));else if(f==="style")t.style=normalizeStyle([t.style,i.style]);else if(isOn(f)){const L=t[f],C=i[f];C&&L!==C&&!(isArray$1(L)&&L.includes(C))&&(t[f]=L?[].concat(L,C):C)}else f!==""&&(t[f]=i[f])}return t}function invokeVNodeHook(e,t,r,i=null){callWithAsyncErrorHandling(e,t,7,[r,i])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,r){const i=e.type,f=(t?t.appContext:e.appContext)||emptyAppContext,L={uid:uid++,vnode:e,type:i,parent:t,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(i,f),emitsOptions:normalizeEmitsOptions(i,f),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:i.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return L.ctx={_:L},L.root=t?t.root:L,L.emit=emit.bind(null,L),e.ce&&e.ce(L),L}let currentInstance=null,internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),t=(r,i)=>{let f;return(f=e[r])||(f=e[r]=[]),f.push(i),L=>{f.length>1?f.forEach(C=>C(L)):f[0](L)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",r=>currentInstance=r),setInSSRSetupState=t("__VUE_SSR_SETTERS__",r=>isInSSRComponentSetup=r)}const setCurrentInstance=e=>{const t=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1,r=!1){t&&setInSSRSetupState(t);const{props:i,children:f}=e.vnode,L=isStatefulComponent(e);initProps(e,i,L,t),initSlots(e,f,r);const C=L?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),C}function setupStatefulComponent(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:i}=r;if(i){const f=e.setupContext=i.length>1?createSetupContext(e):null,L=setCurrentInstance(e);pauseTracking();const C=callWithErrorHandling(i,e,0,[e.props,f]);if(resetTracking(),L(),isPromise(C)){if(C.then(unsetCurrentInstance,unsetCurrentInstance),t)return C.then(u=>{handleSetupResult(e,u,t)}).catch(u=>{handleError(u,e,0)});e.asyncDep=C}else handleSetupResult(e,C,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,r){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,r)}let compile;function finishComponentSetup(e,t,r){const i=e.type;if(!e.render){if(!t&&compile&&!i.render){const f=i.template||resolveMergedOptions(e).template;if(f){const{isCustomElement:L,compilerOptions:C}=e.appContext.config,{delimiters:u,compilerOptions:c}=i,s=extend(extend({isCustomElement:L,delimiters:u},C),c);i.render=compile(f,s)}}e.render=i.render||NOOP}{const f=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),f()}}}const attrsProxyHandlers={get(e,t){return track(e,"get",""),e[t]}};function createSetupContext(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:t}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](e)},has(t,r){return r in t||r in publicPropertiesMap}})):e.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,r=!1){let i=getComponentName(t);if(!i&&t.__file){const f=t.__file.match(/([^/\\]+)\.\w+$/);f&&(i=f[1])}if(!i&&e&&e.parent){const f=L=>{for(const C in L)if(L[C]===t)return C};i=f(e.components||e.parent.type.components)||f(e.appContext.components)}return i?classify(i):r?"App":"Anonymous"}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,r){const i=arguments.length;return i===2?isObject(t)&&!isArray$1(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&isVNode(r)&&(r=[r]),createVNode(e,t,r))}const version="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,i)=>{const f=t==="svg"?doc.createElementNS(svgNS,e):t==="mathml"?doc.createElementNS(mathmlNS,e):r?doc.createElement(e,{is:r}):doc.createElement(e);return e==="select"&&i&&i.multiple!=null&&f.setAttribute("multiple",i.multiple),f},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,i,f,L){const C=r?r.previousSibling:t.lastChild;if(f&&(f===L||f.nextSibling))for(;t.insertBefore(f.cloneNode(!0),r),!(f===L||!(f=f.nextSibling)););else{templateContainer.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const u=templateContainer.content;if(i==="svg"||i==="mathml"){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}t.insertBefore(u,r)}return[C?C.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(e,t,r){const i=e[vtcKey];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(e,t,r){const i=e.style,f=isString(r);let L=!1;if(r&&!f){if(t)if(isString(t))for(const C of t.split(";")){const u=C.slice(0,C.indexOf(":")).trim();r[u]==null&&setStyle(i,u,"")}else for(const C in t)r[C]==null&&setStyle(i,C,"");for(const C in r)C==="display"&&(L=!0),setStyle(i,C,r[C])}else if(f){if(t!==r){const C=i[CSS_VAR_TEXT];C&&(r+=";"+C),i.cssText=r,L=displayRE.test(r)}}else t&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=L?i.display:"",e[vShowHidden]&&(i.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,t,r){if(isArray$1(r))r.forEach(i=>setStyle(e,t,i));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const i=autoPrefix(e,t);importantRE.test(r)?e.setProperty(hyphenate(i),r.replace(importantRE,""),"important"):e[i]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const r=prefixCache[t];if(r)return r;let i=camelize(t);if(i!=="filter"&&i in e)return prefixCache[t]=i;i=capitalize(i);for(let f=0;f<prefixes.length;f++){const L=prefixes[f]+i;if(L in e)return prefixCache[t]=L}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,r,i,f,L=isSpecialBooleanAttr(t)){i&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,r):r==null||L&&!includeBooleanAttr(r)?e.removeAttribute(t):e.setAttribute(t,L?"":isSymbol(r)?String(r):r)}function patchDOMProp(e,t,r,i){if(t==="innerHTML"||t==="textContent"){if(r==null)return;e[t]=r;return}const f=e.tagName;if(t==="value"&&f!=="PROGRESS"&&!f.includes("-")){const C=f==="OPTION"?e.getAttribute("value")||"":e.value,u=r==null?"":String(r);(C!==u||!("_value"in e))&&(e.value=u),r==null&&e.removeAttribute(t),e._value=r;return}let L=!1;if(r===""||r==null){const C=typeof e[t];C==="boolean"?r=includeBooleanAttr(r):r==null&&C==="string"?(r="",L=!0):C==="number"&&(r=0,L=!0)}try{e[t]=r}catch{}L&&e.removeAttribute(t)}function addEventListener(e,t,r,i){e.addEventListener(t,r,i)}function removeEventListener(e,t,r,i){e.removeEventListener(t,r,i)}const veiKey=Symbol("_vei");function patchEvent(e,t,r,i,f=null){const L=e[veiKey]||(e[veiKey]={}),C=L[t];if(i&&C)C.value=i;else{const[u,c]=parseName(t);if(i){const s=L[t]=createInvoker(i,f);addEventListener(e,u,s,c)}else C&&(removeEventListener(e,u,C,c),L[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let i;for(;i=e.match(optionsModifierRE);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(i,r.value),t,5,[i])};return r.value=e,r.attached=getNow(),r}function patchStopImmediatePropagation(e,t){if(isArray$1(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(i=>f=>!f._stopped&&i&&i(f))}else return t}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,r,i,f,L)=>{const C=f==="svg";t==="class"?patchClass(e,i,C):t==="style"?patchStyle(e,r,i):isOn(t)?isModelListener(t)||patchEvent(e,t,r,i,L):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,i,C))?(patchDOMProp(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&patchAttr(e,t,i,C,L,t!=="value")):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),patchAttr(e,t,i,C))};function shouldSetAsProp(e,t,r,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&isNativeOn(t)&&isFunction(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const f=e.tagName;if(f==="IMG"||f==="VIDEO"||f==="CANVAS"||f==="SOURCE")return!1}return isNativeOn(t)&&isString(r)?!1:t in e}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:r}=t;return t.mount=i=>{const f=normalizeContainer(i);if(!f)return;const L=t._component;!isFunction(L)&&!L.render&&!L.template&&(L.template=f.innerHTML),f.innerHTML="";const C=r(f,!1,resolveRootNamespace(f));return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),C},t};function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString(e)?document.querySelector(e):e}/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof document<"u";function isESModule(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(e,t){const r={};for(const i in t){const f=t[i];r[i]=isArray(f)?f.map(e):e(f)}return r}const noop=()=>{},isArray=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return e==null?"":encodePath(e).replace(SLASH_RE,"%2F")}function decode(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,t,r="/"){let i,f={},L="",C="";const u=t.indexOf("#");let c=t.indexOf("?");return u<c&&u>=0&&(c=-1),c>-1&&(i=t.slice(0,c),L=t.slice(c+1,u>-1?u:t.length),f=e(L)),u>-1&&(i=i||t.slice(0,u),C=t.slice(u,t.length)),i=resolveRelativePath(i??t,r),{fullPath:i+(L&&"?")+L+C,path:i,query:f,hash:decode(C)}}function stringifyURL(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function stripBase(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function isSameRouteLocation(e,t,r){const i=t.matched.length-1,f=r.matched.length-1;return i>-1&&i===f&&isSameRouteRecord(t.matched[i],r.matched[f])&&isSameRouteLocationParams(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function isSameRouteRecord(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function isSameRouteLocationParams(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!isSameRouteLocationParamsValue(e[r],t[r]))return!1;return!0}function isSameRouteLocationParamsValue(e,t){return isArray(e)?isEquivalentArray(e,t):isArray(t)?isEquivalentArray(t,e):e===t}function isEquivalentArray(e,t){return isArray(t)?e.length===t.length&&e.every((r,i)=>r===t[i]):e.length===1&&e[0]===t}function resolveRelativePath(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),i=e.split("/"),f=i[i.length-1];(f===".."||f===".")&&i.push("");let L=r.length-1,C,u;for(C=0;C<i.length;C++)if(u=i[C],u!==".")if(u==="..")L>1&&L--;else break;return r.slice(0,L).join("/")+"/"+i.slice(C).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var NavigationType;(function(e){e.pop="pop",e.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(e){e.back="back",e.forward="forward",e.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(e){if(!e)if(isBrowser){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,t){return e.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(e,t){const r=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-r.left-(t.left||0),top:i.top-r.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(e){let t;if("el"in e){const r=e.el,i=typeof r=="string"&&r.startsWith("#"),f=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!f)return;t=getElementPosition(f,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function getScrollKey(e,t){return(history.state?history.state.position-t:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,t){scrollPositions.set(e,t)}function getSavedScrollPosition(e){const t=scrollPositions.get(e);return scrollPositions.delete(e),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,t){const{pathname:r,search:i,hash:f}=t,L=e.indexOf("#");if(L>-1){let u=f.includes(e.slice(L))?e.slice(L).length:1,c=f.slice(u);return c[0]!=="/"&&(c="/"+c),stripBase(c,"")}return stripBase(r,e)+i+f}function useHistoryListeners(e,t,r,i){let f=[],L=[],C=null;const u=({state:y})=>{const _=createCurrentLocation(e,location),a=r.value,l=t.value;let d=0;if(y){if(r.value=_,t.value=y,C&&C===a){C=null;return}d=l?y.position-l.position:0}else i(_);f.forEach(E=>{E(r.value,a,{delta:d,type:NavigationType.pop,direction:d?d>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function c(){C=r.value}function s(y){f.push(y);const _=()=>{const a=f.indexOf(y);a>-1&&f.splice(a,1)};return L.push(_),_}function o(){const{history:y}=window;y.state&&y.replaceState(assign({},y.state,{scroll:computeScrollPosition()}),"")}function S(){for(const y of L)y();L=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",o)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",o,{passive:!0}),{pauseListeners:c,listen:s,destroy:S}}function buildState(e,t,r,i=!1,f=!1){return{back:e,current:t,forward:r,replaced:i,position:window.history.length,scroll:f?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:t,location:r}=window,i={value:createCurrentLocation(e,r)},f={value:t.state};f.value||L(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function L(c,s,o){const S=e.indexOf("#"),y=S>-1?(r.host&&document.querySelector("base")?e:e.slice(S))+c:createBaseLocation()+e+c;try{t[o?"replaceState":"pushState"](s,"",y),f.value=s}catch(_){console.error(_),r[o?"replace":"assign"](y)}}function C(c,s){const o=assign({},t.state,buildState(f.value.back,c,f.value.forward,!0),s,{position:f.value.position});L(c,o,!0),i.value=c}function u(c,s){const o=assign({},f.value,t.state,{forward:c,scroll:computeScrollPosition()});L(o.current,o,!0);const S=assign({},buildState(i.value,c,null),{position:o.position+1},s);L(c,S,!1),i.value=c}return{location:i,state:f,push:u,replace:C}}function createWebHistory(e){e=normalizeBase(e);const t=useHistoryStateNavigation(e),r=useHistoryListeners(e,t.state,t.location,t.replace);function i(L,C=!0){C||r.pauseListeners(),history.go(L)}const f=assign({location:"",base:e,go:i,createHref:createHref.bind(null,e)},t,r);return Object.defineProperty(f,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(f,"state",{enumerable:!0,get:()=>t.state.value}),f}function createWebHashHistory(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),createWebHistory(e)}function isRouteLocation(e){return typeof e=="string"||e&&typeof e=="object"}function isRouteName(e){return typeof e=="string"||typeof e=="symbol"}const NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(e,t){return assign(new Error,{type:e,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(e,t){return e instanceof Error&&NavigationFailureSymbol in e&&(t==null||!!(e.type&t))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,t){const r=assign({},BASE_PATH_PARSER_OPTIONS,t),i=[];let f=r.start?"^":"";const L=[];for(const s of e){const o=s.length?[]:[90];r.strict&&!s.length&&(f+="/");for(let S=0;S<s.length;S++){const y=s[S];let _=40+(r.sensitive?.25:0);if(y.type===0)S||(f+="/"),f+=y.value.replace(REGEX_CHARS_RE,"\\$&"),_+=40;else if(y.type===1){const{value:a,repeatable:l,optional:d,regexp:E}=y;L.push({name:a,repeatable:l,optional:d});const P=E||BASE_PARAM_PATTERN;if(P!==BASE_PARAM_PATTERN){_+=10;try{new RegExp(`(${P})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${a}" (${P}): `+A.message)}}let b=l?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;S||(b=d&&s.length<2?`(?:/${b})`:"/"+b),d&&(b+="?"),f+=b,_+=20,d&&(_+=-8),l&&(_+=-20),P===".*"&&(_+=-50)}o.push(_)}i.push(o)}if(r.strict&&r.end){const s=i.length-1;i[s][i[s].length-1]+=.7000000000000001}r.strict||(f+="/?"),r.end?f+="$":r.strict&&(f+="(?:/|$)");const C=new RegExp(f,r.sensitive?"":"i");function u(s){const o=s.match(C),S={};if(!o)return null;for(let y=1;y<o.length;y++){const _=o[y]||"",a=L[y-1];S[a.name]=_&&a.repeatable?_.split("/"):_}return S}function c(s){let o="",S=!1;for(const y of e){(!S||!o.endsWith("/"))&&(o+="/"),S=!1;for(const _ of y)if(_.type===0)o+=_.value;else if(_.type===1){const{value:a,repeatable:l,optional:d}=_,E=a in s?s[a]:"";if(isArray(E)&&!l)throw new Error(`Provided param "${a}" is an array but it is not repeatable (* or + modifiers)`);const P=isArray(E)?E.join("/"):E;if(!P)if(d)y.length<2&&(o.endsWith("/")?o=o.slice(0,-1):S=!0);else throw new Error(`Missing required param "${a}"`);o+=P}}return o||"/"}return{re:C,score:i,keys:L,parse:u,stringify:c}}function compareScoreArray(e,t){let r=0;for(;r<e.length&&r<t.length;){const i=t[r]-e[r];if(i)return i;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function comparePathParserScore(e,t){let r=0;const i=e.score,f=t.score;for(;r<i.length&&r<f.length;){const L=compareScoreArray(i[r],f[r]);if(L)return L;r++}if(Math.abs(f.length-i.length)===1){if(isLastScoreNegative(i))return 1;if(isLastScoreNegative(f))return-1}return f.length-i.length}function isLastScoreNegative(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if(e==="/")return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${r})/"${s}": ${_}`)}let r=0,i=r;const f=[];let L;function C(){L&&f.push(L),L=[]}let u=0,c,s="",o="";function S(){s&&(r===0?L.push({type:0,value:s}):r===1||r===2||r===3?(L.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${s}) must be alone in its segment. eg: '/:ids+.`),L.push({type:1,value:s,regexp:o,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),s="")}function y(){s+=c}for(;u<e.length;){if(c=e[u++],c==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:c==="/"?(s&&S(),C()):c===":"?(S(),r=1):y();break;case 4:y(),r=i;break;case 1:c==="("?r=2:VALID_PARAM_RE.test(c)?y():(S(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&u--);break;case 2:c===")"?o[o.length-1]=="\\"?o=o.slice(0,-1)+c:r=3:o+=c;break;case 3:S(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&u--,o="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${s}"`),S(),C(),f}function createRouteRecordMatcher(e,t,r){const i=tokensToParser(tokenizePath(e.path),r),f=assign(i,{record:e,parent:t,children:[],alias:[]});return t&&!f.record.aliasOf==!t.record.aliasOf&&t.children.push(f),f}function createRouterMatcher(e,t){const r=[],i=new Map;t=mergeOptions({strict:!1,end:!0,sensitive:!1},t);function f(S){return i.get(S)}function L(S,y,_){const a=!_,l=normalizeRouteRecord(S);l.aliasOf=_&&_.record;const d=mergeOptions(t,S),E=[l];if("alias"in S){const A=typeof S.alias=="string"?[S.alias]:S.alias;for(const v of A)E.push(assign({},l,{components:_?_.record.components:l.components,path:v,aliasOf:_?_.record:l}))}let P,b;for(const A of E){const{path:v}=A;if(y&&v[0]!=="/"){const w=y.record.path,x=w[w.length-1]==="/"?"":"/";A.path=y.record.path+(v&&x+v)}if(P=createRouteRecordMatcher(A,y,d),_?_.alias.push(P):(b=b||P,b!==P&&b.alias.push(P),a&&S.name&&!isAliasRecord(P)&&C(S.name)),isMatchable(P)&&c(P),l.children){const w=l.children;for(let x=0;x<w.length;x++)L(w[x],P,_&&_.children[x])}_=_||P}return b?()=>{C(b)}:noop}function C(S){if(isRouteName(S)){const y=i.get(S);y&&(i.delete(S),r.splice(r.indexOf(y),1),y.children.forEach(C),y.alias.forEach(C))}else{const y=r.indexOf(S);y>-1&&(r.splice(y,1),S.record.name&&i.delete(S.record.name),S.children.forEach(C),S.alias.forEach(C))}}function u(){return r}function c(S){const y=findInsertionIndex(S,r);r.splice(y,0,S),S.record.name&&!isAliasRecord(S)&&i.set(S.record.name,S)}function s(S,y){let _,a={},l,d;if("name"in S&&S.name){if(_=i.get(S.name),!_)throw createRouterError(1,{location:S});d=_.record.name,a=assign(paramsFromLocation(y.params,_.keys.filter(b=>!b.optional).concat(_.parent?_.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),S.params&&paramsFromLocation(S.params,_.keys.map(b=>b.name))),l=_.stringify(a)}else if(S.path!=null)l=S.path,_=r.find(b=>b.re.test(l)),_&&(a=_.parse(l),d=_.record.name);else{if(_=y.name?i.get(y.name):r.find(b=>b.re.test(y.path)),!_)throw createRouterError(1,{location:S,currentLocation:y});d=_.record.name,a=assign({},y.params,S.params),l=_.stringify(a)}const E=[];let P=_;for(;P;)E.unshift(P.record),P=P.parent;return{name:d,path:l,params:a,matched:E,meta:mergeMetaFields(E)}}e.forEach(S=>L(S));function o(){r.length=0,i.clear()}return{addRoute:L,resolve:s,removeRoute:C,clearRoutes:o,getRoutes:u,getRecordMatcher:f}}function paramsFromLocation(e,t){const r={};for(const i of t)i in e&&(r[i]=e[i]);return r}function normalizeRouteRecord(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function normalizeRecordProps(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const i in e.components)t[i]=typeof r=="object"?r[i]:r;return t}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((t,r)=>assign(t,r.meta),{})}function mergeOptions(e,t){const r={};for(const i in e)r[i]=i in t?t[i]:e[i];return r}function findInsertionIndex(e,t){let r=0,i=t.length;for(;r!==i;){const L=r+i>>1;comparePathParserScore(e,t[L])<0?i=L:r=L+1}const f=getInsertionAncestor(e);return f&&(i=t.lastIndexOf(f,i-1)),i}function getInsertionAncestor(e){let t=e;for(;t=t.parent;)if(isMatchable(t)&&comparePathParserScore(e,t)===0)return t}function isMatchable({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function parseQuery(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let f=0;f<i.length;++f){const L=i[f].replace(PLUS_RE," "),C=L.indexOf("="),u=decode(C<0?L:L.slice(0,C)),c=C<0?null:decode(L.slice(C+1));if(u in t){let s=t[u];isArray(s)||(s=t[u]=[s]),s.push(c)}else t[u]=c}return t}function stringifyQuery(e){let t="";for(let r in e){const i=e[r];if(r=encodeQueryKey(r),i==null){i!==void 0&&(t+=(t.length?"&":"")+r);continue}(isArray(i)?i.map(L=>L&&encodeQueryValue(L)):[i&&encodeQueryValue(i)]).forEach(L=>{L!==void 0&&(t+=(t.length?"&":"")+r,L!=null&&(t+="="+L))})}return t}function normalizeQuery(e){const t={};for(const r in e){const i=e[r];i!==void 0&&(t[r]=isArray(i)?i.map(f=>f==null?null:""+f):i==null?i:""+i)}return t}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let e=[];function t(i){return e.push(i),()=>{const f=e.indexOf(i);f>-1&&e.splice(f,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function guardToPromiseFn(e,t,r,i,f,L=C=>C()){const C=i&&(i.enterCallbacks[f]=i.enterCallbacks[f]||[]);return()=>new Promise((u,c)=>{const s=y=>{y===!1?c(createRouterError(4,{from:r,to:t})):y instanceof Error?c(y):isRouteLocation(y)?c(createRouterError(2,{from:t,to:y})):(C&&i.enterCallbacks[f]===C&&typeof y=="function"&&C.push(y),u())},o=L(()=>e.call(i&&i.instances[f],t,r,s));let S=Promise.resolve(o);e.length<3&&(S=S.then(s)),S.catch(y=>c(y))})}function extractComponentsGuards(e,t,r,i,f=L=>L()){const L=[];for(const C of e)for(const u in C.components){let c=C.components[u];if(!(t!=="beforeRouteEnter"&&!C.instances[u]))if(isRouteComponent(c)){const o=(c.__vccOpts||c)[t];o&&L.push(guardToPromiseFn(o,r,i,C,u,f))}else{let s=c();L.push(()=>s.then(o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${C.path}"`));const S=isESModule(o)?o.default:o;C.components[u]=S;const _=(S.__vccOpts||S)[t];return _&&guardToPromiseFn(_,r,i,C,u,f)()}))}}return L}function isRouteComponent(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function useLink(e){const t=inject(routerKey),r=inject(routeLocationKey),i=computed(()=>{const c=unref(e.to);return t.resolve(c)}),f=computed(()=>{const{matched:c}=i.value,{length:s}=c,o=c[s-1],S=r.matched;if(!o||!S.length)return-1;const y=S.findIndex(isSameRouteRecord.bind(null,o));if(y>-1)return y;const _=getOriginalPath(c[s-2]);return s>1&&getOriginalPath(o)===_&&S[S.length-1].path!==_?S.findIndex(isSameRouteRecord.bind(null,c[s-2])):y}),L=computed(()=>f.value>-1&&includesParams(r.params,i.value.params)),C=computed(()=>f.value>-1&&f.value===r.matched.length-1&&isSameRouteLocationParams(r.params,i.value.params));function u(c={}){return guardEvent(c)?t[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop):Promise.resolve()}return{route:i,href:computed(()=>i.value.href),isActive:L,isExactActive:C,navigate:u}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(e,{slots:t}){const r=reactive(useLink(e)),{options:i}=inject(routerKey),f=computed(()=>({[getLinkClass(e.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const L=t.default&&t.default(r);return e.custom?L:h("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:f.value},L)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,t){for(const r in t){const i=t[r],f=e[r];if(typeof i=="string"){if(i!==f)return!1}else if(!isArray(f)||f.length!==i.length||i.some((L,C)=>L!==f[C]))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,t,r)=>e??t??r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const i=inject(routerViewLocationKey),f=computed(()=>e.route||i.value),L=inject(viewDepthKey,0),C=computed(()=>{let s=unref(L);const{matched:o}=f.value;let S;for(;(S=o[s])&&!S.components;)s++;return s}),u=computed(()=>f.value.matched[C.value]);provide(viewDepthKey,computed(()=>C.value+1)),provide(matchedRouteKey,u),provide(routerViewLocationKey,f);const c=ref();return watch(()=>[c.value,u.value,e.name],([s,o,S],[y,_,a])=>{o&&(o.instances[S]=s,_&&_!==o&&s&&s===y&&(o.leaveGuards.size||(o.leaveGuards=_.leaveGuards),o.updateGuards.size||(o.updateGuards=_.updateGuards))),s&&o&&(!_||!isSameRouteRecord(o,_)||!y)&&(o.enterCallbacks[S]||[]).forEach(l=>l(s))},{flush:"post"}),()=>{const s=f.value,o=e.name,S=u.value,y=S&&S.components[o];if(!y)return normalizeSlot(r.default,{Component:y,route:s});const _=S.props[o],a=_?_===!0?s.params:typeof _=="function"?_(s):_:null,d=h(y,assign({},a,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(S.instances[o]=null)},ref:c}));return normalizeSlot(r.default,{Component:d,route:s})||d}}});function normalizeSlot(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(e){const t=createRouterMatcher(e.routes,e),r=e.parseQuery||parseQuery,i=e.stringifyQuery||stringifyQuery,f=e.history,L=useCallbacks(),C=useCallbacks(),u=useCallbacks(),c=shallowRef(START_LOCATION_NORMALIZED);let s=START_LOCATION_NORMALIZED;isBrowser&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const o=applyToParams.bind(null,g=>""+g),S=applyToParams.bind(null,encodeParam),y=applyToParams.bind(null,decode);function _(g,N){let U,O;return isRouteName(g)?(U=t.getRecordMatcher(g),O=N):O=g,t.addRoute(O,U)}function a(g){const N=t.getRecordMatcher(g);N&&t.removeRoute(N)}function l(){return t.getRoutes().map(g=>g.record)}function d(g){return!!t.getRecordMatcher(g)}function E(g,N){if(N=assign({},N||c.value),typeof g=="string"){const T=parseURL(r,g,N.path),W=t.resolve({path:T.path},N),Z=f.createHref(T.fullPath);return assign(T,W,{params:y(W.params),hash:decode(T.hash),redirectedFrom:void 0,href:Z})}let U;if(g.path!=null)U=assign({},g,{path:parseURL(r,g.path,N.path).path});else{const T=assign({},g.params);for(const W in T)T[W]==null&&delete T[W];U=assign({},g,{params:S(T)}),N.params=S(N.params)}const O=t.resolve(U,N),H=g.hash||"";O.params=o(y(O.params));const X=stringifyURL(i,assign({},g,{hash:encodeHash(H),path:O.path})),M=f.createHref(X);return assign({fullPath:X,hash:H,query:i===stringifyQuery?normalizeQuery(g.query):g.query||{}},O,{redirectedFrom:void 0,href:M})}function P(g){return typeof g=="string"?parseURL(r,g,c.value.path):assign({},g)}function b(g,N){if(s!==g)return createRouterError(8,{from:N,to:g})}function A(g){return x(g)}function v(g){return A(assign(P(g),{replace:!0}))}function w(g){const N=g.matched[g.matched.length-1];if(N&&N.redirect){const{redirect:U}=N;let O=typeof U=="function"?U(g):U;return typeof O=="string"&&(O=O.includes("?")||O.includes("#")?O=P(O):{path:O},O.params={}),assign({query:g.query,hash:g.hash,params:O.path!=null?{}:g.params},O)}}function x(g,N){const U=s=E(g),O=c.value,H=g.state,X=g.force,M=g.replace===!0,T=w(U);if(T)return x(assign(P(T),{state:typeof T=="object"?assign({},H,T.state):H,force:X,replace:M}),N||U);const W=U;W.redirectedFrom=N;let Z;return!X&&isSameRouteLocation(i,O,U)&&(Z=createRouterError(16,{to:W,from:O}),xe(O,O,!0,!1)),(Z?Promise.resolve(Z):V(W,O)).catch(q=>isNavigationFailure(q)?isNavigationFailure(q,2)?q:te(q):G(q,W,O)).then(q=>{if(q){if(isNavigationFailure(q,2))return x(assign({replace:M},P(q.to),{state:typeof q.to=="object"?assign({},H,q.to.state):H,force:X}),N||W)}else q=K(W,O,!0,M,H);return z(W,O,q),q})}function R(g,N){const U=b(g,N);return U?Promise.reject(U):Promise.resolve()}function k(g){const N=I.values().next().value;return N&&typeof N.runWithContext=="function"?N.runWithContext(g):g()}function V(g,N){let U;const[O,H,X]=extractChangingRecords(g,N);U=extractComponentsGuards(O.reverse(),"beforeRouteLeave",g,N);for(const T of O)T.leaveGuards.forEach(W=>{U.push(guardToPromiseFn(W,g,N))});const M=R.bind(null,g,N);return U.push(M),m(U).then(()=>{U=[];for(const T of L.list())U.push(guardToPromiseFn(T,g,N));return U.push(M),m(U)}).then(()=>{U=extractComponentsGuards(H,"beforeRouteUpdate",g,N);for(const T of H)T.updateGuards.forEach(W=>{U.push(guardToPromiseFn(W,g,N))});return U.push(M),m(U)}).then(()=>{U=[];for(const T of X)if(T.beforeEnter)if(isArray(T.beforeEnter))for(const W of T.beforeEnter)U.push(guardToPromiseFn(W,g,N));else U.push(guardToPromiseFn(T.beforeEnter,g,N));return U.push(M),m(U)}).then(()=>(g.matched.forEach(T=>T.enterCallbacks={}),U=extractComponentsGuards(X,"beforeRouteEnter",g,N,k),U.push(M),m(U))).then(()=>{U=[];for(const T of C.list())U.push(guardToPromiseFn(T,g,N));return U.push(M),m(U)}).catch(T=>isNavigationFailure(T,8)?T:Promise.reject(T))}function z(g,N,U){u.list().forEach(O=>k(()=>O(g,N,U)))}function K(g,N,U,O,H){const X=b(g,N);if(X)return X;const M=N===START_LOCATION_NORMALIZED,T=isBrowser?history.state:{};U&&(O||M?f.replace(g.fullPath,assign({scroll:M&&T&&T.scroll},H)):f.push(g.fullPath,H)),c.value=g,xe(g,N,U,M),te()}let ve;function pe(){ve||(ve=f.listen((g,N,U)=>{if(!F.listening)return;const O=E(g),H=w(O);if(H){x(assign(H,{replace:!0}),O).catch(noop);return}s=O;const X=c.value;isBrowser&&saveScrollPosition(getScrollKey(X.fullPath,U.delta),computeScrollPosition()),V(O,X).catch(M=>isNavigationFailure(M,12)?M:isNavigationFailure(M,2)?(x(M.to,O).then(T=>{isNavigationFailure(T,20)&&!U.delta&&U.type===NavigationType.pop&&f.go(-1,!1)}).catch(noop),Promise.reject()):(U.delta&&f.go(-U.delta,!1),G(M,O,X))).then(M=>{M=M||K(O,X,!1),M&&(U.delta&&!isNavigationFailure(M,8)?f.go(-U.delta,!1):U.type===NavigationType.pop&&isNavigationFailure(M,20)&&f.go(-1,!1)),z(O,X,M)}).catch(noop)}))}let _e=useCallbacks(),$=useCallbacks(),ee;function G(g,N,U){te(g);const O=$.list();return O.length?O.forEach(H=>H(g,N,U)):console.error(g),Promise.reject(g)}function ue(){return ee&&c.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((g,N)=>{_e.add([g,N])})}function te(g){return ee||(ee=!g,pe(),_e.list().forEach(([N,U])=>g?U(g):N()),_e.reset()),g}function xe(g,N,U,O){const{scrollBehavior:H}=e;if(!isBrowser||!H)return Promise.resolve();const X=!U&&getSavedScrollPosition(getScrollKey(g.fullPath,0))||(O||!U)&&history.state&&history.state.scroll||null;return nextTick().then(()=>H(g,N,X)).then(M=>M&&scrollToPosition(M)).catch(M=>G(M,g,N))}const Ie=g=>f.go(g);let le;const I=new Set,F={currentRoute:c,listening:!0,addRoute:_,removeRoute:a,clearRoutes:t.clearRoutes,hasRoute:d,getRoutes:l,resolve:E,options:e,push:A,replace:v,go:Ie,back:()=>Ie(-1),forward:()=>Ie(1),beforeEach:L.add,beforeResolve:C.add,afterEach:u.add,onError:$.add,isReady:ue,install(g){const N=this;g.component("RouterLink",RouterLink),g.component("RouterView",RouterView),g.config.globalProperties.$router=N,Object.defineProperty(g.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(c)}),isBrowser&&!le&&c.value===START_LOCATION_NORMALIZED&&(le=!0,A(f.location).catch(H=>{}));const U={};for(const H in START_LOCATION_NORMALIZED)Object.defineProperty(U,H,{get:()=>c.value[H],enumerable:!0});g.provide(routerKey,N),g.provide(routeLocationKey,shallowReactive(U)),g.provide(routerViewLocationKey,c);const O=g.unmount;I.add(g),g.unmount=function(){I.delete(g),I.size<1&&(s=START_LOCATION_NORMALIZED,ve&&ve(),ve=null,c.value=START_LOCATION_NORMALIZED,le=!1,ee=!1),O()}}};function m(g){return g.reduce((N,U)=>N.then(()=>k(U)),Promise.resolve())}return F}function extractChangingRecords(e,t){const r=[],i=[],f=[],L=Math.max(t.matched.length,e.matched.length);for(let C=0;C<L;C++){const u=t.matched[C];u&&(e.matched.find(s=>isSameRouteRecord(s,u))?i.push(u):r.push(u));const c=e.matched[C];c&&(t.matched.find(s=>isSameRouteRecord(s,c))||f.push(c))}return[r,i,f]}function useRoute(e){return inject(routeLocationKey)}const App_vue_vue_type_style_index_0_scoped_4fecbfb6_lang="",_export_sfc=(e,t)=>{const r=e.__vccOpts||e;for(const[i,f]of t)r[i]=f;return r},_sfc_main$2={__name:"App",setup(e){const t=useRoute();return console.log("route",t),(r,i)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("aside",null,[createBaseVNode("nav",null,[createVNode(unref(RouterLink),{class:normalizeClass(["nav-link",{active:unref(t).path==="/custom-toolbar"}]),to:"/custom-toolbar"},{default:withCtx(()=>[createTextVNode("Custom Toolbar")]),_:1},8,["class"]),createVNode(unref(RouterLink),{class:normalizeClass(["nav-link",{active:unref(t).path==="/multiple-pdf-files"}]),to:"/multiple-pdf-files"},{default:withCtx(()=>[createTextVNode("Multiple PDF")]),_:1},8,["class"])])]),createBaseVNode("main",null,[createVNode(unref(RouterView))])],64))}},App=_export_sfc(_sfc_main$2,[["__scopeId","data-v-4fecbfb6"]]);function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var f=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,f.get?f:{enumerable:!0,get:function(){return e[i]}})}),r}var app$1={exports:{}};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1),canvas=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(canvas);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(t,r){module.exports=t.pdfjsLib=r()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,t)=>{var ie;Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationPrefix=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=ue,t.bytesToString=H,t.createValidAbsoluteUrl=xe,t.getModificationDate=ke,t.getUuid=Ge,t.getVerbosityLevel=_e,t.info=$,t.isArrayBuffer=be,t.isArrayEqual=Te,t.isNodeJS=void 0,t.normalizeUnicode=qe,t.objectFromMap=W,t.objectSize=T,t.setVerbosityLevel=pe,t.shadow=Ie,t.string32=M,t.stringToBytes=X,t.stringToPDFString=Y,t.stringToUTF8String=Q,t.unreachable=G,t.utf8StringToString=de,t.warn=ee;const r=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=r;const i=[1,0,0,1,0,0];t.IDENTITY_MATRIX=i;const f=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=f;const L=1e7;t.MAX_IMAGE_SIZE_TO_CACHE=L;const C=1.35;t.LINE_FACTOR=C;const u=.35;t.LINE_DESCENT_FACTOR=u;const c=u/C;t.BASELINE_FACTOR=c;const s={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=s;const o={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=o;const S="pdfjs_internal_editor_";t.AnnotationEditorPrefix=S;const y={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};t.AnnotationEditorType=y;const _={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};t.AnnotationEditorParamsType=_;const a={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=a;const l={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=l;const d={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=d;const E={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=E;const P={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=P;const b={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=b;const A={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=A;const v={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=v;const w={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=w;const x={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=x;const R={O:"PageOpen",C:"PageClose"};t.PageActionEventType=R;const k={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=k;const V={NONE:0,BINARY:1};t.CMapCompressionType=V;const z={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=z;const K={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=K;let ve=k.WARNINGS;function pe(ce){Number.isInteger(ce)&&(ve=ce)}function _e(){return ve}function $(ce){ve>=k.INFOS&&console.log(`Info: ${ce}`)}function ee(ce){ve>=k.WARNINGS&&console.log(`Warning: ${ce}`)}function G(ce){throw new Error(ce)}function ue(ce,re){ce||G(re)}function te(ce){switch(ce==null?void 0:ce.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function xe(ce,re=null,ge=null){if(!ce)return null;try{if(ge&&typeof ce=="string"){if(ge.addDefaultProtocol&&ce.startsWith("www.")){const Se=ce.match(/\./g);(Se==null?void 0:Se.length)>=2&&(ce=`http://${ce}`)}if(ge.tryConvertEncoding)try{ce=Q(ce)}catch{}}const ae=re?new URL(ce,re):new URL(ce);if(te(ae))return ae}catch{}return null}function Ie(ce,re,ge,ae=!1){return Object.defineProperty(ce,re,{value:ge,enumerable:!ae,configurable:!0,writable:!1}),ge}const le=function(){function re(ge,ae){this.constructor===re&&G("Cannot initialize BaseException."),this.message=ge,this.name=ae}return re.prototype=new Error,re.constructor=re,re}();t.BaseException=le;class I extends le{constructor(re,ge){super(re,"PasswordException"),this.code=ge}}t.PasswordException=I;class F extends le{constructor(re,ge){super(re,"UnknownErrorException"),this.details=ge}}t.UnknownErrorException=F;class m extends le{constructor(re){super(re,"InvalidPDFException")}}t.InvalidPDFException=m;class g extends le{constructor(re){super(re,"MissingPDFException")}}t.MissingPDFException=g;class N extends le{constructor(re,ge){super(re,"UnexpectedResponseException"),this.status=ge}}t.UnexpectedResponseException=N;class U extends le{constructor(re){super(re,"FormatError")}}t.FormatError=U;class O extends le{constructor(re){super(re,"AbortException")}}t.AbortException=O;function H(ce){(typeof ce!="object"||(ce==null?void 0:ce.length)===void 0)&&G("Invalid argument for bytesToString");const re=ce.length,ge=8192;if(re<ge)return String.fromCharCode.apply(null,ce);const ae=[];for(let Se=0;Se<re;Se+=ge){const me=Math.min(Se+ge,re),Pe=ce.subarray(Se,me);ae.push(String.fromCharCode.apply(null,Pe))}return ae.join("")}function X(ce){typeof ce!="string"&&G("Invalid argument for stringToBytes");const re=ce.length,ge=new Uint8Array(re);for(let ae=0;ae<re;++ae)ge[ae]=ce.charCodeAt(ae)&255;return ge}function M(ce){return String.fromCharCode(ce>>24&255,ce>>16&255,ce>>8&255,ce&255)}function T(ce){return Object.keys(ce).length}function W(ce){const re=Object.create(null);for(const[ge,ae]of ce)re[ge]=ae;return re}function Z(){const ce=new Uint8Array(4);return ce[0]=1,new Uint32Array(ce.buffer,0,1)[0]===1}function q(){try{return new Function(""),!0}catch{return!1}}class we{static get isLittleEndian(){return Ie(this,"isLittleEndian",Z())}static get isEvalSupported(){return Ie(this,"isEvalSupported",q())}static get isOffscreenCanvasSupported(){return Ie(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ie(this,"platform",{isWin:!1,isMac:!1}):Ie(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var re,ge;return Ie(this,"isCSSRoundSupported",(ge=(re=globalThis.CSS)==null?void 0:re.supports)==null?void 0:ge.call(re,"width: round(1.5px, 1px)"))}}t.FeatureTest=we;const Ae=[...Array(256).keys()].map(ce=>ce.toString(16).padStart(2,"0"));class Ee{static makeHexColor(re,ge,ae){return`#${Ae[re]}${Ae[ge]}${Ae[ae]}`}static scaleMinMax(re,ge){let ae;re[0]?(re[0]<0&&(ae=ge[0],ge[0]=ge[1],ge[1]=ae),ge[0]*=re[0],ge[1]*=re[0],re[3]<0&&(ae=ge[2],ge[2]=ge[3],ge[3]=ae),ge[2]*=re[3],ge[3]*=re[3]):(ae=ge[0],ge[0]=ge[2],ge[2]=ae,ae=ge[1],ge[1]=ge[3],ge[3]=ae,re[1]<0&&(ae=ge[2],ge[2]=ge[3],ge[3]=ae),ge[2]*=re[1],ge[3]*=re[1],re[2]<0&&(ae=ge[0],ge[0]=ge[1],ge[1]=ae),ge[0]*=re[2],ge[1]*=re[2]),ge[0]+=re[4],ge[1]+=re[4],ge[2]+=re[5],ge[3]+=re[5]}static transform(re,ge){return[re[0]*ge[0]+re[2]*ge[1],re[1]*ge[0]+re[3]*ge[1],re[0]*ge[2]+re[2]*ge[3],re[1]*ge[2]+re[3]*ge[3],re[0]*ge[4]+re[2]*ge[5]+re[4],re[1]*ge[4]+re[3]*ge[5]+re[5]]}static applyTransform(re,ge){const ae=re[0]*ge[0]+re[1]*ge[2]+ge[4],Se=re[0]*ge[1]+re[1]*ge[3]+ge[5];return[ae,Se]}static applyInverseTransform(re,ge){const ae=ge[0]*ge[3]-ge[1]*ge[2],Se=(re[0]*ge[3]-re[1]*ge[2]+ge[2]*ge[5]-ge[4]*ge[3])/ae,me=(-re[0]*ge[1]+re[1]*ge[0]+ge[4]*ge[1]-ge[5]*ge[0])/ae;return[Se,me]}static getAxialAlignedBoundingBox(re,ge){const ae=this.applyTransform(re,ge),Se=this.applyTransform(re.slice(2,4),ge),me=this.applyTransform([re[0],re[3]],ge),Pe=this.applyTransform([re[2],re[1]],ge);return[Math.min(ae[0],Se[0],me[0],Pe[0]),Math.min(ae[1],Se[1],me[1],Pe[1]),Math.max(ae[0],Se[0],me[0],Pe[0]),Math.max(ae[1],Se[1],me[1],Pe[1])]}static inverseTransform(re){const ge=re[0]*re[3]-re[1]*re[2];return[re[3]/ge,-re[1]/ge,-re[2]/ge,re[0]/ge,(re[2]*re[5]-re[4]*re[3])/ge,(re[4]*re[1]-re[5]*re[0])/ge]}static singularValueDecompose2dScale(re){const ge=[re[0],re[2],re[1],re[3]],ae=re[0]*ge[0]+re[1]*ge[2],Se=re[0]*ge[1]+re[1]*ge[3],me=re[2]*ge[0]+re[3]*ge[2],Pe=re[2]*ge[1]+re[3]*ge[3],Me=(ae+Pe)/2,fe=Math.sqrt((ae+Pe)**2-4*(ae*Pe-me*Se))/2,Re=Me+fe||1,Oe=Me-fe||1;return[Math.sqrt(Re),Math.sqrt(Oe)]}static normalizeRect(re){const ge=re.slice(0);return re[0]>re[2]&&(ge[0]=re[2],ge[2]=re[0]),re[1]>re[3]&&(ge[1]=re[3],ge[3]=re[1]),ge}static intersect(re,ge){const ae=Math.max(Math.min(re[0],re[2]),Math.min(ge[0],ge[2])),Se=Math.min(Math.max(re[0],re[2]),Math.max(ge[0],ge[2]));if(ae>Se)return null;const me=Math.max(Math.min(re[1],re[3]),Math.min(ge[1],ge[3])),Pe=Math.min(Math.max(re[1],re[3]),Math.max(ge[1],ge[3]));return me>Pe?null:[ae,me,Se,Pe]}static bezierBoundingBox(re,ge,ae,Se,me,Pe,Me,fe){const Re=[],Oe=[[],[]];let Fe,Ve,Ue,$e,Be,Ke,he,J;for(let Ce=0;Ce<2;++Ce){if(Ce===0?(Ve=6*re-12*ae+6*me,Fe=-3*re+9*ae-9*me+3*Me,Ue=3*ae-3*re):(Ve=6*ge-12*Se+6*Pe,Fe=-3*ge+9*Se-9*Pe+3*fe,Ue=3*Se-3*ge),Math.abs(Fe)<1e-12){if(Math.abs(Ve)<1e-12)continue;$e=-Ue/Ve,0<$e&&$e<1&&Re.push($e);continue}he=Ve*Ve-4*Ue*Fe,J=Math.sqrt(he),!(he<0)&&(Be=(-Ve+J)/(2*Fe),0<Be&&Be<1&&Re.push(Be),Ke=(-Ve-J)/(2*Fe),0<Ke&&Ke<1&&Re.push(Ke))}let B=Re.length,se;const ye=B;for(;B--;)$e=Re[B],se=1-$e,Oe[0][B]=se*se*se*re+3*se*se*$e*ae+3*se*$e*$e*me+$e*$e*$e*Me,Oe[1][B]=se*se*se*ge+3*se*se*$e*Se+3*se*$e*$e*Pe+$e*$e*$e*fe;return Oe[0][ye]=re,Oe[1][ye]=ge,Oe[0][ye+1]=Me,Oe[1][ye+1]=fe,Oe[0].length=Oe[1].length=ye+2,[Math.min(...Oe[0]),Math.min(...Oe[1]),Math.max(...Oe[0]),Math.max(...Oe[1])]}}t.Util=Ee;const oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Y(ce){if(ce[0]>=""){let ge;if(ce[0]===""&&ce[1]===""?ge="utf-16be":ce[0]===""&&ce[1]===""?ge="utf-16le":ce[0]===""&&ce[1]===""&&ce[2]===""&&(ge="utf-8"),ge)try{const ae=new TextDecoder(ge,{fatal:!0}),Se=X(ce);return ae.decode(Se)}catch(ae){ee(`stringToPDFString: "${ae}".`)}}const re=[];for(let ge=0,ae=ce.length;ge<ae;ge++){const Se=oe[ce.charCodeAt(ge)];re.push(Se?String.fromCharCode(Se):ce.charAt(ge))}return re.join("")}function Q(ce){return decodeURIComponent(escape(ce))}function de(ce){return unescape(encodeURIComponent(ce))}function be(ce){return typeof ce=="object"&&(ce==null?void 0:ce.byteLength)!==void 0}function Te(ce,re){if(ce.length!==re.length)return!1;for(let ge=0,ae=ce.length;ge<ae;ge++)if(ce[ge]!==re[ge])return!1;return!0}function ke(ce=new Date){return[ce.getUTCFullYear().toString(),(ce.getUTCMonth()+1).toString().padStart(2,"0"),ce.getUTCDate().toString().padStart(2,"0"),ce.getUTCHours().toString().padStart(2,"0"),ce.getUTCMinutes().toString().padStart(2,"0"),ce.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ne{constructor(){D(this,ie,!1);this.promise=new Promise((re,ge)=>{this.resolve=ae=>{ne(this,ie,!0),re(ae)},this.reject=ae=>{ne(this,ie,!0),ge(ae)}})}get settled(){return n(this,ie)}}ie=new WeakMap,t.PromiseCapability=Ne;let ze=null,We=null;function qe(ce){return ze||(ze=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,We=new Map([["","t"]])),ce.replaceAll(ze,(re,ge,ae)=>ge?ge.normalize("NFKC"):We.get(ae))}function Ge(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const ce=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(ce);else for(let re=0;re<32;re++)ce[re]=Math.floor(Math.random()*255);return H(ce)}const Je="pdfjs_internal_id_";t.AnnotationPrefix=Je},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,r,i,f,pt,C,Dt,c,s,o,S,y,_,a,l,d,Bt,P,b,oi,v,w;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_xfa_text=__w_pdfjs_require__(24);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(R){if(typeof R=="string"||R instanceof URL?R={url:R}:(0,_util.isArrayBuffer)(R)&&(R={data:R}),typeof R!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!R.url&&!R.data&&!R.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const k=new PDFDocumentLoadingTask,{docId:V}=k,z=R.url?getUrlProp(R.url):null,K=R.data?getDataProp(R.data):null,ve=R.httpHeaders||null,pe=R.withCredentials===!0,_e=R.password??null,$=R.range instanceof PDFDataRangeTransport?R.range:null,ee=Number.isInteger(R.rangeChunkSize)&&R.rangeChunkSize>0?R.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let G=R.worker instanceof PDFWorker?R.worker:null;const ue=R.verbosity,te=typeof R.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(R.docBaseUrl)?R.docBaseUrl:null,xe=typeof R.cMapUrl=="string"?R.cMapUrl:null,Ie=R.cMapPacked!==!1,le=R.CMapReaderFactory||DefaultCMapReaderFactory,I=typeof R.standardFontDataUrl=="string"?R.standardFontDataUrl:null,F=R.StandardFontDataFactory||DefaultStandardFontDataFactory,m=R.stopAtErrors!==!0,g=Number.isInteger(R.maxImageSize)&&R.maxImageSize>-1?R.maxImageSize:-1,N=R.isEvalSupported!==!1,U=typeof R.isOffscreenCanvasSupported=="boolean"?R.isOffscreenCanvasSupported:!_util.isNodeJS,O=Number.isInteger(R.canvasMaxAreaInBytes)?R.canvasMaxAreaInBytes:-1,H=typeof R.disableFontFace=="boolean"?R.disableFontFace:_util.isNodeJS,X=R.fontExtraProperties===!0,M=R.enableXfa===!0,T=R.ownerDocument||globalThis.document,W=R.disableRange===!0,Z=R.disableStream===!0,q=R.disableAutoFetch===!0,we=R.pdfBug===!0,Ae=$?$.length:R.length??NaN,Ee=typeof R.useSystemFonts=="boolean"?R.useSystemFonts:!_util.isNodeJS&&!H,oe=typeof R.useWorkerFetch=="boolean"?R.useWorkerFetch:le===_display_utils.DOMCMapReaderFactory&&F===_display_utils.DOMStandardFontDataFactory&&xe&&I&&(0,_display_utils.isValidFetchUrl)(xe,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(I,document.baseURI),Y=R.canvasFactory||new DefaultCanvasFactory({ownerDocument:T}),Q=R.filterFactory||new DefaultFilterFactory({docId:V,ownerDocument:T}),de=null;(0,_util.setVerbosityLevel)(ue);const be={canvasFactory:Y,filterFactory:Q};if(oe||(be.cMapReaderFactory=new le({baseUrl:xe,isCompressed:Ie}),be.standardFontDataFactory=new F({baseUrl:I})),!G){const Ne={verbosity:ue,port:_worker_options.GlobalWorkerOptions.workerPort};G=Ne.port?PDFWorker.fromPort(Ne):new PDFWorker(Ne),k._worker=G}const Te={docId:V,apiVersion:"4.0.8",data:K,password:_e,disableAutoFetch:q,rangeChunkSize:ee,length:Ae,docBaseUrl:te,enableXfa:M,evaluatorOptions:{maxImageSize:g,disableFontFace:H,ignoreErrors:m,isEvalSupported:N,isOffscreenCanvasSupported:U,canvasMaxAreaInBytes:O,fontExtraProperties:X,useSystemFonts:Ee,cMapUrl:oe?xe:null,standardFontDataUrl:oe?I:null}},ke={ignoreErrors:m,isEvalSupported:N,disableFontFace:H,fontExtraProperties:X,enableXfa:M,ownerDocument:T,disableAutoFetch:q,pdfBug:we,styleElement:de};return G.promise.then(function(){if(k.destroyed)throw new Error("Loading aborted");const Ne=_fetchDocument(G,Te),ze=new Promise(function(We){let qe;$?qe=new _transport_stream.PDFDataTransportStream({length:Ae,initialData:$.initialData,progressiveDone:$.progressiveDone,contentDispositionFilename:$.contentDispositionFilename,disableRange:W,disableStream:Z},$):K||(qe=(Je=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Je):(0,_display_utils.isValidFetchUrl)(Je.url)?new _displayFetch_stream.PDFFetchStream(Je):new _displayNetwork.PDFNetworkStream(Je))({url:z,length:Ae,httpHeaders:ve,withCredentials:pe,rangeChunkSize:ee,disableRange:W,disableStream:Z})),We(qe)});return Promise.all([Ne,ze]).then(function([We,qe]){if(k.destroyed)throw new Error("Loading aborted");const Ge=new _message_handler.MessageHandler(V,We,G.port),Je=new WorkerTransport(Ge,k,qe,ke,be);k._transport=Je,Ge.send("Ready",null)})}).catch(k._capability.reject),k}async function _fetchDocument(R,k){if(R.destroyed)throw new Error("Worker was destroyed");const V=await R.messageHandler.sendWithPromise("GetDocRequest",k,k.data?[k.data.buffer]:null);if(R.destroyed)throw new Error("Worker was destroyed");return V}function getUrlProp(R){if(R instanceof URL)return R.href;try{return new URL(R,window.location).href}catch{if(_util.isNodeJS&&typeof R=="string")return R}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(R){if(_util.isNodeJS&&typeof Buffer<"u"&&R instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(R instanceof Uint8Array&&R.byteLength===R.buffer.byteLength)return R;if(typeof R=="string")return(0,_util.stringToBytes)(R);if(typeof R=="object"&&!isNaN(R==null?void 0:R.length)||(0,_util.isArrayBuffer)(R))return new Uint8Array(R);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const t=class t{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ft(t,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var k,V,z;this.destroyed=!0;try{(k=this._worker)!=null&&k.port&&(this._worker._pendingDestroy=!0),await((V=this._transport)==null?void 0:V.destroy())}catch(K){throw(z=this._worker)!=null&&z.port&&delete this._worker._pendingDestroy,K}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,D(t,e,0);let PDFDocumentLoadingTask=t;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(k,V,z=!1,K=null){this.length=k,this.initialData=V,this.progressiveDone=z,this.contentDispositionFilename=K,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(k){this._rangeListeners.push(k)}addProgressListener(k){this._progressListeners.push(k)}addProgressiveReadListener(k){this._progressiveReadListeners.push(k)}addProgressiveDoneListener(k){this._progressiveDoneListeners.push(k)}onDataRange(k,V){for(const z of this._rangeListeners)z(k,V)}onDataProgress(k,V){this._readyCapability.promise.then(()=>{for(const z of this._progressListeners)z(k,V)})}onDataProgressiveRead(k){this._readyCapability.promise.then(()=>{for(const V of this._progressiveReadListeners)V(k)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const k of this._progressiveDoneListeners)k()})}transportReady(){this._readyCapability.resolve()}requestDataRange(k,V){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(k,V){this._pdfInfo=k,this._transport=V}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(k){return this._transport.getPage(k)}getPageIndex(k){return this._transport.getPageIndex(k)}getDestinations(){return this._transport.getDestinations()}getDestination(k){return this._transport.getDestination(k)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(k=!1){return this._transport.startCleanup(k||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(k,V,z,K=!1){D(this,f);D(this,C);D(this,r,null);D(this,i,!1);this._pageIndex=k,this._pageInfo=V,this._transport=z,this._stats=K?new _display_utils.StatTimer:null,this._pdfBug=K,this.commonObjs=z.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:k,rotation:V=this.rotate,offsetX:z=0,offsetY:K=0,dontFlip:ve=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:k,rotation:V,offsetX:z,offsetY:K,dontFlip:ve})}getAnnotations({intent:k="display"}={}){const V=this._transport.getRenderingIntent(k);return this._transport.getAnnotations(this._pageIndex,V.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var k;return((k=this._transport._htmlForXfa)==null?void 0:k.children[this._pageIndex])||null}render({canvasContext:k,viewport:V,intent:z="display",annotationMode:K=_util.AnnotationMode.ENABLE,transform:ve=null,background:pe=null,optionalContentConfigPromise:_e=null,annotationCanvasMap:$=null,pageColors:ee=null,printAnnotationStorage:G=null}){var F,m;(F=this._stats)==null||F.time("Overall");const ue=this._transport.getRenderingIntent(z,K,G);ne(this,i,!1),j(this,C,Dt).call(this),_e||(_e=this._transport.getOptionalContentConfig());let te=this._intentStates.get(ue.cacheKey);te||(te=Object.create(null),this._intentStates.set(ue.cacheKey,te)),te.streamReaderCancelTimeout&&(clearTimeout(te.streamReaderCancelTimeout),te.streamReaderCancelTimeout=null);const xe=!!(ue.renderingIntent&_util.RenderingIntentFlag.PRINT);te.displayReadyCapability||(te.displayReadyCapability=new _util.PromiseCapability,te.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(m=this._stats)==null||m.time("Page Request"),this._pumpOperatorList(ue));const Ie=g=>{var N,U;te.renderTasks.delete(le),(this._maybeCleanupAfterRender||xe)&&ne(this,i,!0),j(this,f,pt).call(this,!xe),g?(le.capability.reject(g),this._abortOperatorList({intentState:te,reason:g instanceof Error?g:new Error(g)})):le.capability.resolve(),(N=this._stats)==null||N.timeEnd("Rendering"),(U=this._stats)==null||U.timeEnd("Overall")},le=new InternalRenderTask({callback:Ie,params:{canvasContext:k,viewport:V,transform:ve,background:pe},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:$,operatorList:te.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!xe,pdfBug:this._pdfBug,pageColors:ee});(te.renderTasks||(te.renderTasks=new Set)).add(le);const I=le.task;return Promise.all([te.displayReadyCapability.promise,_e]).then(([g,N])=>{var U;if(this.destroyed){Ie();return}(U=this._stats)==null||U.time("Rendering"),le.initializeGraphics({transparency:g,optionalContentConfig:N}),le.operatorListChanged()}).catch(Ie),I}getOperatorList({intent:k="display",annotationMode:V=_util.AnnotationMode.ENABLE,printAnnotationStorage:z=null}={}){var $;function K(){pe.operatorList.lastChunk&&(pe.opListReadCapability.resolve(pe.operatorList),pe.renderTasks.delete(_e))}const ve=this._transport.getRenderingIntent(k,V,z,!0);let pe=this._intentStates.get(ve.cacheKey);pe||(pe=Object.create(null),this._intentStates.set(ve.cacheKey,pe));let _e;return pe.opListReadCapability||(_e=Object.create(null),_e.operatorListChanged=K,pe.opListReadCapability=new _util.PromiseCapability,(pe.renderTasks||(pe.renderTasks=new Set)).add(_e),pe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},($=this._stats)==null||$.time("Page Request"),this._pumpOperatorList(ve)),pe.opListReadCapability.promise}streamTextContent({includeMarkedContent:k=!1,disableNormalization:V=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:k===!0,disableNormalization:V===!0},{highWaterMark:100,size(K){return K.items.length}})}getTextContent(k={}){if(this._transport._htmlForXfa)return this.getXfa().then(z=>_xfa_text.XfaText.textContent(z));const V=this.streamTextContent(k);return new Promise(function(z,K){function ve(){pe.read().then(function({value:$,done:ee}){if(ee){z(_e);return}Object.assign(_e.styles,$.styles),_e.items.push(...$.items),ve()},K)}const pe=V.getReader(),_e={items:[],styles:Object.create(null)};ve()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const k=[];for(const V of this._intentStates.values())if(this._abortOperatorList({intentState:V,reason:new Error("Page was destroyed."),force:!0}),!V.opListReadCapability)for(const z of V.renderTasks)k.push(z.completed),z.cancel();return this.objs.clear(),ne(this,i,!1),j(this,C,Dt).call(this),Promise.all(k)}cleanup(k=!1){ne(this,i,!0);const V=j(this,f,pt).call(this,!1);return k&&V&&this._stats&&(this._stats=new _display_utils.StatTimer),V}_startRenderPage(k,V){var K,ve;const z=this._intentStates.get(V);z&&((K=this._stats)==null||K.timeEnd("Page Request"),(ve=z.displayReadyCapability)==null||ve.resolve(k))}_renderPageChunk(k,V){for(let z=0,K=k.length;z<K;z++)V.operatorList.fnArray.push(k.fnArray[z]),V.operatorList.argsArray.push(k.argsArray[z]);V.operatorList.lastChunk=k.lastChunk,V.operatorList.separateAnnots=k.separateAnnots;for(const z of V.renderTasks)z.operatorListChanged();k.lastChunk&&j(this,f,pt).call(this,!0)}_pumpOperatorList({renderingIntent:k,cacheKey:V,annotationStorageSerializable:z}){const{map:K,transfers:ve}=z,_e=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:k,cacheKey:V,annotationStorage:K},ve).getReader(),$=this._intentStates.get(V);$.streamReader=_e;const ee=()=>{_e.read().then(({value:G,done:ue})=>{if(ue){$.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(G,$),ee())},G=>{if($.streamReader=null,!this._transport.destroyed){if($.operatorList){$.operatorList.lastChunk=!0;for(const ue of $.renderTasks)ue.operatorListChanged();j(this,f,pt).call(this,!0)}if($.displayReadyCapability)$.displayReadyCapability.reject(G);else if($.opListReadCapability)$.opListReadCapability.reject(G);else throw G}})};ee()}_abortOperatorList({intentState:k,reason:V,force:z=!1}){if(k.streamReader){if(k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null),!z){if(k.renderTasks.size>0)return;if(V instanceof _display_utils.RenderingCancelledException){let K=RENDERING_CANCELLED_TIMEOUT;V.extraDelay>0&&V.extraDelay<1e3&&(K+=V.extraDelay),k.streamReaderCancelTimeout=setTimeout(()=>{k.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:k,reason:V,force:!0})},K);return}}if(k.streamReader.cancel(new _util.AbortException(V.message)).catch(()=>{}),k.streamReader=null,!this._transport.destroyed){for(const[K,ve]of this._intentStates)if(ve===k){this._intentStates.delete(K);break}this.cleanup()}}}get stats(){return this._stats}}r=new WeakMap,i=new WeakMap,f=new WeakSet,pt=function(k=!1){if(j(this,C,Dt).call(this),!n(this,i)||this.destroyed)return!1;if(k)return ne(this,r,setTimeout(()=>{ne(this,r,null),j(this,f,pt).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:V,operatorList:z}of this._intentStates.values())if(V.size>0||!z.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ne(this,i,!1),!0},C=new WeakSet,Dt=function(){n(this,r)&&(clearTimeout(n(this,r)),ne(this,r,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){D(this,c,new Set);D(this,s,Promise.resolve())}postMessage(k,V){const z={data:structuredClone(k,V?{transfer:V}:null)};n(this,s).then(()=>{for(const K of n(this,c))K.call(this,z)})}addEventListener(k,V){n(this,c).add(V)}removeEventListener(k,V){n(this,c).delete(V)}terminate(){n(this,c).clear()}}c=new WeakMap,s=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const R=(o=document==null?void 0:document.currentScript)==null?void 0:o.src;R&&(PDFWorkerUtil.fallbackWorkerSrc=R.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(R,k){let V;try{if(V=new URL(R),!V.origin||V.origin==="null")return!1}catch{return!1}const z=new URL(k,V);return V.origin===z.origin},PDFWorkerUtil.createCDNWrapper=function(R){const k=`importScripts("${R}");`;return URL.createObjectURL(new Blob([k]))}}const _PDFWorker=class _PDFWorker{constructor({name:R=null,port:k=null,verbosity:V=(0,_util.getVerbosityLevel)()}={}){var z;if(this.name=R,this.destroyed=!1,this.verbosity=V,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,k){if((z=n(_PDFWorker,S))!=null&&z.has(k))throw new Error("Cannot use more than one PDFWorker per port.");(n(_PDFWorker,S)||ne(_PDFWorker,S,new WeakMap)).set(k,this),this._initializeFromPort(k);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(R){this._port=R,this._messageHandler=new _message_handler.MessageHandler("main","worker",R),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:R}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,R)||(R=PDFWorkerUtil.createCDNWrapper(new URL(R,window.location).href));const k=new Worker(R),V=new _message_handler.MessageHandler("main","worker",k),z=()=>{k.removeEventListener("error",K),V.destroy(),k.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},K=()=>{this._webWorker||z()};k.addEventListener("error",K),V.on("test",pe=>{if(k.removeEventListener("error",K),this.destroyed){z();return}pe?(this._messageHandler=V,this._port=k,this._webWorker=k,this._readyCapability.resolve(),V.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),V.destroy(),k.terminate())}),V.on("ready",pe=>{if(k.removeEventListener("error",K),this.destroyed){z();return}try{ve()}catch{this._setupFakeWorker()}});const ve=()=>{const pe=new Uint8Array;V.send("test",pe,[pe.buffer])};ve();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(R=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const k=new LoopbackPort;this._port=k;const V=`fake${PDFWorkerUtil.fakeWorkerId++}`,z=new _message_handler.MessageHandler(V+"_worker",V,k);R.setup(z,k);const K=new _message_handler.MessageHandler(V,V+"_worker",k);this._messageHandler=K,this._readyCapability.resolve(),K.send("configure",{verbosity:this.verbosity})}).catch(R=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${R.message}".`))})}destroy(){var R;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(R=n(_PDFWorker,S))==null||R.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(R){var V;if(!(R!=null&&R.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const k=(V=n(this,S))==null?void 0:V.get(R.port);if(k){if(k._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return k}return new _PDFWorker(R)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var R;try{return((R=globalThis.pdfjsWorker)==null?void 0:R.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};S=new WeakMap,D(_PDFWorker,S,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(k,V,z,K,ve){D(this,d);D(this,y,new Map);D(this,_,new Map);D(this,a,new Map);D(this,l,null);this.messageHandler=k,this.loadingTask=V,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:K.ownerDocument,styleElement:K.styleElement}),this._params=K,this.canvasFactory=ve.canvasFactory,this.filterFactory=ve.filterFactory,this.cMapReaderFactory=ve.cMapReaderFactory,this.standardFontDataFactory=ve.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=z,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(k,V=_util.AnnotationMode.ENABLE,z=null,K=!1){let ve=_util.RenderingIntentFlag.DISPLAY,pe=_annotation_storage.SerializableEmpty;switch(k){case"any":ve=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ve=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${k}`)}switch(V){case _util.AnnotationMode.DISABLE:ve+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ve+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ve+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,pe=(ve&_util.RenderingIntentFlag.PRINT&&z instanceof _annotation_storage.PrintAnnotationStorage?z:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${V}`)}return K&&(ve+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ve,cacheKey:`${ve}_${pe.hash}`,annotationStorageSerializable:pe}}destroy(){var z;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(z=n(this,l))==null||z.reject(new Error("Worker was destroyed during onPassword callback"));const k=[];for(const K of n(this,_).values())k.push(K._destroy());n(this,_).clear(),n(this,a).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const V=this.messageHandler.sendWithPromise("Terminate",null);return k.push(V),Promise.all(k).then(()=>{var K;this.commonObjs.clear(),this.fontLoader.clear(),n(this,y).clear(),this.filterFactory.destroy(),(K=this._networkStream)==null||K.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:k,loadingTask:V}=this;k.on("GetReader",(z,K)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ve=>{this._lastProgress={loaded:ve.loaded,total:ve.total}},K.onPull=()=>{this._fullReader.read().then(function({value:ve,done:pe}){if(pe){K.close();return}(0,_util.assert)(ve instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),K.enqueue(new Uint8Array(ve),1,[ve])}).catch(ve=>{K.error(ve)})},K.onCancel=ve=>{this._fullReader.cancel(ve),K.ready.catch(pe=>{if(!this.destroyed)throw pe})}}),k.on("ReaderHeadersReady",z=>{const K=new _util.PromiseCapability,ve=this._fullReader;return ve.headersReady.then(()=>{var pe;(!ve.isStreamingSupported||!ve.isRangeSupported)&&(this._lastProgress&&((pe=V.onProgress)==null||pe.call(V,this._lastProgress)),ve.onProgress=_e=>{var $;($=V.onProgress)==null||$.call(V,{loaded:_e.loaded,total:_e.total})}),K.resolve({isStreamingSupported:ve.isStreamingSupported,isRangeSupported:ve.isRangeSupported,contentLength:ve.contentLength})},K.reject),K.promise}),k.on("GetRangeReader",(z,K)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ve=this._networkStream.getRangeReader(z.begin,z.end);if(!ve){K.close();return}K.onPull=()=>{ve.read().then(function({value:pe,done:_e}){if(_e){K.close();return}(0,_util.assert)(pe instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),K.enqueue(new Uint8Array(pe),1,[pe])}).catch(pe=>{K.error(pe)})},K.onCancel=pe=>{ve.cancel(pe),K.ready.catch(_e=>{if(!this.destroyed)throw _e})}}),k.on("GetDoc",({pdfInfo:z})=>{this._numPages=z.numPages,this._htmlForXfa=z.htmlForXfa,delete z.htmlForXfa,V._capability.resolve(new PDFDocumentProxy(z,this))}),k.on("DocException",function(z){let K;switch(z.name){case"PasswordException":K=new _util.PasswordException(z.message,z.code);break;case"InvalidPDFException":K=new _util.InvalidPDFException(z.message);break;case"MissingPDFException":K=new _util.MissingPDFException(z.message);break;case"UnexpectedResponseException":K=new _util.UnexpectedResponseException(z.message,z.status);break;case"UnknownErrorException":K=new _util.UnknownErrorException(z.message,z.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}V._capability.reject(K)}),k.on("PasswordRequest",z=>{if(ne(this,l,new _util.PromiseCapability),V.onPassword){const K=ve=>{ve instanceof Error?n(this,l).reject(ve):n(this,l).resolve({password:ve})};try{V.onPassword(K,z.code)}catch(ve){n(this,l).reject(ve)}}else n(this,l).reject(new _util.PasswordException(z.message,z.code));return n(this,l).promise}),k.on("DataLoaded",z=>{var K;(K=V.onProgress)==null||K.call(V,{loaded:z.length,total:z.length}),this.downloadInfoCapability.resolve(z)}),k.on("StartRenderPage",z=>{if(this.destroyed)return;n(this,_).get(z.pageIndex)._startRenderPage(z.transparency,z.cacheKey)}),k.on("commonobj",([z,K,ve])=>{var pe;if(!this.destroyed&&!this.commonObjs.has(z))switch(K){case"Font":const _e=this._params;if("error"in ve){const G=ve.error;(0,_util.warn)(`Error during font loading: ${G}`),this.commonObjs.resolve(z,G);break}const $=_e.pdfBug&&((pe=globalThis.FontInspector)!=null&&pe.enabled)?(G,ue)=>globalThis.FontInspector.fontAdded(G,ue):null,ee=new _font_loader.FontFaceObject(ve,{isEvalSupported:_e.isEvalSupported,disableFontFace:_e.disableFontFace,ignoreErrors:_e.ignoreErrors,inspectFont:$});this.fontLoader.bind(ee).catch(G=>k.sendWithPromise("FontFallback",{id:z})).finally(()=>{!_e.fontExtraProperties&&ee.data&&(ee.data=null),this.commonObjs.resolve(z,ee)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(z,ve);break;default:throw new Error(`Got unknown common object type ${K}`)}}),k.on("obj",([z,K,ve,pe])=>{var $;if(this.destroyed)return;const _e=n(this,_).get(K);if(!_e.objs.has(z))switch(ve){case"Image":if(_e.objs.resolve(z,pe),pe){let ee;if(pe.bitmap){const{width:G,height:ue}=pe;ee=G*ue*4}else ee=(($=pe.data)==null?void 0:$.length)||0;ee>_util.MAX_IMAGE_SIZE_TO_CACHE&&(_e._maybeCleanupAfterRender=!0)}break;case"Pattern":_e.objs.resolve(z,pe);break;default:throw new Error(`Got unknown object type ${ve}`)}}),k.on("DocProgress",z=>{var K;this.destroyed||(K=V.onProgress)==null||K.call(V,{loaded:z.loaded,total:z.total})}),k.on("FetchBuiltInCMap",z=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(z):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),k.on("FetchStandardFontData",z=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(z):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var z;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:k,transfers:V}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:k,filename:((z=this._fullReader)==null?void 0:z.filename)??null},V).finally(()=>{this.annotationStorage.resetModified()})}getPage(k){if(!Number.isInteger(k)||k<=0||k>this._numPages)return Promise.reject(new Error("Invalid page request."));const V=k-1,z=n(this,a).get(V);if(z)return z;const K=this.messageHandler.sendWithPromise("GetPage",{pageIndex:V}).then(ve=>{if(this.destroyed)throw new Error("Transport destroyed");const pe=new PDFPageProxy(V,ve,this,this._params.pdfBug);return n(this,_).set(V,pe),pe});return n(this,a).set(V,K),K}getPageIndex(k){return typeof k!="object"||k===null||!Number.isInteger(k.num)||k.num<0||!Number.isInteger(k.gen)||k.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:k.num,gen:k.gen})}getAnnotations(k,V){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:k,intent:V})}getFieldObjects(){return j(this,d,Bt).call(this,"GetFieldObjects")}hasJSActions(){return j(this,d,Bt).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(k){return typeof k!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:k})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return j(this,d,Bt).call(this,"GetDocJSActions")}getPageJSActions(k){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:k})}getStructTree(k){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:k})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(k=>new _optional_content_config.OptionalContentConfig(k))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const k="GetMetadata",V=n(this,y).get(k);if(V)return V;const z=this.messageHandler.sendWithPromise(k,null).then(K=>{var ve,pe;return{info:K[0],metadata:K[1]?new _metadata.Metadata(K[1]):null,contentDispositionFilename:((ve=this._fullReader)==null?void 0:ve.filename)??null,contentLength:((pe=this._fullReader)==null?void 0:pe.contentLength)??null}});return n(this,y).set(k,z),z}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(k=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const V of n(this,_).values())if(!V.cleanup())throw new Error(`startCleanup: Page ${V.pageNumber} is currently rendering.`);this.commonObjs.clear(),k||this.fontLoader.clear(),n(this,y).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:k,enableXfa:V}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:k,enableXfa:V})}}y=new WeakMap,_=new WeakMap,a=new WeakMap,l=new WeakMap,d=new WeakSet,Bt=function(k,V=null){const z=n(this,y).get(k);if(z)return z;const K=this.messageHandler.sendWithPromise(k,V);return n(this,y).set(k,K),K};class PDFObjects{constructor(){D(this,b);D(this,P,Object.create(null))}get(k,V=null){if(V){const K=j(this,b,oi).call(this,k);return K.capability.promise.then(()=>V(K.data)),null}const z=n(this,P)[k];if(!(z!=null&&z.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${k}.`);return z.data}has(k){const V=n(this,P)[k];return(V==null?void 0:V.capability.settled)||!1}resolve(k,V=null){const z=j(this,b,oi).call(this,k);z.data=V,z.capability.resolve()}clear(){var k;for(const V in n(this,P)){const{data:z}=n(this,P)[V];(k=z==null?void 0:z.bitmap)==null||k.close()}ne(this,P,Object.create(null))}}P=new WeakMap,b=new WeakSet,oi=function(k){var V;return(V=n(this,P))[k]||(V[k]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(k){D(this,v,null);ne(this,v,k),this.onContinue=null}get promise(){return n(this,v).capability.promise}cancel(k=0){n(this,v).cancel(null,k)}get separateAnnots(){const{separateAnnots:k}=n(this,v).operatorList;if(!k)return!1;const{annotationCanvasMap:V}=n(this,v);return k.form||k.canvas&&(V==null?void 0:V.size)>0}}v=new WeakMap,exports.RenderTask=RenderTask;const x=class x{constructor({callback:k,params:V,objs:z,commonObjs:K,annotationCanvasMap:ve,operatorList:pe,pageIndex:_e,canvasFactory:$,filterFactory:ee,useRequestAnimationFrame:G=!1,pdfBug:ue=!1,pageColors:te=null}){this.callback=k,this.params=V,this.objs=z,this.commonObjs=K,this.annotationCanvasMap=ve,this.operatorListIdx=null,this.operatorList=pe,this._pageIndex=_e,this.canvasFactory=$,this.filterFactory=ee,this._pdfBug=ue,this.pageColors=te,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=G===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=V.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:k=!1,optionalContentConfig:V}){var _e,$;if(this.cancelled)return;if(this._canvas){if(n(x,w).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");n(x,w).add(this._canvas)}this._pdfBug&&((_e=globalThis.StepperManager)!=null&&_e.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:z,viewport:K,transform:ve,background:pe}=this.params;this.gfx=new _canvas.CanvasGraphics(z,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:V},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ve,viewport:K,transparency:k,background:pe}),this.operatorListIdx=0,this.graphicsReady=!0,($=this.graphicsReadyCallback)==null||$.call(this)}cancel(k=null,V=0){var z;this.running=!1,this.cancelled=!0,(z=this.gfx)==null||z.endDrawing(),n(x,w).delete(this._canvas),this.callback(k||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,V))}operatorListChanged(){var k;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(k=this.stepper)==null||k.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),n(x,w).delete(this._canvas),this.callback())))}};w=new WeakMap,D(x,w,new WeakSet);let InternalRenderTask=x;const version="4.0.8";exports.version=version;const build="da4fdc76a";exports.build=build},(e,t,r)=>{var s,o,S,Tn,_;Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var i=r(1),f=r(4),L=r(8);const C=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=C;class u{constructor(){D(this,S);D(this,s,!1);D(this,o,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(l,d){const E=n(this,o).get(l);return E===void 0?d:Object.assign(d,E)}getRawValue(l){return n(this,o).get(l)}remove(l){if(n(this,o).delete(l),n(this,o).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const d of n(this,o).values())if(d instanceof f.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(l,d){const E=n(this,o).get(l);let P=!1;if(E!==void 0)for(const[b,A]of Object.entries(d))E[b]!==A&&(P=!0,E[b]=A);else P=!0,n(this,o).set(l,d);P&&j(this,S,Tn).call(this),d instanceof f.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(d.constructor._type)}has(l){return n(this,o).has(l)}getAll(){return n(this,o).size>0?(0,i.objectFromMap)(n(this,o)):null}setAll(l){for(const[d,E]of Object.entries(l))this.setValue(d,E)}get size(){return n(this,o).size}resetModified(){n(this,s)&&(ne(this,s,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new c(this)}get serializable(){if(n(this,o).size===0)return C;const l=new Map,d=new L.MurmurHash3_64,E=[],P=Object.create(null);let b=!1;for(const[A,v]of n(this,o)){const w=v instanceof f.AnnotationEditor?v.serialize(!1,P):v;w&&(l.set(A,w),d.update(`${A}:${JSON.stringify(w)}`),b||(b=!!w.bitmap))}if(b)for(const A of l.values())A.bitmap&&E.push(A.bitmap);return l.size>0?{map:l,hash:d.hexdigest(),transfers:E}:C}}s=new WeakMap,o=new WeakMap,S=new WeakSet,Tn=function(){n(this,s)||(ne(this,s,!0),typeof this.onSetModified=="function"&&this.onSetModified())},t.AnnotationStorage=u;class c extends u{constructor(d){super();D(this,_,void 0);const{map:E,hash:P,transfers:b}=d.serializable,A=structuredClone(E,b?{transfer:b}:null);ne(this,_,{map:A,hash:P,transfers:b})}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return n(this,_)}}_=new WeakMap,t.PrintAnnotationStorage=c},(e,t,r)=>{var c,s,o,S,y,_,a,l,d,E,P,b,A,v,w,x,R,li,V,ci,K,di,pe,hi,$,Rn,G,Mn,te,Ln,Ie,ui,I,fi,m,xn;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var i=r(5),f=r(1),L=r(6);const N=class N{constructor(O){D(this,R);D(this,V);D(this,pe);D(this,$);D(this,G);D(this,te);D(this,Ie);D(this,I);D(this,m);D(this,c,"");D(this,s,!1);D(this,o,null);D(this,S,null);D(this,y,null);D(this,_,!1);D(this,a,!1);D(this,l,null);D(this,d,this.focusin.bind(this));D(this,E,this.focusout.bind(this));D(this,P,!1);D(this,b,!1);D(this,A,!1);D(this,v,null);Qe(this,"_initialOptions",Object.create(null));Qe(this,"_uiManager",null);Qe(this,"_focusEventsAllowed",!0);Qe(this,"_l10nPromise",null);D(this,w,!1);D(this,x,N._zIndex++);this.constructor===N&&(0,f.unreachable)("Cannot initialize AnnotationEditor."),this.parent=O.parent,this.id=O.id,this.width=this.height=null,this.pageIndex=O.parent.pageIndex,this.name=O.name,this.div=null,this._uiManager=O.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=O.isCentered,this._structTreeParentId=null;const{rotation:H,rawDims:{pageWidth:X,pageHeight:M,pageX:T,pageY:W}}=this.parent.viewport;this.rotation=H,this.pageRotation=(360+H-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[X,M],this.pageTranslation=[T,W];const[Z,q]=this.parentDimensions;this.x=O.x/Z,this.y=O.y/q,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,f.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(O){const H=new u({id:O.parent.getNextId(),parent:O.parent,uiManager:O._uiManager});H.annotationElementId=O.annotationElementId,H.deleted=!0,H._uiManager.addToAnnotationStorage(H)}static initialize(O,H=null){if(N._l10nPromise||(N._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(M=>[M,O.get(M)]))),H!=null&&H.strings)for(const M of H.strings)N._l10nPromise.set(M,O.get(M));if(N._borderLineWidth!==-1)return;const X=getComputedStyle(document.documentElement);N._borderLineWidth=parseFloat(X.getPropertyValue("--outline-width"))||0}static updateDefaultParams(O,H){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(O){return!1}static paste(O,H){(0,f.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return n(this,w)}set _isDraggable(O){var H;ne(this,w,O),(H=this.div)==null||H.classList.toggle("draggable",O)}center(){const[O,H]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*H/(O*2),this.y+=this.width*O/(H*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*H/(O*2),this.y-=this.width*O/(H*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(O){this._uiManager.addCommands(O)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=n(this,x)}setParent(O){O!==null&&(this.pageIndex=O.pageIndex,this.pageDimensions=O.pageDimensions),this.parent=O}focusin(O){this._focusEventsAllowed&&(n(this,P)?ne(this,P,!1):this.parent.setSelected(this))}focusout(O){var X;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const H=O.relatedTarget;H!=null&&H.closest(`#${this.id}`)||(O.preventDefault(),(X=this.parent)!=null&&X.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(O,H,X,M){const[T,W]=this.parentDimensions;[X,M]=this.screenToPageTranslation(X,M),this.x=(O+X)/T,this.y=(H+M)/W,this.fixAndSetPosition()}translate(O,H){j(this,R,li).call(this,this.parentDimensions,O,H)}translateInPage(O,H){j(this,R,li).call(this,this.pageDimensions,O,H),this.div.scrollIntoView({block:"nearest"})}drag(O,H){const[X,M]=this.parentDimensions;if(this.x+=O/X,this.y+=H/M,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:we,y:Ae}=this.div.getBoundingClientRect();this.parent.findNewParent(this,we,Ae)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:T,y:W}=this;const[Z,q]=j(this,V,ci).call(this);T+=Z,W+=q,this.div.style.left=`${(100*T).toFixed(2)}%`,this.div.style.top=`${(100*W).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[O,H]=this.pageDimensions;let{x:X,y:M,width:T,height:W}=this;switch(T*=O,W*=H,X*=O,M*=H,this.rotation){case 0:X=Math.max(0,Math.min(O-T,X)),M=Math.max(0,Math.min(H-W,M));break;case 90:X=Math.max(0,Math.min(O-W,X)),M=Math.min(H,Math.max(T,M));break;case 180:X=Math.min(O,Math.max(T,X)),M=Math.min(H,Math.max(W,M));break;case 270:X=Math.min(O,Math.max(W,X)),M=Math.max(0,Math.min(H-T,M));break}this.x=X/=O,this.y=M/=H;const[Z,q]=j(this,V,ci).call(this);X+=Z,M+=q;const{style:we}=this.div;we.left=`${(100*X).toFixed(2)}%`,we.top=`${(100*M).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(O,H){var X;return j(X=N,K,di).call(X,O,H,this.parentRotation)}pageTranslationToScreen(O,H){var X;return j(X=N,K,di).call(X,O,H,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:O,pageDimensions:[H,X]}=this,M=H*O,T=X*O;return f.FeatureTest.isCSSRoundSupported?[Math.round(M),Math.round(T)]:[M,T]}setDims(O,H){var T;const[X,M]=this.parentDimensions;this.div.style.width=`${(100*O/X).toFixed(2)}%`,n(this,a)||(this.div.style.height=`${(100*H/M).toFixed(2)}%`),(T=n(this,o))==null||T.classList.toggle("small",O<N.SMALL_EDITOR_SIZE||H<N.SMALL_EDITOR_SIZE)}fixDims(){const{style:O}=this.div,{height:H,width:X}=O,M=X.endsWith("%"),T=!n(this,a)&&H.endsWith("%");if(M&&T)return;const[W,Z]=this.parentDimensions;M||(O.width=`${(100*parseFloat(X)/W).toFixed(2)}%`),!n(this,a)&&!T&&(O.height=`${(100*parseFloat(H)/Z).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(n(this,o))return;const O=ne(this,o,document.createElement("button"));O.className="altText";const H=await N._l10nPromise.get("editor_alt_text_button_label");O.textContent=H,O.setAttribute("aria-label",H),O.tabIndex="0",O.addEventListener("contextmenu",L.noContextMenu),O.addEventListener("pointerdown",M=>M.stopPropagation());const X=M=>{n(this,o).hidden=!0,M.preventDefault(),this._uiManager.editAltText(this)};O.addEventListener("click",X,{capture:!0}),O.addEventListener("keydown",M=>{M.target===O&&M.key==="Enter"&&(ne(this,_,!0),X(M))}),j(this,Ie,ui).call(this),this.div.append(O),N.SMALL_EDITOR_SIZE||(N.SMALL_EDITOR_SIZE=Math.min(128,Math.round(O.getBoundingClientRect().width*1.4)))}altTextFinish(){n(this,o)&&(n(this,o).hidden=!1,n(this,o).focus({focusVisible:n(this,_)}),ne(this,_,!1))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:n(this,c),decorative:n(this,s)}}set altTextData({altText:O,decorative:H}){n(this,c)===O&&n(this,s)===H||(ne(this,c,O),ne(this,s,H),j(this,Ie,ui).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",n(this,d)),this.div.addEventListener("focusout",n(this,E));const[O,H]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*H/O).toFixed(2)}%`,this.div.style.maxHeight=`${(100*O/H).toFixed(2)}%`);const[X,M]=this.getInitialTranslation();return this.translate(X,M),(0,i.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(O){const{isMac:H}=f.FeatureTest.platform;if(O.button!==0||O.ctrlKey&&H){O.preventDefault();return}ne(this,P,!0),j(this,m,xn).call(this,O)}moveInDOM(){n(this,v)&&clearTimeout(n(this,v)),ne(this,v,setTimeout(()=>{var O;ne(this,v,null),(O=this.parent)==null||O.moveEditorInDOM(this)},0))}_setParentAndPosition(O,H,X){O.changeParent(this),this.x=H,this.y=X,this.fixAndSetPosition()}getRect(O,H){const X=this.parentScale,[M,T]=this.pageDimensions,[W,Z]=this.pageTranslation,q=O/X,we=H/X,Ae=this.x*M,Ee=this.y*T,oe=this.width*M,Y=this.height*T;switch(this.rotation){case 0:return[Ae+q+W,T-Ee-we-Y+Z,Ae+q+oe+W,T-Ee-we+Z];case 90:return[Ae+we+W,T-Ee+q+Z,Ae+we+Y+W,T-Ee+q+oe+Z];case 180:return[Ae-q-oe+W,T-Ee+we+Z,Ae-q+W,T-Ee+we+Y+Z];case 270:return[Ae-we-Y+W,T-Ee-q-oe+Z,Ae-we+W,T-Ee-q+Z];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(O,H){const[X,M,T,W]=O,Z=T-X,q=W-M;switch(this.rotation){case 0:return[X,H-W,Z,q];case 90:return[X,H-M,q,Z];case 180:return[T,H-M,Z,q];case 270:return[T,H-W,q,Z];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ne(this,A,!0)}disableEditMode(){ne(this,A,!1)}isInEditMode(){return n(this,A)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var O,H;(O=this.div)==null||O.addEventListener("focusin",n(this,d)),(H=this.div)==null||H.addEventListener("focusout",n(this,E))}serialize(O=!1,H=null){(0,f.unreachable)("An editor must be serializable")}static deserialize(O,H,X){const M=new this.prototype.constructor({parent:H,id:H.getNextId(),uiManager:X});M.rotation=O.rotation;const[T,W]=M.pageDimensions,[Z,q,we,Ae]=M.getRectInCurrentCoords(O.rect,W);return M.x=Z/T,M.y=q/W,M.width=we/T,M.height=Ae/W,M}remove(){var O;this.div.removeEventListener("focusin",n(this,d)),this.div.removeEventListener("focusout",n(this,E)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(O=n(this,o))==null||O.remove(),ne(this,o,null),ne(this,S,null),n(this,v)&&(clearTimeout(n(this,v)),ne(this,v,null))}get isResizable(){return!1}makeResizable(){this.isResizable&&(j(this,$,Rn).call(this),n(this,l).classList.remove("hidden"))}select(){var O;this.makeResizable(),(O=this.div)==null||O.classList.add("selectedEditor")}unselect(){var O,H,X;(O=n(this,l))==null||O.classList.add("hidden"),(H=this.div)==null||H.classList.remove("selectedEditor"),(X=this.div)!=null&&X.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(O,H){}disableEditing(){n(this,o)&&(n(this,o).hidden=!0)}enableEditing(){n(this,o)&&(n(this,o).hidden=!1)}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return n(this,b)}set isEditing(O){ne(this,b,O),this.parent&&(O?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(O,H){ne(this,a,!0);const X=O/H,{style:M}=this.div;M.aspectRatio=X,M.height="auto"}static get MIN_SIZE(){return 16}};c=new WeakMap,s=new WeakMap,o=new WeakMap,S=new WeakMap,y=new WeakMap,_=new WeakMap,a=new WeakMap,l=new WeakMap,d=new WeakMap,E=new WeakMap,P=new WeakMap,b=new WeakMap,A=new WeakMap,v=new WeakMap,w=new WeakMap,x=new WeakMap,R=new WeakSet,li=function([O,H],X,M){[X,M]=this.screenToPageTranslation(X,M),this.x+=X/O,this.y+=M/H,this.fixAndSetPosition()},V=new WeakSet,ci=function(){const[O,H]=this.parentDimensions,{_borderLineWidth:X}=N,M=X/O,T=X/H;switch(this.rotation){case 90:return[-M,T];case 180:return[M,T];case 270:return[M,-T];default:return[-M,-T]}},K=new WeakSet,di=function(O,H,X){switch(X){case 90:return[H,-O];case 180:return[-O,-H];case 270:return[-H,O];default:return[O,H]}},pe=new WeakSet,hi=function(O){switch(O){case 90:{const[H,X]=this.pageDimensions;return[0,-H/X,X/H,0]}case 180:return[-1,0,0,-1];case 270:{const[H,X]=this.pageDimensions;return[0,H/X,-X/H,0]}default:return[1,0,0,1]}},$=new WeakSet,Rn=function(){if(n(this,l))return;ne(this,l,document.createElement("div")),n(this,l).classList.add("resizers");const O=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||O.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const H of O){const X=document.createElement("div");n(this,l).append(X),X.classList.add("resizer",H),X.addEventListener("pointerdown",j(this,G,Mn).bind(this,H)),X.addEventListener("contextmenu",L.noContextMenu)}this.div.prepend(n(this,l))},G=new WeakSet,Mn=function(O,H){H.preventDefault();const{isMac:X}=f.FeatureTest.platform;if(H.button!==0||H.ctrlKey&&X)return;j(this,I,fi).call(this,!1);const M=j(this,te,Ln).bind(this,O),T=this._isDraggable;this._isDraggable=!1;const W={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",M,W);const Z=this.x,q=this.y,we=this.width,Ae=this.height,Ee=this.parent.div.style.cursor,oe=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(H.target).cursor;const Y=()=>{this.parent.togglePointerEvents(!0),j(this,I,fi).call(this,!0),this._isDraggable=T,window.removeEventListener("pointerup",Y),window.removeEventListener("blur",Y),window.removeEventListener("pointermove",M,W),this.parent.div.style.cursor=Ee,this.div.style.cursor=oe;const Q=this.x,de=this.y,be=this.width,Te=this.height;Q===Z&&de===q&&be===we&&Te===Ae||this.addCommands({cmd:()=>{this.width=be,this.height=Te,this.x=Q,this.y=de;const[ke,Ne]=this.parentDimensions;this.setDims(ke*be,Ne*Te),this.fixAndSetPosition()},undo:()=>{this.width=we,this.height=Ae,this.x=Z,this.y=q;const[ke,Ne]=this.parentDimensions;this.setDims(ke*we,Ne*Ae),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Y),window.addEventListener("blur",Y)},te=new WeakSet,Ln=function(O,H){const[X,M]=this.parentDimensions,T=this.x,W=this.y,Z=this.width,q=this.height,we=N.MIN_SIZE/X,Ae=N.MIN_SIZE/M,Ee=Me=>Math.round(Me*1e4)/1e4,oe=j(this,pe,hi).call(this,this.rotation),Y=(Me,fe)=>[oe[0]*Me+oe[2]*fe,oe[1]*Me+oe[3]*fe],Q=j(this,pe,hi).call(this,360-this.rotation),de=(Me,fe)=>[Q[0]*Me+Q[2]*fe,Q[1]*Me+Q[3]*fe];let be,Te,ke=!1,Ne=!1;switch(O){case"topLeft":ke=!0,be=(Me,fe)=>[0,0],Te=(Me,fe)=>[Me,fe];break;case"topMiddle":be=(Me,fe)=>[Me/2,0],Te=(Me,fe)=>[Me/2,fe];break;case"topRight":ke=!0,be=(Me,fe)=>[Me,0],Te=(Me,fe)=>[0,fe];break;case"middleRight":Ne=!0,be=(Me,fe)=>[Me,fe/2],Te=(Me,fe)=>[0,fe/2];break;case"bottomRight":ke=!0,be=(Me,fe)=>[Me,fe],Te=(Me,fe)=>[0,0];break;case"bottomMiddle":be=(Me,fe)=>[Me/2,fe],Te=(Me,fe)=>[Me/2,0];break;case"bottomLeft":ke=!0,be=(Me,fe)=>[0,fe],Te=(Me,fe)=>[Me,0];break;case"middleLeft":Ne=!0,be=(Me,fe)=>[0,fe/2],Te=(Me,fe)=>[Me,fe/2];break}const ze=be(Z,q),We=Te(Z,q);let qe=Y(...We);const Ge=Ee(T+qe[0]),Je=Ee(W+qe[1]);let ie=1,ce=1,[re,ge]=this.screenToPageTranslation(H.movementX,H.movementY);if([re,ge]=de(re/X,ge/M),ke){const Me=Math.hypot(Z,q);ie=ce=Math.max(Math.min(Math.hypot(We[0]-ze[0]-re,We[1]-ze[1]-ge)/Me,1/Z,1/q),we/Z,Ae/q)}else Ne?ie=Math.max(we,Math.min(1,Math.abs(We[0]-ze[0]-re)))/Z:ce=Math.max(Ae,Math.min(1,Math.abs(We[1]-ze[1]-ge)))/q;const ae=Ee(Z*ie),Se=Ee(q*ce);qe=Y(...Te(ae,Se));const me=Ge-qe[0],Pe=Je-qe[1];this.width=ae,this.height=Se,this.x=me,this.y=Pe,this.setDims(X*ae,M*Se),this.fixAndSetPosition()},Ie=new WeakSet,ui=async function(){var M;const O=n(this,o);if(!O)return;if(!n(this,c)&&!n(this,s)){O.classList.remove("done"),(M=n(this,S))==null||M.remove();return}O.classList.add("done"),N._l10nPromise.get("editor_alt_text_edit_button_label").then(T=>{O.setAttribute("aria-label",T)});let H=n(this,S);if(!H){ne(this,S,H=document.createElement("span")),H.className="tooltip",H.setAttribute("role","tooltip");const T=H.id=`alt-text-tooltip-${this.id}`;O.setAttribute("aria-describedby",T);const W=100;O.addEventListener("mouseenter",()=>{ne(this,y,setTimeout(()=>{ne(this,y,null),n(this,S).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},W))}),O.addEventListener("mouseleave",()=>{var Z;n(this,y)&&(clearTimeout(n(this,y)),ne(this,y,null)),(Z=n(this,S))==null||Z.classList.remove("show")})}H.innerText=n(this,s)?await N._l10nPromise.get("editor_alt_text_decorative_tooltip"):n(this,c),H.parentNode||O.append(H);const X=this.getImageForAltText();X==null||X.setAttribute("aria-describedby",H.id)},I=new WeakSet,fi=function(O=!1){n(this,o)&&(!O&&n(this,y)&&(clearTimeout(n(this,y)),ne(this,y,null)),n(this,o).disabled=!O)},m=new WeakSet,xn=function(O){if(!this._isDraggable)return;const H=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let X,M;H&&(X={passive:!0,capture:!0},M=W=>{const[Z,q]=this.screenToPageTranslation(W.movementX,W.movementY);this._uiManager.dragSelectedEditors(Z,q)},window.addEventListener("pointermove",M,X));const T=()=>{if(window.removeEventListener("pointerup",T),window.removeEventListener("blur",T),H&&window.removeEventListener("pointermove",M,X),ne(this,P,!1),!this._uiManager.endDragSession()){const{isMac:W}=f.FeatureTest.platform;O.ctrlKey&&!W||O.shiftKey||O.metaKey&&W?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",T),window.addEventListener("blur",T)},D(N,K),Qe(N,"_borderLineWidth",-1),Qe(N,"_colorManager",new i.ColorManager),Qe(N,"_zIndex",1),Qe(N,"SMALL_EDITOR_SIZE",0);let C=N;t.AnnotationEditor=C;class u extends C{constructor(O){super(O),this.annotationElementId=O.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,t,r)=>{var _,a,l,d,E,pi,A,v,w,x,R,In,z,K,ve,pe,_e,$,ee,G,ue,te,xe,Ie,le,I,F,m,g,N,U,O,H,X,M,T,W,Z,q,we,Ae,Ee,oe,Y,Q,de,be,Te,kn,Ne,gi,We,mi,Ge,Vt,ie,_i,re,bi,ae,ot,me,Et,Me,On,Re,Fn,Fe,vi,Ue,St,Be,wi;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=L,t.opacityToHex=C;var i=r(1),f=r(6);function L(J,B,se){for(const ye of se)B.addEventListener(ye,J[ye].bind(J))}function C(J){return Math.round(Math.min(255,Math.max(1,255*J))).toString(16).padStart(2,"0")}class u{constructor(){D(this,_,0)}getId(){return`${i.AnnotationEditorPrefix}${ft(this,_)._++}`}}_=new WeakMap;const b=class b{constructor(){D(this,E);D(this,a,(0,i.getUuid)());D(this,l,0);D(this,d,null)}static get _isSVGFittingCanvas(){const B='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',ye=new OffscreenCanvas(1,3).getContext("2d"),Ce=new Image;Ce.src=B;const Le=Ce.decode().then(()=>(ye.drawImage(Ce,0,0,1,1,0,0,1,3),new Uint32Array(ye.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,i.shadow)(this,"_isSVGFittingCanvas",Le)}async getFromFile(B){const{lastModified:se,name:ye,size:Ce,type:Le}=B;return j(this,E,pi).call(this,`${se}_${ye}_${Ce}_${Le}`,B)}async getFromUrl(B){return j(this,E,pi).call(this,B,B)}async getFromId(B){n(this,d)||ne(this,d,new Map);const se=n(this,d).get(B);return se?se.bitmap?(se.refCounter+=1,se):se.file?this.getFromFile(se.file):this.getFromUrl(se.url):null}getSvgUrl(B){const se=n(this,d).get(B);return se!=null&&se.isSvg?se.svgUrl:null}deleteId(B){n(this,d)||ne(this,d,new Map);const se=n(this,d).get(B);se&&(se.refCounter-=1,se.refCounter===0&&(se.bitmap=null))}isValidId(B){return B.startsWith(`image_${n(this,a)}_`)}};a=new WeakMap,l=new WeakMap,d=new WeakMap,E=new WeakSet,pi=async function(B,se){n(this,d)||ne(this,d,new Map);let ye=n(this,d).get(B);if(ye===null)return null;if(ye!=null&&ye.bitmap)return ye.refCounter+=1,ye;try{ye||(ye={bitmap:null,id:`image_${n(this,a)}_${ft(this,l)._++}`,refCounter:0,isSvg:!1});let Ce;if(typeof se=="string"){ye.url=se;const Le=await fetch(se);if(!Le.ok)throw new Error(Le.statusText);Ce=await Le.blob()}else Ce=ye.file=se;if(Ce.type==="image/svg+xml"){const Le=b._isSVGFittingCanvas,He=new FileReader,je=new Image,De=new Promise((tt,Ye)=>{je.onload=()=>{ye.bitmap=je,ye.isSvg=!0,tt()},He.onload=async()=>{const Ze=ye.svgUrl=He.result;je.src=await Le?`${Ze}#svgView(preserveAspectRatio(none))`:Ze},je.onerror=He.onerror=Ye});He.readAsDataURL(Ce),await De}else ye.bitmap=await createImageBitmap(Ce);ye.refCounter=1}catch(Ce){console.error(Ce),ye=null}return n(this,d).set(B,ye),ye&&n(this,d).set(ye.id,ye),ye};let c=b;class s{constructor(B=128){D(this,A,[]);D(this,v,!1);D(this,w,void 0);D(this,x,-1);ne(this,w,B)}add({cmd:B,undo:se,mustExec:ye,type:Ce=NaN,overwriteIfSameType:Le=!1,keepUndo:He=!1}){if(ye&&B(),n(this,v))return;const je={cmd:B,undo:se,type:Ce};if(n(this,x)===-1){n(this,A).length>0&&(n(this,A).length=0),ne(this,x,0),n(this,A).push(je);return}if(Le&&n(this,A)[n(this,x)].type===Ce){He&&(je.undo=n(this,A)[n(this,x)].undo),n(this,A)[n(this,x)]=je;return}const De=n(this,x)+1;De===n(this,w)?n(this,A).splice(0,1):(ne(this,x,De),De<n(this,A).length&&n(this,A).splice(De)),n(this,A).push(je)}undo(){n(this,x)!==-1&&(ne(this,v,!0),n(this,A)[n(this,x)].undo(),ne(this,v,!1),ne(this,x,n(this,x)-1))}redo(){n(this,x)<n(this,A).length-1&&(ne(this,x,n(this,x)+1),ne(this,v,!0),n(this,A)[n(this,x)].cmd(),ne(this,v,!1))}hasSomethingToUndo(){return n(this,x)!==-1}hasSomethingToRedo(){return n(this,x)<n(this,A).length-1}destroy(){ne(this,A,null)}}A=new WeakMap,v=new WeakMap,w=new WeakMap,x=new WeakMap,t.CommandManager=s;class o{constructor(B){D(this,R);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:se}=i.FeatureTest.platform;for(const[ye,Ce,Le={}]of B)for(const He of ye){const je=He.startsWith("mac+");se&&je?(this.callbacks.set(He.slice(4),{callback:Ce,options:Le}),this.allKeys.add(He.split("+").at(-1))):!se&&!je&&(this.callbacks.set(He,{callback:Ce,options:Le}),this.allKeys.add(He.split("+").at(-1)))}}exec(B,se){if(!this.allKeys.has(se.key))return;const ye=this.callbacks.get(j(this,R,In).call(this,se));if(!ye)return;const{callback:Ce,options:{bubbles:Le=!1,args:He=[],checker:je=null}}=ye;je&&!je(B,se)||(Ce.bind(B,...He)(),Le||(se.stopPropagation(),se.preventDefault()))}}R=new WeakSet,In=function(B){B.altKey&&this.buffer.push("alt"),B.ctrlKey&&this.buffer.push("ctrl"),B.metaKey&&this.buffer.push("meta"),B.shiftKey&&this.buffer.push("shift"),this.buffer.push(B.key);const se=this.buffer.join("+");return this.buffer.length=0,se},t.KeyboardManager=o;const V=class V{get _colors(){const B=new Map([["CanvasText",null],["Canvas",null]]);return(0,f.getColorValues)(B),(0,i.shadow)(this,"_colors",B)}convert(B){const se=(0,f.getRGB)(B);if(!window.matchMedia("(forced-colors: active)").matches)return se;for(const[ye,Ce]of this._colors)if(Ce.every((Le,He)=>Le===se[He]))return V._colorsMapping.get(ye);return se}getHexCode(B){const se=this._colors.get(B);return se?i.Util.makeHexColor(...se):B}};Qe(V,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let S=V;t.ColorManager=S;const he=class he{constructor(B,se,ye,Ce,Le,He){D(this,Te);D(this,Ne);D(this,We);D(this,Ge);D(this,ie);D(this,re);D(this,ae);D(this,me);D(this,Me);D(this,Re);D(this,Fe);D(this,Ue);D(this,Be);D(this,z,null);D(this,K,new Map);D(this,ve,new Map);D(this,pe,null);D(this,_e,null);D(this,$,new s);D(this,ee,0);D(this,G,new Set);D(this,ue,null);D(this,te,null);D(this,xe,new Set);D(this,Ie,null);D(this,le,null);D(this,I,new u);D(this,F,!1);D(this,m,!1);D(this,g,null);D(this,N,i.AnnotationEditorType.NONE);D(this,U,new Set);D(this,O,null);D(this,H,this.blur.bind(this));D(this,X,this.focus.bind(this));D(this,M,this.copy.bind(this));D(this,T,this.cut.bind(this));D(this,W,this.paste.bind(this));D(this,Z,this.keydown.bind(this));D(this,q,this.onEditingAction.bind(this));D(this,we,this.onPageChanging.bind(this));D(this,Ae,this.onScaleChanging.bind(this));D(this,Ee,this.onRotationChanging.bind(this));D(this,oe,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});D(this,Y,[0,0]);D(this,Q,null);D(this,de,null);D(this,be,null);ne(this,de,B),ne(this,be,se),ne(this,pe,ye),this._eventBus=Ce,this._eventBus._on("editingaction",n(this,q)),this._eventBus._on("pagechanging",n(this,we)),this._eventBus._on("scalechanging",n(this,Ae)),this._eventBus._on("rotationchanging",n(this,Ee)),ne(this,_e,Le.annotationStorage),ne(this,Ie,Le.filterFactory),ne(this,O,He),this.viewParameters={realScale:f.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const B=he.prototype,se=Le=>{const{activeElement:He}=document;return He&&n(Le,de).contains(He)&&Le.hasSomethingToControl()},ye=this.TRANSLATE_SMALL,Ce=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new o([[["ctrl+a","mac+meta+a"],B.selectAll],[["ctrl+z","mac+meta+z"],B.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],B.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],B.delete],[["Escape","mac+Escape"],B.unselectAll],[["ArrowLeft","mac+ArrowLeft"],B.translateSelectedEditors,{args:[-ye,0],checker:se}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],B.translateSelectedEditors,{args:[-Ce,0],checker:se}],[["ArrowRight","mac+ArrowRight"],B.translateSelectedEditors,{args:[ye,0],checker:se}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],B.translateSelectedEditors,{args:[Ce,0],checker:se}],[["ArrowUp","mac+ArrowUp"],B.translateSelectedEditors,{args:[0,-ye],checker:se}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],B.translateSelectedEditors,{args:[0,-Ce],checker:se}],[["ArrowDown","mac+ArrowDown"],B.translateSelectedEditors,{args:[0,ye],checker:se}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],B.translateSelectedEditors,{args:[0,Ce],checker:se}]]))}destroy(){j(this,Ge,Vt).call(this),j(this,Ne,gi).call(this),this._eventBus._off("editingaction",n(this,q)),this._eventBus._off("pagechanging",n(this,we)),this._eventBus._off("scalechanging",n(this,Ae)),this._eventBus._off("rotationchanging",n(this,Ee));for(const B of n(this,ve).values())B.destroy();n(this,ve).clear(),n(this,K).clear(),n(this,xe).clear(),ne(this,z,null),n(this,U).clear(),n(this,$).destroy(),n(this,pe).destroy(),n(this,le)&&(clearTimeout(n(this,le)),ne(this,le,null)),n(this,Q)&&(clearTimeout(n(this,Q)),ne(this,Q,null))}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",n(this,O)?n(this,Ie).addHCMFilter(n(this,O).foreground,n(this,O).background):"none")}get direction(){return(0,i.shadow)(this,"direction",getComputedStyle(n(this,de)).direction)}editAltText(B){var se;(se=n(this,pe))==null||se.editAltText(this,B)}onPageChanging({pageNumber:B}){ne(this,ee,B-1)}focusMainContainer(){n(this,de).focus()}findParent(B,se){for(const ye of n(this,ve).values()){const{x:Ce,y:Le,width:He,height:je}=ye.div.getBoundingClientRect();if(B>=Ce&&B<=Ce+He&&se>=Le&&se<=Le+je)return ye}return null}disableUserSelect(B=!1){n(this,be).classList.toggle("noUserSelect",B)}addShouldRescale(B){n(this,xe).add(B)}removeShouldRescale(B){n(this,xe).delete(B)}onScaleChanging({scale:B}){this.commitOrRemove(),this.viewParameters.realScale=B*f.PixelsPerInch.PDF_TO_CSS_UNITS;for(const se of n(this,xe))se.onScaleChanging()}onRotationChanging({pagesRotation:B}){this.commitOrRemove(),this.viewParameters.rotation=B}addToAnnotationStorage(B){!B.isEmpty()&&n(this,_e)&&!n(this,_e).has(B.id)&&n(this,_e).setValue(B.id,B)}blur(){if(!this.hasSelection)return;const{activeElement:B}=document;for(const se of n(this,U))if(se.div.contains(B)){ne(this,g,[se,B]),se._focusEventsAllowed=!1;break}}focus(){if(!n(this,g))return;const[B,se]=n(this,g);ne(this,g,null),se.addEventListener("focusin",()=>{B._focusEventsAllowed=!0},{once:!0}),se.focus()}addEditListeners(){j(this,We,mi).call(this),j(this,ie,_i).call(this)}removeEditListeners(){j(this,Ge,Vt).call(this),j(this,re,bi).call(this)}copy(B){var ye;if(B.preventDefault(),(ye=n(this,z))==null||ye.commitOrRemove(),!this.hasSelection)return;const se=[];for(const Ce of n(this,U)){const Le=Ce.serialize(!0);Le&&se.push(Le)}se.length!==0&&B.clipboardData.setData("application/pdfjs",JSON.stringify(se))}cut(B){this.copy(B),this.delete()}paste(B){B.preventDefault();const{clipboardData:se}=B;for(const Le of se.items)for(const He of n(this,te))if(He.isHandlingMimeForPasting(Le.type)){He.paste(Le,this.currentLayer);return}let ye=se.getData("application/pdfjs");if(!ye)return;try{ye=JSON.parse(ye)}catch(Le){(0,i.warn)(`paste: "${Le.message}".`);return}if(!Array.isArray(ye))return;this.unselectAll();const Ce=this.currentLayer;try{const Le=[];for(const De of ye){const tt=Ce.deserialize(De);if(!tt)return;Le.push(tt)}const He=()=>{for(const De of Le)j(this,Fe,vi).call(this,De);j(this,Be,wi).call(this,Le)},je=()=>{for(const De of Le)De.remove()};this.addCommands({cmd:He,undo:je,mustExec:!0})}catch(Le){(0,i.warn)(`paste: "${Le.message}".`)}}keydown(B){var se;(se=this.getActive())!=null&&se.shouldGetKeyboardEvents()||he._keyboardManager.exec(this,B)}onEditingAction(B){["undo","redo","delete","selectAll"].includes(B.name)&&this[B.name]()}setEditingState(B){B?(j(this,Te,kn).call(this),j(this,We,mi).call(this),j(this,ie,_i).call(this),j(this,ae,ot).call(this,{isEditing:n(this,N)!==i.AnnotationEditorType.NONE,isEmpty:j(this,Ue,St).call(this),hasSomethingToUndo:n(this,$).hasSomethingToUndo(),hasSomethingToRedo:n(this,$).hasSomethingToRedo(),hasSelectedEditor:!1})):(j(this,Ne,gi).call(this),j(this,Ge,Vt).call(this),j(this,re,bi).call(this),j(this,ae,ot).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(B){if(!n(this,te)){ne(this,te,B);for(const se of n(this,te))j(this,me,Et).call(this,se.defaultPropertiesToUpdate)}}getId(){return n(this,I).getId()}get currentLayer(){return n(this,ve).get(n(this,ee))}getLayer(B){return n(this,ve).get(B)}get currentPageIndex(){return n(this,ee)}addLayer(B){n(this,ve).set(B.pageIndex,B),n(this,F)?B.enable():B.disable()}removeLayer(B){n(this,ve).delete(B.pageIndex)}updateMode(B,se=null){if(n(this,N)!==B){if(ne(this,N,B),B===i.AnnotationEditorType.NONE){this.setEditingState(!1),j(this,Re,Fn).call(this);return}this.setEditingState(!0),j(this,Me,On).call(this),this.unselectAll();for(const ye of n(this,ve).values())ye.updateMode(B);if(se){for(const ye of n(this,K).values())if(ye.annotationElementId===se){this.setSelected(ye),ye.enterInEditMode();break}}}}updateToolbar(B){B!==n(this,N)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:B})}updateParams(B,se){if(n(this,te)){if(B===i.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(B);return}for(const ye of n(this,U))ye.updateParams(B,se);for(const ye of n(this,te))ye.updateDefaultParams(B,se)}}enableWaiting(B=!1){if(n(this,m)!==B){ne(this,m,B);for(const se of n(this,ve).values())B?se.disableClick():se.enableClick(),se.div.classList.toggle("waiting",B)}}getEditors(B){const se=[];for(const ye of n(this,K).values())ye.pageIndex===B&&se.push(ye);return se}getEditor(B){return n(this,K).get(B)}addEditor(B){n(this,K).set(B.id,B)}removeEditor(B){var se;B.div.contains(document.activeElement)&&(n(this,le)&&clearTimeout(n(this,le)),ne(this,le,setTimeout(()=>{this.focusMainContainer(),ne(this,le,null)},0))),n(this,K).delete(B.id),this.unselect(B),(!B.annotationElementId||!n(this,G).has(B.annotationElementId))&&((se=n(this,_e))==null||se.remove(B.id))}addDeletedAnnotationElement(B){n(this,G).add(B.annotationElementId),B.deleted=!0}isDeletedAnnotationElement(B){return n(this,G).has(B)}removeDeletedAnnotationElement(B){n(this,G).delete(B.annotationElementId),B.deleted=!1}setActiveEditor(B){n(this,z)!==B&&(ne(this,z,B),B&&j(this,me,Et).call(this,B.propertiesToUpdate))}toggleSelected(B){if(n(this,U).has(B)){n(this,U).delete(B),B.unselect(),j(this,ae,ot).call(this,{hasSelectedEditor:this.hasSelection});return}n(this,U).add(B),B.select(),j(this,me,Et).call(this,B.propertiesToUpdate),j(this,ae,ot).call(this,{hasSelectedEditor:!0})}setSelected(B){for(const se of n(this,U))se!==B&&se.unselect();n(this,U).clear(),n(this,U).add(B),B.select(),j(this,me,Et).call(this,B.propertiesToUpdate),j(this,ae,ot).call(this,{hasSelectedEditor:!0})}isSelected(B){return n(this,U).has(B)}unselect(B){B.unselect(),n(this,U).delete(B),j(this,ae,ot).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return n(this,U).size!==0}undo(){n(this,$).undo(),j(this,ae,ot).call(this,{hasSomethingToUndo:n(this,$).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:j(this,Ue,St).call(this)})}redo(){n(this,$).redo(),j(this,ae,ot).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:n(this,$).hasSomethingToRedo(),isEmpty:j(this,Ue,St).call(this)})}addCommands(B){n(this,$).add(B),j(this,ae,ot).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:j(this,Ue,St).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const B=[...n(this,U)],se=()=>{for(const Ce of B)Ce.remove()},ye=()=>{for(const Ce of B)j(this,Fe,vi).call(this,Ce)};this.addCommands({cmd:se,undo:ye,mustExec:!0})}commitOrRemove(){var B;(B=n(this,z))==null||B.commitOrRemove()}hasSomethingToControl(){return n(this,z)||this.hasSelection}selectAll(){for(const B of n(this,U))B.commit();j(this,Be,wi).call(this,n(this,K).values())}unselectAll(){if(n(this,z)){n(this,z).commitOrRemove();return}if(this.hasSelection){for(const B of n(this,U))B.unselect();n(this,U).clear(),j(this,ae,ot).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(B,se,ye=!1){if(ye||this.commitOrRemove(),!this.hasSelection)return;n(this,Y)[0]+=B,n(this,Y)[1]+=se;const[Ce,Le]=n(this,Y),He=[...n(this,U)],je=1e3;n(this,Q)&&clearTimeout(n(this,Q)),ne(this,Q,setTimeout(()=>{ne(this,Q,null),n(this,Y)[0]=n(this,Y)[1]=0,this.addCommands({cmd:()=>{for(const De of He)n(this,K).has(De.id)&&De.translateInPage(Ce,Le)},undo:()=>{for(const De of He)n(this,K).has(De.id)&&De.translateInPage(-Ce,-Le)},mustExec:!1})},je));for(const De of He)De.translateInPage(B,se)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ne(this,ue,new Map);for(const B of n(this,U))n(this,ue).set(B,{savedX:B.x,savedY:B.y,savedPageIndex:B.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!n(this,ue))return!1;this.disableUserSelect(!1);const B=n(this,ue);ne(this,ue,null);let se=!1;for(const[{x:Ce,y:Le,pageIndex:He},je]of B)je.newX=Ce,je.newY=Le,je.newPageIndex=He,se||(se=Ce!==je.savedX||Le!==je.savedY||He!==je.savedPageIndex);if(!se)return!1;const ye=(Ce,Le,He,je)=>{if(n(this,K).has(Ce.id)){const De=n(this,ve).get(je);De?Ce._setParentAndPosition(De,Le,He):(Ce.pageIndex=je,Ce.x=Le,Ce.y=He)}};return this.addCommands({cmd:()=>{for(const[Ce,{newX:Le,newY:He,newPageIndex:je}]of B)ye(Ce,Le,He,je)},undo:()=>{for(const[Ce,{savedX:Le,savedY:He,savedPageIndex:je}]of B)ye(Ce,Le,He,je)},mustExec:!0}),!0}dragSelectedEditors(B,se){if(n(this,ue))for(const ye of n(this,ue).keys())ye.drag(B,se)}rebuild(B){if(B.parent===null){const se=this.getLayer(B.pageIndex);se?(se.changeParent(B),se.addOrRebuild(B)):(this.addEditor(B),this.addToAnnotationStorage(B),B.rebuild())}else B.parent.addOrRebuild(B)}isActive(B){return n(this,z)===B}getActive(){return n(this,z)}getMode(){return n(this,N)}get imageManager(){return(0,i.shadow)(this,"imageManager",new c)}};z=new WeakMap,K=new WeakMap,ve=new WeakMap,pe=new WeakMap,_e=new WeakMap,$=new WeakMap,ee=new WeakMap,G=new WeakMap,ue=new WeakMap,te=new WeakMap,xe=new WeakMap,Ie=new WeakMap,le=new WeakMap,I=new WeakMap,F=new WeakMap,m=new WeakMap,g=new WeakMap,N=new WeakMap,U=new WeakMap,O=new WeakMap,H=new WeakMap,X=new WeakMap,M=new WeakMap,T=new WeakMap,W=new WeakMap,Z=new WeakMap,q=new WeakMap,we=new WeakMap,Ae=new WeakMap,Ee=new WeakMap,oe=new WeakMap,Y=new WeakMap,Q=new WeakMap,de=new WeakMap,be=new WeakMap,Te=new WeakSet,kn=function(){window.addEventListener("focus",n(this,X)),window.addEventListener("blur",n(this,H))},Ne=new WeakSet,gi=function(){window.removeEventListener("focus",n(this,X)),window.removeEventListener("blur",n(this,H))},We=new WeakSet,mi=function(){window.addEventListener("keydown",n(this,Z),{capture:!0})},Ge=new WeakSet,Vt=function(){window.removeEventListener("keydown",n(this,Z),{capture:!0})},ie=new WeakSet,_i=function(){document.addEventListener("copy",n(this,M)),document.addEventListener("cut",n(this,T)),document.addEventListener("paste",n(this,W))},re=new WeakSet,bi=function(){document.removeEventListener("copy",n(this,M)),document.removeEventListener("cut",n(this,T)),document.removeEventListener("paste",n(this,W))},ae=new WeakSet,ot=function(B){Object.entries(B).some(([ye,Ce])=>n(this,oe)[ye]!==Ce)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(n(this,oe),B)})},me=new WeakSet,Et=function(B){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:B})},Me=new WeakSet,On=function(){if(!n(this,F)){ne(this,F,!0);for(const B of n(this,ve).values())B.enable()}},Re=new WeakSet,Fn=function(){if(this.unselectAll(),n(this,F)){ne(this,F,!1);for(const B of n(this,ve).values())B.disable()}},Fe=new WeakSet,vi=function(B){const se=n(this,ve).get(B.pageIndex);se?se.addOrRebuild(B):this.addEditor(B)},Ue=new WeakSet,St=function(){if(n(this,K).size===0)return!0;if(n(this,K).size===1)for(const B of n(this,K).values())return B.isEmpty();return!1},Be=new WeakSet,wi=function(B){n(this,U).clear();for(const se of B)se.isEmpty()||(n(this,U).add(se),se.select());j(this,ae,ot).call(this,{hasSelectedEditor:!0})},Qe(he,"TRANSLATE_SMALL",1),Qe(he,"TRANSLATE_BIG",10);let y=he;t.AnnotationEditorUIManager=y},(e,t,r)=>{var ee,G,ue,te,xe,Ie,le,I,F,m,g,N,gt,O,mt,X,yi,T,Ht,Z,Ut,we,At,Ee,Pt;Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=x,t.getColorValues=K,t.getCurrentTransform=ve,t.getCurrentTransformInverse=pe,t.getFilenameFromUrl=E,t.getPdfFilenameFromUrl=P,t.getRGB=z,t.getXfaPageViewport=V,t.isDataScheme=l,t.isPdfFile=d,t.isValidFetchUrl=A,t.loadScript=w,t.noContextMenu=v,t.setLayerDimensions=_e;var i=r(7),f=r(1);const L="http://www.w3.org/2000/svg",$=class ${};Qe($,"CSS",96),Qe($,"PDF",72),Qe($,"PDF_TO_CSS_UNITS",$.CSS/$.PDF);let C=$;t.PixelsPerInch=C;class u extends i.BaseFilterFactory{constructor({docId:de,ownerDocument:be=globalThis.document}={}){super();D(this,N);D(this,O);D(this,X);D(this,T);D(this,Z);D(this,we);D(this,Ee);D(this,ee,void 0);D(this,G,void 0);D(this,ue,void 0);D(this,te,void 0);D(this,xe,void 0);D(this,Ie,void 0);D(this,le,void 0);D(this,I,void 0);D(this,F,void 0);D(this,m,void 0);D(this,g,0);ne(this,ue,de),ne(this,te,be)}addFilter(de){if(!de)return"none";let be=n(this,N,gt).get(de);if(be)return be;let Te,ke,Ne,ze;if(de.length===1){const Je=de[0],ie=new Array(256);for(let ce=0;ce<256;ce++)ie[ce]=Je[ce]/255;ze=Te=ke=Ne=ie.join(",")}else{const[Je,ie,ce]=de,re=new Array(256),ge=new Array(256),ae=new Array(256);for(let Se=0;Se<256;Se++)re[Se]=Je[Se]/255,ge[Se]=ie[Se]/255,ae[Se]=ce[Se]/255;Te=re.join(","),ke=ge.join(","),Ne=ae.join(","),ze=`${Te}${ke}${Ne}`}if(be=n(this,N,gt).get(ze),be)return n(this,N,gt).set(de,be),be;const We=`g_${n(this,ue)}_transfer_map_${ft(this,g)._++}`,qe=`url(#${We})`;n(this,N,gt).set(de,qe),n(this,N,gt).set(ze,qe);const Ge=j(this,T,Ht).call(this,We);return j(this,we,At).call(this,Te,ke,Ne,Ge),qe}addHCMFilter(de,be){var ie;const Te=`${de}-${be}`;if(n(this,Ie)===Te)return n(this,le);if(ne(this,Ie,Te),ne(this,le,"none"),(ie=n(this,xe))==null||ie.remove(),!de||!be)return n(this,le);const ke=j(this,Ee,Pt).call(this,de);de=f.Util.makeHexColor(...ke);const Ne=j(this,Ee,Pt).call(this,be);if(be=f.Util.makeHexColor(...Ne),n(this,O,mt).style.color="",de==="#000000"&&be==="#ffffff"||de===be)return n(this,le);const ze=new Array(256);for(let ce=0;ce<=255;ce++){const re=ce/255;ze[ce]=re<=.03928?re/12.92:((re+.055)/1.055)**2.4}const We=ze.join(","),qe=`g_${n(this,ue)}_hcm_filter`,Ge=ne(this,I,j(this,T,Ht).call(this,qe));j(this,we,At).call(this,We,We,We,Ge),j(this,X,yi).call(this,Ge);const Je=(ce,re)=>{const ge=ke[ce]/255,ae=Ne[ce]/255,Se=new Array(re+1);for(let me=0;me<=re;me++)Se[me]=ge+me/re*(ae-ge);return Se.join(",")};return j(this,we,At).call(this,Je(0,5),Je(1,5),Je(2,5),Ge),ne(this,le,`url(#${qe})`),n(this,le)}addHighlightHCMFilter(de,be,Te,ke){var ae;const Ne=`${de}-${be}-${Te}-${ke}`;if(n(this,F)===Ne)return n(this,m);if(ne(this,F,Ne),ne(this,m,"none"),(ae=n(this,I))==null||ae.remove(),!de||!be)return n(this,m);const[ze,We]=[de,be].map(j(this,Ee,Pt).bind(this));let qe=Math.round(.2126*ze[0]+.7152*ze[1]+.0722*ze[2]),Ge=Math.round(.2126*We[0]+.7152*We[1]+.0722*We[2]),[Je,ie]=[Te,ke].map(j(this,Ee,Pt).bind(this));Ge<qe&&([qe,Ge,Je,ie]=[Ge,qe,ie,Je]),n(this,O,mt).style.color="";const ce=(Se,me,Pe)=>{const Me=new Array(256),fe=(Ge-qe)/Pe,Re=Se/255,Oe=(me-Se)/(255*Pe);let Fe=0;for(let Ve=0;Ve<=Pe;Ve++){const Ue=Math.round(qe+Ve*fe),$e=Re+Ve*Oe;for(let Be=Fe;Be<=Ue;Be++)Me[Be]=$e;Fe=Ue+1}for(let Ve=Fe;Ve<256;Ve++)Me[Ve]=Me[Fe-1];return Me.join(",")},re=`g_${n(this,ue)}_hcm_highlight_filter`,ge=ne(this,I,j(this,T,Ht).call(this,re));return j(this,X,yi).call(this,ge),j(this,we,At).call(this,ce(Je[0],ie[0],5),ce(Je[1],ie[1],5),ce(Je[2],ie[2],5),ge),ne(this,m,`url(#${re})`),n(this,m)}destroy(de=!1){de&&(n(this,le)||n(this,m))||(n(this,G)&&(n(this,G).parentNode.parentNode.remove(),ne(this,G,null)),n(this,ee)&&(n(this,ee).clear(),ne(this,ee,null)),ne(this,g,0))}}ee=new WeakMap,G=new WeakMap,ue=new WeakMap,te=new WeakMap,xe=new WeakMap,Ie=new WeakMap,le=new WeakMap,I=new WeakMap,F=new WeakMap,m=new WeakMap,g=new WeakMap,N=new WeakSet,gt=function(){return n(this,ee)||ne(this,ee,new Map)},O=new WeakSet,mt=function(){if(!n(this,G)){const de=n(this,te).createElement("div"),{style:be}=de;be.visibility="hidden",be.contain="strict",be.width=be.height=0,be.position="absolute",be.top=be.left=0,be.zIndex=-1;const Te=n(this,te).createElementNS(L,"svg");Te.setAttribute("width",0),Te.setAttribute("height",0),ne(this,G,n(this,te).createElementNS(L,"defs")),de.append(Te),Te.append(n(this,G)),n(this,te).body.append(de)}return n(this,G)},X=new WeakSet,yi=function(de){const be=n(this,te).createElementNS(L,"feColorMatrix");be.setAttribute("type","matrix"),be.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),de.append(be)},T=new WeakSet,Ht=function(de){const be=n(this,te).createElementNS(L,"filter");return be.setAttribute("color-interpolation-filters","sRGB"),be.setAttribute("id",de),n(this,O,mt).append(be),be},Z=new WeakSet,Ut=function(de,be,Te){const ke=n(this,te).createElementNS(L,be);ke.setAttribute("type","discrete"),ke.setAttribute("tableValues",Te),de.append(ke)},we=new WeakSet,At=function(de,be,Te,ke){const Ne=n(this,te).createElementNS(L,"feComponentTransfer");ke.append(Ne),j(this,Z,Ut).call(this,Ne,"feFuncR",de),j(this,Z,Ut).call(this,Ne,"feFuncG",be),j(this,Z,Ut).call(this,Ne,"feFuncB",Te)},Ee=new WeakSet,Pt=function(de){return n(this,O,mt).style.color=de,z(getComputedStyle(n(this,O,mt)).getPropertyValue("color"))},t.DOMFilterFactory=u;class c extends i.BaseCanvasFactory{constructor({ownerDocument:Q=globalThis.document}={}){super(),this._document=Q}_createCanvas(Q,de){const be=this._document.createElement("canvas");return be.width=Q,be.height=de,be}}t.DOMCanvasFactory=c;async function s(Y,Q=!1){if(A(Y,document.baseURI)){const de=await fetch(Y);if(!de.ok)throw new Error(de.statusText);return Q?new Uint8Array(await de.arrayBuffer()):(0,f.stringToBytes)(await de.text())}return new Promise((de,be)=>{const Te=new XMLHttpRequest;Te.open("GET",Y,!0),Q&&(Te.responseType="arraybuffer"),Te.onreadystatechange=()=>{if(Te.readyState===XMLHttpRequest.DONE){if(Te.status===200||Te.status===0){let ke;if(Q&&Te.response?ke=new Uint8Array(Te.response):!Q&&Te.responseText&&(ke=(0,f.stringToBytes)(Te.responseText)),ke){de(ke);return}}be(new Error(Te.statusText))}},Te.send(null)})}class o extends i.BaseCMapReaderFactory{_fetchData(Q,de){return s(Q,this.isCompressed).then(be=>({cMapData:be,compressionType:de}))}}t.DOMCMapReaderFactory=o;class S extends i.BaseStandardFontDataFactory{_fetchData(Q){return s(Q,!0)}}t.DOMStandardFontDataFactory=S;class y extends i.BaseSVGFactory{_createSVG(Q){return document.createElementNS(L,Q)}}t.DOMSVGFactory=y;class _{constructor({viewBox:Q,scale:de,rotation:be,offsetX:Te=0,offsetY:ke=0,dontFlip:Ne=!1}){this.viewBox=Q,this.scale=de,this.rotation=be,this.offsetX=Te,this.offsetY=ke;const ze=(Q[2]+Q[0])/2,We=(Q[3]+Q[1])/2;let qe,Ge,Je,ie;switch(be%=360,be<0&&(be+=360),be){case 180:qe=-1,Ge=0,Je=0,ie=1;break;case 90:qe=0,Ge=1,Je=1,ie=0;break;case 270:qe=0,Ge=-1,Je=-1,ie=0;break;case 0:qe=1,Ge=0,Je=0,ie=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ne&&(Je=-Je,ie=-ie);let ce,re,ge,ae;qe===0?(ce=Math.abs(We-Q[1])*de+Te,re=Math.abs(ze-Q[0])*de+ke,ge=(Q[3]-Q[1])*de,ae=(Q[2]-Q[0])*de):(ce=Math.abs(ze-Q[0])*de+Te,re=Math.abs(We-Q[1])*de+ke,ge=(Q[2]-Q[0])*de,ae=(Q[3]-Q[1])*de),this.transform=[qe*de,Ge*de,Je*de,ie*de,ce-qe*de*ze-Je*de*We,re-Ge*de*ze-ie*de*We],this.width=ge,this.height=ae}get rawDims(){const{viewBox:Q}=this;return(0,f.shadow)(this,"rawDims",{pageWidth:Q[2]-Q[0],pageHeight:Q[3]-Q[1],pageX:Q[0],pageY:Q[1]})}clone({scale:Q=this.scale,rotation:de=this.rotation,offsetX:be=this.offsetX,offsetY:Te=this.offsetY,dontFlip:ke=!1}={}){return new _({viewBox:this.viewBox.slice(),scale:Q,rotation:de,offsetX:be,offsetY:Te,dontFlip:ke})}convertToViewportPoint(Q,de){return f.Util.applyTransform([Q,de],this.transform)}convertToViewportRectangle(Q){const de=f.Util.applyTransform([Q[0],Q[1]],this.transform),be=f.Util.applyTransform([Q[2],Q[3]],this.transform);return[de[0],de[1],be[0],be[1]]}convertToPdfPoint(Q,de){return f.Util.applyInverseTransform([Q,de],this.transform)}}t.PageViewport=_;class a extends f.BaseException{constructor(Q,de=0){super(Q,"RenderingCancelledException"),this.extraDelay=de}}t.RenderingCancelledException=a;function l(Y){const Q=Y.length;let de=0;for(;de<Q&&Y[de].trim()==="";)de++;return Y.substring(de,de+5).toLowerCase()==="data:"}function d(Y){return typeof Y=="string"&&/\.pdf$/i.test(Y)}function E(Y,Q=!1){return Q||([Y]=Y.split(/[#?]/,1)),Y.substring(Y.lastIndexOf("/")+1)}function P(Y,Q="document.pdf"){if(typeof Y!="string")return Q;if(l(Y))return(0,f.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Q;const de=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,be=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Te=de.exec(Y);let ke=be.exec(Te[1])||be.exec(Te[2])||be.exec(Te[3]);if(ke&&(ke=ke[0],ke.includes("%")))try{ke=be.exec(decodeURIComponent(ke))[0]}catch{}return ke||Q}class b{constructor(){Qe(this,"started",Object.create(null));Qe(this,"times",[])}time(Q){Q in this.started&&(0,f.warn)(`Timer is already running for ${Q}`),this.started[Q]=Date.now()}timeEnd(Q){Q in this.started||(0,f.warn)(`Timer has not been started for ${Q}`),this.times.push({name:Q,start:this.started[Q],end:Date.now()}),delete this.started[Q]}toString(){const Q=[];let de=0;for(const{name:be}of this.times)de=Math.max(be.length,de);for(const{name:be,start:Te,end:ke}of this.times)Q.push(`${be.padEnd(de)} ${ke-Te}ms
`);return Q.join("")}}t.StatTimer=b;function A(Y,Q){try{const{protocol:de}=Q?new URL(Y,Q):new URL(Y);return de==="http:"||de==="https:"}catch{return!1}}function v(Y){Y.preventDefault()}function w(Y,Q=!1){return new Promise((de,be)=>{const Te=document.createElement("script");Te.src=Y,Te.onload=function(ke){Q&&Te.remove(),de(ke)},Te.onerror=function(){be(new Error(`Cannot load script at: ${Te.src}`))},(document.head||document.documentElement).append(Te)})}function x(Y){console.log("Deprecated API usage: "+Y)}let R;class k{static toDateObject(Q){if(!Q||typeof Q!="string")return null;R||(R=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const de=R.exec(Q);if(!de)return null;const be=parseInt(de[1],10);let Te=parseInt(de[2],10);Te=Te>=1&&Te<=12?Te-1:0;let ke=parseInt(de[3],10);ke=ke>=1&&ke<=31?ke:1;let Ne=parseInt(de[4],10);Ne=Ne>=0&&Ne<=23?Ne:0;let ze=parseInt(de[5],10);ze=ze>=0&&ze<=59?ze:0;let We=parseInt(de[6],10);We=We>=0&&We<=59?We:0;const qe=de[7]||"Z";let Ge=parseInt(de[8],10);Ge=Ge>=0&&Ge<=23?Ge:0;let Je=parseInt(de[9],10)||0;return Je=Je>=0&&Je<=59?Je:0,qe==="-"?(Ne+=Ge,ze+=Je):qe==="+"&&(Ne-=Ge,ze-=Je),new Date(Date.UTC(be,Te,ke,Ne,ze,We))}}t.PDFDateString=k;function V(Y,{scale:Q=1,rotation:de=0}){const{width:be,height:Te}=Y.attributes.style,ke=[0,0,parseInt(be),parseInt(Te)];return new _({viewBox:ke,scale:Q,rotation:de})}function z(Y){if(Y.startsWith("#")){const Q=parseInt(Y.slice(1),16);return[(Q&16711680)>>16,(Q&65280)>>8,Q&255]}return Y.startsWith("rgb(")?Y.slice(4,-1).split(",").map(Q=>parseInt(Q)):Y.startsWith("rgba(")?Y.slice(5,-1).split(",").map(Q=>parseInt(Q)).slice(0,3):((0,f.warn)(`Not a valid color format: "${Y}"`),[0,0,0])}function K(Y){const Q=document.createElement("span");Q.style.visibility="hidden",document.body.append(Q);for(const de of Y.keys()){Q.style.color=de;const be=window.getComputedStyle(Q).color;Y.set(de,z(be))}Q.remove()}function ve(Y){const{a:Q,b:de,c:be,d:Te,e:ke,f:Ne}=Y.getTransform();return[Q,de,be,Te,ke,Ne]}function pe(Y){const{a:Q,b:de,c:be,d:Te,e:ke,f:Ne}=Y.getTransform().invertSelf();return[Q,de,be,Te,ke,Ne]}function _e(Y,Q,de=!1,be=!0){if(Q instanceof _){const{pageWidth:Te,pageHeight:ke}=Q.rawDims,{style:Ne}=Y,ze=f.FeatureTest.isCSSRoundSupported,We=`var(--scale-factor) * ${Te}px`,qe=`var(--scale-factor) * ${ke}px`,Ge=ze?`round(${We}, 1px)`:`calc(${We})`,Je=ze?`round(${qe}, 1px)`:`calc(${qe})`;!de||Q.rotation%180===0?(Ne.width=Ge,Ne.height=Je):(Ne.width=Je,Ne.height=Ge)}be&&Y.setAttribute("data-main-rotation",Q.rotation)}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var i=r(1);class f{constructor(){this.constructor===f&&(0,i.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(o){return"none"}addHCMFilter(o,S){return"none"}addHighlightHCMFilter(o,S,y,_){return"none"}destroy(o=!1){}}t.BaseFilterFactory=f;class L{constructor(){this.constructor===L&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(o,S){if(o<=0||S<=0)throw new Error("Invalid canvas size");const y=this._createCanvas(o,S);return{canvas:y,context:y.getContext("2d")}}reset(o,S,y){if(!o.canvas)throw new Error("Canvas is not specified");if(S<=0||y<=0)throw new Error("Invalid canvas size");o.canvas.width=S,o.canvas.height=y}destroy(o){if(!o.canvas)throw new Error("Canvas is not specified");o.canvas.width=0,o.canvas.height=0,o.canvas=null,o.context=null}_createCanvas(o,S){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=L;class C{constructor({baseUrl:o=null,isCompressed:S=!0}){this.constructor===C&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=o,this.isCompressed=S}async fetch({name:o}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!o)throw new Error("CMap name must be specified.");const S=this.baseUrl+o+(this.isCompressed?".bcmap":""),y=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(S,y).catch(_=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${S}`)})}_fetchData(o,S){(0,i.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=C;class u{constructor({baseUrl:o=null}){this.constructor===u&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=o}async fetch({filename:o}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!o)throw new Error("Font filename must be specified.");const S=`${this.baseUrl}${o}`;return this._fetchData(S).catch(y=>{throw new Error(`Unable to load font data at: ${S}`)})}_fetchData(o){(0,i.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=u;class c{constructor(){this.constructor===c&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(o,S,y=!1){if(o<=0||S<=0)throw new Error("Invalid SVG dimensions");const _=this._createSVG("svg:svg");return _.setAttribute("version","1.1"),y||(_.setAttribute("width",`${o}px`),_.setAttribute("height",`${S}px`)),_.setAttribute("preserveAspectRatio","none"),_.setAttribute("viewBox",`0 0 ${o} ${S}`),_}createElement(o){if(typeof o!="string")throw new Error("Invalid SVG element type");return this._createSVG(o)}_createSVG(o){(0,i.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=c},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var i=r(1);const f=3285377520,L=4294901760,C=65535;class u{constructor(s){this.h1=s?s&4294967295:f,this.h2=s?s&4294967295:f}update(s){let o,S;if(typeof s=="string"){o=new Uint8Array(s.length*2),S=0;for(let x=0,R=s.length;x<R;x++){const k=s.charCodeAt(x);k<=255?o[S++]=k:(o[S++]=k>>>8,o[S++]=k&255)}}else if((0,i.isArrayBuffer)(s))o=s.slice(),S=o.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const y=S>>2,_=S-y*4,a=new Uint32Array(o.buffer,0,y);let l=0,d=0,E=this.h1,P=this.h2;const b=3432918353,A=461845907,v=b&C,w=A&C;for(let x=0;x<y;x++)x&1?(l=a[x],l=l*b&L|l*v&C,l=l<<15|l>>>17,l=l*A&L|l*w&C,E^=l,E=E<<13|E>>>19,E=E*5+3864292196):(d=a[x],d=d*b&L|d*v&C,d=d<<15|d>>>17,d=d*A&L|d*w&C,P^=d,P=P<<13|P>>>19,P=P*5+3864292196);switch(l=0,_){case 3:l^=o[y*4+2]<<16;case 2:l^=o[y*4+1]<<8;case 1:l^=o[y*4],l=l*b&L|l*v&C,l=l<<15|l>>>17,l=l*A&L|l*w&C,y&1?E^=l:P^=l}this.h1=E,this.h2=P}hexdigest(){let s=this.h1,o=this.h2;return s^=o>>>1,s=s*3981806797&L|s*36045&C,o=o*4283543511&L|((o<<16|s>>>16)*2950163797&L)>>>16,s^=o>>>1,s=s*444984403&L|s*60499&C,o=o*3301882366&L|((o<<16|s>>>16)*3120437893&L)>>>16,s^=o>>>1,(s>>>0).toString(16).padStart(8,"0")+(o>>>0).toString(16).padStart(8,"0")}}t.MurmurHash3_64=u},(e,t,r)=>{var C;Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var i=r(1);class f{constructor({ownerDocument:c=globalThis.document,styleElement:s=null}){D(this,C,new Set);this._document=c,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(c){this.nativeFontFaces.add(c),this._document.fonts.add(c)}removeNativeFontFace(c){this.nativeFontFaces.delete(c),this._document.fonts.delete(c)}insertRule(c){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const s=this.styleElement.sheet;s.insertRule(c,s.cssRules.length)}clear(){for(const c of this.nativeFontFaces)this._document.fonts.delete(c);this.nativeFontFaces.clear(),n(this,C).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(c){if(!(!c||n(this,C).has(c.loadedName))){if((0,i.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:o,style:S}=c,y=new FontFace(s,o,S);this.addNativeFontFace(y);try{await y.load(),n(this,C).add(s)}catch{(0,i.warn)(`Cannot load system font: ${c.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(y)}return}(0,i.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(c){if(c.attached||c.missingFile&&!c.systemFontInfo)return;if(c.attached=!0,c.systemFontInfo){await this.loadSystemFont(c.systemFontInfo);return}if(this.isFontLoadingAPISupported){const o=c.createNativeFontFace();if(o){this.addNativeFontFace(o);try{await o.loaded}catch(S){throw(0,i.warn)(`Failed to load font '${o.family}': '${S}'.`),c.disableFontFace=!0,S}}return}const s=c.createFontFaceRule();if(s){if(this.insertRule(s),this.isSyncFontLoadingSupported)return;await new Promise(o=>{const S=this._queueLoadingCallback(o);this._prepareFontLoadEvent(c,S)})}}get isFontLoadingAPISupported(){var s;const c=!!((s=this._document)!=null&&s.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",c)}get isSyncFontLoadingSupported(){let c=!1;return(i.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(c=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",c)}_queueLoadingCallback(c){function s(){for((0,i.assert)(!S.done,"completeRequest() cannot be called twice."),S.done=!0;o.length>0&&o[0].done;){const y=o.shift();setTimeout(y.callback,0)}}const{loadingRequests:o}=this,S={done:!1,complete:s,callback:c};return o.push(S),S}get _loadTestFont(){const c=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",c)}_prepareFontLoadEvent(c,s){function o(z,K){return z.charCodeAt(K)<<24|z.charCodeAt(K+1)<<16|z.charCodeAt(K+2)<<8|z.charCodeAt(K+3)&255}function S(z,K,ve,pe){const _e=z.substring(0,K),$=z.substring(K+ve);return _e+pe+$}let y,_;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let d=0;function E(z,K){if(++d>30){(0,i.warn)("Load test font never loaded."),K();return}if(l.font="30px "+z,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){K();return}setTimeout(E.bind(null,z,K))}const P=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=S(b,976,P.length,P);const v=16,w=1482184792;let x=o(b,v);for(y=0,_=P.length-3;y<_;y+=4)x=x-w+o(P,y)|0;y<P.length&&(x=x-w+o(P+"XXX",y)|0),b=S(b,v,4,(0,i.string32)(x));const R=`url(data:font/opentype;base64,${btoa(b)});`,k=`@font-face {font-family:"${P}";src:${R}}`;this.insertRule(k);const V=this._document.createElement("div");V.style.visibility="hidden",V.style.width=V.style.height="10px",V.style.position="absolute",V.style.top=V.style.left="0px";for(const z of[c.loadedName,P]){const K=this._document.createElement("span");K.textContent="Hi",K.style.fontFamily=z,V.append(K)}this._document.body.append(V),E(P,()=>{V.remove(),s.complete()})}}C=new WeakMap,t.FontLoader=f;class L{constructor(c,{isEvalSupported:s=!0,disableFontFace:o=!1,ignoreErrors:S=!1,inspectFont:y=null}){this.compiledGlyphs=Object.create(null);for(const _ in c)this[_]=c[_];this.isEvalSupported=s!==!1,this.disableFontFace=o===!0,this.ignoreErrors=S===!0,this._inspectFont=y}createNativeFontFace(){var s;if(!this.data||this.disableFontFace)return null;let c;if(!this.cssFontInfo)c=new FontFace(this.loadedName,this.data,{});else{const o={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(o.style=`oblique ${this.cssFontInfo.italicAngle}deg`),c=new FontFace(this.cssFontInfo.fontFamily,this.data,o)}return(s=this._inspectFont)==null||s.call(this,this),c}createFontFaceRule(){var S;if(!this.data||this.disableFontFace)return null;const c=(0,i.bytesToString)(this.data),s=`url(data:${this.mimetype};base64,${btoa(c)});`;let o;if(!this.cssFontInfo)o=`@font-face {font-family:"${this.loadedName}";src:${s}}`;else{let y=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(y+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),o=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${y}src:${s}}`}return(S=this._inspectFont)==null||S.call(this,this,s),o}getPathGenerator(c,s){if(this.compiledGlyphs[s]!==void 0)return this.compiledGlyphs[s];let o;try{o=c.get(this.loadedName+"_path_"+s)}catch(S){if(!this.ignoreErrors)throw S;return(0,i.warn)(`getPathGenerator - ignoring character: "${S}".`),this.compiledGlyphs[s]=function(y,_){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const S=[];for(const y of o){const _=y.args!==void 0?y.args.join(","):"";S.push("c.",y.cmd,"(",_,`);
`)}return this.compiledGlyphs[s]=new Function("c","size",S.join(""))}return this.compiledGlyphs[s]=function(S,y){for(const _ of o)_.cmd==="scale"&&(_.args=[y,-y]),S[_.cmd].apply(S,_.args)}}}t.FontFaceObject=L},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var i=r(7);r(1);const f=function(s){return new Promise((o,S)=>{require$$0.readFile(s,(_,a)=>{if(_||!a){S(new Error(_));return}o(new Uint8Array(a))})})};class L extends i.BaseFilterFactory{}t.NodeFilterFactory=L;class C extends i.BaseCanvasFactory{_createCanvas(o,S){return require$$1.createCanvas(o,S)}}t.NodeCanvasFactory=C;class u extends i.BaseCMapReaderFactory{_fetchData(o,S){return f(o).then(y=>({cMapData:y,compressionType:S}))}}t.NodeCMapReaderFactory=u;class c extends i.BaseStandardFontDataFactory{_fetchData(o){return f(o)}}t.NodeStandardFontDataFactory=c},(e,t,r)=>{var G,Ei,te,Si;Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var i=r(1),f=r(6),L=r(12),C=r(13);const u=16,c=100,s=4096,o=15,S=10,y=1e3,_=16;function a(le,I){if(le._removeMirroring)throw new Error("Context is already forwarding operations.");le.__originalSave=le.save,le.__originalRestore=le.restore,le.__originalRotate=le.rotate,le.__originalScale=le.scale,le.__originalTranslate=le.translate,le.__originalTransform=le.transform,le.__originalSetTransform=le.setTransform,le.__originalResetTransform=le.resetTransform,le.__originalClip=le.clip,le.__originalMoveTo=le.moveTo,le.__originalLineTo=le.lineTo,le.__originalBezierCurveTo=le.bezierCurveTo,le.__originalRect=le.rect,le.__originalClosePath=le.closePath,le.__originalBeginPath=le.beginPath,le._removeMirroring=()=>{le.save=le.__originalSave,le.restore=le.__originalRestore,le.rotate=le.__originalRotate,le.scale=le.__originalScale,le.translate=le.__originalTranslate,le.transform=le.__originalTransform,le.setTransform=le.__originalSetTransform,le.resetTransform=le.__originalResetTransform,le.clip=le.__originalClip,le.moveTo=le.__originalMoveTo,le.lineTo=le.__originalLineTo,le.bezierCurveTo=le.__originalBezierCurveTo,le.rect=le.__originalRect,le.closePath=le.__originalClosePath,le.beginPath=le.__originalBeginPath,delete le._removeMirroring},le.save=function(){I.save(),this.__originalSave()},le.restore=function(){I.restore(),this.__originalRestore()},le.translate=function(m,g){I.translate(m,g),this.__originalTranslate(m,g)},le.scale=function(m,g){I.scale(m,g),this.__originalScale(m,g)},le.transform=function(m,g,N,U,O,H){I.transform(m,g,N,U,O,H),this.__originalTransform(m,g,N,U,O,H)},le.setTransform=function(m,g,N,U,O,H){I.setTransform(m,g,N,U,O,H),this.__originalSetTransform(m,g,N,U,O,H)},le.resetTransform=function(){I.resetTransform(),this.__originalResetTransform()},le.rotate=function(m){I.rotate(m),this.__originalRotate(m)},le.clip=function(m){I.clip(m),this.__originalClip(m)},le.moveTo=function(F,m){I.moveTo(F,m),this.__originalMoveTo(F,m)},le.lineTo=function(F,m){I.lineTo(F,m),this.__originalLineTo(F,m)},le.bezierCurveTo=function(F,m,g,N,U,O){I.bezierCurveTo(F,m,g,N,U,O),this.__originalBezierCurveTo(F,m,g,N,U,O)},le.rect=function(F,m,g,N){I.rect(F,m,g,N),this.__originalRect(F,m,g,N)},le.closePath=function(){I.closePath(),this.__originalClosePath()},le.beginPath=function(){I.beginPath(),this.__originalBeginPath()}}class l{constructor(I){this.canvasFactory=I,this.cache=Object.create(null)}getCanvas(I,F,m){let g;return this.cache[I]!==void 0?(g=this.cache[I],this.canvasFactory.reset(g,F,m)):(g=this.canvasFactory.create(F,m),this.cache[I]=g),g}delete(I){delete this.cache[I]}clear(){for(const I in this.cache){const F=this.cache[I];this.canvasFactory.destroy(F),delete this.cache[I]}}}function d(le,I,F,m,g,N,U,O,H,X){const[M,T,W,Z,q,we]=(0,f.getCurrentTransform)(le);if(T===0&&W===0){const oe=U*M+q,Y=Math.round(oe),Q=O*Z+we,de=Math.round(Q),be=(U+H)*M+q,Te=Math.abs(Math.round(be)-Y)||1,ke=(O+X)*Z+we,Ne=Math.abs(Math.round(ke)-de)||1;return le.setTransform(Math.sign(M),0,0,Math.sign(Z),Y,de),le.drawImage(I,F,m,g,N,0,0,Te,Ne),le.setTransform(M,T,W,Z,q,we),[Te,Ne]}if(M===0&&Z===0){const oe=O*W+q,Y=Math.round(oe),Q=U*T+we,de=Math.round(Q),be=(O+X)*W+q,Te=Math.abs(Math.round(be)-Y)||1,ke=(U+H)*T+we,Ne=Math.abs(Math.round(ke)-de)||1;return le.setTransform(0,Math.sign(T),Math.sign(W),0,Y,de),le.drawImage(I,F,m,g,N,0,0,Ne,Te),le.setTransform(M,T,W,Z,q,we),[Ne,Te]}le.drawImage(I,F,m,g,N,U,O,H,X);const Ae=Math.hypot(M,T),Ee=Math.hypot(W,Z);return[Ae*H,Ee*X]}function E(le){const{width:I,height:F}=le;if(I>y||F>y)return null;const m=1e3,g=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),N=I+1;let U=new Uint8Array(N*(F+1)),O,H,X;const M=I+7&-8;let T=new Uint8Array(M*F),W=0;for(const Ee of le.data){let oe=128;for(;oe>0;)T[W++]=Ee&oe?0:255,oe>>=1}let Z=0;for(W=0,T[W]!==0&&(U[0]=1,++Z),H=1;H<I;H++)T[W]!==T[W+1]&&(U[H]=T[W]?2:1,++Z),W++;for(T[W]!==0&&(U[H]=2,++Z),O=1;O<F;O++){W=O*M,X=O*N,T[W-M]!==T[W]&&(U[X]=T[W]?1:8,++Z);let Ee=(T[W]?4:0)+(T[W-M]?8:0);for(H=1;H<I;H++)Ee=(Ee>>2)+(T[W+1]?4:0)+(T[W-M+1]?8:0),g[Ee]&&(U[X+H]=g[Ee],++Z),W++;if(T[W-M]!==T[W]&&(U[X+H]=T[W]?2:4,++Z),Z>m)return null}for(W=M*(F-1),X=O*N,T[W]!==0&&(U[X]=8,++Z),H=1;H<I;H++)T[W]!==T[W+1]&&(U[X+H]=T[W]?4:8,++Z),W++;if(T[W]!==0&&(U[X+H]=4,++Z),Z>m)return null;const q=new Int32Array([0,N,-1,0,-N,0,0,0,1]),we=new Path2D;for(O=0;Z&&O<=F;O++){let Ee=O*N;const oe=Ee+I;for(;Ee<oe&&!U[Ee];)Ee++;if(Ee===oe)continue;we.moveTo(Ee%N,O);const Y=Ee;let Q=U[Ee];do{const de=q[Q];do Ee+=de;while(!U[Ee]);const be=U[Ee];be!==5&&be!==10?(Q=be,U[Ee]=0):(Q=be&51*Q>>4,U[Ee]&=Q>>2|Q<<2),we.lineTo(Ee%N,Ee/N|0),U[Ee]||--Z}while(Y!==Ee);--O}return T=null,U=null,function(Ee){Ee.save(),Ee.scale(1/I,-1/F),Ee.translate(0,-F),Ee.fill(we),Ee.beginPath(),Ee.restore()}}class P{constructor(I,F){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,I,F])}clone(){const I=Object.create(this);return I.clipBox=this.clipBox.slice(),I}setCurrentPoint(I,F){this.x=I,this.y=F}updatePathMinMax(I,F,m){[F,m]=i.Util.applyTransform([F,m],I),this.minX=Math.min(this.minX,F),this.minY=Math.min(this.minY,m),this.maxX=Math.max(this.maxX,F),this.maxY=Math.max(this.maxY,m)}updateRectMinMax(I,F){const m=i.Util.applyTransform(F,I),g=i.Util.applyTransform(F.slice(2),I),N=i.Util.applyTransform([F[0],F[3]],I),U=i.Util.applyTransform([F[2],F[1]],I);this.minX=Math.min(this.minX,m[0],g[0],N[0],U[0]),this.minY=Math.min(this.minY,m[1],g[1],N[1],U[1]),this.maxX=Math.max(this.maxX,m[0],g[0],N[0],U[0]),this.maxY=Math.max(this.maxY,m[1],g[1],N[1],U[1])}updateScalingPathMinMax(I,F){i.Util.scaleMinMax(I,F),this.minX=Math.min(this.minX,F[0]),this.maxX=Math.max(this.maxX,F[1]),this.minY=Math.min(this.minY,F[2]),this.maxY=Math.max(this.maxY,F[3])}updateCurvePathMinMax(I,F,m,g,N,U,O,H,X,M){const T=i.Util.bezierBoundingBox(F,m,g,N,U,O,H,X);if(M){M[0]=Math.min(M[0],T[0],T[2]),M[1]=Math.max(M[1],T[0],T[2]),M[2]=Math.min(M[2],T[1],T[3]),M[3]=Math.max(M[3],T[1],T[3]);return}this.updateRectMinMax(I,T)}getPathBoundingBox(I=L.PathType.FILL,F=null){const m=[this.minX,this.minY,this.maxX,this.maxY];if(I===L.PathType.STROKE){F||(0,i.unreachable)("Stroke bounding box must include transform.");const g=i.Util.singularValueDecompose2dScale(F),N=g[0]*this.lineWidth/2,U=g[1]*this.lineWidth/2;m[0]-=N,m[1]-=U,m[2]+=N,m[3]+=U}return m}updateClipFromPath(){const I=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(I||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(I){this.clipBox=I,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(I=L.PathType.FILL,F=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(I,F))}}function b(le,I){if(typeof ImageData<"u"&&I instanceof ImageData){le.putImageData(I,0,0);return}const F=I.height,m=I.width,g=F%_,N=(F-g)/_,U=g===0?N:N+1,O=le.createImageData(m,_);let H=0,X;const M=I.data,T=O.data;let W,Z,q,we;if(I.kind===i.ImageKind.GRAYSCALE_1BPP){const Ae=M.byteLength,Ee=new Uint32Array(T.buffer,0,T.byteLength>>2),oe=Ee.length,Y=m+7>>3,Q=4294967295,de=i.FeatureTest.isLittleEndian?4278190080:255;for(W=0;W<U;W++){for(q=W<N?_:g,X=0,Z=0;Z<q;Z++){const be=Ae-H;let Te=0;const ke=be>Y?m:be*8-7,Ne=ke&-8;let ze=0,We=0;for(;Te<Ne;Te+=8)We=M[H++],Ee[X++]=We&128?Q:de,Ee[X++]=We&64?Q:de,Ee[X++]=We&32?Q:de,Ee[X++]=We&16?Q:de,Ee[X++]=We&8?Q:de,Ee[X++]=We&4?Q:de,Ee[X++]=We&2?Q:de,Ee[X++]=We&1?Q:de;for(;Te<ke;Te++)ze===0&&(We=M[H++],ze=128),Ee[X++]=We&ze?Q:de,ze>>=1}for(;X<oe;)Ee[X++]=0;le.putImageData(O,0,W*_)}}else if(I.kind===i.ImageKind.RGBA_32BPP){for(Z=0,we=m*_*4,W=0;W<N;W++)T.set(M.subarray(H,H+we)),H+=we,le.putImageData(O,0,Z),Z+=_;W<U&&(we=m*g*4,T.set(M.subarray(H,H+we)),le.putImageData(O,0,Z))}else if(I.kind===i.ImageKind.RGB_24BPP)for(q=_,we=m*q,W=0;W<U;W++){for(W>=N&&(q=g,we=m*q),X=0,Z=we;Z--;)T[X++]=M[H++],T[X++]=M[H++],T[X++]=M[H++],T[X++]=255;le.putImageData(O,0,W*_)}else throw new Error(`bad image kind: ${I.kind}`)}function A(le,I){if(I.bitmap){le.drawImage(I.bitmap,0,0);return}const F=I.height,m=I.width,g=F%_,N=(F-g)/_,U=g===0?N:N+1,O=le.createImageData(m,_);let H=0;const X=I.data,M=O.data;for(let T=0;T<U;T++){const W=T<N?_:g;({srcPos:H}=(0,C.convertBlackAndWhiteToRGBA)({src:X,srcPos:H,dest:M,width:m,height:W,nonBlackColor:0})),le.putImageData(O,0,T*_)}}function v(le,I){const F=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const m of F)le[m]!==void 0&&(I[m]=le[m]);le.setLineDash!==void 0&&(I.setLineDash(le.getLineDash()),I.lineDashOffset=le.lineDashOffset)}function w(le){if(le.strokeStyle=le.fillStyle="#000000",le.fillRule="nonzero",le.globalAlpha=1,le.lineWidth=1,le.lineCap="butt",le.lineJoin="miter",le.miterLimit=10,le.globalCompositeOperation="source-over",le.font="10px sans-serif",le.setLineDash!==void 0&&(le.setLineDash([]),le.lineDashOffset=0),!i.isNodeJS){const{filter:I}=le;I!=="none"&&I!==""&&(le.filter="none")}}function x(le,I,F,m){const g=le.length;for(let N=3;N<g;N+=4){const U=le[N];if(U===0)le[N-3]=I,le[N-2]=F,le[N-1]=m;else if(U<255){const O=255-U;le[N-3]=le[N-3]*U+I*O>>8,le[N-2]=le[N-2]*U+F*O>>8,le[N-1]=le[N-1]*U+m*O>>8}}}function R(le,I,F){const m=le.length,g=1/255;for(let N=3;N<m;N+=4){const U=F?F[le[N]]:le[N];I[N]=I[N]*U*g|0}}function k(le,I,F){const m=le.length;for(let g=3;g<m;g+=4){const N=le[g-3]*77+le[g-2]*152+le[g-1]*28;I[g]=F?I[g]*F[N>>8]>>8:I[g]*N>>16}}function V(le,I,F,m,g,N,U,O,H,X,M){const T=!!N,W=T?N[0]:0,Z=T?N[1]:0,q=T?N[2]:0,we=g==="Luminosity"?k:R,Ee=Math.min(m,Math.ceil(1048576/F));for(let oe=0;oe<m;oe+=Ee){const Y=Math.min(Ee,m-oe),Q=le.getImageData(O-X,oe+(H-M),F,Y),de=I.getImageData(O,oe+H,F,Y);T&&x(Q.data,W,Z,q),we(Q.data,de.data,U),I.putImageData(de,O,oe+H)}}function z(le,I,F,m){const g=m[0],N=m[1],U=m[2]-g,O=m[3]-N;U===0||O===0||(V(I.context,F,U,O,I.subtype,I.backdrop,I.transferMap,g,N,I.offsetX,I.offsetY),le.save(),le.globalAlpha=1,le.globalCompositeOperation="source-over",le.setTransform(1,0,0,1,0,0),le.drawImage(F.canvas,0,0),le.restore())}function K(le,I){const F=i.Util.singularValueDecompose2dScale(le);F[0]=Math.fround(F[0]),F[1]=Math.fround(F[1]);const m=Math.fround((globalThis.devicePixelRatio||1)*f.PixelsPerInch.PDF_TO_CSS_UNITS);return I!==void 0?I:F[0]<=m||F[1]<=m}const ve=["butt","round","square"],pe=["miter","round","bevel"],_e={},$={},Ie=class Ie{constructor(I,F,m,g,N,{optionalContentConfig:U,markedContentStack:O=null},H,X){D(this,G);D(this,te);this.ctx=I,this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=F,this.objs=m,this.canvasFactory=g,this.filterFactory=N,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=O||[],this.optionalContentConfig=U,this.cachedCanvases=new l(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=H,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=X,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(I,F=null){return typeof I=="string"?I.startsWith("g_")?this.commonObjs.get(I):this.objs.get(I):F}beginDrawing({transform:I,viewport:F,transparency:m=!1,background:g=null}){const N=this.ctx.canvas.width,U=this.ctx.canvas.height,O=this.ctx.fillStyle;if(this.ctx.fillStyle=g||"#ffffff",this.ctx.fillRect(0,0,N,U),this.ctx.fillStyle=O,m){const H=this.cachedCanvases.getCanvas("transparent",N,U);this.compositeCtx=this.ctx,this.transparentCanvas=H.canvas,this.ctx=H.context,this.ctx.save(),this.ctx.transform(...(0,f.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),w(this.ctx),I&&(this.ctx.transform(...I),this.outputScaleX=I[0],this.outputScaleY=I[0]),this.ctx.transform(...F.transform),this.viewportScale=F.scale,this.baseTransform=(0,f.getCurrentTransform)(this.ctx)}executeOperatorList(I,F,m,g){const N=I.argsArray,U=I.fnArray;let O=F||0;const H=N.length;if(H===O)return O;const X=H-O>S&&typeof m=="function",M=X?Date.now()+o:0;let T=0;const W=this.commonObjs,Z=this.objs;let q;for(;;){if(g!==void 0&&O===g.nextBreakPoint)return g.breakIt(O,m),O;if(q=U[O],q!==i.OPS.dependency)this[q].apply(this,N[O]);else for(const we of N[O]){const Ae=we.startsWith("g_")?W:Z;if(!Ae.has(we))return Ae.get(we,m),O}if(O++,O===H)return O;if(X&&++T>S){if(Date.now()>M)return m(),O;T=0}}}endDrawing(){j(this,G,Ei).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const I of this._cachedBitmapsMap.values()){for(const F of I.values())typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement&&(F.width=F.height=0);I.clear()}this._cachedBitmapsMap.clear(),j(this,te,Si).call(this)}_scaleImage(I,F){const m=I.width,g=I.height;let N=Math.max(Math.hypot(F[0],F[1]),1),U=Math.max(Math.hypot(F[2],F[3]),1),O=m,H=g,X="prescale1",M,T;for(;N>2&&O>1||U>2&&H>1;){let W=O,Z=H;N>2&&O>1&&(W=O>=16384?Math.floor(O/2)-1||1:Math.ceil(O/2),N/=O/W),U>2&&H>1&&(Z=H>=16384?Math.floor(H/2)-1||1:Math.ceil(H)/2,U/=H/Z),M=this.cachedCanvases.getCanvas(X,W,Z),T=M.context,T.clearRect(0,0,W,Z),T.drawImage(I,0,0,O,H,0,0,W,Z),I=M.canvas,O=W,H=Z,X=X==="prescale1"?"prescale2":"prescale1"}return{img:I,paintWidth:O,paintHeight:H}}_createMaskCanvas(I){const F=this.ctx,{width:m,height:g}=I,N=this.current.fillColor,U=this.current.patternFill,O=(0,f.getCurrentTransform)(F);let H,X,M,T;if((I.bitmap||I.data)&&I.count>1){const Te=I.bitmap||I.data.buffer;X=JSON.stringify(U?O:[O.slice(0,4),N]),H=this._cachedBitmapsMap.get(Te),H||(H=new Map,this._cachedBitmapsMap.set(Te,H));const ke=H.get(X);if(ke&&!U){const Ne=Math.round(Math.min(O[0],O[2])+O[4]),ze=Math.round(Math.min(O[1],O[3])+O[5]);return{canvas:ke,offsetX:Ne,offsetY:ze}}M=ke}M||(T=this.cachedCanvases.getCanvas("maskCanvas",m,g),A(T.context,I));let W=i.Util.transform(O,[1/m,0,0,-1/g,0,0]);W=i.Util.transform(W,[1,0,0,1,0,-g]);const Z=i.Util.applyTransform([0,0],W),q=i.Util.applyTransform([m,g],W),we=i.Util.normalizeRect([Z[0],Z[1],q[0],q[1]]),Ae=Math.round(we[2]-we[0])||1,Ee=Math.round(we[3]-we[1])||1,oe=this.cachedCanvases.getCanvas("fillCanvas",Ae,Ee),Y=oe.context,Q=Math.min(Z[0],q[0]),de=Math.min(Z[1],q[1]);Y.translate(-Q,-de),Y.transform(...W),M||(M=this._scaleImage(T.canvas,(0,f.getCurrentTransformInverse)(Y)),M=M.img,H&&U&&H.set(X,M)),Y.imageSmoothingEnabled=K((0,f.getCurrentTransform)(Y),I.interpolate),d(Y,M,0,0,M.width,M.height,0,0,m,g),Y.globalCompositeOperation="source-in";const be=i.Util.transform((0,f.getCurrentTransformInverse)(Y),[1,0,0,1,-Q,-de]);return Y.fillStyle=U?N.getPattern(F,this,be,L.PathType.FILL):N,Y.fillRect(0,0,m,g),H&&!U&&(this.cachedCanvases.delete("fillCanvas"),H.set(X,oe.canvas)),{canvas:oe.canvas,offsetX:Math.round(Q),offsetY:Math.round(de)}}setLineWidth(I){I!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=I,this.ctx.lineWidth=I}setLineCap(I){this.ctx.lineCap=ve[I]}setLineJoin(I){this.ctx.lineJoin=pe[I]}setMiterLimit(I){this.ctx.miterLimit=I}setDash(I,F){const m=this.ctx;m.setLineDash!==void 0&&(m.setLineDash(I),m.lineDashOffset=F)}setRenderingIntent(I){}setFlatness(I){}setGState(I){for(const[F,m]of I)switch(F){case"LW":this.setLineWidth(m);break;case"LC":this.setLineCap(m);break;case"LJ":this.setLineJoin(m);break;case"ML":this.setMiterLimit(m);break;case"D":this.setDash(m[0],m[1]);break;case"RI":this.setRenderingIntent(m);break;case"FL":this.setFlatness(m);break;case"Font":this.setFont(m[0],m[1]);break;case"CA":this.current.strokeAlpha=m;break;case"ca":this.current.fillAlpha=m,this.ctx.globalAlpha=m;break;case"BM":this.ctx.globalCompositeOperation=m;break;case"SMask":this.current.activeSMask=m?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(m);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const I=this.inSMaskMode;this.current.activeSMask&&!I?this.beginSMaskMode():!this.current.activeSMask&&I&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const I=this.ctx.canvas.width,F=this.ctx.canvas.height,m="smaskGroupAt"+this.groupLevel,g=this.cachedCanvases.getCanvas(m,I,F);this.suspendedCtx=this.ctx,this.ctx=g.context;const N=this.ctx;N.setTransform(...(0,f.getCurrentTransform)(this.suspendedCtx)),v(this.suspendedCtx,N),a(N,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),v(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(I){if(!this.current.activeSMask)return;I?(I[0]=Math.floor(I[0]),I[1]=Math.floor(I[1]),I[2]=Math.ceil(I[2]),I[3]=Math.ceil(I[3])):I=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const F=this.current.activeSMask,m=this.suspendedCtx;z(m,F,this.ctx,I),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(v(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const I=this.current;this.stateStack.push(I),this.current=I.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),v(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(I,F,m,g,N,U){this.ctx.transform(I,F,m,g,N,U),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(I,F,m){const g=this.ctx,N=this.current;let U=N.x,O=N.y,H,X;const M=(0,f.getCurrentTransform)(g),T=M[0]===0&&M[3]===0||M[1]===0&&M[2]===0,W=T?m.slice(0):null;for(let Z=0,q=0,we=I.length;Z<we;Z++)switch(I[Z]|0){case i.OPS.rectangle:U=F[q++],O=F[q++];const Ae=F[q++],Ee=F[q++],oe=U+Ae,Y=O+Ee;g.moveTo(U,O),Ae===0||Ee===0?g.lineTo(oe,Y):(g.lineTo(oe,O),g.lineTo(oe,Y),g.lineTo(U,Y)),T||N.updateRectMinMax(M,[U,O,oe,Y]),g.closePath();break;case i.OPS.moveTo:U=F[q++],O=F[q++],g.moveTo(U,O),T||N.updatePathMinMax(M,U,O);break;case i.OPS.lineTo:U=F[q++],O=F[q++],g.lineTo(U,O),T||N.updatePathMinMax(M,U,O);break;case i.OPS.curveTo:H=U,X=O,U=F[q+4],O=F[q+5],g.bezierCurveTo(F[q],F[q+1],F[q+2],F[q+3],U,O),N.updateCurvePathMinMax(M,H,X,F[q],F[q+1],F[q+2],F[q+3],U,O,W),q+=6;break;case i.OPS.curveTo2:H=U,X=O,g.bezierCurveTo(U,O,F[q],F[q+1],F[q+2],F[q+3]),N.updateCurvePathMinMax(M,H,X,U,O,F[q],F[q+1],F[q+2],F[q+3],W),U=F[q+2],O=F[q+3],q+=4;break;case i.OPS.curveTo3:H=U,X=O,U=F[q+2],O=F[q+3],g.bezierCurveTo(F[q],F[q+1],U,O,U,O),N.updateCurvePathMinMax(M,H,X,F[q],F[q+1],U,O,U,O,W),q+=4;break;case i.OPS.closePath:g.closePath();break}T&&N.updateScalingPathMinMax(M,W),N.setCurrentPoint(U,O)}closePath(){this.ctx.closePath()}stroke(I=!0){const F=this.ctx,m=this.current.strokeColor;F.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof m=="object"&&(m!=null&&m.getPattern)?(F.save(),F.strokeStyle=m.getPattern(F,this,(0,f.getCurrentTransformInverse)(F),L.PathType.STROKE),this.rescaleAndStroke(!1),F.restore()):this.rescaleAndStroke(!0)),I&&this.consumePath(this.current.getClippedPathBoundingBox()),F.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(I=!0){const F=this.ctx,m=this.current.fillColor,g=this.current.patternFill;let N=!1;g&&(F.save(),F.fillStyle=m.getPattern(F,this,(0,f.getCurrentTransformInverse)(F),L.PathType.FILL),N=!0);const U=this.current.getClippedPathBoundingBox();this.contentVisible&&U!==null&&(this.pendingEOFill?(F.fill("evenodd"),this.pendingEOFill=!1):F.fill()),N&&F.restore(),I&&this.consumePath(U)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_e}eoClip(){this.pendingClip=$}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const I=this.pendingTextPaths,F=this.ctx;if(I===void 0){F.beginPath();return}F.save(),F.beginPath();for(const m of I)F.setTransform(...m.transform),F.translate(m.x,m.y),m.addToPath(F,m.fontSize);F.restore(),F.clip(),F.beginPath(),delete this.pendingTextPaths}setCharSpacing(I){this.current.charSpacing=I}setWordSpacing(I){this.current.wordSpacing=I}setHScale(I){this.current.textHScale=I/100}setLeading(I){this.current.leading=-I}setFont(I,F){var M;const m=this.commonObjs.get(I),g=this.current;if(!m)throw new Error(`Can't find font for ${I}`);if(g.fontMatrix=m.fontMatrix||i.FONT_IDENTITY_MATRIX,(g.fontMatrix[0]===0||g.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+I),F<0?(F=-F,g.fontDirection=-1):g.fontDirection=1,this.current.font=m,this.current.fontSize=F,m.isType3Font)return;const N=m.loadedName||"sans-serif",U=((M=m.systemFontInfo)==null?void 0:M.css)||`"${N}", ${m.fallbackName}`;let O="normal";m.black?O="900":m.bold&&(O="bold");const H=m.italic?"italic":"normal";let X=F;F<u?X=u:F>c&&(X=c),this.current.fontSizeScale=F/X,this.ctx.font=`${H} ${O} ${X}px ${U}`}setTextRenderingMode(I){this.current.textRenderingMode=I}setTextRise(I){this.current.textRise=I}moveText(I,F){this.current.x=this.current.lineX+=I,this.current.y=this.current.lineY+=F}setLeadingMoveText(I,F){this.setLeading(-F),this.moveText(I,F)}setTextMatrix(I,F,m,g,N,U){this.current.textMatrix=[I,F,m,g,N,U],this.current.textMatrixScale=Math.hypot(I,F),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(I,F,m,g){const N=this.ctx,U=this.current,O=U.font,H=U.textRenderingMode,X=U.fontSize/U.fontSizeScale,M=H&i.TextRenderingMode.FILL_STROKE_MASK,T=!!(H&i.TextRenderingMode.ADD_TO_PATH_FLAG),W=U.patternFill&&!O.missingFile;let Z;(O.disableFontFace||T||W)&&(Z=O.getPathGenerator(this.commonObjs,I)),O.disableFontFace||W?(N.save(),N.translate(F,m),N.beginPath(),Z(N,X),g&&N.setTransform(...g),(M===i.TextRenderingMode.FILL||M===i.TextRenderingMode.FILL_STROKE)&&N.fill(),(M===i.TextRenderingMode.STROKE||M===i.TextRenderingMode.FILL_STROKE)&&N.stroke(),N.restore()):((M===i.TextRenderingMode.FILL||M===i.TextRenderingMode.FILL_STROKE)&&N.fillText(I,F,m),(M===i.TextRenderingMode.STROKE||M===i.TextRenderingMode.FILL_STROKE)&&N.strokeText(I,F,m)),T&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,f.getCurrentTransform)(N),x:F,y:m,fontSize:X,addToPath:Z})}get isFontSubpixelAAEnabled(){const{context:I}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);I.scale(1.5,1),I.fillText("I",0,10);const F=I.getImageData(0,0,10,10).data;let m=!1;for(let g=3;g<F.length;g+=4)if(F[g]>0&&F[g]<255){m=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",m)}showText(I){const F=this.current,m=F.font;if(m.isType3Font)return this.showType3Text(I);const g=F.fontSize;if(g===0)return;const N=this.ctx,U=F.fontSizeScale,O=F.charSpacing,H=F.wordSpacing,X=F.fontDirection,M=F.textHScale*X,T=I.length,W=m.vertical,Z=W?1:-1,q=m.defaultVMetrics,we=g*F.fontMatrix[0],Ae=F.textRenderingMode===i.TextRenderingMode.FILL&&!m.disableFontFace&&!F.patternFill;N.save(),N.transform(...F.textMatrix),N.translate(F.x,F.y+F.textRise),X>0?N.scale(M,-1):N.scale(M,1);let Ee;if(F.patternFill){N.save();const be=F.fillColor.getPattern(N,this,(0,f.getCurrentTransformInverse)(N),L.PathType.FILL);Ee=(0,f.getCurrentTransform)(N),N.restore(),N.fillStyle=be}let oe=F.lineWidth;const Y=F.textMatrixScale;if(Y===0||oe===0){const be=F.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(be===i.TextRenderingMode.STROKE||be===i.TextRenderingMode.FILL_STROKE)&&(oe=this.getSinglePixelWidth())}else oe/=Y;if(U!==1&&(N.scale(U,U),oe/=U),N.lineWidth=oe,m.isInvalidPDFjsFont){const be=[];let Te=0;for(const ke of I)be.push(ke.unicode),Te+=ke.width;N.fillText(be.join(""),0,0),F.x+=Te*we*M,N.restore(),this.compose();return}let Q=0,de;for(de=0;de<T;++de){const be=I[de];if(typeof be=="number"){Q+=Z*be*g/1e3;continue}let Te=!1;const ke=(be.isSpace?H:0)+O,Ne=be.fontChar,ze=be.accent;let We,qe,Ge=be.width;if(W){const ie=be.vmetric||q,ce=-(be.vmetric?ie[1]:Ge*.5)*we,re=ie[2]*we;Ge=ie?-ie[0]:Ge,We=ce/U,qe=(Q+re)/U}else We=Q/U,qe=0;if(m.remeasure&&Ge>0){const ie=N.measureText(Ne).width*1e3/g*U;if(Ge<ie&&this.isFontSubpixelAAEnabled){const ce=Ge/ie;Te=!0,N.save(),N.scale(ce,1),We/=ce}else Ge!==ie&&(We+=(Ge-ie)/2e3*g/U)}if(this.contentVisible&&(be.isInFont||m.missingFile)){if(Ae&&!ze)N.fillText(Ne,We,qe);else if(this.paintChar(Ne,We,qe,Ee),ze){const ie=We+g*ze.offset.x/U,ce=qe-g*ze.offset.y/U;this.paintChar(ze.fontChar,ie,ce,Ee)}}const Je=W?Ge*we-ke*X:Ge*we+ke*X;Q+=Je,Te&&N.restore()}W?F.y-=Q:F.x+=Q*M,N.restore(),this.compose()}showType3Text(I){const F=this.ctx,m=this.current,g=m.font,N=m.fontSize,U=m.fontDirection,O=g.vertical?1:-1,H=m.charSpacing,X=m.wordSpacing,M=m.textHScale*U,T=m.fontMatrix||i.FONT_IDENTITY_MATRIX,W=I.length,Z=m.textRenderingMode===i.TextRenderingMode.INVISIBLE;let q,we,Ae,Ee;if(!(Z||N===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,F.save(),F.transform(...m.textMatrix),F.translate(m.x,m.y),F.scale(M,U),q=0;q<W;++q){if(we=I[q],typeof we=="number"){Ee=O*we*N/1e3,this.ctx.translate(Ee,0),m.x+=Ee*M;continue}const oe=(we.isSpace?X:0)+H,Y=g.charProcOperatorList[we.operatorListId];if(!Y){(0,i.warn)(`Type3 character "${we.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=we,this.save(),F.scale(N,N),F.transform(...T),this.executeOperatorList(Y),this.restore()),Ae=i.Util.applyTransform([we.width,0],T)[0]*N+oe,F.translate(Ae,0),m.x+=Ae*M}F.restore(),this.processingType3=null}}setCharWidth(I,F){}setCharWidthAndBounds(I,F,m,g,N,U){this.ctx.rect(m,g,N-m,U-g),this.ctx.clip(),this.endPath()}getColorN_Pattern(I){let F;if(I[0]==="TilingPattern"){const m=I[1],g=this.baseTransform||(0,f.getCurrentTransform)(this.ctx),N={createCanvasGraphics:U=>new Ie(U,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};F=new L.TilingPattern(I,m,this.ctx,N,g)}else F=this._getPattern(I[1],I[2]);return F}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(I,F,m){const g=i.Util.makeHexColor(I,F,m);this.ctx.strokeStyle=g,this.current.strokeColor=g}setFillRGBColor(I,F,m){const g=i.Util.makeHexColor(I,F,m);this.ctx.fillStyle=g,this.current.fillColor=g,this.current.patternFill=!1}_getPattern(I,F=null){let m;return this.cachedPatterns.has(I)?m=this.cachedPatterns.get(I):(m=(0,L.getShadingPattern)(this.getObject(I)),this.cachedPatterns.set(I,m)),F&&(m.matrix=F),m}shadingFill(I){if(!this.contentVisible)return;const F=this.ctx;this.save();const m=this._getPattern(I);F.fillStyle=m.getPattern(F,this,(0,f.getCurrentTransformInverse)(F),L.PathType.SHADING);const g=(0,f.getCurrentTransformInverse)(F);if(g){const{width:N,height:U}=F.canvas,[O,H,X,M]=i.Util.getAxialAlignedBoundingBox([0,0,N,U],g);this.ctx.fillRect(O,H,X-O,M-H)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(I,F){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(I)&&I.length===6&&this.transform(...I),this.baseTransform=(0,f.getCurrentTransform)(this.ctx),F)){const m=F[2]-F[0],g=F[3]-F[1];this.ctx.rect(F[0],F[1],m,g),this.current.updateRectMinMax((0,f.getCurrentTransform)(this.ctx),F),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(I){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const F=this.ctx;I.isolated||(0,i.info)("TODO: Support non-isolated groups."),I.knockout&&(0,i.warn)("Knockout groups not supported.");const m=(0,f.getCurrentTransform)(F);if(I.matrix&&F.transform(...I.matrix),!I.bbox)throw new Error("Bounding box is required.");let g=i.Util.getAxialAlignedBoundingBox(I.bbox,(0,f.getCurrentTransform)(F));const N=[0,0,F.canvas.width,F.canvas.height];g=i.Util.intersect(g,N)||[0,0,0,0];const U=Math.floor(g[0]),O=Math.floor(g[1]);let H=Math.max(Math.ceil(g[2])-U,1),X=Math.max(Math.ceil(g[3])-O,1),M=1,T=1;H>s&&(M=H/s,H=s),X>s&&(T=X/s,X=s),this.current.startNewPathAndClipBox([0,0,H,X]);let W="groupAt"+this.groupLevel;I.smask&&(W+="_smask_"+this.smaskCounter++%2);const Z=this.cachedCanvases.getCanvas(W,H,X),q=Z.context;q.scale(1/M,1/T),q.translate(-U,-O),q.transform(...m),I.smask?this.smaskStack.push({canvas:Z.canvas,context:q,offsetX:U,offsetY:O,scaleX:M,scaleY:T,subtype:I.smask.subtype,backdrop:I.smask.backdrop,transferMap:I.smask.transferMap||null,startTransformInverse:null}):(F.setTransform(1,0,0,1,0,0),F.translate(U,O),F.scale(M,T),F.save()),v(F,q),this.ctx=q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(F),this.groupLevel++}endGroup(I){if(!this.contentVisible)return;this.groupLevel--;const F=this.ctx,m=this.groupStack.pop();if(this.ctx=m,this.ctx.imageSmoothingEnabled=!1,I.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const g=(0,f.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...g);const N=i.Util.getAxialAlignedBoundingBox([0,0,F.canvas.width,F.canvas.height],g);this.ctx.drawImage(F.canvas,0,0),this.ctx.restore(),this.compose(N)}}beginAnnotation(I,F,m,g,N){if(j(this,G,Ei).call(this),w(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(F)&&F.length===4){const U=F[2]-F[0],O=F[3]-F[1];if(N&&this.annotationCanvasMap){m=m.slice(),m[4]-=F[0],m[5]-=F[1],F=F.slice(),F[0]=F[1]=0,F[2]=U,F[3]=O;const[H,X]=i.Util.singularValueDecompose2dScale((0,f.getCurrentTransform)(this.ctx)),{viewportScale:M}=this,T=Math.ceil(U*this.outputScaleX*M),W=Math.ceil(O*this.outputScaleY*M);this.annotationCanvas=this.canvasFactory.create(T,W);const{canvas:Z,context:q}=this.annotationCanvas;this.annotationCanvasMap.set(I,Z),this.annotationCanvas.savedCtx=this.ctx,this.ctx=q,this.ctx.save(),this.ctx.setTransform(H,0,0,-X,0,O*X),w(this.ctx)}else w(this.ctx),this.ctx.rect(F[0],F[1],U,O),this.ctx.clip(),this.endPath()}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...m),this.transform(...g)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),j(this,te,Si).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(I){if(!this.contentVisible)return;const F=I.count;I=this.getObject(I.data,I),I.count=F;const m=this.ctx,g=this.processingType3;if(g&&(g.compiled===void 0&&(g.compiled=E(I)),g.compiled)){g.compiled(m);return}const N=this._createMaskCanvas(I),U=N.canvas;m.save(),m.setTransform(1,0,0,1,0,0),m.drawImage(U,N.offsetX,N.offsetY),m.restore(),this.compose()}paintImageMaskXObjectRepeat(I,F,m=0,g=0,N,U){if(!this.contentVisible)return;I=this.getObject(I.data,I);const O=this.ctx;O.save();const H=(0,f.getCurrentTransform)(O);O.transform(F,m,g,N,0,0);const X=this._createMaskCanvas(I);O.setTransform(1,0,0,1,X.offsetX-H[4],X.offsetY-H[5]);for(let M=0,T=U.length;M<T;M+=2){const W=i.Util.transform(H,[F,m,g,N,U[M],U[M+1]]),[Z,q]=i.Util.applyTransform([0,0],W);O.drawImage(X.canvas,Z,q)}O.restore(),this.compose()}paintImageMaskXObjectGroup(I){if(!this.contentVisible)return;const F=this.ctx,m=this.current.fillColor,g=this.current.patternFill;for(const N of I){const{data:U,width:O,height:H,transform:X}=N,M=this.cachedCanvases.getCanvas("maskCanvas",O,H),T=M.context;T.save();const W=this.getObject(U,N);A(T,W),T.globalCompositeOperation="source-in",T.fillStyle=g?m.getPattern(T,this,(0,f.getCurrentTransformInverse)(F),L.PathType.FILL):m,T.fillRect(0,0,O,H),T.restore(),F.save(),F.transform(...X),F.scale(1,-1),d(F,M.canvas,0,0,O,H,0,-1,1,1),F.restore()}this.compose()}paintImageXObject(I){if(!this.contentVisible)return;const F=this.getObject(I);if(!F){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(F)}paintImageXObjectRepeat(I,F,m,g){if(!this.contentVisible)return;const N=this.getObject(I);if(!N){(0,i.warn)("Dependent image isn't ready yet");return}const U=N.width,O=N.height,H=[];for(let X=0,M=g.length;X<M;X+=2)H.push({transform:[F,0,0,m,g[X],g[X+1]],x:0,y:0,w:U,h:O});this.paintInlineImageXObjectGroup(N,H)}applyTransferMapsToCanvas(I){return this.current.transferMaps!=="none"&&(I.filter=this.current.transferMaps,I.drawImage(I.canvas,0,0),I.filter="none"),I.canvas}applyTransferMapsToBitmap(I){if(this.current.transferMaps==="none")return I.bitmap;const{bitmap:F,width:m,height:g}=I,N=this.cachedCanvases.getCanvas("inlineImage",m,g),U=N.context;return U.filter=this.current.transferMaps,U.drawImage(F,0,0),U.filter="none",N.canvas}paintInlineImageXObject(I){if(!this.contentVisible)return;const F=I.width,m=I.height,g=this.ctx;if(this.save(),!i.isNodeJS){const{filter:O}=g;O!=="none"&&O!==""&&(g.filter="none")}g.scale(1/F,-1/m);let N;if(I.bitmap)N=this.applyTransferMapsToBitmap(I);else if(typeof HTMLElement=="function"&&I instanceof HTMLElement||!I.data)N=I;else{const H=this.cachedCanvases.getCanvas("inlineImage",F,m).context;b(H,I),N=this.applyTransferMapsToCanvas(H)}const U=this._scaleImage(N,(0,f.getCurrentTransformInverse)(g));g.imageSmoothingEnabled=K((0,f.getCurrentTransform)(g),I.interpolate),d(g,U.img,0,0,U.paintWidth,U.paintHeight,0,-m,F,m),this.compose(),this.restore()}paintInlineImageXObjectGroup(I,F){if(!this.contentVisible)return;const m=this.ctx;let g;if(I.bitmap)g=I.bitmap;else{const N=I.width,U=I.height,H=this.cachedCanvases.getCanvas("inlineImage",N,U).context;b(H,I),g=this.applyTransferMapsToCanvas(H)}for(const N of F)m.save(),m.transform(...N.transform),m.scale(1,-1),d(m,g,N.x,N.y,N.w,N.h,0,-1,1,1),m.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(I){}markPointProps(I,F){}beginMarkedContent(I){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(I,F){I==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(F)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(I){const F=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(I);const m=this.ctx;this.pendingClip&&(F||(this.pendingClip===$?m.clip("evenodd"):m.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),m.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const I=(0,f.getCurrentTransform)(this.ctx);if(I[1]===0&&I[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(I[0]),Math.abs(I[3]));else{const F=Math.abs(I[0]*I[3]-I[2]*I[1]),m=Math.hypot(I[0],I[2]),g=Math.hypot(I[1],I[3]);this._cachedGetSinglePixelWidth=Math.max(m,g)/F}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:I}=this.current,{a:F,b:m,c:g,d:N}=this.ctx.getTransform();let U,O;if(m===0&&g===0){const H=Math.abs(F),X=Math.abs(N);if(H===X)if(I===0)U=O=1/H;else{const M=H*I;U=O=M<1?1/M:1}else if(I===0)U=1/H,O=1/X;else{const M=H*I,T=X*I;U=M<1?1/M:1,O=T<1?1/T:1}}else{const H=Math.abs(F*N-m*g),X=Math.hypot(F,m),M=Math.hypot(g,N);if(I===0)U=M/H,O=X/H;else{const T=I*H;U=M>T?M/T:1,O=X>T?X/T:1}}this._cachedScaleForStroking[0]=U,this._cachedScaleForStroking[1]=O}return this._cachedScaleForStroking}rescaleAndStroke(I){const{ctx:F}=this,{lineWidth:m}=this.current,[g,N]=this.getScaleForStroking();if(F.lineWidth=m||1,g===1&&N===1){F.stroke();return}const U=F.getLineDash();if(I&&F.save(),F.scale(g,N),U.length>0){const O=Math.max(g,N);F.setLineDash(U.map(H=>H/O)),F.lineDashOffset/=O}F.stroke(),I&&F.restore()}isContentVisible(){for(let I=this.markedContentStack.length-1;I>=0;I--)if(!this.markedContentStack[I].visible)return!1;return!0}};G=new WeakSet,Ei=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},te=new WeakSet,Si=function(){if(this.pageColors){const I=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(I!=="none"){const F=this.ctx.filter;this.ctx.filter=I,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=F}}};let ee=Ie;t.CanvasGraphics=ee;for(const le in i.OPS)ee.prototype[le]!==void 0&&(ee.prototype[i.OPS[le]]=ee.prototype[le])},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=_;var i=r(1),f=r(6);const L={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=L;function C(E,P){if(!P)return;const b=P[2]-P[0],A=P[3]-P[1],v=new Path2D;v.rect(P[0],P[1],b,A),E.clip(v)}class u{constructor(){this.constructor===u&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class c extends u{constructor(P){super(),this._type=P[1],this._bbox=P[2],this._colorStops=P[3],this._p0=P[4],this._p1=P[5],this._r0=P[6],this._r1=P[7],this.matrix=null}_createGradient(P){let b;this._type==="axial"?b=P.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(b=P.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const A of this._colorStops)b.addColorStop(A[0],A[1]);return b}getPattern(P,b,A,v){let w;if(v===L.STROKE||v===L.FILL){const x=b.current.getClippedPathBoundingBox(v,(0,f.getCurrentTransform)(P))||[0,0,0,0],R=Math.ceil(x[2]-x[0])||1,k=Math.ceil(x[3]-x[1])||1,V=b.cachedCanvases.getCanvas("pattern",R,k,!0),z=V.context;z.clearRect(0,0,z.canvas.width,z.canvas.height),z.beginPath(),z.rect(0,0,z.canvas.width,z.canvas.height),z.translate(-x[0],-x[1]),A=i.Util.transform(A,[1,0,0,1,x[0],x[1]]),z.transform(...b.baseTransform),this.matrix&&z.transform(...this.matrix),C(z,this._bbox),z.fillStyle=this._createGradient(z),z.fill(),w=P.createPattern(V.canvas,"no-repeat");const K=new DOMMatrix(A);w.setTransform(K)}else C(P,this._bbox),w=this._createGradient(P);return w}}function s(E,P,b,A,v,w,x,R){const k=P.coords,V=P.colors,z=E.data,K=E.width*4;let ve;k[b+1]>k[A+1]&&(ve=b,b=A,A=ve,ve=w,w=x,x=ve),k[A+1]>k[v+1]&&(ve=A,A=v,v=ve,ve=x,x=R,R=ve),k[b+1]>k[A+1]&&(ve=b,b=A,A=ve,ve=w,w=x,x=ve);const pe=(k[b]+P.offsetX)*P.scaleX,_e=(k[b+1]+P.offsetY)*P.scaleY,$=(k[A]+P.offsetX)*P.scaleX,ee=(k[A+1]+P.offsetY)*P.scaleY,G=(k[v]+P.offsetX)*P.scaleX,ue=(k[v+1]+P.offsetY)*P.scaleY;if(_e>=ue)return;const te=V[w],xe=V[w+1],Ie=V[w+2],le=V[x],I=V[x+1],F=V[x+2],m=V[R],g=V[R+1],N=V[R+2],U=Math.round(_e),O=Math.round(ue);let H,X,M,T,W,Z,q,we;for(let Ae=U;Ae<=O;Ae++){if(Ae<ee){const de=Ae<_e?0:(_e-Ae)/(_e-ee);H=pe-(pe-$)*de,X=te-(te-le)*de,M=xe-(xe-I)*de,T=Ie-(Ie-F)*de}else{let de;Ae>ue?de=1:ee===ue?de=0:de=(ee-Ae)/(ee-ue),H=$-($-G)*de,X=le-(le-m)*de,M=I-(I-g)*de,T=F-(F-N)*de}let Ee;Ae<_e?Ee=0:Ae>ue?Ee=1:Ee=(_e-Ae)/(_e-ue),W=pe-(pe-G)*Ee,Z=te-(te-m)*Ee,q=xe-(xe-g)*Ee,we=Ie-(Ie-N)*Ee;const oe=Math.round(Math.min(H,W)),Y=Math.round(Math.max(H,W));let Q=K*Ae+oe*4;for(let de=oe;de<=Y;de++)Ee=(H-de)/(H-W),Ee<0?Ee=0:Ee>1&&(Ee=1),z[Q++]=X-(X-Z)*Ee|0,z[Q++]=M-(M-q)*Ee|0,z[Q++]=T-(T-we)*Ee|0,z[Q++]=255}}function o(E,P,b){const A=P.coords,v=P.colors;let w,x;switch(P.type){case"lattice":const R=P.verticesPerRow,k=Math.floor(A.length/R)-1,V=R-1;for(w=0;w<k;w++){let z=w*R;for(let K=0;K<V;K++,z++)s(E,b,A[z],A[z+1],A[z+R],v[z],v[z+1],v[z+R]),s(E,b,A[z+R+1],A[z+1],A[z+R],v[z+R+1],v[z+1],v[z+R])}break;case"triangles":for(w=0,x=A.length;w<x;w+=3)s(E,b,A[w],A[w+1],A[w+2],v[w],v[w+1],v[w+2]);break;default:throw new Error("illegal figure")}}class S extends u{constructor(P){super(),this._coords=P[2],this._colors=P[3],this._figures=P[4],this._bounds=P[5],this._bbox=P[7],this._background=P[8],this.matrix=null}_createMeshCanvas(P,b,A){const R=Math.floor(this._bounds[0]),k=Math.floor(this._bounds[1]),V=Math.ceil(this._bounds[2])-R,z=Math.ceil(this._bounds[3])-k,K=Math.min(Math.ceil(Math.abs(V*P[0]*1.1)),3e3),ve=Math.min(Math.ceil(Math.abs(z*P[1]*1.1)),3e3),pe=V/K,_e=z/ve,$={coords:this._coords,colors:this._colors,offsetX:-R,offsetY:-k,scaleX:1/pe,scaleY:1/_e},ee=K+2*2,G=ve+2*2,ue=A.getCanvas("mesh",ee,G,!1),te=ue.context,xe=te.createImageData(K,ve);if(b){const le=xe.data;for(let I=0,F=le.length;I<F;I+=4)le[I]=b[0],le[I+1]=b[1],le[I+2]=b[2],le[I+3]=255}for(const le of this._figures)o(xe,le,$);return te.putImageData(xe,2,2),{canvas:ue.canvas,offsetX:R-2*pe,offsetY:k-2*_e,scaleX:pe,scaleY:_e}}getPattern(P,b,A,v){C(P,this._bbox);let w;if(v===L.SHADING)w=i.Util.singularValueDecompose2dScale((0,f.getCurrentTransform)(P));else if(w=i.Util.singularValueDecompose2dScale(b.baseTransform),this.matrix){const R=i.Util.singularValueDecompose2dScale(this.matrix);w=[w[0]*R[0],w[1]*R[1]]}const x=this._createMeshCanvas(w,v===L.SHADING?null:this._background,b.cachedCanvases);return v!==L.SHADING&&(P.setTransform(...b.baseTransform),this.matrix&&P.transform(...this.matrix)),P.translate(x.offsetX,x.offsetY),P.scale(x.scaleX,x.scaleY),P.createPattern(x.canvas,"no-repeat")}}class y extends u{getPattern(){return"hotpink"}}function _(E){switch(E[0]){case"RadialAxial":return new c(E);case"Mesh":return new S(E);case"Dummy":return new y}throw new Error(`Unknown IR type: ${E[0]}`)}const a={COLORED:1,UNCOLORED:2},d=class d{constructor(P,b,A,v,w){this.operatorList=P[2],this.matrix=P[3]||[1,0,0,1,0,0],this.bbox=P[4],this.xstep=P[5],this.ystep=P[6],this.paintType=P[7],this.tilingType=P[8],this.color=b,this.ctx=A,this.canvasGraphicsFactory=v,this.baseTransform=w}createPatternCanvas(P){const b=this.operatorList,A=this.bbox,v=this.xstep,w=this.ystep,x=this.paintType,R=this.tilingType,k=this.color,V=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+R);const z=A[0],K=A[1],ve=A[2],pe=A[3],_e=i.Util.singularValueDecompose2dScale(this.matrix),$=i.Util.singularValueDecompose2dScale(this.baseTransform),ee=[_e[0]*$[0],_e[1]*$[1]],G=this.getSizeAndScale(v,this.ctx.canvas.width,ee[0]),ue=this.getSizeAndScale(w,this.ctx.canvas.height,ee[1]),te=P.cachedCanvases.getCanvas("pattern",G.size,ue.size,!0),xe=te.context,Ie=V.createCanvasGraphics(xe);Ie.groupLevel=P.groupLevel,this.setFillAndStrokeStyleToContext(Ie,x,k);let le=z,I=K,F=ve,m=pe;return z<0&&(le=0,F+=Math.abs(z)),K<0&&(I=0,m+=Math.abs(K)),xe.translate(-(G.scale*le),-(ue.scale*I)),Ie.transform(G.scale,0,0,ue.scale,0,0),xe.save(),this.clipBbox(Ie,le,I,F,m),Ie.baseTransform=(0,f.getCurrentTransform)(Ie.ctx),Ie.executeOperatorList(b),Ie.endDrawing(),{canvas:te.canvas,scaleX:G.scale,scaleY:ue.scale,offsetX:le,offsetY:I}}getSizeAndScale(P,b,A){P=Math.abs(P);const v=Math.max(d.MAX_PATTERN_SIZE,b);let w=Math.ceil(P*A);return w>=v?w=v:A=w/P,{scale:A,size:w}}clipBbox(P,b,A,v,w){const x=v-b,R=w-A;P.ctx.rect(b,A,x,R),P.current.updateRectMinMax((0,f.getCurrentTransform)(P.ctx),[b,A,v,w]),P.clip(),P.endPath()}setFillAndStrokeStyleToContext(P,b,A){const v=P.ctx,w=P.current;switch(b){case a.COLORED:const x=this.ctx;v.fillStyle=x.fillStyle,v.strokeStyle=x.strokeStyle,w.fillColor=x.fillStyle,w.strokeColor=x.strokeStyle;break;case a.UNCOLORED:const R=i.Util.makeHexColor(A[0],A[1],A[2]);v.fillStyle=R,v.strokeStyle=R,w.fillColor=R,w.strokeColor=R;break;default:throw new i.FormatError(`Unsupported paint type: ${b}`)}}getPattern(P,b,A,v){let w=A;v!==L.SHADING&&(w=i.Util.transform(w,b.baseTransform),this.matrix&&(w=i.Util.transform(w,this.matrix)));const x=this.createPatternCanvas(b);let R=new DOMMatrix(w);R=R.translate(x.offsetX,x.offsetY),R=R.scale(1/x.scaleX,1/x.scaleY);const k=P.createPattern(x.canvas,"repeat");return k.setTransform(R),k}};Qe(d,"MAX_PATTERN_SIZE",3e3);let l=d;t.TilingPattern=l},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=L,t.convertToRGBA=f,t.grayToRGBA=u;var i=r(1);function f(c){switch(c.kind){case i.ImageKind.GRAYSCALE_1BPP:return L(c);case i.ImageKind.RGB_24BPP:return C(c)}return null}function L({src:c,srcPos:s=0,dest:o,width:S,height:y,nonBlackColor:_=4294967295,inverseDecode:a=!1}){const l=i.FeatureTest.isLittleEndian?4278190080:255,[d,E]=a?[_,l]:[l,_],P=S>>3,b=S&7,A=c.length;o=new Uint32Array(o.buffer);let v=0;for(let w=0;w<y;w++){for(const R=s+P;s<R;s++){const k=s<A?c[s]:255;o[v++]=k&128?E:d,o[v++]=k&64?E:d,o[v++]=k&32?E:d,o[v++]=k&16?E:d,o[v++]=k&8?E:d,o[v++]=k&4?E:d,o[v++]=k&2?E:d,o[v++]=k&1?E:d}if(b===0)continue;const x=s<A?c[s++]:255;for(let R=0;R<b;R++)o[v++]=x&1<<7-R?E:d}return{srcPos:s,destPos:v}}function C({src:c,srcPos:s=0,dest:o,destPos:S=0,width:y,height:_}){let a=0;const l=c.length>>2,d=new Uint32Array(c.buffer,s,l);if(i.FeatureTest.isLittleEndian){for(;a<l-2;a+=3,S+=4){const E=d[a],P=d[a+1],b=d[a+2];o[S]=E|4278190080,o[S+1]=E>>>24|P<<8|4278190080,o[S+2]=P>>>16|b<<16|4278190080,o[S+3]=b>>>8|4278190080}for(let E=a*4,P=c.length;E<P;E+=3)o[S++]=c[E]|c[E+1]<<8|c[E+2]<<16|4278190080}else{for(;a<l-2;a+=3,S+=4){const E=d[a],P=d[a+1],b=d[a+2];o[S]=E|255,o[S+1]=E<<24|P>>>8|255,o[S+2]=P<<16|b>>>16|255,o[S+3]=b<<8|255}for(let E=a*4,P=c.length;E<P;E+=3)o[S++]=c[E]<<24|c[E+1]<<16|c[E+2]<<8|255}return{srcPos:s,destPos:S}}function u(c,s){if(i.FeatureTest.isLittleEndian)for(let o=0,S=c.length;o<S;o++)s[o]=c[o]*65793|4278190080;else for(let o=0,S=c.length;o<S;o++)s[o]=c[o]*16843008|255}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const r=Object.create(null);t.GlobalWorkerOptions=r,r.workerPort=null,r.workerSrc=""},(e,t,r)=>{var c,Nn,o,Dn,y,zt;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var i=r(1);const f={UNKNOWN:0,DATA:1,ERROR:2},L={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function C(a){switch(a instanceof Error||typeof a=="object"&&a!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new i.AbortException(a.message);case"MissingPDFException":return new i.MissingPDFException(a.message);case"PasswordException":return new i.PasswordException(a.message,a.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(a.message,a.status);case"UnknownErrorException":return new i.UnknownErrorException(a.message,a.details);default:return new i.UnknownErrorException(a.message,a.toString())}}class u{constructor(l,d,E){D(this,c);D(this,o);D(this,y);this.sourceName=l,this.targetName=d,this.comObj=E,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=P=>{const b=P.data;if(b.targetName!==this.sourceName)return;if(b.stream){j(this,o,Dn).call(this,b);return}if(b.callback){const v=b.callbackId,w=this.callbackCapabilities[v];if(!w)throw new Error(`Cannot resolve callback ${v}`);if(delete this.callbackCapabilities[v],b.callback===f.DATA)w.resolve(b.data);else if(b.callback===f.ERROR)w.reject(C(b.reason));else throw new Error("Unexpected callback case");return}const A=this.actionHandler[b.action];if(!A)throw new Error(`Unknown action from worker: ${b.action}`);if(b.callbackId){const v=this.sourceName,w=b.sourceName;new Promise(function(x){x(A(b.data))}).then(function(x){E.postMessage({sourceName:v,targetName:w,callback:f.DATA,callbackId:b.callbackId,data:x})},function(x){E.postMessage({sourceName:v,targetName:w,callback:f.ERROR,callbackId:b.callbackId,reason:C(x)})});return}if(b.streamId){j(this,c,Nn).call(this,b);return}A(b.data)},E.addEventListener("message",this._onComObjOnMessage)}on(l,d){const E=this.actionHandler;if(E[l])throw new Error(`There is already an actionName called "${l}"`);E[l]=d}send(l,d,E){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:l,data:d},E)}sendWithPromise(l,d,E){const P=this.callbackId++,b=new i.PromiseCapability;this.callbackCapabilities[P]=b;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:l,callbackId:P,data:d},E)}catch(A){b.reject(A)}return b.promise}sendWithStream(l,d,E,P){const b=this.streamId++,A=this.sourceName,v=this.targetName,w=this.comObj;return new ReadableStream({start:x=>{const R=new i.PromiseCapability;return this.streamControllers[b]={controller:x,startCall:R,pullCall:null,cancelCall:null,isClosed:!1},w.postMessage({sourceName:A,targetName:v,action:l,streamId:b,data:d,desiredSize:x.desiredSize},P),R.promise},pull:x=>{const R=new i.PromiseCapability;return this.streamControllers[b].pullCall=R,w.postMessage({sourceName:A,targetName:v,stream:L.PULL,streamId:b,desiredSize:x.desiredSize}),R.promise},cancel:x=>{(0,i.assert)(x instanceof Error,"cancel must have a valid reason");const R=new i.PromiseCapability;return this.streamControllers[b].cancelCall=R,this.streamControllers[b].isClosed=!0,w.postMessage({sourceName:A,targetName:v,stream:L.CANCEL,streamId:b,reason:C(x)}),R.promise}},E)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}c=new WeakSet,Nn=function(l){const d=l.streamId,E=this.sourceName,P=l.sourceName,b=this.comObj,A=this,v=this.actionHandler[l.action],w={enqueue(x,R=1,k){if(this.isCancelled)return;const V=this.desiredSize;this.desiredSize-=R,V>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),b.postMessage({sourceName:E,targetName:P,stream:L.ENQUEUE,streamId:d,chunk:x},k)},close(){this.isCancelled||(this.isCancelled=!0,b.postMessage({sourceName:E,targetName:P,stream:L.CLOSE,streamId:d}),delete A.streamSinks[d])},error(x){(0,i.assert)(x instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,b.postMessage({sourceName:E,targetName:P,stream:L.ERROR,streamId:d,reason:C(x)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:l.desiredSize,ready:null};w.sinkCapability.resolve(),w.ready=w.sinkCapability.promise,this.streamSinks[d]=w,new Promise(function(x){x(v(l.data,w))}).then(function(){b.postMessage({sourceName:E,targetName:P,stream:L.START_COMPLETE,streamId:d,success:!0})},function(x){b.postMessage({sourceName:E,targetName:P,stream:L.START_COMPLETE,streamId:d,reason:C(x)})})},o=new WeakSet,Dn=function(l){const d=l.streamId,E=this.sourceName,P=l.sourceName,b=this.comObj,A=this.streamControllers[d],v=this.streamSinks[d];switch(l.stream){case L.START_COMPLETE:l.success?A.startCall.resolve():A.startCall.reject(C(l.reason));break;case L.PULL_COMPLETE:l.success?A.pullCall.resolve():A.pullCall.reject(C(l.reason));break;case L.PULL:if(!v){b.postMessage({sourceName:E,targetName:P,stream:L.PULL_COMPLETE,streamId:d,success:!0});break}v.desiredSize<=0&&l.desiredSize>0&&v.sinkCapability.resolve(),v.desiredSize=l.desiredSize,new Promise(function(w){var x;w((x=v.onPull)==null?void 0:x.call(v))}).then(function(){b.postMessage({sourceName:E,targetName:P,stream:L.PULL_COMPLETE,streamId:d,success:!0})},function(w){b.postMessage({sourceName:E,targetName:P,stream:L.PULL_COMPLETE,streamId:d,reason:C(w)})});break;case L.ENQUEUE:if((0,i.assert)(A,"enqueue should have stream controller"),A.isClosed)break;A.controller.enqueue(l.chunk);break;case L.CLOSE:if((0,i.assert)(A,"close should have stream controller"),A.isClosed)break;A.isClosed=!0,A.controller.close(),j(this,y,zt).call(this,A,d);break;case L.ERROR:(0,i.assert)(A,"error should have stream controller"),A.controller.error(C(l.reason)),j(this,y,zt).call(this,A,d);break;case L.CANCEL_COMPLETE:l.success?A.cancelCall.resolve():A.cancelCall.reject(C(l.reason)),j(this,y,zt).call(this,A,d);break;case L.CANCEL:if(!v)break;new Promise(function(w){var x;w((x=v.onCancel)==null?void 0:x.call(v,C(l.reason)))}).then(function(){b.postMessage({sourceName:E,targetName:P,stream:L.CANCEL_COMPLETE,streamId:d,success:!0})},function(w){b.postMessage({sourceName:E,targetName:P,stream:L.CANCEL_COMPLETE,streamId:d,reason:C(w)})}),v.sinkCapability.reject(C(l.reason)),v.isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}},y=new WeakSet,zt=async function(l,d){var E,P,b;await Promise.allSettled([(E=l.startCall)==null?void 0:E.promise,(P=l.pullCall)==null?void 0:P.promise,(b=l.cancelCall)==null?void 0:b.promise]),delete this.streamControllers[d]},t.MessageHandler=u},(e,t,r)=>{var L,C;Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var i=r(1);class f{constructor({parsedData:c,rawData:s}){D(this,L,void 0);D(this,C,void 0);ne(this,L,c),ne(this,C,s)}getRaw(){return n(this,C)}get(c){return n(this,L).get(c)??null}getAll(){return(0,i.objectFromMap)(n(this,L))}has(c){return n(this,L).has(c)}}L=new WeakMap,C=new WeakMap,t.Metadata=f},(e,t,r)=>{var c,s,o,S,y,_,Ai;Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var i=r(1),f=r(8);const L=Symbol("INTERNAL");class C{constructor(d,E){D(this,c,!0);this.name=d,this.intent=E}get visible(){return n(this,c)}_setVisible(d,E){d!==L&&(0,i.unreachable)("Internal method `_setVisible` called."),ne(this,c,E)}}c=new WeakMap;class u{constructor(d){D(this,_);D(this,s,null);D(this,o,new Map);D(this,S,null);D(this,y,null);if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,ne(this,y,d.order);for(const E of d.groups)n(this,o).set(E.id,new C(E.name,E.intent));if(d.baseState==="OFF")for(const E of n(this,o).values())E._setVisible(L,!1);for(const E of d.on)n(this,o).get(E)._setVisible(L,!0);for(const E of d.off)n(this,o).get(E)._setVisible(L,!1);ne(this,S,this.getHash())}}isVisible(d){if(n(this,o).size===0)return!0;if(!d)return(0,i.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return n(this,o).has(d.id)?n(this,o).get(d.id).visible:((0,i.warn)(`Optional content group not found: ${d.id}`),!0);if(d.type==="OCMD"){if(d.expression)return j(this,_,Ai).call(this,d.expression);if(!d.policy||d.policy==="AnyOn"){for(const E of d.ids){if(!n(this,o).has(E))return(0,i.warn)(`Optional content group not found: ${E}`),!0;if(n(this,o).get(E).visible)return!0}return!1}else if(d.policy==="AllOn"){for(const E of d.ids){if(!n(this,o).has(E))return(0,i.warn)(`Optional content group not found: ${E}`),!0;if(!n(this,o).get(E).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(const E of d.ids){if(!n(this,o).has(E))return(0,i.warn)(`Optional content group not found: ${E}`),!0;if(!n(this,o).get(E).visible)return!0}return!1}else if(d.policy==="AllOff"){for(const E of d.ids){if(!n(this,o).has(E))return(0,i.warn)(`Optional content group not found: ${E}`),!0;if(n(this,o).get(E).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,i.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d,E=!0){if(!n(this,o).has(d)){(0,i.warn)(`Optional content group not found: ${d}`);return}n(this,o).get(d)._setVisible(L,!!E),ne(this,s,null)}get hasInitialVisibility(){return n(this,S)===null||this.getHash()===n(this,S)}getOrder(){return n(this,o).size?n(this,y)?n(this,y).slice():[...n(this,o).keys()]:null}getGroups(){return n(this,o).size>0?(0,i.objectFromMap)(n(this,o)):null}getGroup(d){return n(this,o).get(d)||null}getHash(){if(n(this,s)!==null)return n(this,s);const d=new f.MurmurHash3_64;for(const[E,P]of n(this,o))d.update(`${E}:${P.visible}`);return ne(this,s,d.hexdigest())}}s=new WeakMap,o=new WeakMap,S=new WeakMap,y=new WeakMap,_=new WeakSet,Ai=function(d){const E=d.length;if(E<2)return!0;const P=d[0];for(let b=1;b<E;b++){const A=d[b];let v;if(Array.isArray(A))v=j(this,_,Ai).call(this,A);else if(n(this,o).has(A))v=n(this,o).get(A).visible;else return(0,i.warn)(`Optional content group not found: ${A}`),!0;switch(P){case"And":if(!v)return!1;break;case"Or":if(v)return!0;break;case"Not":return!v;default:return!0}}return P==="And"},t.OptionalContentConfig=u},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var i=r(1),f=r(6);class L{constructor({length:s,initialData:o,progressiveDone:S=!1,contentDispositionFilename:y=null,disableRange:_=!1,disableStream:a=!1},l){if((0,i.assert)(l,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=S,this._contentDispositionFilename=y,(o==null?void 0:o.length)>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=l,this._isStreamingSupported=!a,this._isRangeSupported=!_,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((d,E)=>{this._onReceiveData({begin:d,chunk:E})}),this._pdfDataRangeTransport.addProgressListener((d,E)=>{this._onProgress({loaded:d,total:E})}),this._pdfDataRangeTransport.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:s,chunk:o}){const S=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;if(s===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(S):this._queuedChunks.push(S);else{const y=this._rangeReaders.some(function(_){return _._begin!==s?!1:(_._enqueue(S),!0)});(0,i.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var s;return((s=this._fullRequestReader)==null?void 0:s._loaded)??0}_onProgress(s){var o,S,y,_;s.total===void 0?(S=(o=this._rangeReaders[0])==null?void 0:o.onProgress)==null||S.call(o,{loaded:s.loaded}):(_=(y=this._fullRequestReader)==null?void 0:y.onProgress)==null||_.call(y,{loaded:s.loaded,total:s.total})}_onProgressiveDone(){var s;(s=this._fullRequestReader)==null||s.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(s){const o=this._rangeReaders.indexOf(s);o>=0&&this._rangeReaders.splice(o,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const s=this._queuedChunks;return this._queuedChunks=null,new C(this,s,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(s,o){if(o<=this._progressiveDataLength)return null;const S=new u(this,s,o);return this._pdfDataRangeTransport.requestDataRange(s,o),this._rangeReaders.push(S),S}cancelAllRequests(s){var o;(o=this._fullRequestReader)==null||o.cancel(s);for(const S of this._rangeReaders.slice(0))S.cancel(s);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=L;class C{constructor(s,o,S=!1,y=null){this._stream=s,this._done=S||!1,this._filename=(0,f.isPdfFile)(y)?y:null,this._queuedChunks=o||[],this._loaded=0;for(const _ of this._queuedChunks)this._loaded+=_.byteLength;this._requests=[],this._headersReady=Promise.resolve(),s._fullRequestReader=this,this.onProgress=null}_enqueue(s){this._done||(this._requests.length>0?this._requests.shift().resolve({value:s,done:!1}):this._queuedChunks.push(s),this._loaded+=s.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const s=new i.PromiseCapability;return this._requests.push(s),s.promise}cancel(s){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class u{constructor(s,o,S){this._stream=s,this._begin=o,this._end=S,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(s){if(!this._done){if(this._requests.length===0)this._queuedChunk=s;else{this._requests.shift().resolve({value:s,done:!1});for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const o=this._queuedChunk;return this._queuedChunk=null,{value:o,done:!1}}if(this._done)return{value:void 0,done:!0};const s=new i.PromiseCapability;return this._requests.push(s),s.promise}cancel(s){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var i=r(1),f=r(20);function L(S,y,_){return{method:"GET",headers:S,signal:_.signal,mode:"cors",credentials:y?"include":"same-origin",redirect:"follow"}}function C(S){const y=new Headers;for(const _ in S){const a=S[_];a!==void 0&&y.append(_,a)}return y}function u(S){return S instanceof Uint8Array?S.buffer:S instanceof ArrayBuffer?S:((0,i.warn)(`getArrayBuffer - unexpected data format: ${S}`),new Uint8Array(S).buffer)}class c{constructor(y){this.source=y,this.isHttp=/^https?:/i.test(y.url),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var y;return((y=this._fullRequestReader)==null?void 0:y._loaded)??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new s(this),this._fullRequestReader}getRangeReader(y,_){if(_<=this._progressiveDataLength)return null;const a=new o(this,y,_);return this._rangeRequestReaders.push(a),a}cancelAllRequests(y){var _;(_=this._fullRequestReader)==null||_.cancel(y);for(const a of this._rangeRequestReaders.slice(0))a.cancel(y)}}t.PDFFetchStream=c;class s{constructor(y){this._stream=y,this._reader=null,this._loaded=0,this._filename=null;const _=y.source;this._withCredentials=_.withCredentials||!1,this._contentLength=_.length,this._headersCapability=new i.PromiseCapability,this._disableRange=_.disableRange||!1,this._rangeChunkSize=_.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!_.disableStream,this._isRangeSupported=!_.disableRange,this._headers=C(this._stream.httpHeaders);const a=_.url;fetch(a,L(this._headers,this._withCredentials,this._abortController)).then(l=>{if(!(0,f.validateResponseStatus)(l.status))throw(0,f.createResponseStatusError)(l.status,a);this._reader=l.body.getReader(),this._headersCapability.resolve();const d=b=>l.headers.get(b),{allowRangeRequests:E,suggestedLength:P}=(0,f.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=E,this._contentLength=P||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(d),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._headersCapability.promise;const{value:y,done:_}=await this._reader.read();return _?{value:y,done:_}:(this._loaded+=y.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:u(y),done:!1})}cancel(y){var _;(_=this._reader)==null||_.cancel(y),this._abortController.abort()}}class o{constructor(y,_,a){this._stream=y,this._reader=null,this._loaded=0;const l=y.source;this._withCredentials=l.withCredentials||!1,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!l.disableStream,this._abortController=new AbortController,this._headers=C(this._stream.httpHeaders),this._headers.append("Range",`bytes=${_}-${a-1}`);const d=l.url;fetch(d,L(this._headers,this._withCredentials,this._abortController)).then(E=>{if(!(0,f.validateResponseStatus)(E.status))throw(0,f.createResponseStatusError)(E.status,d);this._readCapability.resolve(),this._reader=E.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._readCapability.promise;const{value:y,done:_}=await this._reader.read();return _?{value:y,done:_}:(this._loaded+=y.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:u(y),done:!1})}cancel(y){var _;(_=this._reader)==null||_.cancel(y),this._abortController.abort()}}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=c,t.extractFilenameFromHeader=u,t.validateRangeRequestCapabilities=C,t.validateResponseStatus=s;var i=r(1),f=r(21),L=r(6);function C({getResponseHeader:o,isHttp:S,rangeChunkSize:y,disableRange:_}){const a={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(o("Content-Length"),10);return!Number.isInteger(l)||(a.suggestedLength=l,l<=2*y)||_||!S||o("Accept-Ranges")!=="bytes"||(o("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function u(o){const S=o("Content-Disposition");if(S){let y=(0,f.getFilenameFromContentDispositionHeader)(S);if(y.includes("%"))try{y=decodeURIComponent(y)}catch{}if((0,L.isPdfFile)(y))return y}return null}function c(o,S){return o===404||o===0&&S.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+S+'".'):new i.UnexpectedResponseException(`Unexpected server response (${o}) while retrieving PDF "${S}".`,o)}function s(o){return o===200||o===206}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=f;var i=r(1);function f(L){let C=!0,u=c("filename\\*","i").exec(L);if(u){u=u[1];let l=y(u);return l=unescape(l),l=_(l),l=a(l),o(l)}if(u=S(L),u){const l=a(u);return o(l)}if(u=c("filename","i").exec(L),u){u=u[1];let l=y(u);return l=a(l),o(l)}function c(l,d){return new RegExp("(?:^|;)\\s*"+l+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function s(l,d){if(l){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const E=new TextDecoder(l,{fatal:!0}),P=(0,i.stringToBytes)(d);d=E.decode(P),C=!1}catch{}}return d}function o(l){return C&&/[\x80-\xff]/.test(l)&&(l=s("utf-8",l),C&&(l=s("iso-8859-1",l))),l}function S(l){const d=[];let E;const P=c("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(E=P.exec(l))!==null;){let[,A,v,w]=E;if(A=parseInt(A,10),A in d){if(A===0)break;continue}d[A]=[v,w]}const b=[];for(let A=0;A<d.length&&A in d;++A){let[v,w]=d[A];w=y(w),v&&(w=unescape(w),A===0&&(w=_(w))),b.push(w)}return b.join("")}function y(l){if(l.startsWith('"')){const d=l.slice(1).split('\\"');for(let E=0;E<d.length;++E){const P=d[E].indexOf('"');P!==-1&&(d[E]=d[E].slice(0,P),d.length=E+1),d[E]=d[E].replaceAll(/\\(.)/g,"$1")}l=d.join('"')}return l}function _(l){const d=l.indexOf("'");if(d===-1)return l;const E=l.slice(0,d),b=l.slice(d+1).replace(/^[^']*'/,"");return s(E,b)}function a(l){return!l.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(l)?l:l.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,E,P,b){if(P==="q"||P==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,v){return String.fromCharCode(parseInt(v,16))}),s(E,b);try{b=atob(b)}catch{}return s(E,b)})}return""}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var i=r(1),f=r(20);const L=200,C=206;function u(y){const _=y.response;return typeof _!="string"?_:(0,i.stringToBytes)(_).buffer}class c{constructor(_,a={}){this.url=_,this.isHttp=/^https?:/i.test(_),this.httpHeaders=this.isHttp&&a.httpHeaders||Object.create(null),this.withCredentials=a.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(_,a,l){const d={begin:_,end:a};for(const E in l)d[E]=l[E];return this.request(d)}requestFull(_){return this.request(_)}request(_){const a=new XMLHttpRequest,l=this.currXhrId++,d=this.pendingRequests[l]={xhr:a};a.open("GET",this.url),a.withCredentials=this.withCredentials;for(const E in this.httpHeaders){const P=this.httpHeaders[E];P!==void 0&&a.setRequestHeader(E,P)}return this.isHttp&&"begin"in _&&"end"in _?(a.setRequestHeader("Range",`bytes=${_.begin}-${_.end-1}`),d.expectedStatus=C):d.expectedStatus=L,a.responseType="arraybuffer",_.onError&&(a.onerror=function(E){_.onError(a.status)}),a.onreadystatechange=this.onStateChange.bind(this,l),a.onprogress=this.onProgress.bind(this,l),d.onHeadersReceived=_.onHeadersReceived,d.onDone=_.onDone,d.onError=_.onError,d.onProgress=_.onProgress,a.send(null),l}onProgress(_,a){var d;const l=this.pendingRequests[_];l&&((d=l.onProgress)==null||d.call(l,a))}onStateChange(_,a){var A,v,w;const l=this.pendingRequests[_];if(!l)return;const d=l.xhr;if(d.readyState>=2&&l.onHeadersReceived&&(l.onHeadersReceived(),delete l.onHeadersReceived),d.readyState!==4||!(_ in this.pendingRequests))return;if(delete this.pendingRequests[_],d.status===0&&this.isHttp){(A=l.onError)==null||A.call(l,d.status);return}const E=d.status||L;if(!(E===L&&l.expectedStatus===C)&&E!==l.expectedStatus){(v=l.onError)==null||v.call(l,d.status);return}const b=u(d);if(E===C){const x=d.getResponseHeader("Content-Range"),R=/bytes (\d+)-(\d+)\/(\d+)/.exec(x);l.onDone({begin:parseInt(R[1],10),chunk:b})}else b?l.onDone({begin:0,chunk:b}):(w=l.onError)==null||w.call(l,d.status)}getRequestXhr(_){return this.pendingRequests[_].xhr}isPendingRequest(_){return _ in this.pendingRequests}abortRequest(_){const a=this.pendingRequests[_].xhr;delete this.pendingRequests[_],a.abort()}}class s{constructor(_){this._source=_,this._manager=new c(_.url,{httpHeaders:_.httpHeaders,withCredentials:_.withCredentials}),this._rangeChunkSize=_.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(_){const a=this._rangeRequestReaders.indexOf(_);a>=0&&this._rangeRequestReaders.splice(a,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new o(this._manager,this._source),this._fullRequestReader}getRangeReader(_,a){const l=new S(this._manager,_,a);return l.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(l),l}cancelAllRequests(_){var a;(a=this._fullRequestReader)==null||a.cancel(_);for(const l of this._rangeRequestReaders.slice(0))l.cancel(_)}}t.PDFNetworkStream=s;class o{constructor(_,a){this._manager=_;const l={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=a.url,this._fullRequestId=_.requestFull(l),this._headersReceivedCapability=new i.PromiseCapability,this._disableRange=a.disableRange||!1,this._contentLength=a.length,this._rangeChunkSize=a.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const _=this._fullRequestId,a=this._manager.getRequestXhr(_),l=P=>a.getResponseHeader(P),{allowRangeRequests:d,suggestedLength:E}=(0,f.validateRangeRequestCapabilities)({getResponseHeader:l,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});d&&(this._isRangeSupported=!0),this._contentLength=E||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(l),this._isRangeSupported&&this._manager.abortRequest(_),this._headersReceivedCapability.resolve()}_onDone(_){if(_&&(this._requests.length>0?this._requests.shift().resolve({value:_.chunk,done:!1}):this._cachedChunks.push(_.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(_){this._storedError=(0,f.createResponseStatusError)(_,this._url),this._headersReceivedCapability.reject(this._storedError);for(const a of this._requests)a.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(_){var a;(a=this.onProgress)==null||a.call(this,{loaded:_.loaded,total:_.lengthComputable?_.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=new i.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0,this._headersReceivedCapability.reject(_);for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class S{constructor(_,a,l){this._manager=_;const d={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_.url,this._requestId=_.requestRange(a,l,d),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var _;(_=this.onClosed)==null||_.call(this,this)}_onDone(_){const a=_.chunk;this._requests.length>0?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunk=a,this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(_){this._storedError=(0,f.createResponseStatusError)(_,this._url);for(const a of this._requests)a.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(_){var a;this.isStreamingSupported||(a=this.onProgress)==null||a.call(this,{loaded:_.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const a=this._queuedChunk;return this._queuedChunk=null,{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};const _=new i.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var i=r(1),f=r(20);const L=/^file:\/\/\/[a-zA-Z]:\//;function C(l){const d=require$$0,E=d.parse(l);return E.protocol==="file:"||E.host?E:/^[a-z]:[/\\]/i.test(l)?d.parse(`file:///${l}`):(E.host||(E.protocol="file:"),E)}class u{constructor(d){this.source=d,this.url=C(d.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&d.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var d;return((d=this._fullRequestReader)==null?void 0:d._loaded)??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _(this):new S(this),this._fullRequestReader}getRangeReader(d,E){if(E<=this._progressiveDataLength)return null;const P=this.isFsUrl?new a(this,d,E):new y(this,d,E);return this._rangeRequestReaders.push(P),P}cancelAllRequests(d){var E;(E=this._fullRequestReader)==null||E.cancel(d);for(const P of this._rangeRequestReaders.slice(0))P.cancel(d)}}t.PDFNodeStream=u;class c{constructor(d){this._url=d.url,this._done=!1,this._storedError=null,this.onProgress=null;const E=d.source;this._contentLength=E.length,this._loaded=0,this._filename=null,this._disableRange=E.disableRange||!1,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var P;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const d=this._readableStream.read();return d===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=d.length,(P=this.onProgress)==null||P.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(d).buffer,done:!1})}cancel(d){if(!this._readableStream){this._error(d);return}this._readableStream.destroy(d)}_error(d){this._storedError=d,this._readCapability.resolve()}_setReadableStream(d){this._readableStream=d,d.on("readable",()=>{this._readCapability.resolve()}),d.on("end",()=>{d.destroy(),this._done=!0,this._readCapability.resolve()}),d.on("error",E=>{this._error(E)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class s{constructor(d){this._url=d.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability;const E=d.source;this._isStreamingSupported=!E.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var P;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const d=this._readableStream.read();return d===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=d.length,(P=this.onProgress)==null||P.call(this,{loaded:this._loaded}),{value:new Uint8Array(d).buffer,done:!1})}cancel(d){if(!this._readableStream){this._error(d);return}this._readableStream.destroy(d)}_error(d){this._storedError=d,this._readCapability.resolve()}_setReadableStream(d){this._readableStream=d,d.on("readable",()=>{this._readCapability.resolve()}),d.on("end",()=>{d.destroy(),this._done=!0,this._readCapability.resolve()}),d.on("error",E=>{this._error(E)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function o(l,d){return{protocol:l.protocol,auth:l.auth,host:l.hostname,port:l.port,path:l.path,method:"GET",headers:d}}class S extends c{constructor(d){super(d);const E=P=>{if(P.statusCode===404){const w=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=w,this._headersCapability.reject(w);return}this._headersCapability.resolve(),this._setReadableStream(P);const b=w=>this._readableStream.headers[w.toLowerCase()],{allowRangeRequests:A,suggestedLength:v}=(0,f.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:d.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=v||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(b)};if(this._request=null,this._url.protocol==="http:"){const P=require$$0;this._request=P.request(o(this._url,d.httpHeaders),E)}else{const P=require$$0;this._request=P.request(o(this._url,d.httpHeaders),E)}this._request.on("error",P=>{this._storedError=P,this._headersCapability.reject(P)}),this._request.end()}}class y extends s{constructor(d,E,P){super(d),this._httpHeaders={};for(const A in d.httpHeaders){const v=d.httpHeaders[A];v!==void 0&&(this._httpHeaders[A]=v)}this._httpHeaders.Range=`bytes=${E}-${P-1}`;const b=A=>{if(A.statusCode===404){const v=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=v;return}this._setReadableStream(A)};if(this._request=null,this._url.protocol==="http:"){const A=require$$0;this._request=A.request(o(this._url,this._httpHeaders),b)}else{const A=require$$0;this._request=A.request(o(this._url,this._httpHeaders),b)}this._request.on("error",A=>{this._storedError=A}),this._request.end()}}class _ extends c{constructor(d){super(d);let E=decodeURIComponent(this._url.path);L.test(this._url.href)&&(E=E.replace(/^\//,""));const P=require$$0;P.lstat(E,(b,A)=>{if(b){b.code==="ENOENT"&&(b=new i.MissingPDFException(`Missing PDF "${E}".`)),this._storedError=b,this._headersCapability.reject(b);return}this._contentLength=A.size,this._setReadableStream(P.createReadStream(E)),this._headersCapability.resolve()})}}class a extends s{constructor(d,E,P){super(d);let b=decodeURIComponent(this._url.path);L.test(this._url.href)&&(b=b.replace(/^\//,""));const A=require$$0;this._setReadableStream(A.createReadStream(b,{start:E,end:P-1}))}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class r{static textContent(f){const L=[],C={items:L,styles:Object.create(null)};function u(c){var S;if(!c)return;let s=null;const o=c.name;if(o==="#text")s=c.value;else if(r.shouldBuildText(o))(S=c==null?void 0:c.attributes)!=null&&S.textContent?s=c.attributes.textContent:c.value&&(s=c.value);else return;if(s!==null&&L.push({str:s}),!!c.children)for(const y of c.children)u(y)}return u(f),C}static shouldBuildText(f){return!(f==="textarea"||f==="input"||f==="option"||f==="select")}}t.XfaText=r},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=l,t.updateTextLayer=d;var i=r(1),f=r(6);const L=1e5,C=30,u=.8,c=new Map;function s(E,P){let b;if(P&&i.FeatureTest.isOffscreenCanvasSupported)b=new OffscreenCanvas(E,E).getContext("2d",{alpha:!1});else{const A=document.createElement("canvas");A.width=A.height=E,b=A.getContext("2d",{alpha:!1})}return b}function o(E,P){const b=c.get(E);if(b)return b;const A=s(C,P);A.font=`${C}px ${E}`;const v=A.measureText("");let w=v.fontBoundingBoxAscent,x=Math.abs(v.fontBoundingBoxDescent);if(w){const k=w/(w+x);return c.set(E,k),A.canvas.width=A.canvas.height=0,k}A.strokeStyle="red",A.clearRect(0,0,C,C),A.strokeText("g",0,0);let R=A.getImageData(0,0,C,C).data;x=0;for(let k=R.length-1-3;k>=0;k-=4)if(R[k]>0){x=Math.ceil(k/4/C);break}A.clearRect(0,0,C,C),A.strokeText("A",0,C),R=A.getImageData(0,0,C,C).data,w=0;for(let k=0,V=R.length;k<V;k+=4)if(R[k]>0){w=C-Math.floor(k/4/C);break}if(A.canvas.width=A.canvas.height=0,w){const k=w/(w+x);return c.set(E,k),k}return c.set(E,u),u}function S(E,P,b){const A=document.createElement("span"),v={angle:0,canvasWidth:0,hasText:P.str!=="",hasEOL:P.hasEOL,fontSize:0};E._textDivs.push(A);const w=i.Util.transform(E._transform,P.transform);let x=Math.atan2(w[1],w[0]);const R=b[P.fontName];R.vertical&&(x+=Math.PI/2);const k=Math.hypot(w[2],w[3]),V=k*o(R.fontFamily,E._isOffscreenCanvasSupported);let z,K;x===0?(z=w[4],K=w[5]-V):(z=w[4]+V*Math.sin(x),K=w[5]-V*Math.cos(x));const ve="calc(var(--scale-factor)*",pe=A.style;E._container===E._rootContainer?(pe.left=`${(100*z/E._pageWidth).toFixed(2)}%`,pe.top=`${(100*K/E._pageHeight).toFixed(2)}%`):(pe.left=`${ve}${z.toFixed(2)}px)`,pe.top=`${ve}${K.toFixed(2)}px)`),pe.fontSize=`${ve}${k.toFixed(2)}px)`,pe.fontFamily=R.fontFamily,v.fontSize=k,A.setAttribute("role","presentation"),A.textContent=P.str,A.dir=P.dir,E._fontInspectorEnabled&&(A.dataset.fontName=P.fontName),x!==0&&(v.angle=x*(180/Math.PI));let _e=!1;if(P.str.length>1)_e=!0;else if(P.str!==" "&&P.transform[0]!==P.transform[3]){const $=Math.abs(P.transform[0]),ee=Math.abs(P.transform[3]);$!==ee&&Math.max($,ee)/Math.min($,ee)>1.5&&(_e=!0)}_e&&(v.canvasWidth=R.vertical?P.height:P.width),E._textDivProperties.set(A,v),E._isReadableStream&&E._layoutText(A)}function y(E){const{div:P,scale:b,properties:A,ctx:v,prevFontSize:w,prevFontFamily:x}=E,{style:R}=P;let k="";if(A.canvasWidth!==0&&A.hasText){const{fontFamily:V}=R,{canvasWidth:z,fontSize:K}=A;(w!==K||x!==V)&&(v.font=`${K*b}px ${V}`,E.prevFontSize=K,E.prevFontFamily=V);const{width:ve}=v.measureText(P.textContent);ve>0&&(k=`scaleX(${z*b/ve})`)}A.angle!==0&&(k=`rotate(${A.angle}deg) ${k}`),k.length>0&&(R.transform=k)}function _(E){if(E._canceled)return;const P=E._textDivs,b=E._capability;if(P.length>L){b.resolve();return}if(!E._isReadableStream)for(const v of P)E._layoutText(v);b.resolve()}class a{constructor({textContentSource:P,container:b,viewport:A,textDivs:v,textDivProperties:w,textContentItemsStr:x,isOffscreenCanvasSupported:R}){var ve;this._textContentSource=P,this._isReadableStream=P instanceof ReadableStream,this._container=this._rootContainer=b,this._textDivs=v||[],this._textContentItemsStr=x||[],this._isOffscreenCanvasSupported=R,this._fontInspectorEnabled=!!((ve=globalThis.FontInspector)!=null&&ve.enabled),this._reader=null,this._textDivProperties=w||new WeakMap,this._canceled=!1,this._capability=new i.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:A.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:s(0,R)};const{pageWidth:k,pageHeight:V,pageX:z,pageY:K}=A.rawDims;this._transform=[1,0,0,-1,-z,K+V],this._pageWidth=k,this._pageHeight=V,(0,f.setLayerDimensions)(b,A),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(P,b){for(const A of P){if(A.str===void 0){if(A.type==="beginMarkedContentProps"||A.type==="beginMarkedContent"){const v=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),A.id!==null&&this._container.setAttribute("id",`${A.id}`),v.append(this._container)}else A.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(A.str),S(this,A,b)}}_layoutText(P){const b=this._layoutTextParams.properties=this._textDivProperties.get(P);if(this._layoutTextParams.div=P,y(this._layoutTextParams),b.hasText&&this._container.append(P),b.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this._container.append(A)}}_render(){const P=new i.PromiseCapability;let b=Object.create(null);if(this._isReadableStream){const A=()=>{this._reader.read().then(({value:v,done:w})=>{if(w){P.resolve();return}Object.assign(b,v.styles),this._processItems(v.items,b),A()},P.reject)};this._reader=this._textContentSource.getReader(),A()}else if(this._textContentSource){const{items:A,styles:v}=this._textContentSource;this._processItems(A,v),P.resolve()}else throw new Error('No "textContentSource" parameter specified.');P.promise.then(()=>{b=null,_(this)},this._capability.reject)}}t.TextLayerRenderTask=a;function l(E){const P=new a(E);return P._render(),P}function d({container:E,viewport:P,textDivs:b,textDivProperties:A,isOffscreenCanvasSupported:v,mustRotate:w=!0,mustRescale:x=!0}){if(w&&(0,f.setLayerDimensions)(E,{rotation:P.rotation}),x){const R=s(0,v),V={prevFontSize:null,prevFontFamily:null,div:null,scale:P.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:R};for(const z of b)V.properties=A.get(z),V.div=z,y(V)}}},(e,t,r)=>{var o,S,y,_,a,l,d,E,P,b,A,v,w,Pi,R,Wt,V,Ci,K,Ti;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var i=r(1),f=r(4),L=r(27),C=r(32),u=r(6),c=r(33);const pe=class pe{constructor({uiManager:$,pageIndex:ee,div:G,accessibilityManager:ue,annotationLayer:te,viewport:xe,l10n:Ie}){D(this,w);D(this,R);D(this,V);D(this,K);D(this,o,void 0);D(this,S,!1);D(this,y,null);D(this,_,this.pointerup.bind(this));D(this,a,this.pointerdown.bind(this));D(this,l,null);D(this,d,new Map);D(this,E,!1);D(this,P,!1);D(this,b,!1);D(this,A,void 0);const le=[...n(pe,v).values()];if(!pe._initialized){pe._initialized=!0;for(const I of le)I.initialize(Ie)}$.registerEditorTypes(le),ne(this,A,$),this.pageIndex=ee,this.div=G,ne(this,o,ue),ne(this,y,te),this.viewport=xe,n(this,A).addLayer(this)}get isEmpty(){return n(this,d).size===0}updateToolbar($){n(this,A).updateToolbar($)}updateMode($=n(this,A).getMode()){if(j(this,K,Ti).call(this),$===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),$!==i.AnnotationEditorType.NONE){const{classList:ee}=this.div;for(const G of n(pe,v).values())ee.toggle(`${G._type}Editing`,$===G._editorType);this.div.hidden=!1}}addInkEditorIfNeeded($){if(!$&&n(this,A).getMode()!==i.AnnotationEditorType.INK)return;if(!$){for(const G of n(this,d).values())if(G.isEmpty()){G.setInBackground();return}}j(this,R,Wt).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){n(this,A).setEditingState($)}addCommands($){n(this,A).addCommands($)}togglePointerEvents($=!1){this.div.classList.toggle("disabled",!$)}enable(){this.togglePointerEvents(!0);const $=new Set;for(const G of n(this,d).values())G.enableEditing(),G.annotationElementId&&$.add(G.annotationElementId);if(!n(this,y))return;const ee=n(this,y).getEditableAnnotations();for(const G of ee){if(G.hide(),n(this,A).isDeletedAnnotationElement(G.data.id)||$.has(G.data.id))continue;const ue=this.deserialize(G);ue&&(this.addOrRebuild(ue),ue.enableEditing())}}disable(){var G;ne(this,b,!0),this.togglePointerEvents(!1);const $=new Set;for(const ue of n(this,d).values()){if(ue.disableEditing(),!ue.annotationElementId||ue.serialize()!==null){$.add(ue.annotationElementId);continue}(G=this.getEditableAnnotation(ue.annotationElementId))==null||G.show(),ue.remove()}if(n(this,y)){const ue=n(this,y).getEditableAnnotations();for(const te of ue){const{id:xe}=te.data;$.has(xe)||n(this,A).isDeletedAnnotationElement(xe)||te.show()}}j(this,K,Ti).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:ee}=this.div;for(const ue of n(pe,v).values())ee.remove(`${ue._type}Editing`);ne(this,b,!1)}getEditableAnnotation($){var ee;return((ee=n(this,y))==null?void 0:ee.getEditableAnnotation($))||null}setActiveEditor($){n(this,A).getActive()!==$&&n(this,A).setActiveEditor($)}enableClick(){this.div.addEventListener("pointerdown",n(this,a)),this.div.addEventListener("pointerup",n(this,_))}disableClick(){this.div.removeEventListener("pointerdown",n(this,a)),this.div.removeEventListener("pointerup",n(this,_))}attach($){n(this,d).set($.id,$);const{annotationElementId:ee}=$;ee&&n(this,A).isDeletedAnnotationElement(ee)&&n(this,A).removeDeletedAnnotationElement($)}detach($){var ee;n(this,d).delete($.id),(ee=n(this,o))==null||ee.removePointerInTextLayer($.contentDiv),!n(this,b)&&$.annotationElementId&&n(this,A).addDeletedAnnotationElement($)}remove($){this.detach($),n(this,A).removeEditor($),$.div.remove(),$.isAttachedToDOM=!1,n(this,P)||this.addInkEditorIfNeeded(!1)}changeParent($){var ee;$.parent!==this&&($.annotationElementId&&(n(this,A).addDeletedAnnotationElement($.annotationElementId),f.AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),(ee=$.parent)==null||ee.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(this.changeParent($),n(this,A).addEditor($),this.attach($),!$.isAttachedToDOM){const ee=$.render();this.div.append(ee),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),n(this,A).addToAnnotationStorage($)}moveEditorInDOM($){var G;if(!$.isAttachedToDOM)return;const{activeElement:ee}=document;$.div.contains(ee)&&!n(this,l)&&($._focusEventsAllowed=!1,ne(this,l,setTimeout(()=>{ne(this,l,null),$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),ee.focus())},0))),$._structTreeParentId=(G=n(this,o))==null?void 0:G.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?($.parent||($.parent=this),$.rebuild()):this.add($)}addUndoableEditor($){const ee=()=>$._uiManager.rebuild($),G=()=>{$.remove()};this.addCommands({cmd:ee,undo:G,mustExec:!1})}getNextId(){return n(this,A).getId()}pasteEditor($,ee){n(this,A).updateToolbar($),n(this,A).updateMode($);const{offsetX:G,offsetY:ue}=j(this,V,Ci).call(this),te=this.getNextId(),xe=j(this,w,Pi).call(this,{parent:this,id:te,x:G,y:ue,uiManager:n(this,A),isCentered:!0,...ee});xe&&this.add(xe)}deserialize($){var ee;return((ee=n(pe,v).get($.annotationType??$.annotationEditorType))==null?void 0:ee.deserialize($,this,n(this,A)))||null}addNewEditor(){j(this,R,Wt).call(this,j(this,V,Ci).call(this),!0)}setSelected($){n(this,A).setSelected($)}toggleSelected($){n(this,A).toggleSelected($)}isSelected($){return n(this,A).isSelected($)}unselect($){n(this,A).unselect($)}pointerup($){const{isMac:ee}=i.FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&ee)&&$.target===this.div&&n(this,E)){if(ne(this,E,!1),!n(this,S)){ne(this,S,!0);return}if(n(this,A).getMode()===i.AnnotationEditorType.STAMP){n(this,A).unselectAll();return}j(this,R,Wt).call(this,$,!1)}}pointerdown($){if(n(this,E)){ne(this,E,!1);return}const{isMac:ee}=i.FeatureTest.platform;if($.button!==0||$.ctrlKey&&ee||$.target!==this.div)return;ne(this,E,!0);const G=n(this,A).getActive();ne(this,S,!G||G.isEmpty())}findNewParent($,ee,G){const ue=n(this,A).findParent(ee,G);return ue===null||ue===this?!1:(ue.changeParent($),!0)}destroy(){var $,ee;(($=n(this,A).getActive())==null?void 0:$.parent)===this&&(n(this,A).commitOrRemove(),n(this,A).setActiveEditor(null)),n(this,l)&&(clearTimeout(n(this,l)),ne(this,l,null));for(const G of n(this,d).values())(ee=n(this,o))==null||ee.removePointerInTextLayer(G.contentDiv),G.setParent(null),G.isAttachedToDOM=!1,G.div.remove();this.div=null,n(this,d).clear(),n(this,A).removeLayer(this)}render({viewport:$}){this.viewport=$,(0,u.setLayerDimensions)(this.div,$);for(const ee of n(this,A).getEditors(this.pageIndex))this.add(ee);this.updateMode()}update({viewport:$}){n(this,A).commitOrRemove(),this.viewport=$,(0,u.setLayerDimensions)(this.div,{rotation:$.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:$,pageHeight:ee}=this.viewport.rawDims;return[$,ee]}};o=new WeakMap,S=new WeakMap,y=new WeakMap,_=new WeakMap,a=new WeakMap,l=new WeakMap,d=new WeakMap,E=new WeakMap,P=new WeakMap,b=new WeakMap,A=new WeakMap,v=new WeakMap,w=new WeakSet,Pi=function($){const ee=n(pe,v).get(n(this,A).getMode());return ee?new ee.prototype.constructor($):null},R=new WeakSet,Wt=function($,ee){const G=this.getNextId(),ue=j(this,w,Pi).call(this,{parent:this,id:G,x:$.offsetX,y:$.offsetY,uiManager:n(this,A),isCentered:ee});return ue&&this.add(ue),ue},V=new WeakSet,Ci=function(){const{x:$,y:ee,width:G,height:ue}=this.div.getBoundingClientRect(),te=Math.max(0,$),xe=Math.max(0,ee),Ie=Math.min(window.innerWidth,$+G),le=Math.min(window.innerHeight,ee+ue),I=(te+Ie)/2-$,F=(xe+le)/2-ee,[m,g]=this.viewport.rotation%180===0?[I,F]:[F,I];return{offsetX:m,offsetY:g}},K=new WeakSet,Ti=function(){ne(this,P,!0);for(const $ of n(this,d).values())$.isEmpty()&&$.remove();ne(this,P,!1)},Qe(pe,"_initialized",!1),D(pe,v,new Map([L.FreeTextEditor,C.InkEditor,c.StampEditor].map($=>[$._editorType,$])));let s=pe;t.AnnotationEditorLayer=s},(e,t,r)=>{var c,s,o,S,y,_,a,l,d,E,Bn,b,Vn,v,Hn,x,Ct,k,Ri,z,Un,ve,Mi;Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var i=r(1),f=r(5),L=r(4),C=r(28);const _e=class _e extends L.AnnotationEditor{constructor(G){super({...G,name:"freeTextEditor"});D(this,E);D(this,b);D(this,v);D(this,x);D(this,k);D(this,z);D(this,ve);D(this,c,this.editorDivBlur.bind(this));D(this,s,this.editorDivFocus.bind(this));D(this,o,this.editorDivInput.bind(this));D(this,S,this.editorDivKeydown.bind(this));D(this,y,void 0);D(this,_,"");D(this,a,`${this.id}-editor`);D(this,l,void 0);D(this,d,null);ne(this,y,G.color||_e._defaultColor||L.AnnotationEditor._defaultLineColor),ne(this,l,G.fontSize||_e._defaultFontSize)}static get _keyboardManager(){const G=_e.prototype,ue=Ie=>Ie.isEmpty(),te=f.AnnotationEditorUIManager.TRANSLATE_SMALL,xe=f.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new f.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],G.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],G.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],G._translateEmpty,{args:[-te,0],checker:ue}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],G._translateEmpty,{args:[-xe,0],checker:ue}],[["ArrowRight","mac+ArrowRight"],G._translateEmpty,{args:[te,0],checker:ue}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],G._translateEmpty,{args:[xe,0],checker:ue}],[["ArrowUp","mac+ArrowUp"],G._translateEmpty,{args:[0,-te],checker:ue}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],G._translateEmpty,{args:[0,-xe],checker:ue}],[["ArrowDown","mac+ArrowDown"],G._translateEmpty,{args:[0,te],checker:ue}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],G._translateEmpty,{args:[0,xe],checker:ue}]]))}static initialize(G){L.AnnotationEditor.initialize(G,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const ue=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(ue.getPropertyValue("--freetext-padding"))}static updateDefaultParams(G,ue){switch(G){case i.AnnotationEditorParamsType.FREETEXT_SIZE:_e._defaultFontSize=ue;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:_e._defaultColor=ue;break}}updateParams(G,ue){switch(G){case i.AnnotationEditorParamsType.FREETEXT_SIZE:j(this,E,Bn).call(this,ue);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:j(this,b,Vn).call(this,ue);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,_e._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,_e._defaultColor||L.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,n(this,l)],[i.AnnotationEditorParamsType.FREETEXT_COLOR,n(this,y)]]}_translateEmpty(G,ue){this._uiManager.translateSelectedEditors(G,ue,!0)}getInitialTranslation(){const G=this.parentScale;return[-_e._internalPadding*G,-(_e._internalPadding+n(this,l))*G]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",n(this,S)),this.editorDiv.addEventListener("focus",n(this,s)),this.editorDiv.addEventListener("blur",n(this,c)),this.editorDiv.addEventListener("input",n(this,o)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",n(this,a)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",n(this,S)),this.editorDiv.removeEventListener("focus",n(this,s)),this.editorDiv.removeEventListener("blur",n(this,c)),this.editorDiv.removeEventListener("input",n(this,o)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(G){this._focusEventsAllowed&&(super.focusin(G),G.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var G;if(this.width){j(this,ve,Mi).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(G=this._initialOptions)!=null&&G.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const G=n(this,_),ue=ne(this,_,j(this,v,Hn).call(this).trimEnd());if(G===ue)return;const te=xe=>{if(ne(this,_,xe),!xe){this.remove();return}j(this,k,Ri).call(this),this._uiManager.rebuild(this),j(this,x,Ct).call(this)};this.addCommands({cmd:()=>{te(ue)},undo:()=>{te(G)},mustExec:!1}),j(this,x,Ct).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(G){this.enterInEditMode()}keydown(G){G.target===this.div&&G.key==="Enter"&&(this.enterInEditMode(),G.preventDefault())}editorDivKeydown(G){_e._keyboardManager.exec(this,G)}editorDivFocus(G){this.isEditing=!0}editorDivBlur(G){this.isEditing=!1}editorDivInput(G){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let G,ue;this.width&&(G=this.x,ue=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",n(this,a)),this.enableEditing(),L.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(xe=>{var Ie;return(Ie=this.editorDiv)==null?void 0:Ie.setAttribute("aria-label",xe)}),L.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(xe=>{var Ie;return(Ie=this.editorDiv)==null?void 0:Ie.setAttribute("default-content",xe)}),this.editorDiv.contentEditable=!0;const{style:te}=this.editorDiv;if(te.fontSize=`calc(${n(this,l)}px * var(--scale-factor))`,te.color=n(this,y),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,f.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[xe,Ie]=this.parentDimensions;if(this.annotationElementId){const{position:le}=n(this,d);let[I,F]=this.getInitialTranslation();[I,F]=this.pageTranslationToScreen(I,F);const[m,g]=this.pageDimensions,[N,U]=this.pageTranslation;let O,H;switch(this.rotation){case 0:O=G+(le[0]-N)/m,H=ue+this.height-(le[1]-U)/g;break;case 90:O=G+(le[0]-N)/m,H=ue-(le[1]-U)/g,[I,F]=[F,-I];break;case 180:O=G-this.width+(le[0]-N)/m,H=ue-(le[1]-U)/g,[I,F]=[-I,-F];break;case 270:O=G+(le[0]-N-this.height*g)/m,H=ue+(le[1]-U-this.width*m)/g,[I,F]=[-F,I];break}this.setAt(O*xe,H*Ie,I,F)}else this.setAt(G*xe,ue*Ie,this.width*xe,this.height*Ie);j(this,k,Ri).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(G,ue,te){let xe=null;if(G instanceof C.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:le,fontColor:I},rect:F,rotation:m,id:g},textContent:N,textPosition:U,parent:{page:{pageNumber:O}}}=G;if(!N||N.length===0)return null;xe=G={annotationType:i.AnnotationEditorType.FREETEXT,color:Array.from(I),fontSize:le,value:N.join(`
`),position:U,pageIndex:O-1,rect:F,rotation:m,id:g,deleted:!1}}const Ie=super.deserialize(G,ue,te);return ne(Ie,l,G.fontSize),ne(Ie,y,i.Util.makeHexColor(...G.color)),ne(Ie,_,G.value),Ie.annotationElementId=G.id||null,ne(Ie,d,xe),Ie}serialize(G=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const ue=_e._internalPadding*this.parentScale,te=this.getRect(ue,ue),xe=L.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:n(this,y)),Ie={annotationType:i.AnnotationEditorType.FREETEXT,color:xe,fontSize:n(this,l),value:n(this,_),pageIndex:this.pageIndex,rect:te,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return G?Ie:this.annotationElementId&&!j(this,z,Un).call(this,Ie)?null:(Ie.id=this.annotationElementId,Ie)}};c=new WeakMap,s=new WeakMap,o=new WeakMap,S=new WeakMap,y=new WeakMap,_=new WeakMap,a=new WeakMap,l=new WeakMap,d=new WeakMap,E=new WeakSet,Bn=function(G){const ue=xe=>{this.editorDiv.style.fontSize=`calc(${xe}px * var(--scale-factor))`,this.translate(0,-(xe-n(this,l))*this.parentScale),ne(this,l,xe),j(this,x,Ct).call(this)},te=n(this,l);this.addCommands({cmd:()=>{ue(G)},undo:()=>{ue(te)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},b=new WeakSet,Vn=function(G){const ue=n(this,y);this.addCommands({cmd:()=>{ne(this,y,this.editorDiv.style.color=G)},undo:()=>{ne(this,y,this.editorDiv.style.color=ue)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},v=new WeakSet,Hn=function(){const G=this.editorDiv.getElementsByTagName("div");if(G.length===0)return this.editorDiv.innerText;const ue=[];for(const te of G)ue.push(te.innerText.replace(/\r\n?|\n/,""));return ue.join(`
`)},x=new WeakSet,Ct=function(){const[G,ue]=this.parentDimensions;let te;if(this.isAttachedToDOM)te=this.div.getBoundingClientRect();else{const{currentLayer:xe,div:Ie}=this,le=Ie.style.display;Ie.style.display="hidden",xe.div.append(this.div),te=Ie.getBoundingClientRect(),Ie.remove(),Ie.style.display=le}this.rotation%180===this.parentRotation%180?(this.width=te.width/G,this.height=te.height/ue):(this.width=te.height/G,this.height=te.width/ue),this.fixAndSetPosition()},k=new WeakSet,Ri=function(){if(this.editorDiv.replaceChildren(),!!n(this,_))for(const G of n(this,_).split(`
`)){const ue=document.createElement("div");ue.append(G?document.createTextNode(G):document.createElement("br")),this.editorDiv.append(ue)}},z=new WeakSet,Un=function(G){const{value:ue,fontSize:te,color:xe,rect:Ie,pageIndex:le}=n(this,d);return G.value!==ue||G.fontSize!==te||G.rect.some((I,F)=>Math.abs(I-Ie[F])>=1)||G.color.some((I,F)=>I!==xe[F])||G.pageIndex!==le},ve=new WeakSet,Mi=function(G=!1){if(!this.annotationElementId)return;if(j(this,x,Ct).call(this),!G&&(this.width===0||this.height===0)){setTimeout(()=>j(this,ve,Mi).call(this,!0),0);return}const ue=_e._internalPadding*this.parentScale;n(this,d).rect=this.getRect(ue,ue)},Qe(_e,"_freeTextDefaultContent",""),Qe(_e,"_internalPadding",0),Qe(_e,"_defaultColor",null),Qe(_e,"_defaultFontSize",10),Qe(_e,"_type","freetext"),Qe(_e,"_editorType",i.AnnotationEditorType.FREETEXT);let u=_e;t.FreeTextEditor=u},(e,t,r)=>{var F,g,ut,U,zn,H,X,M,T,W,Z,q,we,Ae,Ee,oe,Y,Q,de,be,Te,ke,Ne,Wn,We,jt,Ge,Li,ie,xi,re,ge,ae,Se,me,Pe,Me,Ii,Re,Oe,Fe,Ve,jn,$e,ki;Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var i=r(1),f=r(6),L=r(3),C=r(29),u=r(30),c=r(31);const s=1e3,o=9,S=new WeakSet;function y(Ke){return{width:Ke[2]-Ke[0],height:Ke[3]-Ke[1]}}class _{static create(he){switch(he.data.annotationType){case i.AnnotationType.LINK:return new l(he);case i.AnnotationType.TEXT:return new d(he);case i.AnnotationType.WIDGET:switch(he.data.fieldType){case"Tx":return new P(he);case"Btn":return he.data.radioButton?new v(he):he.data.checkBox?new A(he):new w(he);case"Ch":return new x(he);case"Sig":return new b(he)}return new E(he);case i.AnnotationType.POPUP:return new R(he);case i.AnnotationType.FREETEXT:return new V(he);case i.AnnotationType.LINE:return new z(he);case i.AnnotationType.SQUARE:return new K(he);case i.AnnotationType.CIRCLE:return new ve(he);case i.AnnotationType.POLYLINE:return new pe(he);case i.AnnotationType.CARET:return new $(he);case i.AnnotationType.INK:return new ee(he);case i.AnnotationType.POLYGON:return new _e(he);case i.AnnotationType.HIGHLIGHT:return new G(he);case i.AnnotationType.UNDERLINE:return new ue(he);case i.AnnotationType.SQUIGGLY:return new te(he);case i.AnnotationType.STRIKEOUT:return new xe(he);case i.AnnotationType.STAMP:return new Ie(he);case i.AnnotationType.FILEATTACHMENT:return new le(he);default:return new a(he)}}}const m=class m{constructor(he,{isRenderable:J=!1,ignoreBorder:B=!1,createQuadrilaterals:se=!1}={}){D(this,F,!1);this.isRenderable=J,this.data=he.data,this.layer=he.layer,this.linkService=he.linkService,this.downloadManager=he.downloadManager,this.imageResourcesPath=he.imageResourcesPath,this.renderForms=he.renderForms,this.svgFactory=he.svgFactory,this.annotationStorage=he.annotationStorage,this.enableScripting=he.enableScripting,this.hasJSActions=he.hasJSActions,this._fieldObjects=he.fieldObjects,this.parent=he.parent,J&&(this.container=this._createContainer(B)),se&&this._createQuadrilaterals()}static _hasPopupData({titleObj:he,contentsObj:J,richText:B}){return!!(he!=null&&he.str||J!=null&&J.str||B!=null&&B.str)}get hasPopupData(){return m._hasPopupData(this.data)}_createContainer(he){const{data:J,parent:{page:B,viewport:se}}=this,ye=document.createElement("section");ye.setAttribute("data-annotation-id",J.id),this instanceof E||(ye.tabIndex=s),ye.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ye.setAttribute("aria-haspopup","dialog"),J.noRotate&&ye.classList.add("norotate");const{pageWidth:Ce,pageHeight:Le,pageX:He,pageY:je}=se.rawDims;if(!J.rect||this instanceof R){const{rotation:Xe}=J;return!J.hasOwnCanvas&&Xe!==0&&this.setRotation(Xe,ye),ye}const{width:De,height:tt}=y(J.rect),Ye=i.Util.normalizeRect([J.rect[0],B.view[3]-J.rect[1]+B.view[1],J.rect[2],B.view[3]-J.rect[3]+B.view[1]]);if(!he&&J.borderStyle.width>0){ye.style.borderWidth=`${J.borderStyle.width}px`;const Xe=J.borderStyle.horizontalCornerRadius,et=J.borderStyle.verticalCornerRadius;if(Xe>0||et>0){const nt=`calc(${Xe}px * var(--scale-factor)) / calc(${et}px * var(--scale-factor))`;ye.style.borderRadius=nt}else if(this instanceof v){const nt=`calc(${De}px * var(--scale-factor)) / calc(${tt}px * var(--scale-factor))`;ye.style.borderRadius=nt}switch(J.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:ye.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:ye.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:ye.style.borderBottomStyle="solid";break}const it=J.borderColor||null;it?(ne(this,F,!0),ye.style.borderColor=i.Util.makeHexColor(it[0]|0,it[1]|0,it[2]|0)):ye.style.borderWidth=0}ye.style.left=`${100*(Ye[0]-He)/Ce}%`,ye.style.top=`${100*(Ye[1]-je)/Le}%`;const{rotation:Ze}=J;return J.hasOwnCanvas||Ze===0?(ye.style.width=`${100*De/Ce}%`,ye.style.height=`${100*tt/Le}%`):this.setRotation(Ze,ye),ye}setRotation(he,J=this.container){if(!this.data.rect)return;const{pageWidth:B,pageHeight:se}=this.parent.viewport.rawDims,{width:ye,height:Ce}=y(this.data.rect);let Le,He;he%180===0?(Le=100*ye/B,He=100*Ce/se):(Le=100*Ce/B,He=100*ye/se),J.style.width=`${Le}%`,J.style.height=`${He}%`,J.setAttribute("data-main-rotation",(360-he)%360)}get _commonActions(){const he=(J,B,se)=>{const ye=se.detail[J],Ce=ye[0],Le=ye.slice(1);se.target.style[B]=C.ColorConverters[`${Ce}_HTML`](Le),this.annotationStorage.setValue(this.data.id,{[B]:C.ColorConverters[`${Ce}_rgb`](Le)})};return(0,i.shadow)(this,"_commonActions",{display:J=>{const{display:B}=J.detail,se=B%2===1;this.container.style.visibility=se?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:se,noPrint:B===1||B===2})},print:J=>{this.annotationStorage.setValue(this.data.id,{noPrint:!J.detail.print})},hidden:J=>{const{hidden:B}=J.detail;this.container.style.visibility=B?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:B,noView:B})},focus:J=>{setTimeout(()=>J.target.focus({preventScroll:!1}),0)},userName:J=>{J.target.title=J.detail.userName},readonly:J=>{J.target.disabled=J.detail.readonly},required:J=>{this._setRequired(J.target,J.detail.required)},bgColor:J=>{he("bgColor","backgroundColor",J)},fillColor:J=>{he("fillColor","backgroundColor",J)},fgColor:J=>{he("fgColor","color",J)},textColor:J=>{he("textColor","color",J)},borderColor:J=>{he("borderColor","borderColor",J)},strokeColor:J=>{he("strokeColor","borderColor",J)},rotation:J=>{const B=J.detail.rotation;this.setRotation(B),this.annotationStorage.setValue(this.data.id,{rotation:B})}})}_dispatchEventFromSandbox(he,J){const B=this._commonActions;for(const se of Object.keys(J.detail)){const ye=he[se]||B[se];ye==null||ye(J)}}_setDefaultPropertiesFromJS(he){if(!this.enableScripting)return;const J=this.annotationStorage.getRawValue(this.data.id);if(!J)return;const B=this._commonActions;for(const[se,ye]of Object.entries(J)){const Ce=B[se];if(Ce){const Le={detail:{[se]:ye},target:he};Ce(Le),delete J[se]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:he}=this.data;if(!he)return;const[J,B,se,ye]=this.data.rect;if(he.length===1){const[,{x:et,y:it},{x:nt,y:rt}]=he[0];if(se===et&&ye===it&&J===nt&&B===rt)return}const{style:Ce}=this.container;let Le;if(n(this,F)){const{borderColor:et,borderWidth:it}=Ce;Ce.borderWidth=0,Le=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${et}" stroke-width="${it}">`],this.container.classList.add("hasBorder")}const He=se-J,je=ye-B,{svgFactory:De}=this,tt=De.createElement("svg");tt.classList.add("quadrilateralsContainer"),tt.setAttribute("width",0),tt.setAttribute("height",0);const Ye=De.createElement("defs");tt.append(Ye);const Ze=De.createElement("clipPath"),Xe=`clippath_${this.data.id}`;Ze.setAttribute("id",Xe),Ze.setAttribute("clipPathUnits","objectBoundingBox"),Ye.append(Ze);for(const[,{x:et,y:it},{x:nt,y:rt}]of he){const st=De.createElement("rect"),at=(nt-J)/He,lt=(ye-it)/je,ht=(et-nt)/He,Cn=(it-rt)/je;st.setAttribute("x",at),st.setAttribute("y",lt),st.setAttribute("width",ht),st.setAttribute("height",Cn),Ze.append(st),Le==null||Le.push(`<rect vector-effect="non-scaling-stroke" x="${at}" y="${lt}" width="${ht}" height="${Cn}"/>`)}n(this,F)&&(Le.push("</g></svg>')"),Ce.backgroundImage=Le.join("")),this.container.append(tt),this.container.style.clipPath=`url(#${Xe})`}_createPopup(){const{container:he,data:J}=this;he.setAttribute("aria-haspopup","dialog");const B=new R({data:{color:J.color,titleObj:J.titleObj,modificationDate:J.modificationDate,contentsObj:J.contentsObj,richText:J.richText,parentRect:J.rect,borderStyle:0,id:`popup_${J.id}`,rotation:J.rotation},parent:this.parent,elements:[this]});this.parent.div.append(B.render())}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(he,J=null){const B=[];if(this._fieldObjects){const se=this._fieldObjects[he];if(se)for(const{page:ye,id:Ce,exportValues:Le}of se){if(ye===-1||Ce===J)continue;const He=typeof Le=="string"?Le:null,je=document.querySelector(`[data-element-id="${Ce}"]`);if(je&&!S.has(je)){(0,i.warn)(`_getElementsByName - element not allowed: ${Ce}`);continue}B.push({id:Ce,exportValue:He,domElement:je})}return B}for(const se of document.getElementsByName(he)){const{exportValue:ye}=se,Ce=se.getAttribute("data-element-id");Ce!==J&&S.has(se)&&B.push({id:Ce,exportValue:ye,domElement:se})}return B}show(){var he;this.container&&(this.container.hidden=!1),(he=this.popup)==null||he.maybeShow()}hide(){var he;this.container&&(this.container.hidden=!0),(he=this.popup)==null||he.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const he=this.getElementsToTriggerPopup();if(Array.isArray(he))for(const J of he)J.classList.add("highlightArea");else he.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:he,data:{id:J}}=this;this.container.addEventListener("dblclick",()=>{var B;(B=this.linkService.eventBus)==null||B.dispatch("switchannotationeditormode",{source:this,mode:he,editId:J})})}};F=new WeakMap;let a=m;class l extends a{constructor(J,B=null){super(J,{isRenderable:!0,ignoreBorder:!!(B!=null&&B.ignoreBorder),createQuadrilaterals:!0});D(this,g);D(this,U);this.isTooltipOnly=J.data.isTooltipOnly}render(){const{data:J,linkService:B}=this,se=document.createElement("a");se.setAttribute("data-element-id",J.id);let ye=!1;return J.url?(B.addLinkAttributes(se,J.url,J.newWindow),ye=!0):J.action?(this._bindNamedAction(se,J.action),ye=!0):J.attachment?(this._bindAttachment(se,J.attachment),ye=!0):J.setOCGState?(j(this,U,zn).call(this,se,J.setOCGState),ye=!0):J.dest?(this._bindLink(se,J.dest),ye=!0):(J.actions&&(J.actions.Action||J.actions["Mouse Up"]||J.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(se,J),ye=!0),J.resetForm?(this._bindResetFormAction(se,J.resetForm),ye=!0):this.isTooltipOnly&&!ye&&(this._bindLink(se,""),ye=!0)),this.container.classList.add("linkAnnotation"),ye&&this.container.append(se),this.container}_bindLink(J,B){J.href=this.linkService.getDestinationHash(B),J.onclick=()=>(B&&this.linkService.goToDestination(B),!1),(B||B==="")&&j(this,g,ut).call(this)}_bindNamedAction(J,B){J.href=this.linkService.getAnchorUrl(""),J.onclick=()=>(this.linkService.executeNamedAction(B),!1),j(this,g,ut).call(this)}_bindAttachment(J,B){J.href=this.linkService.getAnchorUrl(""),J.onclick=()=>{var se;return(se=this.downloadManager)==null||se.openOrDownloadData(this.container,B.content,B.filename),!1},j(this,g,ut).call(this)}_bindJSAction(J,B){J.href=this.linkService.getAnchorUrl("");const se=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ye of Object.keys(B.actions)){const Ce=se.get(ye);Ce&&(J[Ce]=()=>{var Le;return(Le=this.linkService.eventBus)==null||Le.dispatch("dispatcheventinsandbox",{source:this,detail:{id:B.id,name:ye}}),!1})}J.onclick||(J.onclick=()=>!1),j(this,g,ut).call(this)}_bindResetFormAction(J,B){const se=J.onclick;if(se||(J.href=this.linkService.getAnchorUrl("")),j(this,g,ut).call(this),!this._fieldObjects){(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),se||(J.onclick=()=>!1);return}J.onclick=()=>{var tt;se==null||se();const{fields:ye,refs:Ce,include:Le}=B,He=[];if(ye.length!==0||Ce.length!==0){const Ye=new Set(Ce);for(const Ze of ye){const Xe=this._fieldObjects[Ze]||[];for(const{id:et}of Xe)Ye.add(et)}for(const Ze of Object.values(this._fieldObjects))for(const Xe of Ze)Ye.has(Xe.id)===Le&&He.push(Xe)}else for(const Ye of Object.values(this._fieldObjects))He.push(...Ye);const je=this.annotationStorage,De=[];for(const Ye of He){const{id:Ze}=Ye;switch(De.push(Ze),Ye.type){case"text":{const et=Ye.defaultValue||"";je.setValue(Ze,{value:et});break}case"checkbox":case"radiobutton":{const et=Ye.defaultValue===Ye.exportValues;je.setValue(Ze,{value:et});break}case"combobox":case"listbox":{const et=Ye.defaultValue||"";je.setValue(Ze,{value:et});break}default:continue}const Xe=document.querySelector(`[data-element-id="${Ze}"]`);if(Xe){if(!S.has(Xe)){(0,i.warn)(`_bindResetFormAction - element not allowed: ${Ze}`);continue}}else continue;Xe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((tt=this.linkService.eventBus)==null||tt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:De,name:"ResetForm"}})),!1}}}g=new WeakSet,ut=function(){this.container.setAttribute("data-internal-link","")},U=new WeakSet,zn=function(J,B){J.href=this.linkService.getAnchorUrl(""),J.onclick=()=>(this.linkService.executeSetOCGState(B),!1),j(this,g,ut).call(this)};class d extends a{constructor(he){super(he,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const he=document.createElement("img");return he.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",he.alt="[{{type}} Annotation]",he.dataset.l10nId="text_annotation_type",he.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(he),this.container}}class E extends a{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(he){var J;this.data.hasOwnCanvas&&(((J=he.previousSibling)==null?void 0:J.nodeName)==="CANVAS"&&(he.previousSibling.hidden=!0),he.hidden=!1)}_getKeyModifier(he){const{isWin:J,isMac:B}=i.FeatureTest.platform;return J&&he.ctrlKey||B&&he.metaKey}_setEventListener(he,J,B,se,ye){B.includes("mouse")?he.addEventListener(B,Ce=>{var Le;(Le=this.linkService.eventBus)==null||Le.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:se,value:ye(Ce),shift:Ce.shiftKey,modifier:this._getKeyModifier(Ce)}})}):he.addEventListener(B,Ce=>{var Le;if(B==="blur"){if(!J.focused||!Ce.relatedTarget)return;J.focused=!1}else if(B==="focus"){if(J.focused)return;J.focused=!0}ye&&((Le=this.linkService.eventBus)==null||Le.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:se,value:ye(Ce)}}))})}_setEventListeners(he,J,B,se){var ye,Ce,Le;for(const[He,je]of B)(je==="Action"||(ye=this.data.actions)!=null&&ye[je])&&((je==="Focus"||je==="Blur")&&(J||(J={focused:!1})),this._setEventListener(he,J,He,je,se),je==="Focus"&&!((Ce=this.data.actions)!=null&&Ce.Blur)?this._setEventListener(he,J,"blur","Blur",null):je==="Blur"&&!((Le=this.data.actions)!=null&&Le.Focus)&&this._setEventListener(he,J,"focus","Focus",null))}_setBackgroundColor(he){const J=this.data.backgroundColor||null;he.style.backgroundColor=J===null?"transparent":i.Util.makeHexColor(J[0],J[1],J[2])}_setTextStyle(he){const J=["left","center","right"],{fontColor:B}=this.data.defaultAppearanceData,se=this.data.defaultAppearanceData.fontSize||o,ye=he.style;let Ce;const Le=2,He=je=>Math.round(10*je)/10;if(this.data.multiLine){const je=Math.abs(this.data.rect[3]-this.data.rect[1]-Le),De=Math.round(je/(i.LINE_FACTOR*se))||1,tt=je/De;Ce=Math.min(se,He(tt/i.LINE_FACTOR))}else{const je=Math.abs(this.data.rect[3]-this.data.rect[1]-Le);Ce=Math.min(se,He(je/i.LINE_FACTOR))}ye.fontSize=`calc(${Ce}px * var(--scale-factor))`,ye.color=i.Util.makeHexColor(B[0],B[1],B[2]),this.data.textAlignment!==null&&(ye.textAlign=J[this.data.textAlignment])}_setRequired(he,J){J?he.setAttribute("required",!0):he.removeAttribute("required"),he.setAttribute("aria-required",J)}}class P extends E{constructor(he){const J=he.renderForms||he.data.hasOwnCanvas||!he.data.hasAppearance&&!!he.data.fieldValue;super(he,{isRenderable:J})}setPropertyOnSiblings(he,J,B,se){const ye=this.annotationStorage;for(const Ce of this._getElementsByName(he.name,he.id))Ce.domElement&&(Ce.domElement[J]=B),ye.setValue(Ce.id,{[se]:B})}render(){var se,ye;const he=this.annotationStorage,J=this.data.id;this.container.classList.add("textWidgetAnnotation");let B=null;if(this.renderForms){const Ce=he.getValue(J,{value:this.data.fieldValue});let Le=Ce.value||"";const He=he.getValue(J,{charLimit:this.data.maxLen}).charLimit;He&&Le.length>He&&(Le=Le.slice(0,He));let je=Ce.formattedValue||((se=this.data.textContent)==null?void 0:se.join(`
`))||null;je&&this.data.comb&&(je=je.replaceAll(/\s+/g,""));const De={userValue:Le,formattedValue:je,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(B=document.createElement("textarea"),B.textContent=je??Le,this.data.doNotScroll&&(B.style.overflowY="hidden")):(B=document.createElement("input"),B.type="text",B.setAttribute("value",je??Le),this.data.doNotScroll&&(B.style.overflowX="hidden")),this.data.hasOwnCanvas&&(B.hidden=!0),S.add(B),B.setAttribute("data-element-id",J),B.disabled=this.data.readOnly,B.name=this.data.fieldName,B.tabIndex=s,this._setRequired(B,this.data.required),He&&(B.maxLength=He),B.addEventListener("input",Ye=>{he.setValue(J,{value:Ye.target.value}),this.setPropertyOnSiblings(B,"value",Ye.target.value,"value"),De.formattedValue=null}),B.addEventListener("resetform",Ye=>{const Ze=this.data.defaultFieldValue??"";B.value=De.userValue=Ze,De.formattedValue=null});let tt=Ye=>{const{formattedValue:Ze}=De;Ze!=null&&(Ye.target.value=Ze),Ye.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){B.addEventListener("focus",Ze=>{if(De.focused)return;const{target:Xe}=Ze;De.userValue&&(Xe.value=De.userValue),De.lastCommittedValue=Xe.value,De.commitKey=1,De.focused=!0}),B.addEventListener("updatefromsandbox",Ze=>{this.showElementAndHideCanvas(Ze.target);const Xe={value(et){De.userValue=et.detail.value??"",he.setValue(J,{value:De.userValue.toString()}),et.target.value=De.userValue},formattedValue(et){const{formattedValue:it}=et.detail;De.formattedValue=it,it!=null&&et.target!==document.activeElement&&(et.target.value=it),he.setValue(J,{formattedValue:it})},selRange(et){et.target.setSelectionRange(...et.detail.selRange)},charLimit:et=>{var st;const{charLimit:it}=et.detail,{target:nt}=et;if(it===0){nt.removeAttribute("maxLength");return}nt.setAttribute("maxLength",it);let rt=De.userValue;!rt||rt.length<=it||(rt=rt.slice(0,it),nt.value=De.userValue=rt,he.setValue(J,{value:rt}),(st=this.linkService.eventBus)==null||st.dispatch("dispatcheventinsandbox",{source:this,detail:{id:J,name:"Keystroke",value:rt,willCommit:!0,commitKey:1,selStart:nt.selectionStart,selEnd:nt.selectionEnd}}))}};this._dispatchEventFromSandbox(Xe,Ze)}),B.addEventListener("keydown",Ze=>{var it;De.commitKey=1;let Xe=-1;if(Ze.key==="Escape"?Xe=0:Ze.key==="Enter"&&!this.data.multiLine?Xe=2:Ze.key==="Tab"&&(De.commitKey=3),Xe===-1)return;const{value:et}=Ze.target;De.lastCommittedValue!==et&&(De.lastCommittedValue=et,De.userValue=et,(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:J,name:"Keystroke",value:et,willCommit:!0,commitKey:Xe,selStart:Ze.target.selectionStart,selEnd:Ze.target.selectionEnd}}))});const Ye=tt;tt=null,B.addEventListener("blur",Ze=>{var et;if(!De.focused||!Ze.relatedTarget)return;De.focused=!1;const{value:Xe}=Ze.target;De.userValue=Xe,De.lastCommittedValue!==Xe&&((et=this.linkService.eventBus)==null||et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:J,name:"Keystroke",value:Xe,willCommit:!0,commitKey:De.commitKey,selStart:Ze.target.selectionStart,selEnd:Ze.target.selectionEnd}})),Ye(Ze)}),(ye=this.data.actions)!=null&&ye.Keystroke&&B.addEventListener("beforeinput",Ze=>{var lt;De.lastCommittedValue=null;const{data:Xe,target:et}=Ze,{value:it,selectionStart:nt,selectionEnd:rt}=et;let st=nt,at=rt;switch(Ze.inputType){case"deleteWordBackward":{const ht=it.substring(0,nt).match(/\w*[^\w]*$/);ht&&(st-=ht[0].length);break}case"deleteWordForward":{const ht=it.substring(nt).match(/^[^\w]*\w*/);ht&&(at+=ht[0].length);break}case"deleteContentBackward":nt===rt&&(st-=1);break;case"deleteContentForward":nt===rt&&(at+=1);break}Ze.preventDefault(),(lt=this.linkService.eventBus)==null||lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:J,name:"Keystroke",value:it,change:Xe||"",willCommit:!1,selStart:st,selEnd:at}})}),this._setEventListeners(B,De,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ze=>Ze.target.value)}if(tt&&B.addEventListener("blur",tt),this.data.comb){const Ze=(this.data.rect[2]-this.data.rect[0])/He;B.classList.add("comb"),B.style.letterSpacing=`calc(${Ze}px * var(--scale-factor) - 1ch)`}}else B=document.createElement("div"),B.textContent=this.data.fieldValue,B.style.verticalAlign="middle",B.style.display="table-cell",this.data.hasOwnCanvas&&(B.hidden=!0);return this._setTextStyle(B),this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.append(B),this.container}}class b extends E{constructor(he){super(he,{isRenderable:!!he.data.hasOwnCanvas})}}class A extends E{constructor(he){super(he,{isRenderable:he.renderForms})}render(){const he=this.annotationStorage,J=this.data,B=J.id;let se=he.getValue(B,{value:J.exportValue===J.fieldValue}).value;typeof se=="string"&&(se=se!=="Off",he.setValue(B,{value:se})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ye=document.createElement("input");return S.add(ye),ye.setAttribute("data-element-id",B),ye.disabled=J.readOnly,this._setRequired(ye,this.data.required),ye.type="checkbox",ye.name=J.fieldName,se&&ye.setAttribute("checked",!0),ye.setAttribute("exportValue",J.exportValue),ye.tabIndex=s,ye.addEventListener("change",Ce=>{const{name:Le,checked:He}=Ce.target;for(const je of this._getElementsByName(Le,B)){const De=He&&je.exportValue===J.exportValue;je.domElement&&(je.domElement.checked=De),he.setValue(je.id,{value:De})}he.setValue(B,{value:He})}),ye.addEventListener("resetform",Ce=>{const Le=J.defaultFieldValue||"Off";Ce.target.checked=Le===J.exportValue}),this.enableScripting&&this.hasJSActions&&(ye.addEventListener("updatefromsandbox",Ce=>{const Le={value(He){He.target.checked=He.detail.value!=="Off",he.setValue(B,{value:He.target.checked})}};this._dispatchEventFromSandbox(Le,Ce)}),this._setEventListeners(ye,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ce=>Ce.target.checked)),this._setBackgroundColor(ye),this._setDefaultPropertiesFromJS(ye),this.container.append(ye),this.container}}class v extends E{constructor(he){super(he,{isRenderable:he.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const he=this.annotationStorage,J=this.data,B=J.id;let se=he.getValue(B,{value:J.fieldValue===J.buttonValue}).value;typeof se=="string"&&(se=se!==J.buttonValue,he.setValue(B,{value:se}));const ye=document.createElement("input");if(S.add(ye),ye.setAttribute("data-element-id",B),ye.disabled=J.readOnly,this._setRequired(ye,this.data.required),ye.type="radio",ye.name=J.fieldName,se&&ye.setAttribute("checked",!0),ye.tabIndex=s,ye.addEventListener("change",Ce=>{const{name:Le,checked:He}=Ce.target;for(const je of this._getElementsByName(Le,B))he.setValue(je.id,{value:!1});he.setValue(B,{value:He})}),ye.addEventListener("resetform",Ce=>{const Le=J.defaultFieldValue;Ce.target.checked=Le!=null&&Le===J.buttonValue}),this.enableScripting&&this.hasJSActions){const Ce=J.buttonValue;ye.addEventListener("updatefromsandbox",Le=>{const He={value:je=>{const De=Ce===je.detail.value;for(const tt of this._getElementsByName(je.target.name)){const Ye=De&&tt.id===B;tt.domElement&&(tt.domElement.checked=Ye),he.setValue(tt.id,{value:Ye})}}};this._dispatchEventFromSandbox(He,Le)}),this._setEventListeners(ye,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Le=>Le.target.checked)}return this._setBackgroundColor(ye),this._setDefaultPropertiesFromJS(ye),this.container.append(ye),this.container}}class w extends l{constructor(he){super(he,{ignoreBorder:he.data.hasAppearance})}render(){const he=super.render();he.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(he.title=this.data.alternativeText);const J=he.lastChild;return this.enableScripting&&this.hasJSActions&&J&&(this._setDefaultPropertiesFromJS(J),J.addEventListener("updatefromsandbox",B=>{this._dispatchEventFromSandbox({},B)})),he}}class x extends E{constructor(he){super(he,{isRenderable:he.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const he=this.annotationStorage,J=this.data.id,B=he.getValue(J,{value:this.data.fieldValue}),se=document.createElement("select");S.add(se),se.setAttribute("data-element-id",J),se.disabled=this.data.readOnly,this._setRequired(se,this.data.required),se.name=this.data.fieldName,se.tabIndex=s;let ye=this.data.combo&&this.data.options.length>0;this.data.combo||(se.size=this.data.options.length,this.data.multiSelect&&(se.multiple=!0)),se.addEventListener("resetform",De=>{const tt=this.data.defaultFieldValue;for(const Ye of se.options)Ye.selected=Ye.value===tt});for(const De of this.data.options){const tt=document.createElement("option");tt.textContent=De.displayValue,tt.value=De.exportValue,B.value.includes(De.exportValue)&&(tt.setAttribute("selected",!0),ye=!1),se.append(tt)}let Ce=null;if(ye){const De=document.createElement("option");De.value=" ",De.setAttribute("hidden",!0),De.setAttribute("selected",!0),se.prepend(De),Ce=()=>{De.remove(),se.removeEventListener("input",Ce),Ce=null},se.addEventListener("input",Ce)}const Le=De=>{const tt=De?"value":"textContent",{options:Ye,multiple:Ze}=se;return Ze?Array.prototype.filter.call(Ye,Xe=>Xe.selected).map(Xe=>Xe[tt]):Ye.selectedIndex===-1?null:Ye[Ye.selectedIndex][tt]};let He=Le(!1);const je=De=>{const tt=De.target.options;return Array.prototype.map.call(tt,Ye=>({displayValue:Ye.textContent,exportValue:Ye.value}))};return this.enableScripting&&this.hasJSActions?(se.addEventListener("updatefromsandbox",De=>{const tt={value(Ye){Ce==null||Ce();const Ze=Ye.detail.value,Xe=new Set(Array.isArray(Ze)?Ze:[Ze]);for(const et of se.options)et.selected=Xe.has(et.value);he.setValue(J,{value:Le(!0)}),He=Le(!1)},multipleSelection(Ye){se.multiple=!0},remove(Ye){const Ze=se.options,Xe=Ye.detail.remove;Ze[Xe].selected=!1,se.remove(Xe),Ze.length>0&&Array.prototype.findIndex.call(Ze,it=>it.selected)===-1&&(Ze[0].selected=!0),he.setValue(J,{value:Le(!0),items:je(Ye)}),He=Le(!1)},clear(Ye){for(;se.length!==0;)se.remove(0);he.setValue(J,{value:null,items:[]}),He=Le(!1)},insert(Ye){const{index:Ze,displayValue:Xe,exportValue:et}=Ye.detail.insert,it=se.children[Ze],nt=document.createElement("option");nt.textContent=Xe,nt.value=et,it?it.before(nt):se.append(nt),he.setValue(J,{value:Le(!0),items:je(Ye)}),He=Le(!1)},items(Ye){const{items:Ze}=Ye.detail;for(;se.length!==0;)se.remove(0);for(const Xe of Ze){const{displayValue:et,exportValue:it}=Xe,nt=document.createElement("option");nt.textContent=et,nt.value=it,se.append(nt)}se.options.length>0&&(se.options[0].selected=!0),he.setValue(J,{value:Le(!0),items:je(Ye)}),He=Le(!1)},indices(Ye){const Ze=new Set(Ye.detail.indices);for(const Xe of Ye.target.options)Xe.selected=Ze.has(Xe.index);he.setValue(J,{value:Le(!0)}),He=Le(!1)},editable(Ye){Ye.target.disabled=!Ye.detail.editable}};this._dispatchEventFromSandbox(tt,De)}),se.addEventListener("input",De=>{var Ye;const tt=Le(!0);he.setValue(J,{value:tt}),De.preventDefault(),(Ye=this.linkService.eventBus)==null||Ye.dispatch("dispatcheventinsandbox",{source:this,detail:{id:J,name:"Keystroke",value:He,changeEx:tt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(se,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],De=>De.target.value)):se.addEventListener("input",function(De){he.setValue(J,{value:Le(!0)})}),this.data.combo&&this._setTextStyle(se),this._setBackgroundColor(se),this._setDefaultPropertiesFromJS(se),this.container.append(se),this.container}}class R extends a{constructor(he){const{data:J,elements:B}=he;super(he,{isRenderable:a._hasPopupData(J)}),this.elements=B}render(){this.container.classList.add("popupAnnotation");const he=new k({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),J=[];for(const B of this.elements)B.popup=he,J.push(B.data.id),B.addHighlightArea();return this.container.setAttribute("aria-controls",J.map(B=>`${i.AnnotationPrefix}${B}`).join(",")),this.container}}class k{constructor({container:he,color:J,elements:B,titleObj:se,modificationDate:ye,contentsObj:Ce,richText:Le,parent:He,rect:je,parentRect:De,open:tt}){D(this,Ne);D(this,We);D(this,Ge);D(this,ie);D(this,H,null);D(this,X,j(this,Ne,Wn).bind(this));D(this,M,j(this,ie,xi).bind(this));D(this,T,j(this,Ge,Li).bind(this));D(this,W,j(this,We,jt).bind(this));D(this,Z,null);D(this,q,null);D(this,we,null);D(this,Ae,null);D(this,Ee,null);D(this,oe,null);D(this,Y,!1);D(this,Q,null);D(this,de,null);D(this,be,null);D(this,Te,null);D(this,ke,!1);var Ze;ne(this,q,he),ne(this,Te,se),ne(this,we,Ce),ne(this,be,Le),ne(this,Ee,He),ne(this,Z,J),ne(this,de,je),ne(this,oe,De),ne(this,Ae,B);const Ye=f.PDFDateString.toDateObject(ye);Ye&&ne(this,H,He.l10n.get("annotation_date_string",{date:Ye.toLocaleDateString(),time:Ye.toLocaleTimeString()})),this.trigger=B.flatMap(Xe=>Xe.getElementsToTriggerPopup());for(const Xe of this.trigger)Xe.addEventListener("click",n(this,W)),Xe.addEventListener("mouseenter",n(this,T)),Xe.addEventListener("mouseleave",n(this,M)),Xe.classList.add("popupTriggerArea");for(const Xe of B)(Ze=Xe.container)==null||Ze.addEventListener("keydown",n(this,X));n(this,q).hidden=!0,tt&&j(this,We,jt).call(this)}render(){if(n(this,Q))return;const{page:{view:he},viewport:{rawDims:{pageWidth:J,pageHeight:B,pageX:se,pageY:ye}}}=n(this,Ee),Ce=ne(this,Q,document.createElement("div"));if(Ce.className="popup",n(this,Z)){const st=Ce.style.outlineColor=i.Util.makeHexColor(...n(this,Z));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Ce.style.backgroundColor=`color-mix(in srgb, ${st} 30%, white)`:Ce.style.backgroundColor=i.Util.makeHexColor(...n(this,Z).map(lt=>Math.floor(.7*(255-lt)+lt)))}const Le=document.createElement("span");Le.className="header";const He=document.createElement("h1");if(Le.append(He),{dir:He.dir,str:He.textContent}=n(this,Te),Ce.append(Le),n(this,H)){const st=document.createElement("span");st.classList.add("popupDate"),n(this,H).then(at=>{st.textContent=at}),Le.append(st)}const je=n(this,we),De=n(this,be);if(De!=null&&De.str&&(!(je!=null&&je.str)||je.str===De.str))c.XfaLayer.render({xfaHtml:De.html,intent:"richText",div:Ce}),Ce.lastChild.classList.add("richText","popupContent");else{const st=this._formatContents(je);Ce.append(st)}let tt=!!n(this,oe),Ye=tt?n(this,oe):n(this,de);for(const st of n(this,Ae))if(!Ye||i.Util.intersect(st.data.rect,Ye)!==null){Ye=st.data.rect,tt=!0;break}const Ze=i.Util.normalizeRect([Ye[0],he[3]-Ye[1]+he[1],Ye[2],he[3]-Ye[3]+he[1]]),Xe=5,et=tt?Ye[2]-Ye[0]+Xe:0,it=Ze[0]+et,nt=Ze[1],{style:rt}=n(this,q);rt.left=`${100*(it-se)/J}%`,rt.top=`${100*(nt-ye)/B}%`,n(this,q).append(Ce)}_formatContents({str:he,dir:J}){const B=document.createElement("p");B.classList.add("popupContent"),B.dir=J;const se=he.split(/(?:\r\n?|\n)/);for(let ye=0,Ce=se.length;ye<Ce;++ye){const Le=se[ye];B.append(document.createTextNode(Le)),ye<Ce-1&&B.append(document.createElement("br"))}return B}forceHide(){ne(this,ke,this.isVisible),n(this,ke)&&(n(this,q).hidden=!0)}maybeShow(){n(this,ke)&&(ne(this,ke,!1),n(this,q).hidden=!1)}get isVisible(){return n(this,q).hidden===!1}}H=new WeakMap,X=new WeakMap,M=new WeakMap,T=new WeakMap,W=new WeakMap,Z=new WeakMap,q=new WeakMap,we=new WeakMap,Ae=new WeakMap,Ee=new WeakMap,oe=new WeakMap,Y=new WeakMap,Q=new WeakMap,de=new WeakMap,be=new WeakMap,Te=new WeakMap,ke=new WeakMap,Ne=new WeakSet,Wn=function(he){he.altKey||he.shiftKey||he.ctrlKey||he.metaKey||(he.key==="Enter"||he.key==="Escape"&&n(this,Y))&&j(this,We,jt).call(this)},We=new WeakSet,jt=function(){ne(this,Y,!n(this,Y)),n(this,Y)?(j(this,Ge,Li).call(this),n(this,q).addEventListener("click",n(this,W)),n(this,q).addEventListener("keydown",n(this,X))):(j(this,ie,xi).call(this),n(this,q).removeEventListener("click",n(this,W)),n(this,q).removeEventListener("keydown",n(this,X)))},Ge=new WeakSet,Li=function(){n(this,Q)||this.render(),this.isVisible?n(this,Y)&&n(this,q).classList.add("focused"):(n(this,q).hidden=!1,n(this,q).style.zIndex=parseInt(n(this,q).style.zIndex)+1e3)},ie=new WeakSet,xi=function(){n(this,q).classList.remove("focused"),!(n(this,Y)||!this.isVisible)&&(n(this,q).hidden=!0,n(this,q).style.zIndex=parseInt(n(this,q).style.zIndex)-1e3)};class V extends a{constructor(he){super(he,{isRenderable:!0,ignoreBorder:!0}),this.textContent=he.data.textContent,this.textPosition=he.data.textPosition,this.annotationEditorType=i.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const he=document.createElement("div");he.classList.add("annotationTextContent"),he.setAttribute("role","comment");for(const J of this.textContent){const B=document.createElement("span");B.textContent=J,he.append(B)}this.container.append(he)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=V;class z extends a{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0});D(this,re,null)}render(){this.container.classList.add("lineAnnotation");const J=this.data,{width:B,height:se}=y(J.rect),ye=this.svgFactory.create(B,se,!0),Ce=ne(this,re,this.svgFactory.createElement("svg:line"));return Ce.setAttribute("x1",J.rect[2]-J.lineCoordinates[0]),Ce.setAttribute("y1",J.rect[3]-J.lineCoordinates[1]),Ce.setAttribute("x2",J.rect[2]-J.lineCoordinates[2]),Ce.setAttribute("y2",J.rect[3]-J.lineCoordinates[3]),Ce.setAttribute("stroke-width",J.borderStyle.width||1),Ce.setAttribute("stroke","transparent"),Ce.setAttribute("fill","transparent"),ye.append(Ce),this.container.append(ye),!J.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return n(this,re)}addHighlightArea(){this.container.classList.add("highlightArea")}}re=new WeakMap;class K extends a{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0});D(this,ge,null)}render(){this.container.classList.add("squareAnnotation");const J=this.data,{width:B,height:se}=y(J.rect),ye=this.svgFactory.create(B,se,!0),Ce=J.borderStyle.width,Le=ne(this,ge,this.svgFactory.createElement("svg:rect"));return Le.setAttribute("x",Ce/2),Le.setAttribute("y",Ce/2),Le.setAttribute("width",B-Ce),Le.setAttribute("height",se-Ce),Le.setAttribute("stroke-width",Ce||1),Le.setAttribute("stroke","transparent"),Le.setAttribute("fill","transparent"),ye.append(Le),this.container.append(ye),!J.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return n(this,ge)}addHighlightArea(){this.container.classList.add("highlightArea")}}ge=new WeakMap;class ve extends a{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0});D(this,ae,null)}render(){this.container.classList.add("circleAnnotation");const J=this.data,{width:B,height:se}=y(J.rect),ye=this.svgFactory.create(B,se,!0),Ce=J.borderStyle.width,Le=ne(this,ae,this.svgFactory.createElement("svg:ellipse"));return Le.setAttribute("cx",B/2),Le.setAttribute("cy",se/2),Le.setAttribute("rx",B/2-Ce/2),Le.setAttribute("ry",se/2-Ce/2),Le.setAttribute("stroke-width",Ce||1),Le.setAttribute("stroke","transparent"),Le.setAttribute("fill","transparent"),ye.append(Le),this.container.append(ye),!J.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return n(this,ae)}addHighlightArea(){this.container.classList.add("highlightArea")}}ae=new WeakMap;class pe extends a{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0});D(this,Se,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const J=this.data,{width:B,height:se}=y(J.rect),ye=this.svgFactory.create(B,se,!0);let Ce=[];for(const He of J.vertices){const je=He.x-J.rect[0],De=J.rect[3]-He.y;Ce.push(je+","+De)}Ce=Ce.join(" ");const Le=ne(this,Se,this.svgFactory.createElement(this.svgElementName));return Le.setAttribute("points",Ce),Le.setAttribute("stroke-width",J.borderStyle.width||1),Le.setAttribute("stroke","transparent"),Le.setAttribute("fill","transparent"),ye.append(Le),this.container.append(ye),!J.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return n(this,Se)}addHighlightArea(){this.container.classList.add("highlightArea")}}Se=new WeakMap;class _e extends pe{constructor(he){super(he),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class $ extends a{constructor(he){super(he,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ee extends a{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0});D(this,me,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=i.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const J=this.data,{width:B,height:se}=y(J.rect),ye=this.svgFactory.create(B,se,!0);for(const Ce of J.inkLists){let Le=[];for(const je of Ce){const De=je.x-J.rect[0],tt=J.rect[3]-je.y;Le.push(`${De},${tt}`)}Le=Le.join(" ");const He=this.svgFactory.createElement(this.svgElementName);n(this,me).push(He),He.setAttribute("points",Le),He.setAttribute("stroke-width",J.borderStyle.width||1),He.setAttribute("stroke","transparent"),He.setAttribute("fill","transparent"),!J.popupRef&&this.hasPopupData&&this._createPopup(),ye.append(He)}return this.container.append(ye),this.container}getElementsToTriggerPopup(){return n(this,me)}addHighlightArea(){this.container.classList.add("highlightArea")}}me=new WeakMap,t.InkAnnotationElement=ee;class G extends a{constructor(he){super(he,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ue extends a{constructor(he){super(he,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class te extends a{constructor(he){super(he,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class xe extends a{constructor(he){super(he,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ie extends a{constructor(he){super(he,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}t.StampAnnotationElement=Ie;class le extends a{constructor(J){var ye;super(J,{isRenderable:!0});D(this,Me);D(this,Pe,null);const{filename:B,content:se}=this.data.file;this.filename=(0,f.getFilenameFromUrl)(B,!0),this.content=se,(ye=this.linkService.eventBus)==null||ye.dispatch("fileattachmentannotation",{source:this,filename:B,content:se})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:J,data:B}=this;let se;B.hasAppearance||B.fillAlpha===0?se=document.createElement("div"):(se=document.createElement("img"),se.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(B.name)?"paperclip":"pushpin"}.svg`,B.fillAlpha&&B.fillAlpha<1&&(se.style=`filter: opacity(${Math.round(B.fillAlpha*100)}%);`)),se.addEventListener("dblclick",j(this,Me,Ii).bind(this)),ne(this,Pe,se);const{isMac:ye}=i.FeatureTest.platform;return J.addEventListener("keydown",Ce=>{Ce.key==="Enter"&&(ye?Ce.metaKey:Ce.ctrlKey)&&j(this,Me,Ii).call(this)}),!B.popupRef&&this.hasPopupData?this._createPopup():se.classList.add("popupTriggerArea"),J.append(se),J}getElementsToTriggerPopup(){return n(this,Pe)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pe=new WeakMap,Me=new WeakSet,Ii=function(){var J;(J=this.downloadManager)==null||J.openOrDownloadData(this.container,this.content,this.filename)};class I{constructor({div:he,accessibilityManager:J,annotationCanvasMap:B,l10n:se,page:ye,viewport:Ce}){D(this,Ve);D(this,$e);D(this,Re,null);D(this,Oe,null);D(this,Fe,new Map);this.div=he,ne(this,Re,J),ne(this,Oe,B),this.l10n=se,this.page=ye,this.viewport=Ce,this.zIndex=0,this.l10n||(this.l10n=u.NullL10n)}async render(he){const{annotations:J}=he,B=this.div;(0,f.setLayerDimensions)(B,this.viewport);const se=new Map,ye={data:null,layer:B,linkService:he.linkService,downloadManager:he.downloadManager,imageResourcesPath:he.imageResourcesPath||"",renderForms:he.renderForms!==!1,svgFactory:new f.DOMSVGFactory,annotationStorage:he.annotationStorage||new L.AnnotationStorage,enableScripting:he.enableScripting===!0,hasJSActions:he.hasJSActions,fieldObjects:he.fieldObjects,parent:this,elements:null};for(const Ce of J){if(Ce.noHTML)continue;const Le=Ce.annotationType===i.AnnotationType.POPUP;if(Le){const De=se.get(Ce.id);if(!De)continue;ye.elements=De}else{const{width:De,height:tt}=y(Ce.rect);if(De<=0||tt<=0)continue}ye.data=Ce;const He=_.create(ye);if(!He.isRenderable)continue;if(!Le&&Ce.popupRef){const De=se.get(Ce.popupRef);De?De.push(He):se.set(Ce.popupRef,[He])}He.annotationEditorType>0&&n(this,Fe).set(He.data.id,He);const je=He.render();Ce.hidden&&(je.style.visibility="hidden"),j(this,Ve,jn).call(this,je,Ce.id)}j(this,$e,ki).call(this),await this.l10n.translate(B)}update({viewport:he}){const J=this.div;this.viewport=he,(0,f.setLayerDimensions)(J,{rotation:he.rotation}),j(this,$e,ki).call(this),J.hidden=!1}getEditableAnnotations(){return Array.from(n(this,Fe).values())}getEditableAnnotation(he){return n(this,Fe).get(he)}}Re=new WeakMap,Oe=new WeakMap,Fe=new WeakMap,Ve=new WeakSet,jn=function(he,J){var se;const B=he.firstChild||he;B.id=`${i.AnnotationPrefix}${J}`,this.div.append(he),(se=n(this,Re))==null||se.moveElementInDOM(this.div,he,B,!1)},$e=new WeakSet,ki=function(){if(!n(this,Oe))return;const he=this.div;for(const[J,B]of n(this,Oe)){const se=he.querySelector(`[data-annotation-id="${J}"]`);if(!se)continue;const{firstChild:ye}=se;ye?ye.nodeName==="CANVAS"?ye.replaceWith(B):ye.before(B):se.append(B)}n(this,Oe).clear()},t.AnnotationLayer=I},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function r(L){return Math.floor(Math.max(0,Math.min(1,L))*255).toString(16).padStart(2,"0")}function i(L){return Math.max(0,Math.min(255,255*L))}class f{static CMYK_G([C,u,c,s]){return["G",1-Math.min(1,.3*C+.59*c+.11*u+s)]}static G_CMYK([C]){return["CMYK",0,0,0,1-C]}static G_RGB([C]){return["RGB",C,C,C]}static G_rgb([C]){return C=i(C),[C,C,C]}static G_HTML([C]){const u=r(C);return`#${u}${u}${u}`}static RGB_G([C,u,c]){return["G",.3*C+.59*u+.11*c]}static RGB_rgb(C){return C.map(i)}static RGB_HTML(C){return`#${C.map(r).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([C,u,c,s]){return["RGB",1-Math.min(1,C+s),1-Math.min(1,c+s),1-Math.min(1,u+s)]}static CMYK_rgb([C,u,c,s]){return[i(1-Math.min(1,C+s)),i(1-Math.min(1,c+s)),i(1-Math.min(1,u+s))]}static CMYK_HTML(C){const u=this.CMYK_RGB(C).slice(1);return this.RGB_HTML(u)}static RGB_CMYK([C,u,c]){const s=1-C,o=1-u,S=1-c,y=Math.min(s,o,S);return["CMYK",s,o,S,y]}}t.ColorConverters=f},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=i;const r={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};r.print_progress_percent="{{progress}}%";function i(C,u){switch(C){case"find_match_count":C=`find_match_count[${u.total===1?"one":"other"}]`;break;case"find_match_count_limit":C=`find_match_count_limit[${u.limit===1?"one":"other"}]`;break}return r[C]||""}function f(C,u){return u?C.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(c,s)=>s in u?u[s]:"{{"+s+"}}"):C}const L={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(C,u=null,c=i(C,u)){return f(c,u)},async translate(C){}};t.NullL10n=L},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var i=r(24);class f{static setupStorage(C,u,c,s,o){const S=s.getValue(u,{value:null});switch(c.name){case"textarea":if(S.value!==null&&(C.textContent=S.value),o==="print")break;C.addEventListener("input",y=>{s.setValue(u,{value:y.target.value})});break;case"input":if(c.attributes.type==="radio"||c.attributes.type==="checkbox"){if(S.value===c.attributes.xfaOn?C.setAttribute("checked",!0):S.value===c.attributes.xfaOff&&C.removeAttribute("checked"),o==="print")break;C.addEventListener("change",y=>{s.setValue(u,{value:y.target.checked?y.target.getAttribute("xfaOn"):y.target.getAttribute("xfaOff")})})}else{if(S.value!==null&&C.setAttribute("value",S.value),o==="print")break;C.addEventListener("input",y=>{s.setValue(u,{value:y.target.value})})}break;case"select":if(S.value!==null){C.setAttribute("value",S.value);for(const y of c.children)y.attributes.value===S.value?y.attributes.selected=!0:y.attributes.hasOwnProperty("selected")&&delete y.attributes.selected}C.addEventListener("input",y=>{const _=y.target.options,a=_.selectedIndex===-1?"":_[_.selectedIndex].value;s.setValue(u,{value:a})});break}}static setAttributes({html:C,element:u,storage:c=null,intent:s,linkService:o}){const{attributes:S}=u,y=C instanceof HTMLAnchorElement;S.type==="radio"&&(S.name=`${S.name}-${s}`);for(const[_,a]of Object.entries(S))if(a!=null)switch(_){case"class":a.length&&C.setAttribute(_,a.join(" "));break;case"dataId":break;case"id":C.setAttribute("data-element-id",a);break;case"style":Object.assign(C.style,a);break;case"textContent":C.textContent=a;break;default:(!y||_!=="href"&&_!=="newWindow")&&C.setAttribute(_,a)}y&&o.addLinkAttributes(C,S.href,S.newWindow),c&&S.dataId&&this.setupStorage(C,S.dataId,u,c)}static render(C){var l;const u=C.annotationStorage,c=C.linkService,s=C.xfaHtml,o=C.intent||"display",S=document.createElement(s.name);s.attributes&&this.setAttributes({html:S,element:s,intent:o,linkService:c});const y=[[s,-1,S]],_=C.div;if(_.append(S),C.viewport){const d=`matrix(${C.viewport.transform.join(",")})`;_.style.transform=d}o!=="richText"&&_.setAttribute("class","xfaLayer xfaFont");const a=[];for(;y.length>0;){const[d,E,P]=y.at(-1);if(E+1===d.children.length){y.pop();continue}const b=d.children[++y.at(-1)[1]];if(b===null)continue;const{name:A}=b;if(A==="#text"){const w=document.createTextNode(b.value);a.push(w),P.append(w);continue}const v=(l=b==null?void 0:b.attributes)!=null&&l.xmlns?document.createElementNS(b.attributes.xmlns,A):document.createElement(A);if(P.append(v),b.attributes&&this.setAttributes({html:v,element:b,storage:u,intent:o,linkService:c}),b.children&&b.children.length>0)y.push([b,-1,v]);else if(b.value){const w=document.createTextNode(b.value);i.XfaText.shouldBuildText(A)&&a.push(w),v.append(w)}}for(const d of _.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:a}}static update(C){const u=`matrix(${C.viewport.transform.join(",")})`;C.div.style.transform=u,C.div.hidden=!1}}t.XfaLayer=f},(e,t,r)=>{var s,o,S,y,_,a,l,d,E,P,b,A,v,w,x,R,$n,V,qn,K,Gn,pe,Kn,$,Oi,G,Xn,te,Fi,Ie,Yn,I,Zn,m,Qn,N,Jn,O,es,X,ct,T,Ni,Z,$t,we,qt,Ee,_t,Y,Di,de,Gt,Te,ts,Ne,Bi,We,is,Ge,ns,ie,Vi,re,Kt,ae,bt;Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var i=r(1),f=r(4),L=r(28),C=r(6),u=r(5);const me=class me extends f.AnnotationEditor{constructor(fe){super({...fe,name:"inkEditor"});D(this,R);D(this,V);D(this,K);D(this,pe);D(this,$);D(this,G);D(this,te);D(this,Ie);D(this,I);D(this,m);D(this,N);D(this,O);D(this,X);D(this,T);D(this,Z);D(this,we);D(this,Ee);D(this,Y);D(this,de);D(this,Ge);D(this,ie);D(this,re);D(this,ae);D(this,s,0);D(this,o,0);D(this,S,this.canvasPointermove.bind(this));D(this,y,this.canvasPointerleave.bind(this));D(this,_,this.canvasPointerup.bind(this));D(this,a,this.canvasPointerdown.bind(this));D(this,l,null);D(this,d,new Path2D);D(this,E,!1);D(this,P,!1);D(this,b,!1);D(this,A,null);D(this,v,0);D(this,w,0);D(this,x,null);this.color=fe.color||null,this.thickness=fe.thickness||null,this.opacity=fe.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(fe){f.AnnotationEditor.initialize(fe,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(fe,Re){switch(fe){case i.AnnotationEditorParamsType.INK_THICKNESS:me._defaultThickness=Re;break;case i.AnnotationEditorParamsType.INK_COLOR:me._defaultColor=Re;break;case i.AnnotationEditorParamsType.INK_OPACITY:me._defaultOpacity=Re/100;break}}updateParams(fe,Re){switch(fe){case i.AnnotationEditorParamsType.INK_THICKNESS:j(this,R,$n).call(this,Re);break;case i.AnnotationEditorParamsType.INK_COLOR:j(this,V,qn).call(this,Re);break;case i.AnnotationEditorParamsType.INK_OPACITY:j(this,K,Gn).call(this,Re);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,me._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,me._defaultColor||f.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(me._defaultOpacity*100)]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||me._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||me._defaultColor||f.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??me._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(j(this,Z,$t).call(this),j(this,we,qt).call(this)),this.isAttachedToDOM||(this.parent.add(this),j(this,Ee,_t).call(this)),j(this,ae,bt).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,n(this,l)&&(clearTimeout(n(this,l)),ne(this,l,null)),n(this,A).disconnect(),ne(this,A,null),super.remove())}setParent(fe){!this.parent&&fe?this._uiManager.removeShouldRescale(this):this.parent&&fe===null&&this._uiManager.addShouldRescale(this),super.setParent(fe)}onScaleChanging(){const[fe,Re]=this.parentDimensions,Oe=this.width*fe,Fe=this.height*Re;this.setDimensions(Oe,Fe)}enableEditMode(){n(this,E)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",n(this,a)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",n(this,a)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){n(this,E)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ne(this,E,!0),this.div.classList.add("disabled"),j(this,ae,bt).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(fe){this._focusEventsAllowed&&(super.focusin(fe),this.enableEditMode())}canvasPointerdown(fe){fe.button!==0||!this.isInEditMode()||n(this,E)||(this.setInForeground(),fe.preventDefault(),fe.type!=="mouse"&&this.div.focus(),j(this,G,Xn).call(this,fe.offsetX,fe.offsetY))}canvasPointermove(fe){fe.preventDefault(),j(this,te,Fi).call(this,fe.offsetX,fe.offsetY)}canvasPointerup(fe){fe.preventDefault(),j(this,T,Ni).call(this,fe)}canvasPointerleave(fe){j(this,T,Ni).call(this,fe)}get isResizable(){return!this.isEmpty()&&n(this,E)}render(){if(this.div)return this.div;let fe,Re;this.width&&(fe=this.x,Re=this.y),super.render(),f.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then($e=>{var Be;return(Be=this.div)==null?void 0:Be.setAttribute("aria-label",$e)});const[Oe,Fe,Ve,Ue]=j(this,pe,Kn).call(this);if(this.setAt(Oe,Fe,0,0),this.setDims(Ve,Ue),j(this,Z,$t).call(this),this.width){const[$e,Be]=this.parentDimensions;this.setAspectRatio(this.width*$e,this.height*Be),this.setAt(fe*$e,Re*Be,this.width*$e,this.height*Be),ne(this,b,!0),j(this,Ee,_t).call(this),this.setDims(this.width*$e,this.height*Be),j(this,X,ct).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return j(this,we,qt).call(this),this.div}setDimensions(fe,Re){const Oe=Math.round(fe),Fe=Math.round(Re);if(n(this,v)===Oe&&n(this,w)===Fe)return;ne(this,v,Oe),ne(this,w,Fe),this.canvas.style.visibility="hidden";const[Ve,Ue]=this.parentDimensions;this.width=fe/Ve,this.height=Re/Ue,this.fixAndSetPosition(),n(this,E)&&j(this,Y,Di).call(this,fe,Re),j(this,Ee,_t).call(this),j(this,X,ct).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(fe,Re,Oe){var Ce,Le,He;if(fe instanceof L.InkAnnotationElement)return null;const Fe=super.deserialize(fe,Re,Oe);Fe.thickness=fe.thickness,Fe.color=i.Util.makeHexColor(...fe.color),Fe.opacity=fe.opacity;const[Ve,Ue]=Fe.pageDimensions,$e=Fe.width*Ve,Be=Fe.height*Ue,Ke=Fe.parentScale,he=fe.thickness/2;ne(Fe,E,!0),ne(Fe,v,Math.round($e)),ne(Fe,w,Math.round(Be));const{paths:J,rect:B,rotation:se}=fe;for(let{bezier:je}of J){je=j(Ce=me,We,is).call(Ce,je,B,se);const De=[];Fe.paths.push(De);let tt=Ke*(je[0]-he),Ye=Ke*(je[1]-he);for(let Xe=2,et=je.length;Xe<et;Xe+=6){const it=Ke*(je[Xe]-he),nt=Ke*(je[Xe+1]-he),rt=Ke*(je[Xe+2]-he),st=Ke*(je[Xe+3]-he),at=Ke*(je[Xe+4]-he),lt=Ke*(je[Xe+5]-he);De.push([[tt,Ye],[it,nt],[rt,st],[at,lt]]),tt=at,Ye=lt}const Ze=j(this,Te,ts).call(this,De);Fe.bezierPath2D.push(Ze)}const ye=j(Le=Fe,ie,Vi).call(Le);return ne(Fe,o,Math.max(f.AnnotationEditor.MIN_SIZE,ye[2]-ye[0])),ne(Fe,s,Math.max(f.AnnotationEditor.MIN_SIZE,ye[3]-ye[1])),j(He=Fe,Y,Di).call(He,$e,Be),Fe}serialize(){if(this.isEmpty())return null;const fe=this.getRect(0,0),Re=f.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:Re,thickness:this.thickness,opacity:this.opacity,paths:j(this,Ge,ns).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,fe),pageIndex:this.pageIndex,rect:fe,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};s=new WeakMap,o=new WeakMap,S=new WeakMap,y=new WeakMap,_=new WeakMap,a=new WeakMap,l=new WeakMap,d=new WeakMap,E=new WeakMap,P=new WeakMap,b=new WeakMap,A=new WeakMap,v=new WeakMap,w=new WeakMap,x=new WeakMap,R=new WeakSet,$n=function(fe){const Re=this.thickness;this.addCommands({cmd:()=>{this.thickness=fe,j(this,ae,bt).call(this)},undo:()=>{this.thickness=Re,j(this,ae,bt).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},V=new WeakSet,qn=function(fe){const Re=this.color;this.addCommands({cmd:()=>{this.color=fe,j(this,X,ct).call(this)},undo:()=>{this.color=Re,j(this,X,ct).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},K=new WeakSet,Gn=function(fe){fe/=100;const Re=this.opacity;this.addCommands({cmd:()=>{this.opacity=fe,j(this,X,ct).call(this)},undo:()=>{this.opacity=Re,j(this,X,ct).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},pe=new WeakSet,Kn=function(){const{parentRotation:fe,parentDimensions:[Re,Oe]}=this;switch(fe){case 90:return[0,Oe,Oe,Re];case 180:return[Re,Oe,Re,Oe];case 270:return[Re,0,Oe,Re];default:return[0,0,Re,Oe]}},$=new WeakSet,Oi=function(){const{ctx:fe,color:Re,opacity:Oe,thickness:Fe,parentScale:Ve,scaleFactor:Ue}=this;fe.lineWidth=Fe*Ve/Ue,fe.lineCap="round",fe.lineJoin="round",fe.miterLimit=10,fe.strokeStyle=`${Re}${(0,u.opacityToHex)(Oe)}`},G=new WeakSet,Xn=function(fe,Re){this.canvas.addEventListener("contextmenu",C.noContextMenu),this.canvas.addEventListener("pointerleave",n(this,y)),this.canvas.addEventListener("pointermove",n(this,S)),this.canvas.addEventListener("pointerup",n(this,_)),this.canvas.removeEventListener("pointerdown",n(this,a)),this.isEditing=!0,n(this,b)||(ne(this,b,!0),j(this,Ee,_t).call(this),this.thickness||(this.thickness=me._defaultThickness),this.color||(this.color=me._defaultColor||f.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=me._defaultOpacity)),this.currentPath.push([fe,Re]),ne(this,P,!1),j(this,$,Oi).call(this),ne(this,x,()=>{j(this,m,Qn).call(this),n(this,x)&&window.requestAnimationFrame(n(this,x))}),window.requestAnimationFrame(n(this,x))},te=new WeakSet,Fi=function(fe,Re){const[Oe,Fe]=this.currentPath.at(-1);if(this.currentPath.length>1&&fe===Oe&&Re===Fe)return;const Ve=this.currentPath;let Ue=n(this,d);if(Ve.push([fe,Re]),ne(this,P,!0),Ve.length<=2){Ue.moveTo(...Ve[0]),Ue.lineTo(fe,Re);return}Ve.length===3&&(ne(this,d,Ue=new Path2D),Ue.moveTo(...Ve[0])),j(this,N,Jn).call(this,Ue,...Ve.at(-3),...Ve.at(-2),fe,Re)},Ie=new WeakSet,Yn=function(){if(this.currentPath.length===0)return;const fe=this.currentPath.at(-1);n(this,d).lineTo(...fe)},I=new WeakSet,Zn=function(fe,Re){ne(this,x,null),fe=Math.min(Math.max(fe,0),this.canvas.width),Re=Math.min(Math.max(Re,0),this.canvas.height),j(this,te,Fi).call(this,fe,Re),j(this,Ie,Yn).call(this);let Oe;if(this.currentPath.length!==1)Oe=j(this,O,es).call(this);else{const Be=[fe,Re];Oe=[[Be,Be.slice(),Be.slice(),Be]]}const Fe=n(this,d),Ve=this.currentPath;this.currentPath=[],ne(this,d,new Path2D);const Ue=()=>{this.allRawPaths.push(Ve),this.paths.push(Oe),this.bezierPath2D.push(Fe),this.rebuild()},$e=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(j(this,Z,$t).call(this),j(this,we,qt).call(this)),j(this,ae,bt).call(this))};this.addCommands({cmd:Ue,undo:$e,mustExec:!0})},m=new WeakSet,Qn=function(){if(!n(this,P))return;ne(this,P,!1);const fe=Math.ceil(this.thickness*this.parentScale),Re=this.currentPath.slice(-3),Oe=Re.map(Ue=>Ue[0]),Fe=Re.map(Ue=>Ue[1]);Math.min(...Oe)-fe,Math.max(...Oe)+fe,Math.min(...Fe)-fe,Math.max(...Fe)+fe;const{ctx:Ve}=this;Ve.save(),Ve.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Ue of this.bezierPath2D)Ve.stroke(Ue);Ve.stroke(n(this,d)),Ve.restore()},N=new WeakSet,Jn=function(fe,Re,Oe,Fe,Ve,Ue,$e){const Be=(Re+Fe)/2,Ke=(Oe+Ve)/2,he=(Fe+Ue)/2,J=(Ve+$e)/2;fe.bezierCurveTo(Be+2*(Fe-Be)/3,Ke+2*(Ve-Ke)/3,he+2*(Fe-he)/3,J+2*(Ve-J)/3,he,J)},O=new WeakSet,es=function(){const fe=this.currentPath;if(fe.length<=2)return[[fe[0],fe[0],fe.at(-1),fe.at(-1)]];const Re=[];let Oe,[Fe,Ve]=fe[0];for(Oe=1;Oe<fe.length-2;Oe++){const[B,se]=fe[Oe],[ye,Ce]=fe[Oe+1],Le=(B+ye)/2,He=(se+Ce)/2,je=[Fe+2*(B-Fe)/3,Ve+2*(se-Ve)/3],De=[Le+2*(B-Le)/3,He+2*(se-He)/3];Re.push([[Fe,Ve],je,De,[Le,He]]),[Fe,Ve]=[Le,He]}const[Ue,$e]=fe[Oe],[Be,Ke]=fe[Oe+1],he=[Fe+2*(Ue-Fe)/3,Ve+2*($e-Ve)/3],J=[Be+2*(Ue-Be)/3,Ke+2*($e-Ke)/3];return Re.push([[Fe,Ve],he,J,[Be,Ke]]),Re},X=new WeakSet,ct=function(){if(this.isEmpty()){j(this,de,Gt).call(this);return}j(this,$,Oi).call(this);const{canvas:fe,ctx:Re}=this;Re.setTransform(1,0,0,1,0,0),Re.clearRect(0,0,fe.width,fe.height),j(this,de,Gt).call(this);for(const Oe of this.bezierPath2D)Re.stroke(Oe)},T=new WeakSet,Ni=function(fe){this.canvas.removeEventListener("pointerleave",n(this,y)),this.canvas.removeEventListener("pointermove",n(this,S)),this.canvas.removeEventListener("pointerup",n(this,_)),this.canvas.addEventListener("pointerdown",n(this,a)),n(this,l)&&clearTimeout(n(this,l)),ne(this,l,setTimeout(()=>{ne(this,l,null),this.canvas.removeEventListener("contextmenu",C.noContextMenu)},10)),j(this,I,Zn).call(this,fe.offsetX,fe.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Z=new WeakSet,$t=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",f.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(fe=>{var Re;return(Re=this.canvas)==null?void 0:Re.setAttribute("aria-label",fe)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},we=new WeakSet,qt=function(){ne(this,A,new ResizeObserver(fe=>{const Re=fe[0].contentRect;Re.width&&Re.height&&this.setDimensions(Re.width,Re.height)})),n(this,A).observe(this.div)},Ee=new WeakSet,_t=function(){if(!n(this,b))return;const[fe,Re]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*fe),this.canvas.height=Math.ceil(this.height*Re),j(this,de,Gt).call(this)},Y=new WeakSet,Di=function(fe,Re){const Oe=j(this,re,Kt).call(this),Fe=(fe-Oe)/n(this,o),Ve=(Re-Oe)/n(this,s);this.scaleFactor=Math.min(Fe,Ve)},de=new WeakSet,Gt=function(){const fe=j(this,re,Kt).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+fe,this.translationY*this.scaleFactor+fe)},Te=new WeakSet,ts=function(fe){const Re=new Path2D;for(let Oe=0,Fe=fe.length;Oe<Fe;Oe++){const[Ve,Ue,$e,Be]=fe[Oe];Oe===0&&Re.moveTo(...Ve),Re.bezierCurveTo(Ue[0],Ue[1],$e[0],$e[1],Be[0],Be[1])}return Re},Ne=new WeakSet,Bi=function(fe,Re,Oe){const[Fe,Ve,Ue,$e]=Re;switch(Oe){case 0:for(let Be=0,Ke=fe.length;Be<Ke;Be+=2)fe[Be]+=Fe,fe[Be+1]=$e-fe[Be+1];break;case 90:for(let Be=0,Ke=fe.length;Be<Ke;Be+=2){const he=fe[Be];fe[Be]=fe[Be+1]+Fe,fe[Be+1]=he+Ve}break;case 180:for(let Be=0,Ke=fe.length;Be<Ke;Be+=2)fe[Be]=Ue-fe[Be],fe[Be+1]+=Ve;break;case 270:for(let Be=0,Ke=fe.length;Be<Ke;Be+=2){const he=fe[Be];fe[Be]=Ue-fe[Be+1],fe[Be+1]=$e-he}break;default:throw new Error("Invalid rotation")}return fe},We=new WeakSet,is=function(fe,Re,Oe){const[Fe,Ve,Ue,$e]=Re;switch(Oe){case 0:for(let Be=0,Ke=fe.length;Be<Ke;Be+=2)fe[Be]-=Fe,fe[Be+1]=$e-fe[Be+1];break;case 90:for(let Be=0,Ke=fe.length;Be<Ke;Be+=2){const he=fe[Be];fe[Be]=fe[Be+1]-Ve,fe[Be+1]=he-Fe}break;case 180:for(let Be=0,Ke=fe.length;Be<Ke;Be+=2)fe[Be]=Ue-fe[Be],fe[Be+1]-=Ve;break;case 270:for(let Be=0,Ke=fe.length;Be<Ke;Be+=2){const he=fe[Be];fe[Be]=$e-fe[Be+1],fe[Be+1]=Ue-he}break;default:throw new Error("Invalid rotation")}return fe},Ge=new WeakSet,ns=function(fe,Re,Oe,Fe){var Ke,he;const Ve=[],Ue=this.thickness/2,$e=fe*Re+Ue,Be=fe*Oe+Ue;for(const J of this.paths){const B=[],se=[];for(let ye=0,Ce=J.length;ye<Ce;ye++){const[Le,He,je,De]=J[ye],tt=fe*Le[0]+$e,Ye=fe*Le[1]+Be,Ze=fe*He[0]+$e,Xe=fe*He[1]+Be,et=fe*je[0]+$e,it=fe*je[1]+Be,nt=fe*De[0]+$e,rt=fe*De[1]+Be;ye===0&&(B.push(tt,Ye),se.push(tt,Ye)),B.push(Ze,Xe,et,it,nt,rt),se.push(Ze,Xe),ye===Ce-1&&se.push(nt,rt)}Ve.push({bezier:j(Ke=me,Ne,Bi).call(Ke,B,Fe,this.rotation),points:j(he=me,Ne,Bi).call(he,se,Fe,this.rotation)})}return Ve},ie=new WeakSet,Vi=function(){let fe=1/0,Re=-1/0,Oe=1/0,Fe=-1/0;for(const Ve of this.paths)for(const[Ue,$e,Be,Ke]of Ve){const he=i.Util.bezierBoundingBox(...Ue,...$e,...Be,...Ke);fe=Math.min(fe,he[0]),Oe=Math.min(Oe,he[1]),Re=Math.max(Re,he[2]),Fe=Math.max(Fe,he[3])}return[fe,Oe,Re,Fe]},re=new WeakSet,Kt=function(){return n(this,E)?Math.ceil(this.thickness*this.parentScale):0},ae=new WeakSet,bt=function(fe=!1){if(this.isEmpty())return;if(!n(this,E)){j(this,X,ct).call(this);return}const Re=j(this,ie,Vi).call(this),Oe=j(this,re,Kt).call(this);ne(this,o,Math.max(f.AnnotationEditor.MIN_SIZE,Re[2]-Re[0])),ne(this,s,Math.max(f.AnnotationEditor.MIN_SIZE,Re[3]-Re[1]));const Fe=Math.ceil(Oe+n(this,o)*this.scaleFactor),Ve=Math.ceil(Oe+n(this,s)*this.scaleFactor),[Ue,$e]=this.parentDimensions;this.width=Fe/Ue,this.height=Ve/$e,this.setAspectRatio(Fe,Ve);const Be=this.translationX,Ke=this.translationY;this.translationX=-Re[0],this.translationY=-Re[1],j(this,Ee,_t).call(this),j(this,X,ct).call(this),ne(this,v,Fe),ne(this,w,Ve),this.setDims(Fe,Ve);const he=fe?Oe/this.scaleFactor/2:0;this.translate(Be-this.translationX-he,Ke-this.translationY-he)},D(me,Te),D(me,Ne),D(me,We),Qe(me,"_defaultColor",null),Qe(me,"_defaultOpacity",1),Qe(me,"_defaultThickness",1),Qe(me,"_type","ink"),Qe(me,"_editorType",i.AnnotationEditorType.INK);let c=me;t.InkEditor=c},(e,t,r)=>{var c,s,o,S,y,_,a,l,d,E,P,b,Tt,v,Rt,x,Xt,k,Hi,z,ss,ve,rs,_e,Ui,ee,Yt,ue,as;Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var i=r(1),f=r(4),L=r(6),C=r(28);const xe=class xe extends f.AnnotationEditor{constructor(I){super({...I,name:"stampEditor"});D(this,b);D(this,v);D(this,x);D(this,k);D(this,z);D(this,ve);D(this,_e);D(this,ee);D(this,ue);D(this,c,null);D(this,s,null);D(this,o,null);D(this,S,null);D(this,y,null);D(this,_,"");D(this,a,null);D(this,l,null);D(this,d,null);D(this,E,!1);D(this,P,!1);ne(this,S,I.bitmapUrl),ne(this,y,I.bitmapFile)}static initialize(I){f.AnnotationEditor.initialize(I)}static get supportedTypes(){const I=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,i.shadow)(this,"supportedTypes",I.map(F=>`image/${F}`))}static get supportedTypesStr(){return(0,i.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(I){return this.supportedTypes.includes(I)}static paste(I,F){F.pasteEditor(i.AnnotationEditorType.STAMP,{bitmapFile:I.getAsFile()})}remove(){var I,F;n(this,s)&&(ne(this,c,null),this._uiManager.imageManager.deleteId(n(this,s)),(I=n(this,a))==null||I.remove(),ne(this,a,null),(F=n(this,l))==null||F.disconnect(),ne(this,l,null),n(this,d)&&(clearTimeout(n(this,d)),ne(this,d,null))),super.remove()}rebuild(){if(!this.parent){n(this,s)&&j(this,x,Xt).call(this);return}super.rebuild(),this.div!==null&&(n(this,s)&&j(this,x,Xt).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(n(this,o)||n(this,c)||n(this,S)||n(this,y))}get isResizable(){return!0}render(){if(this.div)return this.div;let I,F;if(this.width&&(I=this.x,F=this.y),super.render(),this.div.hidden=!0,n(this,c)?j(this,k,Hi).call(this):j(this,x,Xt).call(this),this.width){const[m,g]=this.parentDimensions;this.setAt(I*m,F*g,this.width*m,this.height*g)}return this.div}getImageForAltText(){return n(this,a)}static deserialize(I,F,m){if(I instanceof C.StampAnnotationElement)return null;const g=super.deserialize(I,F,m),{rect:N,bitmapUrl:U,bitmapId:O,isSvg:H,accessibilityData:X}=I;O&&m.imageManager.isValidId(O)?ne(g,s,O):ne(g,S,U),ne(g,E,H);const[M,T]=g.pageDimensions;return g.width=(N[2]-N[0])/M,g.height=(N[3]-N[1])/T,X&&(g.altTextData=X),g}serialize(I=!1,F=null){if(this.isEmpty())return null;const m={annotationType:i.AnnotationEditorType.STAMP,bitmapId:n(this,s),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:n(this,E),structTreeParentId:this._structTreeParentId};if(I)return m.bitmapUrl=j(this,ee,Yt).call(this,!0),m.accessibilityData=this.altTextData,m;const{decorative:g,altText:N}=this.altTextData;if(!g&&N&&(m.accessibilityData={type:"Figure",alt:N}),F===null)return m;F.stamps||(F.stamps=new Map);const U=n(this,E)?(m.rect[2]-m.rect[0])*(m.rect[3]-m.rect[1]):null;if(!F.stamps.has(n(this,s)))F.stamps.set(n(this,s),{area:U,serialized:m}),m.bitmap=j(this,ee,Yt).call(this,!1);else if(n(this,E)){const O=F.stamps.get(n(this,s));U>O.area&&(O.area=U,O.serialized.bitmap.close(),O.serialized.bitmap=j(this,ee,Yt).call(this,!1))}return m}};c=new WeakMap,s=new WeakMap,o=new WeakMap,S=new WeakMap,y=new WeakMap,_=new WeakMap,a=new WeakMap,l=new WeakMap,d=new WeakMap,E=new WeakMap,P=new WeakMap,b=new WeakSet,Tt=function(I,F=!1){if(!I){this.remove();return}ne(this,c,I.bitmap),F||(ne(this,s,I.id),ne(this,E,I.isSvg)),I.file&&ne(this,_,I.file.name),j(this,k,Hi).call(this)},v=new WeakSet,Rt=function(){ne(this,o,null),this._uiManager.enableWaiting(!1),n(this,a)&&this.div.focus()},x=new WeakSet,Xt=function(){if(n(this,s)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(n(this,s)).then(F=>j(this,b,Tt).call(this,F,!0)).finally(()=>j(this,v,Rt).call(this));return}if(n(this,S)){const F=n(this,S);ne(this,S,null),this._uiManager.enableWaiting(!0),ne(this,o,this._uiManager.imageManager.getFromUrl(F).then(m=>j(this,b,Tt).call(this,m)).finally(()=>j(this,v,Rt).call(this)));return}if(n(this,y)){const F=n(this,y);ne(this,y,null),this._uiManager.enableWaiting(!0),ne(this,o,this._uiManager.imageManager.getFromFile(F).then(m=>j(this,b,Tt).call(this,m)).finally(()=>j(this,v,Rt).call(this)));return}const I=document.createElement("input");I.type="file",I.accept=xe.supportedTypesStr,ne(this,o,new Promise(F=>{I.addEventListener("change",async()=>{if(!I.files||I.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const m=await this._uiManager.imageManager.getFromFile(I.files[0]);j(this,b,Tt).call(this,m)}F()}),I.addEventListener("cancel",()=>{this.remove(),F()})}).finally(()=>j(this,v,Rt).call(this))),I.click()},k=new WeakSet,Hi=function(){const{div:I}=this;let{width:F,height:m}=n(this,c);const[g,N]=this.pageDimensions,U=.75;if(this.width)F=this.width*g,m=this.height*N;else if(F>U*g||m>U*N){const M=Math.min(U*g/F,U*N/m);F*=M,m*=M}const[O,H]=this.parentDimensions;this.setDims(F*O/g,m*H/N),this._uiManager.enableWaiting(!1);const X=ne(this,a,document.createElement("canvas"));I.append(X),I.hidden=!1,j(this,_e,Ui).call(this,F,m),j(this,ue,as).call(this),n(this,P)||(this.parent.addUndoableEditor(this),ne(this,P,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton(),n(this,_)&&X.setAttribute("aria-label",n(this,_))},z=new WeakSet,ss=function(I,F){var U;const[m,g]=this.parentDimensions;this.width=I/m,this.height=F/g,this.setDims(I,F),(U=this._initialOptions)!=null&&U.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,n(this,d)!==null&&clearTimeout(n(this,d)),ne(this,d,setTimeout(()=>{ne(this,d,null),j(this,_e,Ui).call(this,I,F)},200))},ve=new WeakSet,rs=function(I,F){const{width:m,height:g}=n(this,c);let N=m,U=g,O=n(this,c);for(;N>2*I||U>2*F;){const H=N,X=U;N>2*I&&(N=N>=16384?Math.floor(N/2)-1:Math.ceil(N/2)),U>2*F&&(U=U>=16384?Math.floor(U/2)-1:Math.ceil(U/2));const M=new OffscreenCanvas(N,U);M.getContext("2d").drawImage(O,0,0,H,X,0,0,N,U),O=M.transferToImageBitmap()}return O},_e=new WeakSet,Ui=function(I,F){I=Math.ceil(I),F=Math.ceil(F);const m=n(this,a);if(!m||m.width===I&&m.height===F)return;m.width=I,m.height=F;const g=n(this,E)?n(this,c):j(this,ve,rs).call(this,I,F),N=m.getContext("2d");N.filter=this._uiManager.hcmFilter,N.drawImage(g,0,0,g.width,g.height,0,0,I,F)},ee=new WeakSet,Yt=function(I){if(I){if(n(this,E)){const g=this._uiManager.imageManager.getSvgUrl(n(this,s));if(g)return g}const F=document.createElement("canvas");return{width:F.width,height:F.height}=n(this,c),F.getContext("2d").drawImage(n(this,c),0,0),F.toDataURL()}if(n(this,E)){const[F,m]=this.pageDimensions,g=Math.round(this.width*F*L.PixelsPerInch.PDF_TO_CSS_UNITS),N=Math.round(this.height*m*L.PixelsPerInch.PDF_TO_CSS_UNITS),U=new OffscreenCanvas(g,N);return U.getContext("2d").drawImage(n(this,c),0,0,n(this,c).width,n(this,c).height,0,0,g,N),U.transferToImageBitmap()}return structuredClone(n(this,c))},ue=new WeakSet,as=function(){ne(this,l,new ResizeObserver(I=>{const F=I[0].contentRect;F.width&&F.height&&j(this,z,ss).call(this,F.width,F.height)})),n(this,l).observe(this.div)},Qe(xe,"_type","stamp"),Qe(xe,"_editorType",i.AnnotationEditorType.STAMP);let u=xe;t.StampEditor=u}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return L.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return C.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return u.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return i.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return c.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return s.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return i.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return i.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return f.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return i.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return f.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return r.version}});var t=__w_pdfjs_require__(1),r=__w_pdfjs_require__(2),i=__w_pdfjs_require__(6),f=__w_pdfjs_require__(25),L=__w_pdfjs_require__(26),C=__w_pdfjs_require__(5),u=__w_pdfjs_require__(28),c=__w_pdfjs_require__(14),s=__w_pdfjs_require__(31)})(),__webpack_exports__})())}(pdf)),pdf.exports}(function(e,t){(function(i,f){e.exports=f()})(globalThis,()=>(()=>{var r=[,(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.createViewerApp=A,u.getActiveApp=b,u.getViewerConfiguration=d,u.initManager=P;var s=c(2),o=c(54),S=c(55),y=_(c(56));function _(v){return v&&v.__esModule?v:{default:v}}let a,l=null;function d(v){return{appContainer:v,mainContainer:v.querySelector("[data-dom-id='viewerContainer']"),viewerContainer:v.querySelector("[data-dom-id='viewer']"),toolbar:{container:v.querySelector("[data-dom-id='toolbarViewer']"),numPages:v.querySelector("[data-dom-id='numPages']"),pageNumber:v.querySelector("[data-dom-id='pageNumber']"),scaleSelect:v.querySelector("[data-dom-id='scaleSelect']"),customScaleOption:v.querySelector("[data-dom-id='customScaleOption']"),previous:v.querySelector("[data-dom-id='previous']"),next:v.querySelector("[data-dom-id='next']"),zoomIn:v.querySelector("[data-dom-id='zoomIn']"),zoomOut:v.querySelector("[data-dom-id='zoomOut']"),viewFind:v.querySelector("[data-dom-id='viewFind']"),openFile:v.querySelector("[data-dom-id='openFile']"),print:v.querySelector("[data-dom-id='print']"),editorFreeTextButton:v.querySelector("[data-dom-id='editorFreeText']"),editorFreeTextParamsToolbar:v.querySelector("[data-dom-id='editorFreeTextParamsToolbar']"),editorInkButton:v.querySelector("[data-dom-id='editorInk']"),editorInkParamsToolbar:v.querySelector("[data-dom-id='editorInkParamsToolbar']"),editorStampButton:v.querySelector("[data-dom-id='editorStamp']"),editorStampParamsToolbar:v.querySelector("[data-dom-id='editorStampParamsToolbar']"),download:v.querySelector("[data-dom-id='download']")},secondaryToolbar:{toolbar:v.querySelector("[data-dom-id='secondaryToolbar']"),toggleButton:v.querySelector("[data-dom-id='secondaryToolbarToggle']"),presentationModeButton:v.querySelector("[data-dom-id='presentationMode']"),openFileButton:v.querySelector("[data-dom-id='secondaryOpenFile']"),printButton:v.querySelector("[data-dom-id='secondaryPrint']"),downloadButton:v.querySelector("[data-dom-id='secondaryDownload']"),viewBookmarkButton:v.querySelector("[data-dom-id='viewBookmark']"),firstPageButton:v.querySelector("[data-dom-id='firstPage']"),lastPageButton:v.querySelector("[data-dom-id='lastPage']"),pageRotateCwButton:v.querySelector("[data-dom-id='pageRotateCw']"),pageRotateCcwButton:v.querySelector("[data-dom-id='pageRotateCcw']"),cursorSelectToolButton:v.querySelector("[data-dom-id='cursorSelectTool']"),cursorHandToolButton:v.querySelector("[data-dom-id='cursorHandTool']"),scrollPageButton:v.querySelector("[data-dom-id='scrollPage']"),scrollVerticalButton:v.querySelector("[data-dom-id='scrollVertical']"),scrollHorizontalButton:v.querySelector("[data-dom-id='scrollHorizontal']"),scrollWrappedButton:v.querySelector("[data-dom-id='scrollWrapped']"),spreadNoneButton:v.querySelector("[data-dom-id='spreadNone']"),spreadOddButton:v.querySelector("[data-dom-id='spreadOdd']"),spreadEvenButton:v.querySelector("[data-dom-id='spreadEven']"),documentPropertiesButton:v.querySelector("[data-dom-id='documentProperties']")},sidebar:{outerContainer:v.querySelector("[data-dom-id='outerContainer']"),sidebarContainer:v.querySelector("[data-dom-id='sidebarContainer']"),toggleButton:v.querySelector("[data-dom-id='sidebarToggle']"),resizer:v.querySelector("[data-dom-id='sidebarResizer']"),thumbnailButton:v.querySelector("[data-dom-id='viewThumbnail']"),outlineButton:v.querySelector("[data-dom-id='viewOutline']"),attachmentsButton:v.querySelector("[data-dom-id='viewAttachments']"),layersButton:v.querySelector("[data-dom-id='viewLayers']"),thumbnailView:v.querySelector("[data-dom-id='thumbnailView']"),outlineView:v.querySelector("[data-dom-id='outlineView']"),attachmentsView:v.querySelector("[data-dom-id='attachmentsView']"),layersView:v.querySelector("[data-dom-id='layersView']"),outlineOptionsContainer:v.querySelector("[data-dom-id='outlineOptionsContainer']"),currentOutlineItemButton:v.querySelector("[data-dom-id='currentOutlineItem']")},findBar:{bar:v.querySelector("[data-dom-id='findbar']"),toggleButton:v.querySelector("[data-dom-id='viewFind']"),findField:v.querySelector("[data-dom-id='findInput']"),highlightAllCheckbox:v.querySelector("[data-dom-id='findHighlightAll']"),caseSensitiveCheckbox:v.querySelector("[data-dom-id='findMatchCase']"),matchDiacriticsCheckbox:v.querySelector("[data-dom-id='findMatchDiacritics']"),entireWordCheckbox:v.querySelector("[data-dom-id='findEntireWord']"),findMsg:v.querySelector("[data-dom-id='findMsg']"),findResultsCount:v.querySelector("[data-dom-id='findResultsCount']"),findPreviousButton:v.querySelector("[data-dom-id='findPrevious']"),findNextButton:v.querySelector("[data-dom-id='findNext']")},passwordOverlay:{dialog:v.querySelector("[data-dom-id='passwordDialog']"),label:v.querySelector("[data-dom-id='passwordText']"),input:v.querySelector("[data-dom-id='password']"),submitButton:v.querySelector("[data-dom-id='passwordSubmit']"),cancelButton:v.querySelector("[data-dom-id='passwordCancel']")},documentProperties:{dialog:v.querySelector("[data-dom-id='documentPropertiesDialog']"),closeButton:v.querySelector("[data-dom-id='documentPropertiesClose']"),fields:{fileName:v.querySelector("[data-dom-id='fileNameField']"),fileSize:v.querySelector("[data-dom-id='fileSizeField']"),title:v.querySelector("[data-dom-id='titleField']"),author:v.querySelector("[data-dom-id='authorField']"),subject:v.querySelector("[data-dom-id='subjectField']"),keywords:v.querySelector("[data-dom-id='keywordsField']"),creationDate:v.querySelector("[data-dom-id='creationDateField']"),modificationDate:v.querySelector("[data-dom-id='modificationDateField']"),creator:v.querySelector("[data-dom-id='creatorField']"),producer:v.querySelector("[data-dom-id='producerField']"),version:v.querySelector("[data-dom-id='versionField']"),pageCount:v.querySelector("[data-dom-id='pageCountField']"),pageSize:v.querySelector("[data-dom-id='pageSizeField']"),linearized:v.querySelector("[data-dom-id='linearizedField']")}},altTextDialog:{dialog:v.querySelector("[data-dom-id='altTextDialog']"),optionDescription:v.querySelector("[data-dom-id='descriptionButton']"),optionDecorative:v.querySelector("[data-dom-id='decorativeButton']"),textarea:v.querySelector("[data-dom-id='descriptionTextarea']"),cancelButton:v.querySelector("[data-dom-id='altTextCancel']"),saveButton:v.querySelector("[data-dom-id='altTextSave']")},annotationEditorParams:{editorFreeTextFontSize:v.querySelector("[data-dom-id='editorFreeTextFontSize']"),editorFreeTextColor:v.querySelector("[data-dom-id='editorFreeTextColor']"),editorInkColor:v.querySelector("[data-dom-id='editorInkColor']"),editorInkThickness:v.querySelector("[data-dom-id='editorInkThickness']"),editorInkOpacity:v.querySelector("[data-dom-id='editorInkOpacity']"),editorStampAddImage:v.querySelector("[data-dom-id='editorStampAddImage']")},printContainer:v.querySelector("[data-dom-id='printContainer']"),openFileInput:v.querySelector("[data-dom-id='fileInput']"),debuggerScriptPath:"../pdf.js/web/debugger.js"}}function E(v){const{parent:w=null,resourcePath:x,src:R,disableCORSCheck:k=!1,disableAutoSetTitle:V=!1,appOptions:z={}}=v,K=`${x}/build/pdf.worker.js`,ve=new o.AppOptions;Object.keys(z).forEach(function($){ve.set($,z[$])}),ve.set("workerSrc",K),ve.set("sandboxBundleSrc",`${x}/build/pdf.sandbox.js`),ve.set("defaultUrl",R),ve.set("disableCORSCheck",k),ve.set("disableAutoSetTitle",V),ve.set("disablePreferences",!0);const pe=`${x}/web/locale/locale.properties`;(0,S.injectLocaleResource)(pe);const _e=new s.PDFViewerApplication(ve);if(a=_e,w){const $=(0,y.default)();w.appendChild($);const ee=d(w);_e.run(ee)}return _e}function P(v){return l||(l={createApp(w){const x=E(w);return this._register(x),x},_register(w){let x=null;const R=function(k){x||(x=window.requestAnimationFrame(()=>{x=null,l.activateApp(k)}))};w.initializedPromise.then(()=>{v.forEach(k=>{w.appConfig.sidebar.outerContainer.addEventListener(k,()=>{R(w)})})})},activateApp(w){a!==w&&(a&&window.removeEventListener("keydown",a.helper.webViewerKeyDown),a=w,window.addEventListener("keydown",a.helper.webViewerKeyDown))}},l)}function b(){return a}function A(v){return P(["mousemove","click","mousedown","touchstart"]).createApp(v)}},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFViewerApplication=void 0;var s=c(3),o=c(8),S=c(45);class y extends o.ViewerApplication{constructor(a){super(),this.appOptions=a,this.helper=(0,s.createHelper)(this),this.bindServices()}bindServices(){(0,S.bindExternalService)(this),(0,S.bindPrintServiceFactory)(o.PDFPrintServiceFactory)}run(a){const{validateFileURL:l}=this.helper;return super.run(a,l)}bindEvents(){const a=this.appOptions,{eventBus:l,_boundEvents:d}=this;d.beforePrint=this.beforePrint.bind(this),d.afterPrint=this.afterPrint.bind(this);const{webViewerResize:E,webViewerHashchange:P,webViewerPageRendered:b,webViewerUpdateViewarea:A,webViewerPageChanging:v,webViewerScaleChanging:w,webViewerRotationChanging:x,webViewerSidebarViewChanged:R,webViewerPageMode:k,webViewerNamedAction:V,webViewerPresentationModeChanged:z,webViewerPresentationMode:K,webViewerPrint:ve,webViewerDownload:pe,webViewerSave:_e,webViewerFirstPage:$,webViewerLastPage:ee,webViewerNextPage:G,webViewerPreviousPage:ue,webViewerZoomIn:te,webViewerZoomOut:xe,webViewerZoomReset:Ie,webViewerPageNumberChanged:le,webViewerScaleChanged:I,webViewerRotateCw:F,webViewerRotateCcw:m,webViewerOptionalContentConfig:g,webViewerSwitchScrollMode:N,webViewerScrollModeChanged:U,webViewerSwitchSpreadMode:O,webViewerSpreadModeChanged:H,webViewerDocumentProperties:X,webViewerFindFromUrlHash:M,webViewerUpdateFindMatchesCount:T,webViewerUpdateFindControlState:W,reportPageStatsPDFBug:Z,webViewerFileInputChange:q,webViewerOpenFile:we,webViewerSwitchAnnotationEditorMode:Ae,webViewerSwitchAnnotationEditorParams:Ee,webViewerAnnotationEditorStatesChanged:oe,webViewerPageRender:Y,webViewerOpenInExternalApp:Q}=this.helper;l._on("resize",E),l._on("hashchange",P),l._on("beforeprint",d.beforePrint),l._on("afterprint",d.afterPrint),l._on("pagerender",Y),l._on("pagerendered",b),l._on("updateviewarea",A),l._on("pagechanging",v),l._on("scalechanging",w),l._on("rotationchanging",x),l._on("sidebarviewchanged",R),l._on("pagemode",k),l._on("namedaction",V),l._on("presentationmodechanged",z),l._on("presentationmode",K),l._on("switchannotationeditormode",Ae),l._on("switchannotationeditorparams",Ee),l._on("print",ve),l._on("download",pe),l._on("openinexternalapp",Q),l._on("firstpage",$),l._on("lastpage",ee),l._on("nextpage",G),l._on("previouspage",ue),l._on("zoomin",te),l._on("zoomout",xe),l._on("zoomreset",Ie),l._on("pagenumberchanged",le),l._on("scalechanged",I),l._on("rotatecw",F),l._on("rotateccw",m),l._on("optionalcontentconfig",g),l._on("switchscrollmode",N),l._on("scrollmodechanged",U),l._on("switchspreadmode",O),l._on("spreadmodechanged",H),l._on("documentproperties",X),l._on("findfromurlhash",M),l._on("updatefindmatchescount",T),l._on("updatefindcontrolstate",W),a.get("pdfBug")&&(d.reportPageStatsPDFBug=Z,l._on("pagerendered",d.reportPageStatsPDFBug),l._on("pagechanging",d.reportPageStatsPDFBug)),l._on("fileinputchange",q),l._on("openfile",we)}setTitle(a=this._title){if(this._title=a,this.isViewerEmbedded||this.appOptions.get("disableAutoSetTitle"))return;const l=this._hasAnnotationEditors&&!this.pdfRenderingQueue.printing;document.title=`${l?"* ":""}${a}`}bindWindowEvents(){const{eventBus:a,_boundEvents:l}=this,{webViewerVisibilityChange:d,webViewerWheel:E,webViewerTouchStart:P,webViewerTouchMove:b,webViewerTouchEnd:A,webViewerClick:v,webViewerKeyDown:w,webViewerKeyUp:x,webViewerResolutionChange:R}=this.helper;function k(V=null){V&&R(V);const z=window.matchMedia(`(resolution: ${window.devicePixelRatio||1}dppx)`);z.addEventListener("change",k,{once:!0}),l.removeWindowResolutionChange||(l.removeWindowResolutionChange=function(){z.removeEventListener("change",k),l.removeWindowResolutionChange=null})}k(),l.windowResize=()=>{a.dispatch("resize",{source:window})},l.windowHashChange=()=>{a.dispatch("hashchange",{source:window,hash:document.location.hash.substring(1)})},l.windowBeforePrint=()=>{a.dispatch("beforeprint",{source:window})},l.windowAfterPrint=()=>{a.dispatch("afterprint",{source:window})},l.windowUpdateFromSandbox=V=>{a.dispatch("updatefromsandbox",{source:window,detail:V.detail})},window.addEventListener("visibilitychange",d),window.addEventListener("wheel",E,{passive:!1}),window.addEventListener("touchstart",P,{passive:!1}),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",A,{passive:!1}),window.addEventListener("click",v),window.addEventListener("keydown",w),window.addEventListener("keyup",x),window.addEventListener("resize",l.windowResize),window.addEventListener("hashchange",l.windowHashChange),window.addEventListener("beforeprint",l.windowBeforePrint),window.addEventListener("afterprint",l.windowAfterPrint),window.addEventListener("updatefromsandbox",l.windowUpdateFromSandbox)}unbindEvents(){const{eventBus:a,_boundEvents:l}=this,{webViewerResize:d,webViewerHashchange:E,webViewerPageRendered:P,webViewerUpdateViewarea:b,webViewerPageChanging:A,webViewerScaleChanging:v,webViewerRotationChanging:w,webViewerSidebarViewChanged:x,webViewerPageMode:R,webViewerNamedAction:k,webViewerPresentationModeChanged:V,webViewerPresentationMode:z,webViewerPrint:K,webViewerDownload:ve,webViewerSave:pe,webViewerFirstPage:_e,webViewerLastPage:$,webViewerNextPage:ee,webViewerPreviousPage:G,webViewerZoomIn:ue,webViewerZoomOut:te,webViewerZoomReset:xe,webViewerPageNumberChanged:Ie,webViewerScaleChanged:le,webViewerRotateCw:I,webViewerRotateCcw:F,webViewerOptionalContentConfig:m,webViewerSwitchScrollMode:g,webViewerScrollModeChanged:N,webViewerSwitchSpreadMode:U,webViewerSpreadModeChanged:O,webViewerDocumentProperties:H,webViewerFindFromUrlHash:X,webViewerUpdateFindMatchesCount:M,webViewerUpdateFindControlState:T,reportPageStatsPDFBug:W,webViewerFileInputChange:Z,webViewerOpenFile:q,webViewerPageRender:we,webViewerOpenInExternalApp:Ae}=this.helper;a._off("resize",d),a._off("hashchange",E),a._off("beforeprint",l.beforePrint),a._off("afterprint",l.afterPrint),a._on("pagerender",we),a._off("pagerendered",P),a._off("updateviewarea",b),a._off("pagechanging",A),a._off("scalechanging",v),a._off("rotationchanging",w),a._off("sidebarviewchanged",x),a._off("pagemode",R),a._off("namedaction",k),a._off("presentationmodechanged",V),a._off("presentationmode",z),a._off("print",K),a._off("download",ve),a._off("openinexternalapp",Ae),a._off("firstpage",_e),a._off("lastpage",$),a._off("nextpage",ee),a._off("previouspage",G),a._off("zoomin",ue),a._off("zoomout",te),a._off("zoomreset",xe),a._off("pagenumberchanged",Ie),a._off("scalechanged",le),a._off("rotatecw",I),a._off("rotateccw",F),a._off("optionalcontentconfig",m),a._off("switchscrollmode",g),a._off("scrollmodechanged",N),a._off("switchspreadmode",U),a._off("spreadmodechanged",O),a._off("documentproperties",H),a._off("findfromurlhash",X),a._off("updatefindmatchescount",M),a._off("updatefindcontrolstate",T),l.reportPageStatsPDFBug&&(a._off("pagerendered",l.reportPageStatsPDFBug),a._off("pagechanging",l.reportPageStatsPDFBug),l.reportPageStatsPDFBug=null),a._off("fileinputchange",Z),a._off("openfile",q),l.beforePrint=null,l.afterPrint=null}unbindWindowEvents(){var x;const{_boundEvents:a}=this,{webViewerVisibilityChange:l,webViewerWheel:d,webViewerTouchStart:E,webViewerTouchMove:P,webViewerTouchEnd:b,webViewerClick:A,webViewerKeyDown:v,webViewerKeyUp:w}=this.helper;window.removeEventListener("visibilitychange",l),window.removeEventListener("wheel",d,{passive:!1}),window.removeEventListener("touchstart",E,{passive:!1}),window.removeEventListener("touchmove",P,{passive:!1}),window.removeEventListener("touchend",b,{passive:!1}),window.removeEventListener("click",A),window.removeEventListener("keydown",v),window.removeEventListener("keyup",w),window.removeEventListener("resize",a.windowResize),window.removeEventListener("hashchange",a.windowHashChange),window.removeEventListener("beforeprint",a.windowBeforePrint),window.removeEventListener("afterprint",a.windowAfterPrint),window.removeEventListener("updatefromsandbox",a.windowUpdateFromSandbox),(x=a.removeWindowResolutionChange)==null||x.call(a),a.windowResize=null,a.windowHashChange=null,a.windowBeforePrint=null,a.windowAfterPrint=null,a.windowUpdateFromSandbox=null}_initializeAnnotationStorageCallbacks(a){if(a!==this.pdfDocument)return;const{annotationStorage:l}=a;l.onSetModified=()=>{window.addEventListener("beforeunload",this.helper.beforeUnload),this._annotationStorageModified=!0},l.onResetModified=()=>{window.removeEventListener("beforeunload",this.helper.beforeUnload),delete this._annotationStorageModified},l.onAnnotationEditor=d=>{this._hasAnnotationEditors=!!d,this.setTitle(),d&&this.externalServices.reportTelemetry({type:"editing",data:{type:d}})}}}u.PDFViewerApplication=y},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.createHelper=_;var s=c(4),o=c(5),S=c(6);const y=1e3;function _(a){const{appOptions:l}=a,d=["null","http://mozilla.github.io","https://mozilla.github.io"];var E=function(ae){if(ae)try{const Se=new URL(window.location.href).origin||"null";if(d.includes(Se))return;if(new URL(ae,window.location.href).origin!==Se)throw new Error("file origin does not match viewer's")}catch(Se){throw a.l10n.get("loading_error").then(me=>{a._documentError(me,{message:Se==null?void 0:Se.message})}),Se}};async function P(){var ae;(ae=o.GlobalWorkerOptions).workerSrc||(ae.workerSrc=l.get("workerSrc")),await(0,o.loadScript)(o.PDFWorker.workerSrc)}async function b(ae){const{debuggerScriptPath:Se}=ae.appConfig,{PDFBug:me}=await __non_webpack_import__(Se);ae._PDFBug=me}function A({pageNumber:ae}){var me,Pe;if(!((me=globalThis.Stats)!=null&&me.enabled))return;const Se=a.pdfViewer.getPageView(ae-1);globalThis.Stats.add(ae,(Pe=Se==null?void 0:Se.pdfPage)==null?void 0:Pe.stats)}function v({pageNumber:ae}){var Se;ae===a.page&&((Se=a.toolbar)==null||Se.updateLoadingIndicatorState(!0))}function w({pageNumber:ae,error:Se}){var me,Pe,Me;if(ae===a.page&&((me=a.toolbar)==null||me.updateLoadingIndicatorState(!1)),((Pe=a.pdfSidebar)==null?void 0:Pe.visibleView)===s.SidebarView.THUMBS){const fe=a.pdfViewer.getPageView(ae-1),Re=(Me=a.pdfThumbnailViewer)==null?void 0:Me.getThumbnail(ae-1);fe&&(Re==null||Re.setImage(fe))}Se&&a.l10n.get("rendering_error").then(fe=>{a._otherError(fe,Se)})}function x({mode:ae}){var me;let Se;switch(ae){case"thumbs":Se=s.SidebarView.THUMBS;break;case"bookmarks":case"outline":Se=s.SidebarView.OUTLINE;break;case"attachments":Se=s.SidebarView.ATTACHMENTS;break;case"layers":Se=s.SidebarView.LAYERS;break;case"none":Se=s.SidebarView.NONE;break;default:console.error('Invalid "pagemode" hash parameter: '+ae);return}(me=a.pdfSidebar)==null||me.switchView(Se,!0)}function R(ae){var Se;switch(ae.action){case"GoToPage":(Se=a.appConfig.toolbar)==null||Se.pageNumber.select();break;case"Find":a.supportsIntegratedFind||a==null||a.findBar.toggle();break;case"Print":a.triggerPrinting();break;case"SaveAs":a.downloadOrSave();break}}function k(ae){a.pdfViewer.presentationModeState=ae.state}function V({view:ae}){var Se;a.pdfRenderingQueue.isThumbnailViewEnabled=ae===s.SidebarView.THUMBS,a.isInitialViewSet&&((Se=a.store)==null||Se.set("sidebarView",ae).catch(()=>{}))}function z({location:ae}){var Se;if(a.isInitialViewSet&&((Se=a.store)==null||Se.setMultiple({page:ae.pageNumber,zoom:ae.scale,scrollLeft:ae.left,scrollTop:ae.top,rotation:ae.rotation}).catch(()=>{})),a.appConfig.secondaryToolbar){const me=a.pdfLinkService.getAnchorUrl(ae.pdfOpenParams);a.appConfig.secondaryToolbar.viewBookmarkButton.href=me}}function K(ae){var Se;a.isInitialViewSet&&!a.pdfViewer.isInPresentationMode&&((Se=a.store)==null||Se.set("scrollMode",ae.mode).catch(()=>{}))}function ve(ae){var Se;a.isInitialViewSet&&!a.pdfViewer.isInPresentationMode&&((Se=a.store)==null||Se.set("spreadMode",ae.mode).catch(()=>{}))}function pe(){const{pdfDocument:ae,pdfViewer:Se,pdfRenderingQueue:me}=a;if(me.printing&&window.matchMedia("print").matches||!ae)return;const Pe=Se.currentScaleValue;(Pe==="auto"||Pe==="page-fit"||Pe==="page-width")&&(Se.currentScaleValue=Pe),Se.update()}function _e(ae){var me;const Se=ae.hash;Se&&(a.isInitialViewSet?(me=a.pdfHistory)!=null&&me.popStateInProgress||a.pdfLinkService.setHash(Se):a.initialBookmark=Se)}var $=function(ae){var me;if((me=a.pdfViewer)!=null&&me.isInPresentationMode)return;const Se=ae.fileInput.files[0];a.open({url:URL.createObjectURL(Se),originalUrl:Se.name})};function ee(){a.requestPresentationMode()}function G(ae){a.pdfViewer.annotationEditorMode=ae}function ue(ae){a.pdfViewer.annotationEditorParams=ae}function te(){a.triggerPrinting()}function xe(){a.downloadOrSave()}function Ie(){a.openInExternalApp()}function le(){a.page=1}function I(){a.page=a.pagesCount}function F(){a.pdfViewer.nextPage()}function m(){a.pdfViewer.previousPage()}function g(){a.zoomIn()}function N(){a.zoomOut()}function U(){a.zoomReset()}function O(ae){var me;const Se=a.pdfViewer;ae.value!==""&&a.pdfLinkService.goToPage(ae.value),ae.value!==Se.currentPageNumber.toString()&&ae.value!==Se.currentPageLabel&&((me=a.toolbar)==null||me.setPageNumber(Se.currentPageNumber,Se.currentPageLabel))}function H(ae){a.pdfViewer.currentScaleValue=ae.value}function X(){a.rotatePages(90)}function M(){a.rotatePages(-90)}function T(ae){a.pdfViewer.optionalContentConfigPromise=ae.promise}function W(ae){a.pdfViewer.scrollMode=ae.mode}function Z(ae){a.pdfViewer.spreadMode=ae.mode}function q(){var ae;(ae=a.pdfDocumentProperties)==null||ae.open()}function we(ae){a.eventBus.dispatch("find",{source:ae.source,type:"",query:ae.query,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!1,matchDiacritics:!0})}function Ae({matchesCount:ae}){a.supportsIntegratedFind?a.externalServices.updateFindMatchesCount(ae):a.findBar.updateResultsCount(ae)}function Ee({state:ae,previous:Se,matchesCount:me,rawQuery:Pe}){var Me;a.supportsIntegratedFind?a.externalServices.updateFindControlState({result:ae,findPrevious:Se,matchesCount:me,rawQuery:Pe}):(Me=a.findBar)==null||Me.updateUIState(ae,Se,me)}function oe(ae){var Se;(Se=a.toolbar)==null||Se.setPageScale(ae.presetValue,ae.scale),a.pdfViewer.update()}function Y(ae){a.pdfThumbnailViewer&&(a.pdfThumbnailViewer.pagesRotation=ae.pagesRotation),a.forceRendering(),a.pdfViewer.currentPageNumber=ae.pageNumber}function Q({pageNumber:ae,pageLabel:Se}){var Pe,Me,fe,Re,Oe;(Pe=a.toolbar)==null||Pe.setPageNumber(ae,Se),(Me=a.secondaryToolbar)==null||Me.setPageNumber(ae),((fe=a.pdfSidebar)==null?void 0:fe.visibleView)===s.SidebarView.THUMBS&&((Re=a.pdfThumbnailViewer)==null||Re.scrollThumbnailIntoView(ae));const me=a.pdfViewer.getPageView(ae-1);(Oe=a.toolbar)==null||Oe.updateLoadingIndicatorState((me==null?void 0:me.renderingState)===s.RenderingStates.RUNNING)}function de(ae){a.pdfViewer.refresh()}function be(ae){document.visibilityState==="visible"&&ke()}let Te=null;function ke(){Te&&clearTimeout(Te),Te=setTimeout(function(){Te=null},y)}function Ne(ae){const{pdfViewer:Se,supportedMouseWheelZoomModifierKeys:me,supportsPinchToZoom:Pe}=a;if(Se.isInPresentationMode)return;const Me=ae.deltaMode;let fe=Math.exp(-ae.deltaY/100);const Re=!1,Oe=ae.ctrlKey&&!a._isCtrlKeyDown&&Me===WheelEvent.DOM_DELTA_PIXEL&&ae.deltaX===0&&(Math.abs(fe-1)<.05||Re)&&ae.deltaZ===0;if(Oe||ae.ctrlKey&&me.ctrlKey||ae.metaKey&&me.metaKey){if(ae.preventDefault(),Te||document.visibilityState==="hidden"||a.overlayManager.active)return;const Fe=Se.currentScale;if(Oe&&Pe)if(fe=a._accumulateFactor(Fe,fe,"_wheelUnusedFactor"),fe<1)a.zoomOut(null,fe);else if(fe>1)a.zoomIn(null,fe);else return;else{const Ve=(0,s.normalizeWheelEventDirection)(ae);let Ue=0;if(Me===WheelEvent.DOM_DELTA_LINE||Me===WheelEvent.DOM_DELTA_PAGE?Math.abs(Ve)>=1?Ue=Math.sign(Ve):Ue=a._accumulateTicks(Ve,"_wheelUnusedTicks"):Ue=a._accumulateTicks(Ve/30,"_wheelUnusedTicks"),Ue<0)a.zoomOut(-Ue);else if(Ue>0)a.zoomIn(Ue);else return}a._centerAtPos(Fe,ae.clientX,ae.clientY)}else ke()}function ze(ae){if(a.pdfViewer.isInPresentationMode||ae.touches.length<2)return;if(ae.preventDefault(),ae.touches.length!==2||a.overlayManager.active){a._touchInfo=null;return}let[Se,me]=ae.touches;Se.identifier>me.identifier&&([Se,me]=[me,Se]),a._touchInfo={touch0X:Se.pageX,touch0Y:Se.pageY,touch1X:me.pageX,touch1Y:me.pageY}}function We(ae){if(!a._touchInfo||ae.touches.length!==2)return;const{pdfViewer:Se,_touchInfo:me,supportsPinchToZoom:Pe}=a;let[Me,fe]=ae.touches;Me.identifier>fe.identifier&&([Me,fe]=[fe,Me]);const{pageX:Re,pageY:Oe}=Me,{pageX:Fe,pageY:Ve}=fe,{touch0X:Ue,touch0Y:$e,touch1X:Be,touch1Y:Ke}=me;if(Math.abs(Ue-Re)<=1&&Math.abs($e-Oe)<=1&&Math.abs(Be-Fe)<=1&&Math.abs(Ke-Ve)<=1)return;if(me.touch0X=Re,me.touch0Y=Oe,me.touch1X=Fe,me.touch1Y=Ve,Ue===Re&&$e===Oe){const se=Be-Re,ye=Ke-Oe,Ce=Fe-Re,Le=Ve-Oe,He=se*Le-ye*Ce;if(Math.abs(He)>.02*Math.hypot(se,ye)*Math.hypot(Ce,Le))return}else if(Be===Fe&&Ke===Ve){const se=Ue-Fe,ye=$e-Ve,Ce=Re-Fe,Le=Oe-Ve,He=se*Le-ye*Ce;if(Math.abs(He)>.02*Math.hypot(se,ye)*Math.hypot(Ce,Le))return}else{const se=Re-Ue,ye=Fe-Be,Ce=Oe-$e,Le=Ve-Ke;if(se*ye+Ce*Le>=0)return}ae.preventDefault();const he=Math.hypot(Re-Fe,Oe-Ve)||1,J=Math.hypot(Ue-Be,$e-Ke)||1,B=Se.currentScale;if(Pe){const se=a._accumulateFactor(B,he/J,"_touchUnusedFactor");if(se<1)a.zoomOut(null,se);else if(se>1)a.zoomIn(null,se);else return}else{const ye=a._accumulateTicks((he-J)/30,"_touchUnusedTicks");if(ye<0)a.zoomOut(-ye);else if(ye>0)a.zoomIn(ye);else return}a._centerAtPos(B,(Re+Fe)/2,(Oe+Ve)/2)}function qe(ae){a._touchInfo&&(ae.preventDefault(),a._touchInfo=null,a._touchUnusedTicks=0,a._touchUnusedFactor=1)}function Ge(ae){var me,Pe,Me;if(!((me=a.secondaryToolbar)!=null&&me.isOpen))return;const Se=a.appConfig;(a.pdfViewer.containsElement(ae.target)||(Pe=Se.toolbar)!=null&&Pe.container.contains(ae.target)&&ae.target!==((Me=Se.secondaryToolbar)==null?void 0:Me.toggleButton))&&a.secondaryToolbar.close()}function Je(ae){ae.key==="Control"&&(a._isCtrlKeyDown=!1)}function ie(ae){var Ve,Ue,$e,Be,Ke,he;if(a._isCtrlKeyDown=ae.key==="Control",a.overlayManager.active)return;const{eventBus:Se,pdfViewer:me}=a,Pe=me.isInPresentationMode;let Me=!1,fe=!1;const Re=(ae.ctrlKey?1:0)|(ae.altKey?2:0)|(ae.shiftKey?4:0)|(ae.metaKey?8:0);if(Re===1||Re===8||Re===5||Re===12)switch(ae.keyCode){case 70:!a.supportsIntegratedFind&&!ae.shiftKey&&((Ve=a.findBar)==null||Ve.open(),Me=!0);break;case 71:if(!a.supportsIntegratedFind){const{state:J}=a.findController;if(J){const B={source:window,type:"again",findPrevious:Re===5||Re===12};Se.dispatch("find",{...J,...B})}Me=!0}break;case 61:case 107:case 187:case 171:a.zoomIn(),Me=!0;break;case 173:case 109:case 189:a.zoomOut(),Me=!0;break;case 48:case 96:Pe||(setTimeout(function(){a.zoomReset()}),Me=!1);break;case 38:(Pe||a.page>1)&&(a.page=1,Me=!0,fe=!0);break;case 40:(Pe||a.page<a.pagesCount)&&(a.page=a.pagesCount,Me=!0,fe=!0);break}if(Re===1||Re===8)switch(ae.keyCode){case 83:Se.dispatch("download",{source:window}),Me=!0;break;case 79:Se.dispatch("openfile",{source:window}),Me=!0;break}if(Re===3||Re===10)switch(ae.keyCode){case 80:a.requestPresentationMode(),Me=!0,a.externalServices.reportTelemetry({type:"buttons",data:{id:"presentationModeKeyboard"}});break;case 71:a.appConfig.toolbar&&(a.appConfig.toolbar.pageNumber.select(),Me=!0);break}if(Me){fe&&!Pe&&me.focus(),ae.preventDefault();return}const Oe=(0,s.getActiveOrFocusedElement)(),Fe=Oe==null?void 0:Oe.tagName.toUpperCase();if(!((Fe==="INPUT"||Fe==="TEXTAREA"||Fe==="SELECT"||Oe!=null&&Oe.isContentEditable)&&ae.keyCode!==27)){if(Re===0){let J=0,B=!1;switch(ae.keyCode){case 38:case 33:me.isVerticalScrollbarEnabled&&(B=!0),J=-1;break;case 8:Pe||(B=!0),J=-1;break;case 37:me.isHorizontalScrollbarEnabled&&(B=!0);case 75:case 80:J=-1;break;case 27:(Ue=a.secondaryToolbar)!=null&&Ue.isOpen&&(a.secondaryToolbar.close(),Me=!0),!a.supportsIntegratedFind&&(($e=a.findBar)!=null&&$e.opened)&&(a.findBar.close(),Me=!0);break;case 40:case 34:me.isVerticalScrollbarEnabled&&(B=!0),J=1;break;case 13:case 32:Pe||(B=!0),J=1;break;case 39:me.isHorizontalScrollbarEnabled&&(B=!0);case 74:case 78:J=1;break;case 36:(Pe||a.page>1)&&(a.page=1,Me=!0,fe=!0);break;case 35:(Pe||a.page<a.pagesCount)&&(a.page=a.pagesCount,Me=!0,fe=!0);break;case 83:(Be=a.pdfCursorTools)==null||Be.switchTool(S.CursorTool.SELECT);break;case 72:(Ke=a.pdfCursorTools)==null||Ke.switchTool(S.CursorTool.HAND);break;case 82:a.rotatePages(90);break;case 115:(he=a.pdfSidebar)==null||he.toggle();break}J!==0&&(!B||me.currentScaleValue==="page-fit")&&(J>0?me.nextPage():me.previousPage(),Me=!0)}if(Re===4)switch(ae.keyCode){case 13:case 32:if(!Pe&&me.currentScaleValue!=="page-fit")break;me.previousPage(),Me=!0;break;case 82:a.rotatePages(-90);break}!Me&&!Pe&&(ae.keyCode>=33&&ae.keyCode<=40||ae.keyCode===32&&Fe!=="BUTTON")&&(fe=!0),fe&&!me.containsElement(Oe)&&me.focus(),Me&&ae.preventDefault()}}function ce(ae){return ae.preventDefault(),ae.returnValue="",!1}function re(ae){a.externalServices.updateEditorStates(ae)}function ge({details:ae}){a.externalServices.reportTelemetry(ae)}return{validateFileURL:E,webViewerFileInputChange:$,loadFakeWorker:P,loadPDFBug:b,reportPageStatsPDFBug:A,webViewerPageRender:v,webViewerPageRendered:w,webViewerPageMode:x,webViewerNamedAction:R,webViewerPresentationModeChanged:k,webViewerSidebarViewChanged:V,webViewerUpdateViewarea:z,webViewerScrollModeChanged:K,webViewerSpreadModeChanged:ve,webViewerResize:pe,webViewerHashchange:_e,webViewerPresentationMode:ee,webViewerSwitchAnnotationEditorMode:G,webViewerSwitchAnnotationEditorParams:ue,webViewerPrint:te,webViewerDownload:xe,webViewerOpenInExternalApp:Ie,webViewerFirstPage:le,webViewerLastPage:I,webViewerNextPage:F,webViewerPreviousPage:m,webViewerZoomIn:g,webViewerZoomOut:N,webViewerZoomReset:U,webViewerPageNumberChanged:O,webViewerScaleChanged:H,webViewerRotateCw:X,webViewerRotateCcw:M,webViewerOptionalContentConfig:T,webViewerSwitchScrollMode:W,webViewerSwitchSpreadMode:Z,webViewerDocumentProperties:q,webViewerFindFromUrlHash:we,webViewerUpdateFindMatchesCount:Ae,webViewerUpdateFindControlState:Ee,webViewerScaleChanging:oe,webViewerRotationChanging:Y,webViewerPageChanging:Q,webViewerResolutionChange:de,webViewerVisibilityChange:be,setZoomDisabledTimeout:ke,webViewerWheel:Ne,webViewerTouchStart:ze,webViewerTouchMove:We,webViewerTouchEnd:qe,webViewerClick:Ge,webViewerKeyUp:Je,webViewerKeyDown:ie,beforeUnload:ce,webViewerAnnotationEditorStatesChanged:re,webViewerReportTelemetry:ge}}},(C,u)=>{var Z,q,we,Ae,Ee;Object.defineProperty(u,"__esModule",{value:!0}),u.animationStarted=u.VERTICAL_PADDING=u.UNKNOWN_SCALE=u.TextLayerMode=u.SpreadMode=u.SidebarView=u.ScrollMode=u.SCROLLBAR_PADDING=u.RenderingStates=u.ProgressBar=u.PresentationModeState=u.OutputScale=u.MIN_SCALE=u.MAX_SCALE=u.MAX_AUTO_SCALE=u.DEFAULT_SCALE_VALUE=u.DEFAULT_SCALE_DELTA=u.DEFAULT_SCALE=u.CursorTool=u.AutoPrintRegExp=void 0,u.apiPageLayoutToViewerModes=X,u.apiPageModeToSidebarView=M,u.approximateFraction=$,u.backtrackBeforeAllVisibleElements=ue,u.binarySearchFirstItem=_e,u.docStyle=void 0,u.getActiveOrFocusedElement=H,u.getPageSizeInches=G,u.getVisibleElements=te,u.isPortraitOrientation=m,u.isValidRotation=le,u.isValidScrollMode=I,u.isValidSpreadMode=F,u.normalizeWheelEventDelta=Ie,u.normalizeWheelEventDirection=xe,u.parseQueryString=K,u.removeNullCharacters=pe,u.roundToDivide=ee,u.scrollIntoView=V,u.toggleCheckedBtn=T,u.toggleExpandedBtn=W,u.watchScroll=z;const c="auto";u.DEFAULT_SCALE_VALUE=c;const s=1;u.DEFAULT_SCALE=s;const o=1.1;u.DEFAULT_SCALE_DELTA=o;const S=.1;u.MIN_SCALE=S;const y=10;u.MAX_SCALE=y;const _=0;u.UNKNOWN_SCALE=_;const a=1.25;u.MAX_AUTO_SCALE=a;const l=40;u.SCROLLBAR_PADDING=l;const d=5;u.VERTICAL_PADDING=d;const E={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};u.RenderingStates=E;const P={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};u.PresentationModeState=P;const b={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};u.SidebarView=b;const A={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};u.TextLayerMode=A;const v={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};u.ScrollMode=v;const w={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};u.SpreadMode=w;const x={SELECT:0,HAND:1,ZOOM:2};u.CursorTool=x;const R=/\bprint\s*\(/;u.AutoPrintRegExp=R;class k{constructor(){const Y=window.devicePixelRatio||1;this.sx=Y,this.sy=Y}get scaled(){return this.sx!==1||this.sy!==1}}u.OutputScale=k;function V(oe,Y,Q=!1){let de=oe.offsetParent;if(!de){console.error("offsetParent is not set -- cannot scroll");return}let be=oe.offsetTop+oe.clientTop,Te=oe.offsetLeft+oe.clientLeft;for(;de.clientHeight===de.scrollHeight&&de.clientWidth===de.scrollWidth||Q&&(de.classList.contains("markedContent")||getComputedStyle(de).overflow==="hidden");)if(be+=de.offsetTop,Te+=de.offsetLeft,de=de.offsetParent,!de)return;Y&&(Y.top!==void 0&&(be+=Y.top),Y.left!==void 0&&(Te+=Y.left,de.scrollLeft=Te)),de.scrollTop=be}function z(oe,Y){const Q=function(Te){be||(be=window.requestAnimationFrame(function(){be=null;const Ne=oe.scrollLeft,ze=de.lastX;Ne!==ze&&(de.right=Ne>ze),de.lastX=Ne;const We=oe.scrollTop,qe=de.lastY;We!==qe&&(de.down=We>qe),de.lastY=We,Y(de)}))},de={right:!0,down:!0,lastX:oe.scrollLeft,lastY:oe.scrollTop,_eventHandler:Q};let be=null;return oe.addEventListener("scroll",Q,!0),de}function K(oe){const Y=new Map;for(const[Q,de]of new URLSearchParams(oe))Y.set(Q.toLowerCase(),de);return Y}const ve=/[\x01-\x1F]/g;function pe(oe,Y=!1){return typeof oe!="string"?(console.error("The argument must be a string."),oe):(Y&&(oe=oe.replaceAll(ve," ")),oe.replaceAll("\0",""))}function _e(oe,Y,Q=0){let de=Q,be=oe.length-1;if(be<0||!Y(oe[be]))return oe.length;if(Y(oe[de]))return de;for(;de<be;){const Te=de+be>>1,ke=oe[Te];Y(ke)?be=Te:de=Te+1}return de}function $(oe){if(Math.floor(oe)===oe)return[oe,1];const Y=1/oe,Q=8;if(Y>Q)return[1,Q];if(Math.floor(Y)===Y)return[1,Y];const de=oe>1?Y:oe;let be=0,Te=1,ke=1,Ne=1;for(;;){const We=be+ke,qe=Te+Ne;if(qe>Q)break;de<=We/qe?(ke=We,Ne=qe):(be=We,Te=qe)}let ze;return de-be/Te<ke/Ne-de?ze=de===oe?[be,Te]:[Te,be]:ze=de===oe?[ke,Ne]:[Ne,ke],ze}function ee(oe,Y){const Q=oe%Y;return Q===0?oe:Math.round(oe-Q+Y)}function G({view:oe,userUnit:Y,rotate:Q}){const[de,be,Te,ke]=oe,Ne=Q%180!==0,ze=(Te-de)/72*Y,We=(ke-be)/72*Y;return{width:Ne?We:ze,height:Ne?ze:We}}function ue(oe,Y,Q){if(oe<2)return oe;let de=Y[oe].div,be=de.offsetTop+de.clientTop;be>=Q&&(de=Y[oe-1].div,be=de.offsetTop+de.clientTop);for(let Te=oe-2;Te>=0&&(de=Y[Te].div,!(de.offsetTop+de.clientTop+de.clientHeight<=be));--Te)oe=Te;return oe}function te({scrollEl:oe,views:Y,sortByVisibility:Q=!1,horizontal:de=!1,rtl:be=!1}){const Te=oe.scrollTop,ke=Te+oe.clientHeight,Ne=oe.scrollLeft,ze=Ne+oe.clientWidth;function We(Se){const me=Se.div;return me.offsetTop+me.clientTop+me.clientHeight>Te}function qe(Se){const me=Se.div,Pe=me.offsetLeft+me.clientLeft,Me=Pe+me.clientWidth;return be?Pe<ze:Me>Ne}const Ge=[],Je=new Set,ie=Y.length;let ce=_e(Y,de?qe:We);ce>0&&ce<ie&&!de&&(ce=ue(ce,Y,Te));let re=de?ze:-1;for(let Se=ce;Se<ie;Se++){const me=Y[Se],Pe=me.div,Me=Pe.offsetLeft+Pe.clientLeft,fe=Pe.offsetTop+Pe.clientTop,Re=Pe.clientWidth,Oe=Pe.clientHeight,Fe=Me+Re,Ve=fe+Oe;if(re===-1)Ve>=ke&&(re=Ve);else if((de?Me:fe)>re)break;if(Ve<=Te||fe>=ke||Fe<=Ne||Me>=ze)continue;const Ue=Math.max(0,Te-fe)+Math.max(0,Ve-ke),$e=Math.max(0,Ne-Me)+Math.max(0,Fe-ze),Be=(Oe-Ue)/Oe,Ke=(Re-$e)/Re,he=Be*Ke*100|0;Ge.push({id:me.id,x:Me,y:fe,view:me,percent:he,widthPercent:Ke*100|0}),Je.add(me.id)}const ge=Ge[0],ae=Ge.at(-1);return Q&&Ge.sort(function(Se,me){const Pe=Se.percent-me.percent;return Math.abs(Pe)>.001?-Pe:Se.id-me.id}),{first:ge,last:ae,views:Ge,ids:Je}}function xe(oe){let Y=Math.hypot(oe.deltaX,oe.deltaY);const Q=Math.atan2(oe.deltaY,oe.deltaX);return-.25*Math.PI<Q&&Q<.75*Math.PI&&(Y=-Y),Y}function Ie(oe){const Y=oe.deltaMode;let Q=xe(oe);const de=30,be=30;return Y===WheelEvent.DOM_DELTA_PIXEL?Q/=de*be:Y===WheelEvent.DOM_DELTA_LINE&&(Q/=be),Q}function le(oe){return Number.isInteger(oe)&&oe%90===0}function I(oe){return Number.isInteger(oe)&&Object.values(v).includes(oe)&&oe!==v.UNKNOWN}function F(oe){return Number.isInteger(oe)&&Object.values(w).includes(oe)&&oe!==w.UNKNOWN}function m(oe){return oe.width<=oe.height}const g=new Promise(function(oe){window.requestAnimationFrame(oe)});u.animationStarted=g;const N=document.documentElement.style;u.docStyle=N;function U(oe,Y,Q){return Math.min(Math.max(oe,Y),Q)}class O{constructor(Y){D(this,Z,null);D(this,q,null);D(this,we,0);D(this,Ae,null);D(this,Ee,!0);ne(this,Z,Y.classList),ne(this,Ae,Y.style)}get percent(){return n(this,we)}set percent(Y){if(ne(this,we,U(Y,0,100)),isNaN(Y)){n(this,Z).add("indeterminate");return}n(this,Z).remove("indeterminate"),n(this,Ae).setProperty("--progressBar-percent",`${n(this,we)}%`)}setWidth(Y){if(!Y)return;const de=Y.parentNode.offsetWidth-Y.offsetWidth;de>0&&n(this,Ae).setProperty("--progressBar-end-offset",`${de}px`)}setDisableAutoFetch(Y=5e3){isNaN(n(this,we))||(n(this,q)&&clearTimeout(n(this,q)),this.show(),ne(this,q,setTimeout(()=>{ne(this,q,null),this.hide()},Y)))}hide(){n(this,Ee)&&(ne(this,Ee,!1),n(this,Z).add("hidden"))}show(){n(this,Ee)||(ne(this,Ee,!0),n(this,Z).remove("hidden"))}}Z=new WeakMap,q=new WeakMap,we=new WeakMap,Ae=new WeakMap,Ee=new WeakMap,u.ProgressBar=O;function H(){let oe=document,Y=oe.activeElement||oe.querySelector(":focus");for(;Y!=null&&Y.shadowRoot;)oe=Y.shadowRoot,Y=oe.activeElement||oe.querySelector(":focus");return Y}function X(oe){let Y=v.VERTICAL,Q=w.NONE;switch(oe){case"SinglePage":Y=v.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Y=v.PAGE;case"TwoColumnLeft":Q=w.ODD;break;case"TwoPageRight":Y=v.PAGE;case"TwoColumnRight":Q=w.EVEN;break}return{scrollMode:Y,spreadMode:Q}}function M(oe){switch(oe){case"UseNone":return b.NONE;case"UseThumbs":return b.THUMBS;case"UseOutlines":return b.OUTLINE;case"UseAttachments":return b.ATTACHMENTS;case"UseOC":return b.LAYERS}return b.NONE}function T(oe,Y,Q=null){oe.classList.toggle("toggled",Y),oe.setAttribute("aria-checked",Y),Q==null||Q.classList.toggle("hidden",!Y)}function W(oe,Y,Q=null){oe.classList.toggle("toggled",Y),oe.setAttribute("aria-expanded",Y),Q==null||Q.classList.toggle("hidden",!Y)}},C=>{let u;typeof window<"u"&&window["pdfjs-dist/build/pdf"]?u=window["pdfjs-dist/build/pdf"]:u=requirePdf(),C.exports=u},(C,u,c)=>{var _,a,l,os;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFCursorTools=void 0;var s=c(5),o=c(4),S=c(7);class y{constructor({container:P,eventBus:b,cursorToolOnLoad:A=o.CursorTool.SELECT}){D(this,l);D(this,_,o.CursorTool.SELECT);D(this,a,null);this.container=P,this.eventBus=b,j(this,l,os).call(this),Promise.resolve().then(()=>{this.switchTool(A)})}get activeTool(){return n(this,_)}switchTool(P){if(n(this,a)!==null||P===n(this,_))return;const b=()=>{switch(n(this,_)){case o.CursorTool.SELECT:break;case o.CursorTool.HAND:this._handTool.deactivate();break;case o.CursorTool.ZOOM:}};switch(P){case o.CursorTool.SELECT:b();break;case o.CursorTool.HAND:b(),this._handTool.activate();break;case o.CursorTool.ZOOM:default:console.error(`switchTool: "${P}" is an unsupported value.`);return}ne(this,_,P),this.eventBus.dispatch("cursortoolchanged",{source:this,tool:P})}get _handTool(){return(0,s.shadow)(this,"_handTool",new S.GrabToPan({element:this.container}))}}_=new WeakMap,a=new WeakMap,l=new WeakSet,os=function(){this.eventBus._on("switchcursortool",w=>{this.switchTool(w.tool)});let P=s.AnnotationEditorType.NONE,b=o.PresentationModeState.NORMAL;const A=()=>{const w=n(this,_);this.switchTool(o.CursorTool.SELECT),n(this,a)??ne(this,a,w)},v=()=>{const w=n(this,a);w!==null&&P===s.AnnotationEditorType.NONE&&b===o.PresentationModeState.NORMAL&&(ne(this,a,null),this.switchTool(w))};this.eventBus._on("secondarytoolbarreset",w=>{n(this,a)!==null&&(P=s.AnnotationEditorType.NONE,b=o.PresentationModeState.NORMAL,v())}),this.eventBus._on("annotationeditormodechanged",({mode:w})=>{P=w,w===s.AnnotationEditorType.NONE?v():A()}),this.eventBus._on("presentationmodechanged",({state:w})=>{b=w,w===o.PresentationModeState.NORMAL?v():w===o.PresentationModeState.FULLSCREEN&&A()})},u.PDFCursorTools=y},(C,u)=>{var o,ls,y,cs,a,ds;Object.defineProperty(u,"__esModule",{value:!0}),u.GrabToPan=void 0;const c="grab-to-pan-grab";class s{constructor({element:E}){D(this,o);D(this,y);D(this,a);this.element=E,this.document=E.ownerDocument,this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.toggle=this.toggle.bind(this),this._onMouseDown=j(this,o,ls).bind(this),this._onMouseMove=j(this,y,cs).bind(this),this._endPan=j(this,a,ds).bind(this);const P=this.overlay=document.createElement("div");P.className="grab-to-pan-grabbing"}activate(){this.active||(this.active=!0,this.element.addEventListener("mousedown",this._onMouseDown,!0),this.element.classList.add(c))}deactivate(){this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onMouseDown,!0),this._endPan(),this.element.classList.remove(c))}toggle(){this.active?this.deactivate():this.activate()}ignoreTarget(E){return E.matches("a[href], a[href] *, input, textarea, button, button *, select, option")}}o=new WeakSet,ls=function(E){if(E.button!==0||this.ignoreTarget(E.target))return;if(E.originalTarget)try{E.originalTarget.tagName}catch{return}this.scrollLeftStart=this.element.scrollLeft,this.scrollTopStart=this.element.scrollTop,this.clientXStart=E.clientX,this.clientYStart=E.clientY,this.document.addEventListener("mousemove",this._onMouseMove,!0),this.document.addEventListener("mouseup",this._endPan,!0),this.element.addEventListener("scroll",this._endPan,!0),E.preventDefault(),E.stopPropagation();const P=document.activeElement;P&&!P.contains(E.target)&&P.blur()},y=new WeakSet,cs=function(E){if(this.element.removeEventListener("scroll",this._endPan,!0),!(E.buttons&1)){this._endPan();return}const P=E.clientX-this.clientXStart,b=E.clientY-this.clientYStart;this.element.scrollTo({top:this.scrollTopStart-b,left:this.scrollLeftStart-P,behavior:"instant"}),this.overlay.parentNode||document.body.append(this.overlay)},a=new WeakSet,ds=function(){this.element.removeEventListener("scroll",this._endPan,!0),this.document.removeEventListener("mousemove",this._onMouseMove,!0),this.document.removeEventListener("mouseup",this._endPan,!0),this.overlay.remove()},u.GrabToPan=s},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ViewerApplication=u.PDFPrintServiceFactory=void 0;var s=c(4),o=c(5),S=c(9),y=c(10),_=c(11),a=c(12),l=c(13),d=c(14),E=c(15),P=c(16),b=c(6),A=c(18),v=c(19),w=c(20),x=c(22),R=c(23),k=c(24),V=c(25),z=c(26),K=c(27),ve=c(28),pe=c(29),_e=c(31),$=c(41),ee=c(42),G=c(43),ue=c(44);const te=1e4,xe={UNKNOWN:-1,PREVIOUS:0,INITIAL:1},Ie={AUTOMATIC:0,LIGHT:1,DARK:2},le={instance:{supportsPrinting:!1,createPrintService(){throw new Error("Not implemented: createPrintService")}}};u.PDFPrintServiceFactory=le;class I{constructor(){Qe(this,"initialBookmark",document.location.hash.substring(1));Qe(this,"_initializedCapability",new o.PromiseCapability);Qe(this,"appConfig",null);Qe(this,"pdfDocument",null);Qe(this,"pdfLoadingTask",null);Qe(this,"printService",null);Qe(this,"pdfViewer",null);Qe(this,"pdfThumbnailViewer",null);Qe(this,"pdfRenderingQueue",null);Qe(this,"pdfPresentationMode",null);Qe(this,"pdfDocumentProperties",null);Qe(this,"pdfLinkService",null);Qe(this,"pdfHistory",null);Qe(this,"pdfSidebar",null);Qe(this,"pdfOutlineViewer",null);Qe(this,"pdfAttachmentViewer",null);Qe(this,"pdfLayerViewer",null);Qe(this,"pdfCursorTools",null);Qe(this,"pdfScriptingManager",null);Qe(this,"store",null);Qe(this,"downloadManager",null);Qe(this,"overlayManager",null);Qe(this,"preferences",null);Qe(this,"toolbar",null);Qe(this,"secondaryToolbar",null);Qe(this,"eventBus",null);Qe(this,"l10n",null);Qe(this,"annotationEditorParams",null);Qe(this,"isInitialViewSet",!1);Qe(this,"downloadComplete",!1);Qe(this,"isViewerEmbedded",window.parent!==window);Qe(this,"url","");Qe(this,"baseUrl","");Qe(this,"_downloadUrl","");Qe(this,"externalServices",ue.DefaultExternalServices);Qe(this,"_boundEvents",Object.create(null));Qe(this,"documentInfo",null);Qe(this,"metadata",null);Qe(this,"_contentDispositionFilename",null);Qe(this,"_contentLength",null);Qe(this,"_saveInProgress",!1);Qe(this,"_wheelUnusedTicks",0);Qe(this,"_wheelUnusedFactor",1);Qe(this,"_touchUnusedTicks",0);Qe(this,"_touchUnusedFactor",1);Qe(this,"_PDFBug",null);Qe(this,"_hasAnnotationEditors",!1);Qe(this,"_title",document.title);Qe(this,"_printAnnotationStoragePromise",null);Qe(this,"_touchInfo",null);Qe(this,"_isCtrlKeyDown",!1);Qe(this,"_nimbusDataPromise",null)}async initialize(m){const{appOptions:g}=this;this.preferences=this.externalServices.createPreferences(),this.appConfig=m,await this._initializeOptions(),this._forceCssTheme(),await this._initializeL10n(),this.isViewerEmbedded&&g.get("externalLinkTarget")===_.LinkTarget.NONE&&g.set("externalLinkTarget",_.LinkTarget.TOP),await this._initializeViewerComponents(),this.bindEvents(),this.bindWindowEvents();const N=m.appContainer||document.documentElement;this.l10n.translate(N).then(()=>{this.eventBus.dispatch("localized",{source:this})}),this._initializedCapability.resolve()}async _initializeOptions(){const{appOptions:m}=this;if(m.get("disablePreferences")){m.get("pdfBugEnabled")&&await this._parseHashParams();return}m._hasUserOptions()&&console.warn('_initializeOptions: The Preferences may override manually set AppOptions; please use the "disablePreferences"-option in order to prevent that.');try{m.setAll(await this.preferences.getAll())}catch(g){console.error(`_initializeOptions: "${g.message}".`)}m.get("pdfBugEnabled")&&await this._parseHashParams()}async _parseHashParams(){const{appOptions:m}=this,g=document.location.hash.substring(1);if(!g)return;const{mainContainer:N,viewerContainer:U}=this.appConfig,O=(0,s.parseQueryString)(g);if(O.get("disableworker")==="true")try{await loadFakeWorker()}catch(H){console.error(`_parseHashParams: "${H.message}".`)}if(O.has("disablerange")&&m.set("disableRange",O.get("disablerange")==="true"),O.has("disablestream")&&m.set("disableStream",O.get("disablestream")==="true"),O.has("disableautofetch")&&m.set("disableAutoFetch",O.get("disableautofetch")==="true"),O.has("disablefontface")&&m.set("disableFontFace",O.get("disablefontface")==="true"),O.has("disablehistory")&&m.set("disableHistory",O.get("disablehistory")==="true"),O.has("verbosity")&&m.set("verbosity",O.get("verbosity")|0),O.has("textlayer"))switch(O.get("textlayer")){case"off":m.set("textLayerMode",s.TextLayerMode.DISABLE);break;case"visible":case"shadow":case"hover":U.classList.add(`textLayer-${O.get("textlayer")}`);try{await loadPDFBug(this),this._PDFBug.loadCSS()}catch(H){console.error(`_parseHashParams: "${H.message}".`)}break}if(O.has("pdfbug")){m.set("pdfBug",!0),m.set("fontExtraProperties",!0);const H=O.get("pdfbug").split(",");try{await loadPDFBug(this),this._PDFBug.init(N,H)}catch(X){console.error(`_parseHashParams: "${X.message}".`)}}O.has("locale")&&m.set("locale",O.get("locale"))}async _initializeL10n(){const{appOptions:m}=this;this.l10n=this.externalServices.createL10n({locale:m.get("locale")});const g=await this.l10n.getDirection();document.getElementsByTagName("html")[0].dir=g}_forceCssTheme(){var N;const{appOptions:m}=this,g=m.get("viewerCssTheme");if(!(g===Ie.AUTOMATIC||!Object.values(Ie).includes(g)))try{const U=document.styleSheets[0],O=(U==null?void 0:U.cssRules)||[];for(let H=0,X=O.length;H<X;H++){const M=O[H];if(M instanceof CSSMediaRule&&((N=M.media)==null?void 0:N[0])==="(prefers-color-scheme: dark)"){if(g===Ie.LIGHT){U.deleteRule(H);return}const T=/^@media \(prefers-color-scheme: dark\) {\n\s*([\w\s-.,:;/\\{}()]+)\n}$/.exec(M.cssText);T!=null&&T[1]&&(U.deleteRule(H),U.insertRule(T[1],H));return}}}catch(U){console.error(`_forceCssTheme: "${U==null?void 0:U.message}".`)}}async _initializeViewerComponents(){var Q,de,be,Te,ke,Ne,ze,We,qe;const{appOptions:m}=this,{appConfig:g,externalServices:N,l10n:U}=this,O=N.isInAutomation?new y.AutomationEventBus:new y.EventBus;this.eventBus=O,this.overlayManager=new d.OverlayManager;const H=new z.PDFRenderingQueue;H.onIdle=this._cleanup.bind(this),this.pdfRenderingQueue=H;const X=new _.PDFLinkService({eventBus:O,externalLinkTarget:m.get("externalLinkTarget"),externalLinkRel:m.get("externalLinkRel"),ignoreDestinationZoom:m.get("ignoreDestinationZoom")});this.pdfLinkService=X;const M=N.createDownloadManager();this.downloadManager=M;const T=new w.PDFFindController({linkService:X,eventBus:O,updateMatchesCountOnProgress:!0});this.findController=T;const W=new K.PDFScriptingManager({eventBus:O,sandboxBundleSrc:m.get("sandboxBundleSrc"),externalServices:N,docProperties:this._scriptingDocProperties.bind(this)});this.pdfScriptingManager=W;const Z=g.mainContainer,q=g.viewerContainer,we=m.get("annotationEditorMode"),Ae=m.get("isOffscreenCanvasSupported")&&o.FeatureTest.isOffscreenCanvasSupported,Ee=m.get("forcePageColors")||window.matchMedia("(forced-colors: active)").matches?{background:m.get("pageColorsBackground"),foreground:m.get("pageColorsForeground")}:null,oe=g.altTextDialog?new a.AltTextManager(g.altTextDialog,Z,this.overlayManager,O):null,Y=new _e.PDFViewer({container:Z,viewer:q,eventBus:O,renderingQueue:H,linkService:X,downloadManager:M,altTextManager:oe,findController:T,scriptingManager:m.get("enableScripting")&&W,l10n:U,textLayerMode:m.get("textLayerMode"),annotationMode:m.get("annotationMode"),annotationEditorMode:we,imageResourcesPath:m.get("imageResourcesPath"),enablePrintAutoRotate:m.get("enablePrintAutoRotate"),isOffscreenCanvasSupported:Ae,maxCanvasPixels:m.get("maxCanvasPixels"),enablePermissions:m.get("enablePermissions"),pageColors:Ee});if(this.pdfViewer=Y,H.setViewer(Y),X.setViewer(Y),W.setViewer(Y),(Q=g.sidebar)!=null&&Q.thumbnailView&&(this.pdfThumbnailViewer=new pe.PDFThumbnailViewer({container:g.sidebar.thumbnailView,eventBus:O,renderingQueue:H,linkService:X,l10n:U,pageColors:Ee}),H.setThumbnailViewer(this.pdfThumbnailViewer)),!this.isViewerEmbedded&&!m.get("disableHistory")&&(this.pdfHistory=new x.PDFHistory({linkService:X,eventBus:O}),X.setHistory(this.pdfHistory)),!this.supportsIntegratedFind&&g.findBar&&(this.findBar=new v.PDFFindBar(g.findBar,O,U)),g.annotationEditorParams)if(we!==o.AnnotationEditorType.DISABLE)m.get("enableStampEditor")&&Ae&&((be=(de=g.toolbar)==null?void 0:de.editorStampButton)==null||be.classList.remove("hidden")),this.annotationEditorParams=new l.AnnotationEditorParams(g.annotationEditorParams,O);else for(const Ge of["editorModeButtons","editorModeSeparator"])(Te=document.getElementById(Ge))==null||Te.classList.add("hidden");g.documentProperties&&(this.pdfDocumentProperties=new A.PDFDocumentProperties(g.documentProperties,this.overlayManager,O,U,()=>this._docFilename)),(ke=g.secondaryToolbar)!=null&&ke.cursorHandToolButton&&(this.pdfCursorTools=new b.PDFCursorTools({container:Z,eventBus:O,cursorToolOnLoad:m.get("cursorToolOnLoad")})),g.toolbar&&(this.toolbar=new ee.Toolbar(g.toolbar,O,U)),g.secondaryToolbar&&(this.secondaryToolbar=new $.SecondaryToolbar(g.secondaryToolbar,O)),this.supportsFullscreen&&((Ne=g.secondaryToolbar)!=null&&Ne.presentationModeButton)&&(this.pdfPresentationMode=new V.PDFPresentationMode({container:Z,pdfViewer:Y,eventBus:O})),g.passwordOverlay&&(this.passwordPrompt=new E.PasswordPrompt(g.passwordOverlay,this.overlayManager,U,this.isViewerEmbedded)),(ze=g.sidebar)!=null&&ze.outlineView&&(this.pdfOutlineViewer=new k.PDFOutlineViewer({container:g.sidebar.outlineView,eventBus:O,linkService:X,downloadManager:M})),(We=g.sidebar)!=null&&We.attachmentsView&&(this.pdfAttachmentViewer=new P.PDFAttachmentViewer({container:g.sidebar.attachmentsView,eventBus:O,downloadManager:M})),(qe=g.sidebar)!=null&&qe.layersView&&(this.pdfLayerViewer=new R.PDFLayerViewer({container:g.sidebar.layersView,eventBus:O,l10n:U})),g.sidebar&&(this.pdfSidebar=new ve.PDFSidebar({elements:g.sidebar,eventBus:O,l10n:U}),this.pdfSidebar.onToggled=this.forceRendering.bind(this),this.pdfSidebar.onUpdateThumbnails=()=>{var Ge;for(const Je of Y.getCachedPageViews())Je.renderingState===s.RenderingStates.FINISHED&&((Ge=this.pdfThumbnailViewer.getThumbnail(Je.id-1))==null||Ge.setImage(Je));this.pdfThumbnailViewer.scrollThumbnailIntoView(Y.currentPageNumber)})}async run(m,g){var W,Z,q,we,Ae,Ee;const{appOptions:N}=this;await this.initialize(m);const{appConfig:U,eventBus:O}=this;let H;const X=document.location.search.substring(1);H=(0,s.parseQueryString)(X).get("file")??N.get("defaultUrl"),g(H);const T=U.openFileInput;T.value=null,T.addEventListener("change",function(oe){const{files:Y}=oe.target;!Y||Y.length===0||O.dispatch("fileinputchange",{source:this,fileInput:oe.target})}),U.mainContainer.addEventListener("dragover",function(oe){oe.preventDefault(),oe.dataTransfer.dropEffect=oe.dataTransfer.effectAllowed==="copy"?"copy":"move"}),U.mainContainer.addEventListener("drop",function(oe){oe.preventDefault();const{files:Y}=oe.dataTransfer;!Y||Y.length===0||O.dispatch("fileinputchange",{source:this,fileInput:oe.dataTransfer})}),this.supportsDocumentFonts||(N.set("disableFontFace",!0),this.l10n.get("web_fonts_disabled").then(oe=>{console.warn(oe)})),this.supportsPrinting||((Z=(W=U.toolbar)==null?void 0:W.print)==null||Z.classList.add("hidden"),(q=U.secondaryToolbar)==null||q.printButton.classList.add("hidden")),this.supportsFullscreen||(we=U.secondaryToolbar)==null||we.presentationModeButton.classList.add("hidden"),this.supportsIntegratedFind&&((Ee=(Ae=U.toolbar)==null?void 0:Ae.viewFind)==null||Ee.classList.add("hidden")),U.mainContainer.addEventListener("transitionend",function(oe){oe.target===this&&O.dispatch("resize",{source:this})},!0),H?this.open({url:H}):this._hideViewBookmark()}get initialized(){return this._initializedCapability.settled}get initializedPromise(){return this._initializedCapability.promise}zoomIn(m,g){const{appOptions:N}=this;this.pdfViewer.isInPresentationMode||this.pdfViewer.increaseScale({drawingDelay:N.get("defaultZoomDelay"),steps:m,scaleFactor:g})}zoomOut(m,g){const{appOptions:N}=this;this.pdfViewer.isInPresentationMode||this.pdfViewer.decreaseScale({drawingDelay:N.get("defaultZoomDelay"),steps:m,scaleFactor:g})}zoomReset(){this.pdfViewer.isInPresentationMode||(this.pdfViewer.currentScaleValue=s.DEFAULT_SCALE_VALUE)}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}get supportsPrinting(){return le.instance.supportsPrinting}get supportsFullscreen(){return(0,o.shadow)(this,"supportsFullscreen",document.fullscreenEnabled)}get supportsPinchToZoom(){return this.externalServices.supportsPinchToZoom}get supportsIntegratedFind(){return this.externalServices.supportsIntegratedFind}get supportsDocumentFonts(){return this.externalServices.supportsDocumentFonts}get loadingBar(){const m=document.getElementById("loadingBar"),g=m?new s.ProgressBar(m):null;return(0,o.shadow)(this,"loadingBar",g)}get supportedMouseWheelZoomModifierKeys(){return this.externalServices.supportedMouseWheelZoomModifierKeys}initPassiveLoading(m){throw new Error("Not implemented: initPassiveLoading")}setTitleUsingUrl(m="",g=null){this.url=m,this.baseUrl=m.split("#")[0],g&&(this._downloadUrl=g===m?this.baseUrl:g.split("#")[0]),(0,o.isDataScheme)(m)&&this._hideViewBookmark();let N=(0,o.getPdfFilenameFromUrl)(m,"");if(!N)try{N=decodeURIComponent((0,o.getFilenameFromUrl)(m))||m}catch{N=m}this.setTitle(N)}setTitle(m=this._title){if(this._title=m,this.isViewerEmbedded)return;const g=this._hasAnnotationEditors&&!this.pdfRenderingQueue.printing;document.title=`${g?"* ":""}${m}`}get _docFilename(){return this._contentDispositionFilename||(0,o.getPdfFilenameFromUrl)(this.url)}_hideViewBookmark(){var g;const{secondaryToolbar:m}=this.appConfig;m==null||m.viewBookmarkButton.classList.add("hidden"),m!=null&&m.presentationModeButton.classList.contains("hidden")&&((g=document.getElementById("viewBookmarkSeparator"))==null||g.classList.add("hidden"))}async close(){var g,N,U,O,H,X,M,T,W,Z,q,we;if(this._unblockDocumentLoadEvent(),this._hideViewBookmark(),!this.pdfLoadingTask)return;if(((g=this.pdfDocument)==null?void 0:g.annotationStorage.size)>0&&this._annotationStorageModified)try{await this.save()}catch{}const m=[];m.push(this.pdfLoadingTask.destroy()),this.pdfLoadingTask=null,this.pdfDocument&&(this.pdfDocument=null,(N=this.pdfThumbnailViewer)==null||N.setDocument(null),this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null),(U=this.pdfDocumentProperties)==null||U.setDocument(null)),this.pdfLinkService.externalLinkEnabled=!0,this.store=null,this.isInitialViewSet=!1,this.downloadComplete=!1,this.url="",this.baseUrl="",this._downloadUrl="",this.documentInfo=null,this.metadata=null,this._contentDispositionFilename=null,this._contentLength=null,this._saveInProgress=!1,this._hasAnnotationEditors=!1,m.push(this.pdfScriptingManager.destroyPromise,this.passwordPrompt.close()),this.setTitle(),(O=this.pdfSidebar)==null||O.reset(),(H=this.pdfOutlineViewer)==null||H.reset(),(X=this.pdfAttachmentViewer)==null||X.reset(),(M=this.pdfLayerViewer)==null||M.reset(),(T=this.pdfHistory)==null||T.reset(),(W=this.findBar)==null||W.reset(),(Z=this.toolbar)==null||Z.reset(),(q=this.secondaryToolbar)==null||q.reset(),(we=this._PDFBug)==null||we.cleanup(),await Promise.all(m)}async open(m){const{appOptions:g}=this;this.pdfLoadingTask&&await this.close();const N=g.getAll(S.OptionKind.WORKER);Object.assign(o.GlobalWorkerOptions,N),m.url&&this.setTitleUsingUrl(m.originalUrl||m.url,m.url);const U=g.getAll(S.OptionKind.API),O={canvasMaxAreaInBytes:this.externalServices.canvasMaxAreaInBytes,...U,...m},H=(0,o.getDocument)(O);return this.pdfLoadingTask=H,H.onPassword=(X,M)=>{this.isViewerEmbedded&&this._unblockDocumentLoadEvent(),this.pdfLinkService.externalLinkEnabled=!1,this.passwordPrompt.setUpdateCallback(X,M),this.passwordPrompt.open()},H.onProgress=({loaded:X,total:M})=>{this.progress(X/M)},H.promise.then(X=>{this.load(X)},X=>{if(H!==this.pdfLoadingTask)return;let M="loading_error";return X instanceof o.InvalidPDFException?M="invalid_file_error":X instanceof o.MissingPDFException?M="missing_file_error":X instanceof o.UnexpectedResponseException&&(M="unexpected_response_error"),this.l10n.get(M).then(T=>{throw this._documentError(T,{message:X==null?void 0:X.message}),X})})}_ensureDownloadComplete(){if(!(this.pdfDocument&&this.downloadComplete))throw new Error("PDF document not downloaded.")}async download(m={}){const g=this._downloadUrl,N=this._docFilename;try{this._ensureDownloadComplete();const U=await this.pdfDocument.getData(),O=new Blob([U],{type:"application/pdf"});await this.downloadManager.download(O,g,N,m)}catch{await this.downloadManager.downloadUrl(g,N,m)}}async save(m={}){if(this._saveInProgress)return;this._saveInProgress=!0,await this.pdfScriptingManager.dispatchWillSave();const g=this._downloadUrl,N=this._docFilename;try{this._ensureDownloadComplete();const U=await this.pdfDocument.saveDocument(),O=new Blob([U],{type:"application/pdf"});await this.downloadManager.download(O,g,N,m)}catch(U){console.error(`Error when saving the document: ${U.message}`),await this.download(m)}finally{await this.pdfScriptingManager.dispatchDidSave(),this._saveInProgress=!1}this._hasAnnotationEditors&&this.externalServices.reportTelemetry({type:"editing",data:{type:"save"}})}downloadOrSave(m={}){var g;((g=this.pdfDocument)==null?void 0:g.annotationStorage.size)>0?this.save(m):this.download(m)}openInExternalApp(){this.downloadOrSave({openInExternalApp:!0})}_documentError(m,g=null){this._unblockDocumentLoadEvent(),this._otherError(m,g),this.eventBus.dispatch("documenterror",{source:this,message:m,reason:(g==null?void 0:g.message)??null})}_otherError(m,g=null){const N=[`PDF.js v${o.version||"?"} (build: ${o.build||"?"})`];g&&(N.push(`Message: ${g.message}`),g.stack?N.push(`Stack: ${g.stack}`):(g.filename&&N.push(`File: ${g.filename}`),g.lineNumber&&N.push(`Line: ${g.lineNumber}`))),console.error(`${m}

${N.join(`
`)}`)}progress(m){var U;const{appOptions:g}=this;if(!this.loadingBar||this.downloadComplete)return;const N=Math.round(m*100);N<=this.loadingBar.percent||(this.loadingBar.percent=N,(((U=this.pdfDocument)==null?void 0:U.loadingParams.disableAutoFetch)??g.get("disableAutoFetch"))&&this.loadingBar.setDisableAutoFetch())}load(m){var Z,q,we,Ae;const{appOptions:g}=this;this.pdfDocument=m,m.getDownloadInfo().then(({length:Ee})=>{var oe;this._contentLength=Ee,this.downloadComplete=!0,(oe=this.loadingBar)==null||oe.hide(),X.then(()=>{this.eventBus.dispatch("documentloaded",{source:this})})});const N=m.getPageLayout().catch(()=>{}),U=m.getPageMode().catch(()=>{}),O=m.getOpenAction().catch(()=>{});(Z=this.toolbar)==null||Z.setPagesCount(m.numPages,!1),(q=this.secondaryToolbar)==null||q.setPagesCount(m.numPages),this.pdfLinkService.setDocument(m),(we=this.pdfDocumentProperties)==null||we.setDocument(m);const H=this.pdfViewer;H.setDocument(m);const{firstPagePromise:X,onePageRendered:M,pagesPromise:T}=H;(Ae=this.pdfThumbnailViewer)==null||Ae.setDocument(m);const W=(this.store=new G.ViewHistory(m.fingerprints[0])).getMultiple({page:null,zoom:s.DEFAULT_SCALE_VALUE,scrollLeft:"0",scrollTop:"0",rotation:null,sidebarView:s.SidebarView.UNKNOWN,scrollMode:s.ScrollMode.UNKNOWN,spreadMode:s.SpreadMode.UNKNOWN}).catch(()=>{});X.then(Ee=>{var oe;(oe=this.loadingBar)==null||oe.setWidth(this.appConfig.viewerContainer),this._initializeAnnotationStorageCallbacks(m),Promise.all([s.animationStarted,W,N,U,O]).then(async([Y,Q,de,be,Te])=>{const ke=g.get("viewOnLoad");this._initializePdfHistory({fingerprint:m.fingerprints[0],viewOnLoad:ke,initialDest:Te==null?void 0:Te.dest});const Ne=this.initialBookmark,ze=g.get("defaultZoomValue");let We=ze?`zoom=${ze}`:null,qe=null,Ge=g.get("sidebarViewOnLoad"),Je=g.get("scrollModeOnLoad"),ie=g.get("spreadModeOnLoad");Q!=null&&Q.page&&ke!==xe.INITIAL&&(We=`page=${Q.page}&zoom=${ze||Q.zoom},${Q.scrollLeft},${Q.scrollTop}`,qe=parseInt(Q.rotation,10),Ge===s.SidebarView.UNKNOWN&&(Ge=Q.sidebarView|0),Je===s.ScrollMode.UNKNOWN&&(Je=Q.scrollMode|0),ie===s.SpreadMode.UNKNOWN&&(ie=Q.spreadMode|0)),be&&Ge===s.SidebarView.UNKNOWN&&(Ge=(0,s.apiPageModeToSidebarView)(be)),de&&Je===s.ScrollMode.UNKNOWN&&ie===s.SpreadMode.UNKNOWN&&(ie=(0,s.apiPageLayoutToViewerModes)(de).spreadMode),this.setInitialView(We,{rotation:qe,sidebarView:Ge,scrollMode:Je,spreadMode:ie}),this.eventBus.dispatch("documentinit",{source:this}),this.isViewerEmbedded||H.focus(),await Promise.race([T,new Promise(ce=>{setTimeout(ce,te)})]),!(!Ne&&!We)&&(H.hasEqualPageSizes||(this.initialBookmark=Ne,H.currentScaleValue=H.currentScaleValue,this.setInitialView(We)))}).catch(()=>{this.setInitialView()}).then(function(){H.update()})}),T.then(()=>{this._unblockDocumentLoadEvent(),this._initializeAutoPrint(m,O)},Ee=>{this.l10n.get("loading_error").then(oe=>{this._documentError(oe,{message:Ee==null?void 0:Ee.message})})}),M.then(Ee=>{this.externalServices.reportTelemetry({type:"pageInfo",timestamp:Ee.timestamp}),this.pdfOutlineViewer&&m.getOutline().then(oe=>{m===this.pdfDocument&&this.pdfOutlineViewer.render({outline:oe,pdfDocument:m})}),this.pdfAttachmentViewer&&m.getAttachments().then(oe=>{m===this.pdfDocument&&this.pdfAttachmentViewer.render({attachments:oe})}),this.pdfLayerViewer&&H.optionalContentConfigPromise.then(oe=>{m===this.pdfDocument&&this.pdfLayerViewer.render({optionalContentConfig:oe,pdfDocument:m})})}),this._initializePageLabels(m),this._initializeMetadata(m)}async _scriptingDocProperties(m){var g,N;return!this.documentInfo&&(await new Promise(U=>{this.eventBus._on("metadataloaded",U,{once:!0})}),m!==this.pdfDocument)||!this._contentLength&&(await new Promise(U=>{this.eventBus._on("documentloaded",U,{once:!0})}),m!==this.pdfDocument)?null:{...this.documentInfo,baseURL:this.baseUrl,filesize:this._contentLength,filename:this._docFilename,metadata:(g=this.metadata)==null?void 0:g.getRaw(),authors:(N=this.metadata)==null?void 0:N.get("dc:creator"),numPages:this.pagesCount,URL:this.url}}async _initializeAutoPrint(m,g){const[N,U]=await Promise.all([g,this.pdfViewer.enableScripting?null:m.getJSActions()]);if(m!==this.pdfDocument)return;let O=(N==null?void 0:N.action)==="Print";if(U){console.warn("Warning: JavaScript support is not enabled");for(const H in U){if(O)break;switch(H){case"WillClose":case"WillSave":case"DidSave":case"WillPrint":case"DidPrint":continue}O=U[H].some(X=>s.AutoPrintRegExp.test(X))}}O&&this.triggerPrinting()}async _initializeMetadata(m){const{info:g,metadata:N,contentDispositionFilename:U,contentLength:O}=await m.getMetadata();if(m!==this.pdfDocument)return;this.documentInfo=g,this.metadata=N,this._contentDispositionFilename??(this._contentDispositionFilename=U),this._contentLength??(this._contentLength=O),console.log(`PDF ${m.fingerprints[0]} [${g.PDFFormatVersion} ${(g.Producer||"-").trim()} / ${(g.Creator||"-").trim()}] (PDF.js: ${o.version||"?"} [${o.build||"?"}])`);let H=g.Title;const X=N==null?void 0:N.get("dc:title");X&&X!=="Untitled"&&!/[\uFFF0-\uFFFF]/g.test(X)&&(H=X),H?this.setTitle(`${H} - ${this._contentDispositionFilename||this._title}`):this._contentDispositionFilename&&this.setTitle(this._contentDispositionFilename),g.IsXFAPresent&&!g.IsAcroFormPresent&&!m.isPureXfa?m.loadingParams.enableXfa?console.warn("Warning: XFA Foreground documents are not supported"):console.warn("Warning: XFA support is not enabled"):(g.IsAcroFormPresent||g.IsXFAPresent)&&!this.pdfViewer.renderForms&&console.warn("Warning: Interactive form support is not enabled"),g.IsSignaturesPresent&&console.warn("Warning: Digital signatures validation is not supported"),this.eventBus.dispatch("metadataloaded",{source:this})}async _initializePageLabels(m){const{appOptions:g}=this,N=await m.getPageLabels();if(m!==this.pdfDocument||!N||g.get("disablePageLabels"))return;const U=N.length;let O=0,H=0;for(let W=0;W<U;W++){const Z=N[W];if(Z===(W+1).toString())O++;else if(Z==="")H++;else break}if(O>=U||H>=U)return;const{pdfViewer:X,pdfThumbnailViewer:M,toolbar:T}=this;X.setPageLabels(N),M==null||M.setPageLabels(N),T==null||T.setPagesCount(U,!0),T==null||T.setPageNumber(X.currentPageNumber,X.currentPageLabel)}_initializePdfHistory({fingerprint:m,viewOnLoad:g,initialDest:N=null}){const{appOptions:U}=this;this.pdfHistory&&(this.pdfHistory.initialize({fingerprint:m,resetHistory:g===xe.INITIAL,updateUrl:U.get("historyUpdateUrl")}),this.pdfHistory.initialBookmark&&(this.initialBookmark=this.pdfHistory.initialBookmark,this.initialRotation=this.pdfHistory.initialRotation),N&&!this.initialBookmark&&g===xe.UNKNOWN&&(this.initialBookmark=JSON.stringify(N),this.pdfHistory.push({explicitDest:N,pageNumber:null})))}_initializeAnnotationStorageCallbacks(m){if(m!==this.pdfDocument)return;const{annotationStorage:g}=m;g.onSetModified=()=>{window.addEventListener("beforeunload",beforeUnload),this._annotationStorageModified=!0},g.onResetModified=()=>{window.removeEventListener("beforeunload",beforeUnload),delete this._annotationStorageModified},g.onAnnotationEditor=N=>{this._hasAnnotationEditors=!!N,this.setTitle(),N&&this.externalServices.reportTelemetry({type:"editing",data:{type:N}})}}setInitialView(m,{rotation:g,sidebarView:N,scrollMode:U,spreadMode:O}={}){var M,T,W;const H=Z=>{(0,s.isValidRotation)(Z)&&(this.pdfViewer.pagesRotation=Z)},X=(Z,q)=>{(0,s.isValidScrollMode)(Z)&&(this.pdfViewer.scrollMode=Z),(0,s.isValidSpreadMode)(q)&&(this.pdfViewer.spreadMode=q)};this.isInitialViewSet=!0,(M=this.pdfSidebar)==null||M.setInitialView(N),X(U,O),this.initialBookmark?(H(this.initialRotation),delete this.initialRotation,this.pdfLinkService.setHash(this.initialBookmark),this.initialBookmark=null):m&&(H(g),this.pdfLinkService.setHash(m)),(T=this.toolbar)==null||T.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel),(W=this.secondaryToolbar)==null||W.setPageNumber(this.pdfViewer.currentPageNumber),this.pdfViewer.currentScaleValue||(this.pdfViewer.currentScaleValue=s.DEFAULT_SCALE_VALUE)}_cleanup(){var m;this.pdfDocument&&(this.pdfViewer.cleanup(),(m=this.pdfThumbnailViewer)==null||m.cleanup(),this.pdfDocument.cleanup())}forceRendering(){var m;this.pdfRenderingQueue.printing=!!this.printService,this.pdfRenderingQueue.isThumbnailViewEnabled=((m=this.pdfSidebar)==null?void 0:m.visibleView)===s.SidebarView.THUMBS,this.pdfRenderingQueue.renderHighestPriority()}beforePrint(){const{appOptions:m}=this;if(this._printAnnotationStoragePromise=this.pdfScriptingManager.dispatchWillPrint().catch(()=>{}).then(()=>{var X;return(X=this.pdfDocument)==null?void 0:X.annotationStorage.print}),this.printService)return;if(!this.supportsPrinting){this.l10n.get("printing_not_supported").then(X=>{this._otherError(X)});return}if(!this.pdfViewer.pageViewsReady){this.l10n.get("printing_not_ready").then(X=>{window.alert(X)});return}const g=this.pdfViewer.getPagesOverview(),N=this.appConfig.printContainer,U=m.get("printResolution"),O=this.pdfViewer.optionalContentConfigPromise,H=le.instance.createPrintService(this.pdfDocument,g,N,U,O,this._printAnnotationStoragePromise,this.l10n);this.printService=H,this.forceRendering(),this.setTitle(),H.layout(),this._hasAnnotationEditors&&this.externalServices.reportTelemetry({type:"editing",data:{type:"print"}})}afterPrint(){var m;this._printAnnotationStoragePromise&&(this._printAnnotationStoragePromise.then(()=>{this.pdfScriptingManager.dispatchDidPrint()}),this._printAnnotationStoragePromise=null),this.printService&&(this.printService.destroy(),this.printService=null,(m=this.pdfDocument)==null||m.annotationStorage.resetModified()),this.forceRendering(),this.setTitle()}rotatePages(m){this.pdfViewer.pagesRotation+=m}requestPresentationMode(){var m;(m=this.pdfPresentationMode)==null||m.request()}triggerPrinting(){this.supportsPrinting&&window.print()}bindEvents(){const{appOptions:m}=this,{eventBus:g,_boundEvents:N}=this;N.beforePrint=this.beforePrint.bind(this),N.afterPrint=this.afterPrint.bind(this),g._on("resize",webViewerResize),g._on("hashchange",webViewerHashchange),g._on("beforeprint",N.beforePrint),g._on("afterprint",N.afterPrint),g._on("pagerender",webViewerPageRender),g._on("pagerendered",webViewerPageRendered),g._on("updateviewarea",webViewerUpdateViewarea),g._on("pagechanging",webViewerPageChanging),g._on("scalechanging",webViewerScaleChanging),g._on("rotationchanging",webViewerRotationChanging),g._on("sidebarviewchanged",webViewerSidebarViewChanged),g._on("pagemode",webViewerPageMode),g._on("namedaction",webViewerNamedAction),g._on("presentationmodechanged",webViewerPresentationModeChanged),g._on("presentationmode",webViewerPresentationMode),g._on("switchannotationeditormode",webViewerSwitchAnnotationEditorMode),g._on("switchannotationeditorparams",webViewerSwitchAnnotationEditorParams),g._on("print",webViewerPrint),g._on("download",webViewerDownload),g._on("openinexternalapp",webViewerOpenInExternalApp),g._on("firstpage",webViewerFirstPage),g._on("lastpage",webViewerLastPage),g._on("nextpage",webViewerNextPage),g._on("previouspage",webViewerPreviousPage),g._on("zoomin",webViewerZoomIn),g._on("zoomout",webViewerZoomOut),g._on("zoomreset",webViewerZoomReset),g._on("pagenumberchanged",webViewerPageNumberChanged),g._on("scalechanged",webViewerScaleChanged),g._on("rotatecw",webViewerRotateCw),g._on("rotateccw",webViewerRotateCcw),g._on("optionalcontentconfig",webViewerOptionalContentConfig),g._on("switchscrollmode",webViewerSwitchScrollMode),g._on("scrollmodechanged",webViewerScrollModeChanged),g._on("switchspreadmode",webViewerSwitchSpreadMode),g._on("spreadmodechanged",webViewerSpreadModeChanged),g._on("documentproperties",webViewerDocumentProperties),g._on("findfromurlhash",webViewerFindFromUrlHash),g._on("updatefindmatchescount",webViewerUpdateFindMatchesCount),g._on("updatefindcontrolstate",webViewerUpdateFindControlState),m.get("pdfBug")&&(N.reportPageStatsPDFBug=reportPageStatsPDFBug,g._on("pagerendered",N.reportPageStatsPDFBug),g._on("pagechanging",N.reportPageStatsPDFBug)),g._on("fileinputchange",webViewerFileInputChange),g._on("openfile",webViewerOpenFile)}bindWindowEvents(){const{eventBus:m,_boundEvents:g}=this;function N(U=null){U&&webViewerResolutionChange(U);const O=window.matchMedia(`(resolution: ${window.devicePixelRatio||1}dppx)`);O.addEventListener("change",N,{once:!0}),g.removeWindowResolutionChange||(g.removeWindowResolutionChange=function(){O.removeEventListener("change",N),g.removeWindowResolutionChange=null})}N(),g.windowResize=()=>{m.dispatch("resize",{source:window})},g.windowHashChange=()=>{m.dispatch("hashchange",{source:window,hash:document.location.hash.substring(1)})},g.windowBeforePrint=()=>{m.dispatch("beforeprint",{source:window})},g.windowAfterPrint=()=>{m.dispatch("afterprint",{source:window})},g.windowUpdateFromSandbox=U=>{m.dispatch("updatefromsandbox",{source:window,detail:U.detail})},window.addEventListener("visibilitychange",webViewerVisibilityChange),window.addEventListener("wheel",webViewerWheel,{passive:!1}),window.addEventListener("touchstart",webViewerTouchStart,{passive:!1}),window.addEventListener("touchmove",webViewerTouchMove,{passive:!1}),window.addEventListener("touchend",webViewerTouchEnd,{passive:!1}),window.addEventListener("click",webViewerClick),window.addEventListener("keydown",webViewerKeyDown),window.addEventListener("keyup",webViewerKeyUp),window.addEventListener("resize",g.windowResize),window.addEventListener("hashchange",g.windowHashChange),window.addEventListener("beforeprint",g.windowBeforePrint),window.addEventListener("afterprint",g.windowAfterPrint),window.addEventListener("updatefromsandbox",g.windowUpdateFromSandbox)}unbindEvents(){const{eventBus:m,_boundEvents:g}=this;m._off("resize",webViewerResize),m._off("hashchange",webViewerHashchange),m._off("beforeprint",g.beforePrint),m._off("afterprint",g.afterPrint),m._off("pagerender",webViewerPageRender),m._off("pagerendered",webViewerPageRendered),m._off("updateviewarea",webViewerUpdateViewarea),m._off("pagechanging",webViewerPageChanging),m._off("scalechanging",webViewerScaleChanging),m._off("rotationchanging",webViewerRotationChanging),m._off("sidebarviewchanged",webViewerSidebarViewChanged),m._off("pagemode",webViewerPageMode),m._off("namedaction",webViewerNamedAction),m._off("presentationmodechanged",webViewerPresentationModeChanged),m._off("presentationmode",webViewerPresentationMode),m._off("print",webViewerPrint),m._off("download",webViewerDownload),m._off("openinexternalapp",webViewerOpenInExternalApp),m._off("firstpage",webViewerFirstPage),m._off("lastpage",webViewerLastPage),m._off("nextpage",webViewerNextPage),m._off("previouspage",webViewerPreviousPage),m._off("zoomin",webViewerZoomIn),m._off("zoomout",webViewerZoomOut),m._off("zoomreset",webViewerZoomReset),m._off("pagenumberchanged",webViewerPageNumberChanged),m._off("scalechanged",webViewerScaleChanged),m._off("rotatecw",webViewerRotateCw),m._off("rotateccw",webViewerRotateCcw),m._off("optionalcontentconfig",webViewerOptionalContentConfig),m._off("switchscrollmode",webViewerSwitchScrollMode),m._off("scrollmodechanged",webViewerScrollModeChanged),m._off("switchspreadmode",webViewerSwitchSpreadMode),m._off("spreadmodechanged",webViewerSpreadModeChanged),m._off("documentproperties",webViewerDocumentProperties),m._off("findfromurlhash",webViewerFindFromUrlHash),m._off("updatefindmatchescount",webViewerUpdateFindMatchesCount),m._off("updatefindcontrolstate",webViewerUpdateFindControlState),g.reportPageStatsPDFBug&&(m._off("pagerendered",g.reportPageStatsPDFBug),m._off("pagechanging",g.reportPageStatsPDFBug),g.reportPageStatsPDFBug=null),m._off("fileinputchange",webViewerFileInputChange),m._off("openfile",webViewerOpenFile),g.beforePrint=null,g.afterPrint=null}unbindWindowEvents(){var g;const{_boundEvents:m}=this;window.removeEventListener("visibilitychange",webViewerVisibilityChange),window.removeEventListener("wheel",webViewerWheel,{passive:!1}),window.removeEventListener("touchstart",webViewerTouchStart,{passive:!1}),window.removeEventListener("touchmove",webViewerTouchMove,{passive:!1}),window.removeEventListener("touchend",webViewerTouchEnd,{passive:!1}),window.removeEventListener("click",webViewerClick),window.removeEventListener("keydown",webViewerKeyDown),window.removeEventListener("keyup",webViewerKeyUp),window.removeEventListener("resize",m.windowResize),window.removeEventListener("hashchange",m.windowHashChange),window.removeEventListener("beforeprint",m.windowBeforePrint),window.removeEventListener("afterprint",m.windowAfterPrint),window.removeEventListener("updatefromsandbox",m.windowUpdateFromSandbox),(g=m.removeWindowResolutionChange)==null||g.call(m),m.windowResize=null,m.windowHashChange=null,m.windowBeforePrint=null,m.windowAfterPrint=null,m.windowUpdateFromSandbox=null}_accumulateTicks(m,g){(this[g]>0&&m<0||this[g]<0&&m>0)&&(this[g]=0),this[g]+=m;const N=Math.trunc(this[g]);return this[g]-=N,N}_accumulateFactor(m,g,N){if(g===1)return 1;(this[N]>1&&g<1||this[N]<1&&g>1)&&(this[N]=1);const U=Math.floor(m*g*this[N]*100)/(100*m);return this[N]=g/U,U}_centerAtPos(m,g,N){const{pdfViewer:U}=this,O=U.currentScale/m-1;if(O!==0){const[H,X]=U.containerTopLeft;U.container.scrollLeft+=(g-X)*O,U.container.scrollTop+=(N-H)*O}}_unblockDocumentLoadEvent(){var m;(m=document.blockUnblockOnload)==null||m.call(document,!1),this._unblockDocumentLoadEvent=()=>{}}get scriptingReady(){return this.pdfScriptingManager.ready}}u.ViewerApplication=I},(C,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.compatibilityParams=u.OptionKind=u.AppOptions=void 0;const c=Object.create(null);u.compatibilityParams=c;{const _=navigator.userAgent||"",a=navigator.platform||"",l=navigator.maxTouchPoints||1,d=/Android/.test(_),E=/\b(iPad|iPhone|iPod)(?=;)/.test(_)||a==="MacIntel"&&l>1;(function(){(E||d)&&(c.maxCanvasPixels=5242880)})()}const s={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};u.OptionKind=s;const o={annotationEditorMode:{value:0,kind:s.VIEWER+s.PREFERENCE},annotationMode:{value:2,kind:s.VIEWER+s.PREFERENCE},cursorToolOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},defaultZoomDelay:{value:400,kind:s.VIEWER+s.PREFERENCE},defaultZoomValue:{value:"",kind:s.VIEWER+s.PREFERENCE},disableHistory:{value:!1,kind:s.VIEWER},disablePageLabels:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePermissions:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:s.VIEWER+s.PREFERENCE},enableScripting:{value:!0,kind:s.VIEWER+s.PREFERENCE},enableStampEditor:{value:!0,kind:s.VIEWER+s.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:s.VIEWER},externalLinkTarget:{value:0,kind:s.VIEWER+s.PREFERENCE},historyUpdateUrl:{value:!1,kind:s.VIEWER+s.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:s.VIEWER+s.PREFERENCE},imageResourcesPath:{value:"./images/",kind:s.VIEWER},maxCanvasPixels:{value:16777216,kind:s.VIEWER},forcePageColors:{value:!1,kind:s.VIEWER+s.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:s.VIEWER+s.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:s.VIEWER+s.PREFERENCE},pdfBugEnabled:{value:!1,kind:s.VIEWER+s.PREFERENCE},printResolution:{value:150,kind:s.VIEWER},sidebarViewOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},scrollModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},spreadModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},textLayerMode:{value:1,kind:s.VIEWER+s.PREFERENCE},viewerCssTheme:{value:0,kind:s.VIEWER+s.PREFERENCE},viewOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},cMapPacked:{value:!0,kind:s.API},cMapUrl:{value:"../web/cmaps/",kind:s.API},disableAutoFetch:{value:!1,kind:s.API+s.PREFERENCE},disableFontFace:{value:!1,kind:s.API+s.PREFERENCE},disableRange:{value:!1,kind:s.API+s.PREFERENCE},disableStream:{value:!1,kind:s.API+s.PREFERENCE},docBaseUrl:{value:"",kind:s.API},enableXfa:{value:!0,kind:s.API+s.PREFERENCE},fontExtraProperties:{value:!1,kind:s.API},isEvalSupported:{value:!0,kind:s.API},isOffscreenCanvasSupported:{value:!0,kind:s.API},maxImageSize:{value:-1,kind:s.API},pdfBug:{value:!1,kind:s.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:s.API},verbosity:{value:1,kind:s.API},workerPort:{value:null,kind:s.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:s.WORKER}};o.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:s.VIEWER},o.disablePreferences={value:!1,kind:s.VIEWER},o.locale={value:navigator.language||"en-US",kind:s.VIEWER},o.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:s.VIEWER};const S=Object.create(null);class y{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(a){const l=S[a];if(l!==void 0)return l;const d=o[a];if(d!==void 0)return c[a]??d.value}static getAll(a=null){const l=Object.create(null);for(const d in o){const E=o[d];if(a){if(!(a&E.kind))continue;if(a===s.PREFERENCE){const b=E.value,A=typeof b;if(A==="boolean"||A==="string"||A==="number"&&Number.isInteger(b)){l[d]=b;continue}throw new Error(`Invalid type for preference: ${d}`)}}const P=S[d];l[d]=P!==void 0?P:c[d]??E.value}return l}static set(a,l){S[a]=l}static setAll(a){for(const l in a)S[l]=a[l]}static remove(a){delete S[a]}}u.AppOptions=y,y._hasUserOptions=function(){return Object.keys(S).length>0}},(C,u)=>{var y;Object.defineProperty(u,"__esModule",{value:!0}),u.WaitOnType=u.EventBus=u.AutomationEventBus=void 0,u.waitOnEventOrTimeout=s;const c={EVENT:"event",TIMEOUT:"timeout"};u.WaitOnType=c;function s({target:_,name:a,delay:l=0}){return new Promise(function(d,E){if(typeof _!="object"||!(a&&typeof a=="string")||!(Number.isInteger(l)&&l>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function P(w){_ instanceof o?_._off(a,b):_.removeEventListener(a,b),v&&clearTimeout(v),d(w)}const b=P.bind(null,c.EVENT);_ instanceof o?_._on(a,b):_.addEventListener(a,b);const A=P.bind(null,c.TIMEOUT),v=setTimeout(A,l)})}class o{constructor(){D(this,y,Object.create(null))}on(a,l,d=null){this._on(a,l,{external:!0,once:d==null?void 0:d.once})}off(a,l,d=null){this._off(a,l,{external:!0,once:d==null?void 0:d.once})}dispatch(a,l){const d=n(this,y)[a];if(!d||d.length===0)return;let E;for(const{listener:P,external:b,once:A}of d.slice(0)){if(A&&this._off(a,P),b){(E||(E=[])).push(P);continue}P(l)}if(E){for(const P of E)P(l);E=null}}_on(a,l,d=null){var P;((P=n(this,y))[a]||(P[a]=[])).push({listener:l,external:(d==null?void 0:d.external)===!0,once:(d==null?void 0:d.once)===!0})}_off(a,l,d=null){const E=n(this,y)[a];if(E){for(let P=0,b=E.length;P<b;P++)if(E[P].listener===l){E.splice(P,1);return}}}}y=new WeakMap,u.EventBus=o;class S extends o{dispatch(a,l){throw new Error("Not implemented: AutomationEventBus.dispatch")}}u.AutomationEventBus=S},(C,u,c)=>{var l,d,zi,P,hs;Object.defineProperty(u,"__esModule",{value:!0}),u.SimpleLinkService=u.PDFLinkService=u.LinkTarget=void 0;var s=c(4);const o="noopener noreferrer nofollow",S={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};u.LinkTarget=S;function y(v,{url:w,target:x,rel:R,enabled:k=!0}={}){if(!w||typeof w!="string")throw new Error('A valid "url" parameter must provided.');k?v.href=v.title=w:(v.href="",v.title=`Disabled: ${w}`,v.onclick=()=>!1);let V="";switch(x){case S.NONE:break;case S.SELF:V="_self";break;case S.BLANK:V="_blank";break;case S.PARENT:V="_parent";break;case S.TOP:V="_top";break}v.target=V,v.rel=typeof R=="string"?R:o}const A=class A{constructor({eventBus:w,externalLinkTarget:x=null,externalLinkRel:R=null,ignoreDestinationZoom:k=!1}={}){D(this,d);D(this,l,new Map);this.eventBus=w,this.externalLinkTarget=x,this.externalLinkRel=R,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=k,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(w,x=null){this.baseUrl=x,this.pdfDocument=w,n(this,l).clear()}setViewer(w){this.pdfViewer=w}setHistory(w){this.pdfHistory=w}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(w){this.pdfViewer.currentPageNumber=w}get rotation(){return this.pdfViewer.pagesRotation}set rotation(w){this.pdfViewer.pagesRotation=w}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}async goToDestination(w){if(!this.pdfDocument)return;let x,R;if(typeof w=="string"?(x=w,R=await this.pdfDocument.getDestination(w)):(x=null,R=await w),!Array.isArray(R)){console.error(`PDFLinkService.goToDestination: "${R}" is not a valid destination array, for dest="${w}".`);return}j(this,d,zi).call(this,w,x,R)}goToPage(w){if(!this.pdfDocument)return;const x=typeof w=="string"&&this.pdfViewer.pageLabelToPageNumber(w)||w|0;if(!(Number.isInteger(x)&&x>0&&x<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${w}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(x)),this.pdfViewer.scrollPageIntoView({pageNumber:x})}addLinkAttributes(w,x,R=!1){y(w,{url:x,target:R?S.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(w){if(typeof w=="string"){if(w.length>0)return this.getAnchorUrl("#"+escape(w))}else if(Array.isArray(w)){const x=JSON.stringify(w);if(x.length>0)return this.getAnchorUrl("#"+escape(x))}return this.getAnchorUrl("")}getAnchorUrl(w){return this.baseUrl?this.baseUrl+w:w}setHash(w){var k;if(!this.pdfDocument)return;let x,R;if(w.includes("=")){const V=(0,s.parseQueryString)(w);if(V.has("search")){const z=V.get("search").replaceAll('"',""),K=V.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:K?z:z.match(/\S+/g)})}if(V.has("page")&&(x=V.get("page")|0||1),V.has("zoom")){const z=V.get("zoom").split(","),K=z[0],ve=parseFloat(K);K.includes("Fit")?K==="Fit"||K==="FitB"?R=[null,{name:K}]:K==="FitH"||K==="FitBH"||K==="FitV"||K==="FitBV"?R=[null,{name:K},z.length>1?z[1]|0:null]:K==="FitR"?z.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):R=[null,{name:K},z[1]|0,z[2]|0,z[3]|0,z[4]|0]:console.error(`PDFLinkService.setHash: "${K}" is not a valid zoom value.`):R=[null,{name:"XYZ"},z.length>1?z[1]|0:null,z.length>2?z[2]|0:null,ve?ve/100:K]}R?this.pdfViewer.scrollPageIntoView({pageNumber:x||this.page,destArray:R,allowNegativeOffset:!0}):x&&(this.page=x),V.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:V.get("pagemode")}),V.has("nameddest")&&this.goToDestination(V.get("nameddest"))}else{R=unescape(w);try{R=JSON.parse(R),Array.isArray(R)||(R=R.toString())}catch{}if(typeof R=="string"||j(k=A,P,hs).call(k,R)){this.goToDestination(R);return}console.error(`PDFLinkService.setHash: "${unescape(w)}" is not a valid destination.`)}}executeNamedAction(w){var x,R;switch(w){case"GoBack":(x=this.pdfHistory)==null||x.back();break;case"GoForward":(R=this.pdfHistory)==null||R.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:w})}async executeSetOCGState(w){const x=this.pdfDocument,R=await this.pdfViewer.optionalContentConfigPromise;if(x!==this.pdfDocument)return;let k;for(const V of w.state){switch(V){case"ON":case"OFF":case"Toggle":k=V;continue}switch(k){case"ON":R.setVisibility(V,!0);break;case"OFF":R.setVisibility(V,!1);break;case"Toggle":const z=R.getGroup(V);z&&R.setVisibility(V,!z.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(R)}cachePageRef(w,x){if(!x)return;const R=x.gen===0?`${x.num}R`:`${x.num}R${x.gen}`;n(this,l).set(R,w)}_cachedPageNumber(w){if(!w)return null;const x=w.gen===0?`${w.num}R`:`${w.num}R${w.gen}`;return n(this,l).get(x)||null}};l=new WeakMap,d=new WeakSet,zi=function(w,x=null,R){const k=R[0];let V;if(typeof k=="object"&&k!==null){if(V=this._cachedPageNumber(k),!V){this.pdfDocument.getPageIndex(k).then(z=>{this.cachePageRef(z+1,k),j(this,d,zi).call(this,w,x,R)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${k}" is not a valid page reference, for dest="${w}".`)});return}}else if(Number.isInteger(k))V=k+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${k}" is not a valid destination reference, for dest="${w}".`);return}if(!V||V<1||V>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${V}" is not a valid page number, for dest="${w}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:x,explicitDest:R,pageNumber:V})),this.pdfViewer.scrollPageIntoView({pageNumber:V,destArray:R,ignoreDestinationZoom:this._ignoreDestinationZoom})},P=new WeakSet,hs=function(w){if(!Array.isArray(w))return!1;const x=w.length;if(x<2)return!1;const R=w[0];if(!(typeof R=="object"&&Number.isInteger(R.num)&&Number.isInteger(R.gen))&&!(Number.isInteger(R)&&R>=0))return!1;const k=w[1];if(!(typeof k=="object"&&typeof k.name=="string"))return!1;let V=!0;switch(k.name){case"XYZ":if(x!==5)return!1;break;case"Fit":case"FitB":return x===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(x!==3)return!1;break;case"FitR":if(x!==6)return!1;V=!1;break;default:return!1}for(let z=2;z<x;z++){const K=w[z];if(!(typeof K=="number"||V&&K===null))return!1}return!0},D(A,P);let _=A;u.PDFLinkService=_;class a{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(w){}get rotation(){return 0}set rotation(w){}get isInPresentationMode(){return!1}async goToDestination(w){}goToPage(w){}addLinkAttributes(w,x,R=!1){y(w,{url:x,enabled:this.externalLinkEnabled})}getDestinationHash(w){return"#"}getAnchorUrl(w){return"#"}setHash(w){}executeNamedAction(w){}executeSetOCGState(w){}cachePageRef(w,x){}}u.SimpleLinkService=a},(C,u,c)=>{var S,y,_,a,l,d,E,P,b,A,v,w,x,R,k,V,z,K,ve,pe,us,$,Wi,G,Zt,te,ji,Ie,$i,I,fs,m,ps,N,qi;Object.defineProperty(u,"__esModule",{value:!0}),u.AltTextManager=void 0;var s=c(5);class o{constructor({dialog:H,optionDescription:X,optionDecorative:M,textarea:T,cancelButton:W,saveButton:Z},q,we,Ae){D(this,pe);D(this,$);D(this,G);D(this,te);D(this,Ie);D(this,I);D(this,m);D(this,N);D(this,S,j(this,Ie,$i).bind(this));D(this,y,j(this,$,Wi).bind(this));D(this,_,j(this,m,ps).bind(this));D(this,a,null);D(this,l,void 0);D(this,d,void 0);D(this,E,void 0);D(this,P,!1);D(this,b,void 0);D(this,A,void 0);D(this,v,void 0);D(this,w,void 0);D(this,x,void 0);D(this,R,void 0);D(this,k,null);D(this,V,null);D(this,z,null);D(this,K,void 0);D(this,ve,null);ne(this,d,H),ne(this,b,X),ne(this,A,M),ne(this,x,T),ne(this,l,W),ne(this,w,Z),ne(this,v,we),ne(this,E,Ae),ne(this,K,q),H.addEventListener("close",j(this,te,ji).bind(this)),H.addEventListener("contextmenu",Ee=>{Ee.target!==n(this,x)&&Ee.preventDefault()}),W.addEventListener("click",j(this,G,Zt).bind(this)),Z.addEventListener("click",j(this,I,fs).bind(this)),X.addEventListener("change",n(this,S)),M.addEventListener("change",n(this,S)),n(this,v).register(H)}get _elements(){return(0,s.shadow)(this,"_elements",[n(this,b),n(this,A),n(this,x),n(this,w),n(this,l)])}async editAltText(H,X){if(n(this,a)||!X)return;j(this,pe,us).call(this),ne(this,P,!1);for(const W of this._elements)W.addEventListener("click",n(this,_));const{altText:M,decorative:T}=X.altTextData;T===!0?(n(this,A).checked=!0,n(this,b).checked=!1):(n(this,A).checked=!1,n(this,b).checked=!0),ne(this,k,n(this,x).value=(M==null?void 0:M.trim())||""),j(this,Ie,$i).call(this),ne(this,a,X),ne(this,R,H),n(this,R).removeEditListeners(),n(this,E)._on("resize",n(this,y));try{await n(this,v).open(n(this,d)),j(this,$,Wi).call(this)}catch(W){throw j(this,te,ji).call(this),W}}destroy(){var H;ne(this,R,null),j(this,G,Zt).call(this),(H=n(this,V))==null||H.remove(),ne(this,V,ne(this,z,null))}}S=new WeakMap,y=new WeakMap,_=new WeakMap,a=new WeakMap,l=new WeakMap,d=new WeakMap,E=new WeakMap,P=new WeakMap,b=new WeakMap,A=new WeakMap,v=new WeakMap,w=new WeakMap,x=new WeakMap,R=new WeakMap,k=new WeakMap,V=new WeakMap,z=new WeakMap,K=new WeakMap,ve=new WeakMap,pe=new WeakSet,us=function(){if(n(this,V))return;const H=new s.DOMSVGFactory,X=ne(this,V,H.createElement("svg"));X.setAttribute("width","0"),X.setAttribute("height","0");const M=H.createElement("defs");X.append(M);const T=H.createElement("mask");M.append(T),T.setAttribute("id","alttext-manager-mask"),T.setAttribute("maskContentUnits","objectBoundingBox");let W=H.createElement("rect");T.append(W),W.setAttribute("fill","white"),W.setAttribute("width","1"),W.setAttribute("height","1"),W.setAttribute("x","0"),W.setAttribute("y","0"),W=ne(this,z,H.createElement("rect")),T.append(W),W.setAttribute("fill","black"),n(this,d).append(X)},$=new WeakSet,Wi=function(){if(!n(this,a))return;const H=n(this,d),{style:X}=H,{x:M,y:T,width:W,height:Z}=n(this,K).getBoundingClientRect(),{innerWidth:q,innerHeight:we}=window,{width:Ae,height:Ee}=H.getBoundingClientRect(),{x:oe,y:Y,width:Q,height:de}=n(this,a).getClientDimensions(),be=10,Te=n(this,R).direction==="ltr",ke=Math.max(oe,M),Ne=Math.min(oe+Q,M+W),ze=Math.max(Y,T),We=Math.min(Y+de,T+Z);n(this,z).setAttribute("width",`${(Ne-ke)/q}`),n(this,z).setAttribute("height",`${(We-ze)/we}`),n(this,z).setAttribute("x",`${ke/q}`),n(this,z).setAttribute("y",`${ze/we}`);let qe=null,Ge=Math.max(Y,0);Ge+=Math.min(we-(Ge+Ee),0),Te?oe+Q+be+Ae<q?qe=oe+Q+be:oe>Ae+be&&(qe=oe-Ae-be):oe>Ae+be?qe=oe-Ae-be:oe+Q+be+Ae<q&&(qe=oe+Q+be),qe===null&&(Ge=null,qe=Math.max(oe,0),qe+=Math.min(q-(qe+Ae),0),Y>Ee+be?Ge=Y-Ee-be:Y+de+be+Ee<we&&(Ge=Y+de+be)),Ge!==null?(H.classList.add("positioned"),Te?X.left=`${qe}px`:X.right=`${q-qe-Ae}px`,X.top=`${Ge}px`):(H.classList.remove("positioned"),X.left="",X.top="")},G=new WeakSet,Zt=function(){n(this,v).active===n(this,d)&&n(this,v).close(n(this,d))},te=new WeakSet,ji=function(){var H;n(this,E).dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:n(this,a).editorType,data:n(this,ve)||{action:"alt_text_cancel",alt_text_keyboard:!n(this,P)}}}),ne(this,ve,null),j(this,N,qi).call(this),(H=n(this,R))==null||H.addEditListeners(),n(this,E)._off("resize",n(this,y)),n(this,a).altTextFinish(),ne(this,a,null),ne(this,R,null)},Ie=new WeakSet,$i=function(){n(this,x).disabled=n(this,A).checked},I=new WeakSet,fs=function(){const H=n(this,x).value.trim(),X=n(this,A).checked;n(this,a).altTextData={altText:H,decorative:X},ne(this,ve,{action:"alt_text_save",alt_text_description:!!H,alt_text_edit:!!n(this,k)&&n(this,k)!==H,alt_text_decorative:X,alt_text_keyboard:!n(this,P)}),j(this,G,Zt).call(this)},m=new WeakSet,ps=function(H){H.detail!==0&&(ne(this,P,!0),j(this,N,qi).call(this))},N=new WeakSet,qi=function(){for(const H of this._elements)H.removeEventListener("click",n(this,_))},u.AltTextManager=o},(C,u,c)=>{var S,gs;Object.defineProperty(u,"__esModule",{value:!0}),u.AnnotationEditorParams=void 0;var s=c(5);class o{constructor(a,l){D(this,S);this.eventBus=l,j(this,S,gs).call(this,a)}}S=new WeakSet,gs=function({editorFreeTextFontSize:a,editorFreeTextColor:l,editorInkColor:d,editorInkThickness:E,editorInkOpacity:P,editorStampAddImage:b}){const A=(v,w)=>{this.eventBus.dispatch("switchannotationeditorparams",{source:this,type:s.AnnotationEditorParamsType[v],value:w})};a.addEventListener("input",function(){A("FREETEXT_SIZE",this.valueAsNumber)}),l.addEventListener("input",function(){A("FREETEXT_COLOR",this.value)}),d.addEventListener("input",function(){A("INK_COLOR",this.value)}),E.addEventListener("input",function(){A("INK_THICKNESS",this.valueAsNumber)}),P.addEventListener("input",function(){A("INK_OPACITY",this.valueAsNumber)}),b.addEventListener("click",()=>{A("CREATE")}),this.eventBus._on("annotationeditorparamschanged",v=>{for(const[w,x]of v.details)switch(w){case s.AnnotationEditorParamsType.FREETEXT_SIZE:a.value=x;break;case s.AnnotationEditorParamsType.FREETEXT_COLOR:l.value=x;break;case s.AnnotationEditorParamsType.INK_COLOR:d.value=x;break;case s.AnnotationEditorParamsType.INK_THICKNESS:E.value=x;break;case s.AnnotationEditorParamsType.INK_OPACITY:P.value=x;break}})},u.AnnotationEditorParams=o},(C,u)=>{var s,o;Object.defineProperty(u,"__esModule",{value:!0}),u.OverlayManager=void 0;class c{constructor(){D(this,s,new WeakMap);D(this,o,null)}get active(){return n(this,o)}async register(y,_=!1){if(typeof y!="object")throw new Error("Not enough parameters.");if(n(this,s).has(y))throw new Error("The overlay is already registered.");n(this,s).set(y,{canForceClose:_}),y.addEventListener("cancel",a=>{ne(this,o,null)})}async open(y){if(n(this,s).has(y)){if(n(this,o)){if(n(this,o)===y)throw new Error("The overlay is already active.");if(n(this,s).get(y).canForceClose)await this.close();else throw new Error("Another overlay is currently active.")}}else throw new Error("The overlay does not exist.");ne(this,o,y),y.showModal()}async close(y=n(this,o)){if(n(this,s).has(y))if(n(this,o)){if(n(this,o)!==y)throw new Error("Another overlay is currently active.")}else throw new Error("The overlay is currently not active.");else throw new Error("The overlay does not exist.");y.close(),ne(this,o,null)}}s=new WeakMap,o=new WeakMap,u.OverlayManager=c},(C,u,c)=>{var S,y,_,a,Gi,d,ms,P,Ki;Object.defineProperty(u,"__esModule",{value:!0}),u.PasswordPrompt=void 0;var s=c(5);class o{constructor(v,w,x,R=!1){D(this,a);D(this,d);D(this,P);D(this,S,null);D(this,y,null);D(this,_,null);this.dialog=v.dialog,this.label=v.label,this.input=v.input,this.submitButton=v.submitButton,this.cancelButton=v.cancelButton,this.overlayManager=w,this.l10n=x,this._isViewerEmbedded=R,this.submitButton.addEventListener("click",j(this,a,Gi).bind(this)),this.cancelButton.addEventListener("click",this.close.bind(this)),this.input.addEventListener("keydown",k=>{k.keyCode===13&&j(this,a,Gi).call(this)}),this.overlayManager.register(this.dialog,!0),this.dialog.addEventListener("close",j(this,d,ms).bind(this))}async open(){n(this,S)&&await n(this,S).promise,ne(this,S,new s.PromiseCapability);try{await this.overlayManager.open(this.dialog)}catch(w){throw n(this,S).resolve(),w}const v=n(this,_)===s.PasswordResponses.INCORRECT_PASSWORD;(!this._isViewerEmbedded||v)&&this.input.focus(),this.label.textContent=await this.l10n.get(`password_${v?"invalid":"label"}`)}async close(){this.overlayManager.active===this.dialog&&this.overlayManager.close(this.dialog)}async setUpdateCallback(v,w){n(this,S)&&await n(this,S).promise,ne(this,y,v),ne(this,_,w)}}S=new WeakMap,y=new WeakMap,_=new WeakMap,a=new WeakSet,Gi=function(){const v=this.input.value;(v==null?void 0:v.length)>0&&j(this,P,Ki).call(this,v)},d=new WeakSet,ms=function(){j(this,P,Ki).call(this,new Error("PasswordPrompt cancelled.")),n(this,S).resolve()},P=new WeakSet,Ki=function(v){n(this,y)&&(this.close(),this.input.value="",n(this,y).call(this,v),ne(this,y,null))},u.PasswordPrompt=o},(C,u,c)=>{var _,_s;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFAttachmentViewer=void 0;var s=c(5),o=c(17),S=c(10);class y extends o.BaseTreeViewer{constructor(E){super(E);D(this,_);this.downloadManager=E.downloadManager,this.eventBus._on("fileattachmentannotation",j(this,_,_s).bind(this))}reset(E=!1){super.reset(),this._attachments=null,E||(this._renderedCapability=new s.PromiseCapability),this._pendingDispatchEvent=!1}async _dispatchEvent(E){this._renderedCapability.resolve(),!(E===0&&!this._pendingDispatchEvent&&(this._pendingDispatchEvent=!0,await(0,S.waitOnEventOrTimeout)({target:this.eventBus,name:"annotationlayerrendered",delay:1e3}),!this._pendingDispatchEvent))&&(this._pendingDispatchEvent=!1,this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:E}))}_bindLink(E,{content:P,filename:b}){E.onclick=()=>(this.downloadManager.openOrDownloadData(E,P,b),!1)}render({attachments:E,keepRenderedCapability:P=!1}){if(this._attachments&&this.reset(P),this._attachments=E||null,!E){this._dispatchEvent(0);return}const b=document.createDocumentFragment();let A=0;for(const v in E){const w=E[v],x=w.content,R=(0,s.getFilenameFromUrl)(w.filename,!0),k=document.createElement("div");k.className="treeItem";const V=document.createElement("a");this._bindLink(V,{content:x,filename:R}),V.textContent=this._normalizeTextContent(R),k.append(V),b.append(k),A++}this._finishRendering(b,A)}}_=new WeakSet,_s=function({filename:E,content:P}){const b=this._renderedCapability.promise;b.then(()=>{if(b!==this._renderedCapability.promise)return;const A=this._attachments||Object.create(null);for(const v in A)if(E===v)return;A[E]={filename:E,content:P},this.render({attachments:A,keepRenderedCapability:!0})})},u.PDFAttachmentViewer=y},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BaseTreeViewer=void 0;var s=c(4);const o=-100,S="selected";class y{constructor(a){if(this.constructor===y)throw new Error("Cannot initialize BaseTreeViewer.");this.container=a.container,this.eventBus=a.eventBus,this.reset()}reset(){this._pdfDocument=null,this._lastToggleIsShow=!0,this._currentTreeItem=null,this.container.textContent="",this.container.classList.remove("treeWithDeepNesting")}_dispatchEvent(a){throw new Error("Not implemented: _dispatchEvent")}_bindLink(a,l){throw new Error("Not implemented: _bindLink")}_normalizeTextContent(a){return(0,s.removeNullCharacters)(a,!0)||""}_addToggleButton(a,l=!1){const d=document.createElement("div");d.className="treeItemToggler",l&&d.classList.add("treeItemsHidden"),d.onclick=E=>{if(E.stopPropagation(),d.classList.toggle("treeItemsHidden"),E.shiftKey){const P=!d.classList.contains("treeItemsHidden");this._toggleTreeItem(a,P)}},a.prepend(d)}_toggleTreeItem(a,l=!1){this._lastToggleIsShow=l;for(const d of a.querySelectorAll(".treeItemToggler"))d.classList.toggle("treeItemsHidden",!l)}_toggleAllTreeItems(){this._toggleTreeItem(this.container,!this._lastToggleIsShow)}_finishRendering(a,l,d=!1){d&&(this.container.classList.add("treeWithDeepNesting"),this._lastToggleIsShow=!a.querySelector(".treeItemsHidden")),this.container.append(a),this._dispatchEvent(l)}render(a){throw new Error("Not implemented: render")}_updateCurrentTreeItem(a=null){this._currentTreeItem&&(this._currentTreeItem.classList.remove(S),this._currentTreeItem=null),a&&(a.classList.add(S),this._currentTreeItem=a)}_scrollToCurrentTreeItem(a){if(!a)return;let l=a.parentNode;for(;l&&l!==this.container;){if(l.classList.contains("treeItem")){const d=l.firstElementChild;d==null||d.classList.remove("treeItemsHidden")}l=l.parentNode}this._updateCurrentTreeItem(a),this.container.scrollTo(a.offsetLeft,a.offsetTop+o)}}u.BaseTreeViewer=y},(C,u,c)=>{var E,P,Xi,A,Mt,w,Yi,R,bs,V,Zi,K,vs;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFDocumentProperties=void 0;var s=c(4),o=c(5);const S="-",y=["en-us","en-lr","my"],_={"8.5x11":"Letter","8.5x14":"Legal"},a={"297x420":"A3","210x297":"A4"};function l(pe,_e,$){const ee=_e?pe.width:pe.height,G=_e?pe.height:pe.width;return $[`${ee}x${G}`]}class d{constructor({dialog:_e,fields:$,closeButton:ee},G,ue,te,xe){D(this,P);D(this,A);D(this,w);D(this,R);D(this,V);D(this,K);D(this,E,null);this.dialog=_e,this.fields=$,this.overlayManager=G,this.l10n=te,this._fileNameLookup=xe,j(this,P,Xi).call(this),ee.addEventListener("click",this.close.bind(this)),this.overlayManager.register(this.dialog),ue._on("pagechanging",Ie=>{this._currentPageNumber=Ie.pageNumber}),ue._on("rotationchanging",Ie=>{this._pagesRotation=Ie.pagesRotation}),this._isNonMetricLocale=!0,te.getLanguage().then(Ie=>{this._isNonMetricLocale=y.includes(Ie)})}async open(){await Promise.all([this.overlayManager.open(this.dialog),this._dataAvailableCapability.promise]);const _e=this._currentPageNumber,$=this._pagesRotation;if(n(this,E)&&_e===n(this,E)._currentPageNumber&&$===n(this,E)._pagesRotation){j(this,A,Mt).call(this);return}const{info:ee,contentLength:G}=await this.pdfDocument.getMetadata(),[ue,te,xe,Ie,le,I]=await Promise.all([this._fileNameLookup(),j(this,w,Yi).call(this,G),j(this,V,Zi).call(this,ee.CreationDate),j(this,V,Zi).call(this,ee.ModDate),this.pdfDocument.getPage(_e).then(g=>j(this,R,bs).call(this,(0,s.getPageSizeInches)(g),$)),j(this,K,vs).call(this,ee.IsLinearized)]);ne(this,E,Object.freeze({fileName:ue,fileSize:te,title:ee.Title,author:ee.Author,subject:ee.Subject,keywords:ee.Keywords,creationDate:xe,modificationDate:Ie,creator:ee.Creator,producer:ee.Producer,version:ee.PDFFormatVersion,pageCount:this.pdfDocument.numPages,pageSize:le,linearized:I,_currentPageNumber:_e,_pagesRotation:$})),j(this,A,Mt).call(this);const{length:F}=await this.pdfDocument.getDownloadInfo();if(G===F)return;const m=Object.assign(Object.create(null),n(this,E));m.fileSize=await j(this,w,Yi).call(this,F),ne(this,E,Object.freeze(m)),j(this,A,Mt).call(this)}async close(){this.overlayManager.close(this.dialog)}setDocument(_e){this.pdfDocument&&(j(this,P,Xi).call(this),j(this,A,Mt).call(this,!0)),_e&&(this.pdfDocument=_e,this._dataAvailableCapability.resolve())}}E=new WeakMap,P=new WeakSet,Xi=function(){this.pdfDocument=null,ne(this,E,null),this._dataAvailableCapability=new o.PromiseCapability,this._currentPageNumber=1,this._pagesRotation=0},A=new WeakSet,Mt=function(_e=!1){if(_e||!n(this,E)){for(const $ in this.fields)this.fields[$].textContent=S;return}if(this.overlayManager.active===this.dialog)for(const $ in this.fields){const ee=n(this,E)[$];this.fields[$].textContent=ee||ee===0?ee:S}},w=new WeakSet,Yi=async function(_e=0){const $=_e/1024,ee=$/1024;if($)return this.l10n.get(`document_properties_${ee>=1?"mb":"kb"}`,{size_mb:ee>=1&&(+ee.toPrecision(3)).toLocaleString(),size_kb:ee<1&&(+$.toPrecision(3)).toLocaleString(),size_b:_e.toLocaleString()})},R=new WeakSet,bs=async function(_e,$){if(!_e)return;$%180!==0&&(_e={width:_e.height,height:_e.width});const ee=(0,s.isPortraitOrientation)(_e);let G={width:Math.round(_e.width*100)/100,height:Math.round(_e.height*100)/100},ue={width:Math.round(_e.width*25.4*10)/10,height:Math.round(_e.height*25.4*10)/10},te=l(G,ee,_)||l(ue,ee,a);if(!te&&!(Number.isInteger(ue.width)&&Number.isInteger(ue.height))){const m={width:_e.width*25.4,height:_e.height*25.4},g={width:Math.round(ue.width),height:Math.round(ue.height)};Math.abs(m.width-g.width)<.1&&Math.abs(m.height-g.height)<.1&&(te=l(g,ee,a),te&&(G={width:Math.round(g.width/25.4*100)/100,height:Math.round(g.height/25.4*100)/100},ue=g))}const[{width:xe,height:Ie},le,I,F]=await Promise.all([this._isNonMetricLocale?G:ue,this.l10n.get(`document_properties_page_size_unit_${this._isNonMetricLocale?"inches":"millimeters"}`),te&&this.l10n.get(`document_properties_page_size_name_${te.toLowerCase()}`),this.l10n.get(`document_properties_page_size_orientation_${ee?"portrait":"landscape"}`)]);return this.l10n.get(`document_properties_page_size_dimension_${I?"name_":""}string`,{width:xe.toLocaleString(),height:Ie.toLocaleString(),unit:le,name:I,orientation:F})},V=new WeakSet,Zi=async function(_e){const $=o.PDFDateString.toDateObject(_e);if($)return this.l10n.get("document_properties_date_string",{date:$.toLocaleDateString(),time:$.toLocaleTimeString()})},K=new WeakSet,vs=function(_e){return this.l10n.get(`document_properties_linearized_${_e?"yes":"no"}`)},u.PDFDocumentProperties=d},(C,u,c)=>{var _,Lt;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFFindBar=void 0;var s=c(20),o=c(4);const S=1e3;class y{constructor(d,E,P){D(this,_);this.opened=!1,this.bar=d.bar,this.toggleButton=d.toggleButton,this.findField=d.findField,this.highlightAll=d.highlightAllCheckbox,this.caseSensitive=d.caseSensitiveCheckbox,this.matchDiacritics=d.matchDiacriticsCheckbox,this.entireWord=d.entireWordCheckbox,this.findMsg=d.findMsg,this.findResultsCount=d.findResultsCount,this.findPreviousButton=d.findPreviousButton,this.findNextButton=d.findNextButton,this.eventBus=E,this.l10n=P,this.toggleButton.addEventListener("click",()=>{this.toggle()}),this.findField.addEventListener("input",()=>{this.dispatchEvent("")}),this.bar.addEventListener("keydown",b=>{switch(b.keyCode){case 13:b.target===this.findField&&this.dispatchEvent("again",b.shiftKey);break;case 27:this.close();break}}),this.findPreviousButton.addEventListener("click",()=>{this.dispatchEvent("again",!0)}),this.findNextButton.addEventListener("click",()=>{this.dispatchEvent("again",!1)}),this.highlightAll.addEventListener("click",()=>{this.dispatchEvent("highlightallchange")}),this.caseSensitive.addEventListener("click",()=>{this.dispatchEvent("casesensitivitychange")}),this.entireWord.addEventListener("click",()=>{this.dispatchEvent("entirewordchange")}),this.matchDiacritics.addEventListener("click",()=>{this.dispatchEvent("diacriticmatchingchange")}),this.eventBus._on("resize",j(this,_,Lt).bind(this))}reset(){this.updateUIState()}dispatchEvent(d,E=!1){this.eventBus.dispatch("find",{source:this,type:d,query:this.findField.value,caseSensitive:this.caseSensitive.checked,entireWord:this.entireWord.checked,highlightAll:this.highlightAll.checked,findPrevious:E,matchDiacritics:this.matchDiacritics.checked})}updateUIState(d,E,P){let b=Promise.resolve(""),A="";switch(d){case s.FindState.FOUND:break;case s.FindState.PENDING:A="pending";break;case s.FindState.NOT_FOUND:b=this.l10n.get("find_not_found"),A="notFound";break;case s.FindState.WRAPPED:b=this.l10n.get(`find_reached_${E?"top":"bottom"}`);break}this.findField.setAttribute("data-status",A),this.findField.setAttribute("aria-invalid",d===s.FindState.NOT_FOUND),b.then(v=>{this.findMsg.setAttribute("data-status",A),this.findMsg.textContent=v,j(this,_,Lt).call(this)}),this.updateResultsCount(P)}updateResultsCount({current:d=0,total:E=0}={}){const P=S;let b=Promise.resolve("");if(E>0)if(E>P){let A="find_match_count_limit";b=this.l10n.get(A,{limit:P})}else{let A="find_match_count";b=this.l10n.get(A,{current:d,total:E})}b.then(A=>{this.findResultsCount.textContent=A,j(this,_,Lt).call(this)})}open(){this.opened||(this.opened=!0,(0,o.toggleExpandedBtn)(this.toggleButton,!0,this.bar)),this.findField.select(),this.findField.focus(),j(this,_,Lt).call(this)}close(){this.opened&&(this.opened=!1,(0,o.toggleExpandedBtn)(this.toggleButton,!1,this.bar),this.eventBus.dispatch("findbarclose",{source:this}))}toggle(){this.opened?this.close():this.open()}}_=new WeakSet,Lt=function(){if(!this.opened)return;this.bar.classList.remove("wrapContainers");const d=this.bar.clientHeight,E=this.bar.firstElementChild.clientHeight;d>E&&this.bar.classList.add("wrapContainers")},u.PDFFindBar=y},(C,u,c)=>{var $,ee,G,ue,ws,xe,Qi,le,Ji,F,ys,g,Es,U,Ss,H,en,M,As,W,Ps,q,Qt,Ae,xt,oe,vt,Q,Cs,be,tn,ke,nn,ze,Jt,qe,Ts,Je,sn,ce,rn,ge,It;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFFindController=u.FindState=void 0;var s=c(4),o=c(21),S=c(5);const y={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};u.FindState=y;const _=250,a=-50,l=-400,d={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},E=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let P;const b=/\p{M}+/gu,A=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,v=/([^\p{M}])\p{M}*$/u,w=/^\p{M}*([^\p{M}])/u,x=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,R=new Map,k="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",V=new Map;let z=null,K=null;function ve(Se){const me=[];let Pe;for(;(Pe=x.exec(Se))!==null;){let{index:he}=Pe;for(const J of Pe[0]){let B=R.get(J);B||(B=J.normalize("NFD").length,R.set(J,B)),me.push([B,he++])}}let Me;if(me.length===0&&z)Me=z;else if(me.length>0&&K)Me=K;else{const he=Object.keys(d).join(""),J=(0,o.getNormalizeWithNFKC)(),ye=`([${he}])|([${J}])|((?:|)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[-])\\n)|(\\n)`;me.length===0?Me=z=new RegExp(ye+"|(\\u0000)","gum"):Me=K=new RegExp(ye+`|(${k})`,"gum")}const fe=[];for(;(Pe=b.exec(Se))!==null;)fe.push([Pe[0].length,Pe.index]);let Re=Se.normalize("NFD");const Oe=[[0,0]];let Fe=0,Ve=0,Ue=0,$e=0,Be=0,Ke=!1;return Re=Re.replace(Me,(he,J,B,se,ye,Ce,Le,He,je,De)=>{var tt,Ye,Ze;if(De-=$e,J){const Xe=d[J],et=Xe.length;for(let it=1;it<et;it++)Oe.push([De-Ue+it,Ue-it]);return Ue-=et-1,Xe}if(B){let Xe=V.get(B);Xe||(Xe=B.normalize("NFKC"),V.set(B,Xe));const et=Xe.length;for(let it=1;it<et;it++)Oe.push([De-Ue+it,Ue-it]);return Ue-=et-1,Xe}if(se)return Ke=!0,De+Be===((tt=fe[Fe])==null?void 0:tt[1])?++Fe:(Oe.push([De-1-Ue+1,Ue-1]),Ue-=1,$e+=1),Oe.push([De-Ue+1,Ue]),$e+=1,Be+=1,se.charAt(0);if(ye){const Xe=ye.endsWith(`
`),et=Xe?ye.length-2:ye.length;Ke=!0;let it=et;De+Be===((Ye=fe[Fe])==null?void 0:Ye[1])&&(it-=fe[Fe][0],++Fe);for(let nt=1;nt<=it;nt++)Oe.push([De-1-Ue+nt,Ue-nt]);return Ue-=it,$e+=it,Xe?(De+=et-1,Oe.push([De-Ue+1,1+Ue]),Ue+=1,$e+=1,Be+=1,ye.slice(0,et)):ye}if(Ce){const Xe=Ce.length-2;return Oe.push([De-Ue+Xe,1+Ue]),Ue+=1,$e+=1,Be+=1,Ce.slice(0,-2)}if(Le){const Xe=Le.length-1;return Oe.push([De-Ue+Xe,Ue]),$e+=1,Be+=1,Le.slice(0,-1)}if(He)return Oe.push([De-Ue+1,Ue-1]),Ue-=1,$e+=1,Be+=1," ";if(De+Be===((Ze=me[Ve])==null?void 0:Ze[1])){const Xe=me[Ve][0]-1;++Ve;for(let et=1;et<=Xe;et++)Oe.push([De-(Ue-et),Ue-et]);Ue-=Xe,$e+=Xe}return je}),Oe.push([Re.length,Ue]),[Re,Oe,Ke]}function pe(Se,me,Pe){if(!Se)return[me,Pe];const Me=me,fe=me+Pe-1;let Re=(0,s.binarySearchFirstItem)(Se,$e=>$e[0]>=Me);Se[Re][0]>Me&&--Re;let Oe=(0,s.binarySearchFirstItem)(Se,$e=>$e[0]>=fe,Re);Se[Oe][0]>fe&&--Oe;const Fe=Me+Se[Re][1],Ue=fe+Se[Oe][1]+1-Fe;return[Fe,Ue]}class _e{constructor({linkService:me,eventBus:Pe,updateMatchesCountOnProgress:Me=!0}){D(this,ue);D(this,xe);D(this,le);D(this,F);D(this,g);D(this,U);D(this,H);D(this,M);D(this,W);D(this,q);D(this,Ae);D(this,oe);D(this,Q);D(this,be);D(this,ke);D(this,ze);D(this,qe);D(this,Je);D(this,ce);D(this,ge);D(this,$,null);D(this,ee,!0);D(this,G,0);this._linkService=me,this._eventBus=Pe,ne(this,ee,Me),this.onIsPageVisible=null,j(this,xe,Qi).call(this),Pe._on("find",j(this,ue,ws).bind(this)),Pe._on("findbarclose",j(this,qe,Ts).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return n(this,$)}setDocument(me){this._pdfDocument&&j(this,xe,Qi).call(this),me&&(this._pdfDocument=me,this._firstPageCapability.resolve())}scrollMatchIntoView({element:me=null,selectedLeft:Pe=0,pageIndex:Me=-1,matchIndex:fe=-1}){if(!this._scrollMatches||!me)return;if(fe===-1||fe!==this._selected.matchIdx)return;if(Me===-1||Me!==this._selected.pageIdx)return;this._scrollMatches=!1;const Re={top:a,left:Pe+l};(0,s.scrollIntoView)(me,Re,!0)}}$=new WeakMap,ee=new WeakMap,G=new WeakMap,ue=new WeakSet,ws=function(me){if(!me)return;const Pe=this._pdfDocument,{type:Me}=me;(n(this,$)===null||j(this,F,ys).call(this,me))&&(this._dirtyMatch=!0),ne(this,$,me),Me!=="highlightallchange"&&j(this,ge,It).call(this,y.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Pe&&this._pdfDocument!==Pe)return;j(this,W,Ps).call(this);const fe=!this._highlightMatches,Re=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Me?this._dirtyMatch?j(this,oe,vt).call(this):Me==="again"?(j(this,oe,vt).call(this),fe&&n(this,$).highlightAll&&j(this,Ae,xt).call(this)):Me==="highlightallchange"?(Re?j(this,oe,vt).call(this):this._highlightMatches=!0,j(this,Ae,xt).call(this)):j(this,oe,vt).call(this):this._findTimeout=setTimeout(()=>{j(this,oe,vt).call(this),this._findTimeout=null},_)})},xe=new WeakSet,Qi=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],ne(this,G,0),ne(this,$,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new S.PromiseCapability},le=new WeakSet,Ji=function(){const{query:me}=n(this,$);return typeof me=="string"?(me!==this._rawQuery&&(this._rawQuery=me,[this._normalizedQuery]=ve(me)),this._normalizedQuery):(me||[]).filter(Pe=>!!Pe).map(Pe=>ve(Pe)[0])},F=new WeakSet,ys=function(me){var Oe;const Pe=me.query,Me=n(this,$).query,fe=typeof Pe;if(fe!==typeof Me)return!0;if(fe==="string"){if(Pe!==Me)return!0}else if(JSON.stringify(Pe)!==JSON.stringify(Me))return!0;switch(me.type){case"again":const Fe=this._selected.pageIdx+1,Ve=this._linkService;return Fe>=1&&Fe<=Ve.pagesCount&&Fe!==Ve.page&&!(((Oe=this.onIsPageVisible)==null?void 0:Oe.call(this,Fe))??!0);case"highlightallchange":return!1}return!0},g=new WeakSet,Es=function(me,Pe,Me){let fe=me.slice(0,Pe).match(v);if(fe){const Re=me.charCodeAt(Pe),Oe=fe[1].charCodeAt(0);if((0,o.getCharacterType)(Re)===(0,o.getCharacterType)(Oe))return!1}if(fe=me.slice(Pe+Me).match(w),fe){const Re=me.charCodeAt(Pe+Me-1),Oe=fe[1].charCodeAt(0);if((0,o.getCharacterType)(Re)===(0,o.getCharacterType)(Oe))return!1}return!0},U=new WeakSet,Ss=function(me,Pe,Me,fe){const Re=this._pageMatches[Me]=[],Oe=this._pageMatchesLength[Me]=[];if(!me)return;const Fe=this._pageDiffs[Me];let Ve;for(;(Ve=me.exec(fe))!==null;){if(Pe&&!j(this,g,Es).call(this,fe,Ve.index,Ve[0].length))continue;const[Ue,$e]=pe(Fe,Ve.index,Ve[0].length);$e&&(Re.push(Ue),Oe.push($e))}},H=new WeakSet,en=function(me,Pe){const{matchDiacritics:Me}=n(this,$);let fe=!1;me=me.replaceAll(A,(Oe,Fe,Ve,Ue,$e,Be)=>Fe?`[ ]*\\${Fe}[ ]*`:Ve?`[ ]*${Ve}[ ]*`:Ue?"[ ]+":Me?$e||Be:$e?E.has($e.charCodeAt(0))?$e:"":Pe?(fe=!0,`${Be}\\p{M}*`):Be);const Re="[ ]*";return me.endsWith(Re)&&(me=me.slice(0,me.length-Re.length)),Me&&Pe&&(P||(P=String.fromCharCode(...E)),fe=!0,me=`${me}(?=[${P}]|[^\\p{M}]|$)`),[fe,me]},M=new WeakSet,As=function(me){let Pe=n(this,le,Ji);if(Pe.length===0)return;const{caseSensitive:Me,entireWord:fe}=n(this,$),Re=this._pageContents[me],Oe=this._hasDiacritics[me];let Fe=!1;typeof Pe=="string"?[Fe,Pe]=j(this,H,en).call(this,Pe,Oe):Pe=Pe.sort().reverse().map($e=>{const[Be,Ke]=j(this,H,en).call(this,$e,Oe);return Fe||(Fe=Be),`(${Ke})`}).join("|");const Ve=`g${Fe?"u":""}${Me?"":"i"}`;Pe=Pe?new RegExp(Pe,Ve):null,j(this,U,Ss).call(this,Pe,fe,me,Re),n(this,$).highlightAll&&j(this,q,Qt).call(this,me),this._resumePageIdx===me&&(this._resumePageIdx=null,j(this,be,tn).call(this));const Ue=this._pageMatches[me].length;this._matchesCountTotal+=Ue,n(this,ee)?Ue>0&&j(this,ce,rn).call(this):++ft(this,G)._===this._linkService.pagesCount&&j(this,ce,rn).call(this)},W=new WeakSet,Ps=function(){if(this._extractTextPromises.length>0)return;let me=Promise.resolve();const Pe={disableNormalization:!0};for(let Me=0,fe=this._linkService.pagesCount;Me<fe;Me++){const Re=new S.PromiseCapability;this._extractTextPromises[Me]=Re.promise,me=me.then(()=>this._pdfDocument.getPage(Me+1).then(Oe=>Oe.getTextContent(Pe)).then(Oe=>{const Fe=[];for(const Ve of Oe.items)Fe.push(Ve.str),Ve.hasEOL&&Fe.push(`
`);[this._pageContents[Me],this._pageDiffs[Me],this._hasDiacritics[Me]]=ve(Fe.join("")),Re.resolve()},Oe=>{console.error(`Unable to get text content for page ${Me+1}`,Oe),this._pageContents[Me]="",this._pageDiffs[Me]=null,this._hasDiacritics[Me]=!1,Re.resolve()}))}},q=new WeakSet,Qt=function(me){this._scrollMatches&&this._selected.pageIdx===me&&(this._linkService.page=me+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:me})},Ae=new WeakSet,xt=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},oe=new WeakSet,vt=function(){const me=n(this,$).findPrevious,Pe=this._linkService.page-1,Me=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Pe,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,ne(this,G,0),this._matchesCountTotal=0,j(this,Ae,xt).call(this);for(let Oe=0;Oe<Me;Oe++)this._pendingFindMatches.has(Oe)||(this._pendingFindMatches.add(Oe),this._extractTextPromises[Oe].then(()=>{this._pendingFindMatches.delete(Oe),j(this,M,As).call(this,Oe)}))}if(n(this,le,Ji).length===0){j(this,ge,It).call(this,y.FOUND);return}if(this._resumePageIdx)return;const Re=this._offset;if(this._pagesToSearch=Me,Re.matchIdx!==null){const Oe=this._pageMatches[Re.pageIdx].length;if(!me&&Re.matchIdx+1<Oe||me&&Re.matchIdx>0){Re.matchIdx=me?Re.matchIdx-1:Re.matchIdx+1,j(this,ze,Jt).call(this,!0);return}j(this,ke,nn).call(this,me)}j(this,be,tn).call(this)},Q=new WeakSet,Cs=function(me){const Pe=this._offset,Me=me.length,fe=n(this,$).findPrevious;return Me?(Pe.matchIdx=fe?Me-1:0,j(this,ze,Jt).call(this,!0),!0):(j(this,ke,nn).call(this,fe),Pe.wrapped&&(Pe.matchIdx=null,this._pagesToSearch<0)?(j(this,ze,Jt).call(this,!1),!0):!1)},be=new WeakSet,tn=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let me=null;do{const Pe=this._offset.pageIdx;if(me=this._pageMatches[Pe],!me){this._resumePageIdx=Pe;break}}while(!j(this,Q,Cs).call(this,me))},ke=new WeakSet,nn=function(me){const Pe=this._offset,Me=this._linkService.pagesCount;Pe.pageIdx=me?Pe.pageIdx-1:Pe.pageIdx+1,Pe.matchIdx=null,this._pagesToSearch--,(Pe.pageIdx>=Me||Pe.pageIdx<0)&&(Pe.pageIdx=me?Me-1:0,Pe.wrapped=!0)},ze=new WeakSet,Jt=function(me=!1){let Pe=y.NOT_FOUND;const Me=this._offset.wrapped;if(this._offset.wrapped=!1,me){const fe=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Pe=Me?y.WRAPPED:y.FOUND,fe!==-1&&fe!==this._selected.pageIdx&&j(this,q,Qt).call(this,fe)}j(this,ge,It).call(this,Pe,n(this,$).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,j(this,q,Qt).call(this,this._selected.pageIdx))},qe=new WeakSet,Ts=function(me){const Pe=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Pe&&this._pdfDocument!==Pe||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),j(this,ge,It).call(this,y.FOUND),this._highlightMatches=!1,j(this,Ae,xt).call(this))})},Je=new WeakSet,sn=function(){var Re;const{pageIdx:me,matchIdx:Pe}=this._selected;let Me=0,fe=this._matchesCountTotal;if(Pe!==-1){for(let Oe=0;Oe<me;Oe++)Me+=((Re=this._pageMatches[Oe])==null?void 0:Re.length)||0;Me+=Pe+1}return(Me<1||Me>fe)&&(Me=fe=0),{current:Me,total:fe}},ce=new WeakSet,rn=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:j(this,Je,sn).call(this)})},ge=new WeakSet,It=function(me,Pe=!1){var Me;!n(this,ee)&&(n(this,G)!==this._linkService.pagesCount||me===y.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:me,previous:Pe,matchesCount:j(this,Je,sn).call(this),rawQuery:((Me=n(this,$))==null?void 0:Me.query)??null})},u.PDFFindController=_e},(C,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CharacterType=void 0,u.getCharacterType=b,u.getNormalizeWithNFKC=v;const c={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};u.CharacterType=c;function s(w){return w<11904}function o(w){return(w&65408)===0}function S(w){return w>=97&&w<=122||w>=65&&w<=90}function y(w){return w>=48&&w<=57}function _(w){return w===32||w===9||w===13||w===10}function a(w){return w>=13312&&w<=40959||w>=63744&&w<=64255}function l(w){return w>=12448&&w<=12543}function d(w){return w>=12352&&w<=12447}function E(w){return w>=65376&&w<=65439}function P(w){return(w&65408)===3584}function b(w){return s(w)?o(w)?_(w)?c.SPACE:S(w)||y(w)||w===95?c.ALPHA_LETTER:c.PUNCT:P(w)?c.THAI_LETTER:w===160?c.SPACE:c.ALPHA_LETTER:a(w)?c.HAN_LETTER:l(w)?c.KATAKANA_LETTER:d(w)?c.HIRAGANA_LETTER:E(w)?c.HALFWIDTH_KATAKANA_LETTER:c.ALPHA_LETTER}let A;function v(){return A||(A="---------------------------------------------------------------------------------------------------"),A}},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFHistory=void 0,u.isDestArraysEqual=E,u.isDestHashesEqual=d;var s=c(4),o=c(10);const S=1e3,y=50,_=1e3;function a(){return document.location.hash}class l{constructor({linkService:b,eventBus:A}){this.linkService=b,this.eventBus=A,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",v=>{this._isPagesLoaded=!!v.pagesCount},{once:!0})})}initialize({fingerprint:b,resetHistory:A=!1,updateUrl:v=!1}){if(!b||typeof b!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const w=this._fingerprint!==""&&this._fingerprint!==b;this._fingerprint=b,this._updateUrl=v===!0,this._initialized=!0,this._bindEvents();const x=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=a(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(x,!0)||A){const{hash:k,page:V,rotation:z}=this._parseCurrentHash(!0);if(!k||w||A){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:k,page:V,rotation:z},!0);return}const R=x.destination;this._updateInternalState(R,x.uid,!0),R.rotation!==void 0&&(this._initialRotation=R.rotation),R.dest?(this._initialBookmark=JSON.stringify(R.dest),this._destination.page=null):R.hash?this._initialBookmark=R.hash:R.page&&(this._initialBookmark=`page=${R.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:b=null,explicitDest:A,pageNumber:v}){if(!this._initialized)return;if(b&&typeof b!="string"){console.error(`PDFHistory.push: "${b}" is not a valid namedDest parameter.`);return}else if(Array.isArray(A)){if(!this._isValidPage(v)&&(v!==null||this._destination)){console.error(`PDFHistory.push: "${v}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${A}" is not a valid explicitDest parameter.`);return}const w=b||JSON.stringify(A);if(!w)return;let x=!1;if(this._destination&&(d(this._destination.hash,w)||E(this._destination.dest,A))){if(this._destination.page)return;x=!0}this._popStateInProgress&&!x||(this._pushOrReplaceState({dest:A,hash:w,page:v,rotation:this.linkService.rotation},x),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(b){var A;if(this._initialized){if(!this._isValidPage(b)){console.error(`PDFHistory.pushPage: "${b}" is not a valid page number.`);return}((A=this._destination)==null?void 0:A.page)!==b&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${b}`,page:b,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const b=window.history.state;this._isValidState(b)&&b.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const b=window.history.state;this._isValidState(b)&&b.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(b,A=!1){const v=A||!this._destination,w={fingerprint:this._fingerprint,uid:v?this._uid:this._uid+1,destination:b};this._updateInternalState(b,w.uid);let x;if(this._updateUrl&&(b!=null&&b.hash)){const R=document.location.href.split("#")[0];R.startsWith("file://")||(x=`${R}#${b.hash}`)}v?window.history.replaceState(w,"",x):window.history.pushState(w,"",x)}_tryPushCurrentPosition(b=!1){if(!this._position)return;let A=this._position;if(b&&(A=Object.assign(Object.create(null),this._position),A.temporary=!0),!this._destination){this._pushOrReplaceState(A);return}if(this._destination.temporary){this._pushOrReplaceState(A,!0);return}if(this._destination.hash===A.hash||!this._destination.page&&this._numPositionUpdates<=y)return;let v=!1;if(this._destination.page>=A.first&&this._destination.page<=A.page){if(this._destination.dest!==void 0||!this._destination.first)return;v=!0}this._pushOrReplaceState(A,v)}_isValidPage(b){return Number.isInteger(b)&&b>0&&b<=this.linkService.pagesCount}_isValidState(b,A=!1){if(!b)return!1;if(b.fingerprint!==this._fingerprint)if(A){if(typeof b.fingerprint!="string"||b.fingerprint.length!==this._fingerprint.length)return!1;const[v]=performance.getEntriesByType("navigation");if((v==null?void 0:v.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(b.uid)||b.uid<0||b.destination===null||typeof b.destination!="object")}_updateInternalState(b,A,v=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),v&&(b!=null&&b.temporary)&&delete b.temporary,this._destination=b,this._uid=A,this._maxUid=Math.max(this._maxUid,A),this._numPositionUpdates=0}_parseCurrentHash(b=!1){const A=unescape(a()).substring(1),v=(0,s.parseQueryString)(A),w=v.get("nameddest")||"";let x=v.get("page")|0;return(!this._isValidPage(x)||b&&w.length>0)&&(x=null),{hash:A,page:x,rotation:this.linkService.rotation}}_updateViewarea({location:b}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:b.pdfOpenParams.substring(1),page:this.linkService.page,first:b.pageNumber,rotation:b.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},_))}_popState({state:b}){const A=a(),v=this._currentHash!==A;if(this._currentHash=A,!b){this._uid++;const{hash:x,page:R,rotation:k}=this._parseCurrentHash();this._pushOrReplaceState({hash:x,page:R,rotation:k},!0);return}if(!this._isValidState(b))return;this._popStateInProgress=!0,v&&(this._blockHashChange++,(0,o.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:S}).then(()=>{this._blockHashChange--}));const w=b.destination;this._updateInternalState(w,b.uid,!0),(0,s.isValidRotation)(w.rotation)&&(this.linkService.rotation=w.rotation),w.dest?this.linkService.goToDestination(w.dest):w.hash?this.linkService.setHash(w.hash):w.page&&(this.linkService.page=w.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}u.PDFHistory=l;function d(P,b){return typeof P!="string"||typeof b!="string"?!1:P===b||(0,s.parseQueryString)(P).get("nameddest")===b}function E(P,b){function A(v,w){if(typeof v!=typeof w||Array.isArray(v)||Array.isArray(w))return!1;if(v!==null&&typeof v=="object"&&w!==null){if(Object.keys(v).length!==Object.keys(w).length)return!1;for(const x in v)if(!A(v[x],w[x]))return!1;return!0}return v===w||Number.isNaN(v)&&Number.isNaN(w)}if(!(Array.isArray(P)&&Array.isArray(b))||P.length!==b.length)return!1;for(let v=0,w=P.length;v<w;v++)if(!A(P[v],b[v]))return!1;return!0}},(C,u,c)=>{var S,an;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFLayerViewer=void 0;var s=c(17);class o extends s.BaseTreeViewer{constructor(l){super(l);D(this,S);this.l10n=l.l10n,this.eventBus._on("optionalcontentconfigchanged",d=>{j(this,S,an).call(this,d.promise)}),this.eventBus._on("resetlayers",()=>{j(this,S,an).call(this)}),this.eventBus._on("togglelayerstree",this._toggleAllTreeItems.bind(this))}reset(){super.reset(),this._optionalContentConfig=null,this._optionalContentHash=null}_dispatchEvent(l){this.eventBus.dispatch("layersloaded",{source:this,layersCount:l})}_bindLink(l,{groupId:d,input:E}){const P=()=>{this._optionalContentConfig.setVisibility(d,E.checked),this._optionalContentHash=this._optionalContentConfig.getHash(),this.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(this._optionalContentConfig)})};l.onclick=b=>b.target===E?(P(),!0):b.target!==l?!0:(E.checked=!E.checked,P(),!1)}async _setNestedName(l,{name:d=null}){if(typeof d=="string"){l.textContent=this._normalizeTextContent(d);return}l.textContent=await this.l10n.get("additional_layers"),l.style.fontStyle="italic"}_addToggleButton(l,{name:d=null}){super._addToggleButton(l,d===null)}_toggleAllTreeItems(){this._optionalContentConfig&&super._toggleAllTreeItems()}render({optionalContentConfig:l,pdfDocument:d}){this._optionalContentConfig&&this.reset(),this._optionalContentConfig=l||null,this._pdfDocument=d||null;const E=l==null?void 0:l.getOrder();if(!E){this._dispatchEvent(0);return}this._optionalContentHash=l.getHash();const P=document.createDocumentFragment(),b=[{parent:P,groups:E}];let A=0,v=!1;for(;b.length>0;){const w=b.shift();for(const x of w.groups){const R=document.createElement("div");R.className="treeItem";const k=document.createElement("a");if(R.append(k),typeof x=="object"){v=!0,this._addToggleButton(R,x),this._setNestedName(k,x);const V=document.createElement("div");V.className="treeItems",R.append(V),b.push({parent:V,groups:x.order})}else{const V=l.getGroup(x),z=document.createElement("input");this._bindLink(k,{groupId:x,input:z}),z.type="checkbox",z.checked=V.visible;const K=document.createElement("label");K.textContent=this._normalizeTextContent(V.name),K.append(z),k.append(K),A++}w.parent.append(R)}}this._finishRendering(P,A,v)}}S=new WeakSet,an=async function(l=null){if(!this._optionalContentConfig)return;const d=this._pdfDocument,E=await(l||d.getOptionalContentConfig());if(d===this._pdfDocument){if(l){if(E.getHash()===this._optionalContentHash)return}else this.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(E)});this.render({optionalContentConfig:E,pdfDocument:this._pdfDocument})}},u.PDFLayerViewer=o},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFOutlineViewer=void 0;var s=c(17),o=c(5),S=c(4);class y extends s.BaseTreeViewer{constructor(a){super(a),this.linkService=a.linkService,this.downloadManager=a.downloadManager,this.eventBus._on("toggleoutlinetree",this._toggleAllTreeItems.bind(this)),this.eventBus._on("currentoutlineitem",this._currentOutlineItem.bind(this)),this.eventBus._on("pagechanging",l=>{this._currentPageNumber=l.pageNumber}),this.eventBus._on("pagesloaded",l=>{this._isPagesLoaded=!!l.pagesCount,this._currentOutlineItemCapability&&!this._currentOutlineItemCapability.settled&&this._currentOutlineItemCapability.resolve(this._isPagesLoaded)}),this.eventBus._on("sidebarviewchanged",l=>{this._sidebarView=l.view})}reset(){super.reset(),this._outline=null,this._pageNumberToDestHashCapability=null,this._currentPageNumber=1,this._isPagesLoaded=null,this._currentOutlineItemCapability&&!this._currentOutlineItemCapability.settled&&this._currentOutlineItemCapability.resolve(!1),this._currentOutlineItemCapability=null}_dispatchEvent(a){var l;this._currentOutlineItemCapability=new o.PromiseCapability,a===0||(l=this._pdfDocument)!=null&&l.loadingParams.disableAutoFetch?this._currentOutlineItemCapability.resolve(!1):this._isPagesLoaded!==null&&this._currentOutlineItemCapability.resolve(this._isPagesLoaded),this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:a,currentOutlineItemPromise:this._currentOutlineItemCapability.promise})}_bindLink(a,{url:l,newWindow:d,action:E,attachment:P,dest:b,setOCGState:A}){const{linkService:v}=this;if(l){v.addLinkAttributes(a,l,d);return}if(E){a.href=v.getAnchorUrl(""),a.onclick=()=>(v.executeNamedAction(E),!1);return}if(P){a.href=v.getAnchorUrl(""),a.onclick=()=>(this.downloadManager.openOrDownloadData(a,P.content,P.filename),!1);return}if(A){a.href=v.getAnchorUrl(""),a.onclick=()=>(v.executeSetOCGState(A),!1);return}a.href=v.getDestinationHash(b),a.onclick=w=>(this._updateCurrentTreeItem(w.target.parentNode),b&&v.goToDestination(b),!1)}_setStyles(a,{bold:l,italic:d}){l&&(a.style.fontWeight="bold"),d&&(a.style.fontStyle="italic")}_addToggleButton(a,{count:l,items:d}){let E=!1;if(l<0){let P=d.length;if(P>0){const b=[...d];for(;b.length>0;){const{count:A,items:v}=b.shift();A>0&&v.length>0&&(P+=v.length,b.push(...v))}}Math.abs(l)===P&&(E=!0)}super._addToggleButton(a,E)}_toggleAllTreeItems(){this._outline&&super._toggleAllTreeItems()}render({outline:a,pdfDocument:l}){if(this._outline&&this.reset(),this._outline=a||null,this._pdfDocument=l||null,!a){this._dispatchEvent(0);return}const d=document.createDocumentFragment(),E=[{parent:d,items:a}];let P=0,b=!1;for(;E.length>0;){const A=E.shift();for(const v of A.items){const w=document.createElement("div");w.className="treeItem";const x=document.createElement("a");if(this._bindLink(x,v),this._setStyles(x,v),x.textContent=this._normalizeTextContent(v.title),w.append(x),v.items.length>0){b=!0,this._addToggleButton(w,v);const R=document.createElement("div");R.className="treeItems",w.append(R),E.push({parent:R,items:v.items})}A.parent.append(w),P++}}this._finishRendering(d,P,b)}async _currentOutlineItem(){if(!this._isPagesLoaded)throw new Error("_currentOutlineItem: All pages have not been loaded.");if(!this._outline||!this._pdfDocument)return;const a=await this._getPageNumberToDestHash(this._pdfDocument);if(a&&(this._updateCurrentTreeItem(null),this._sidebarView===S.SidebarView.OUTLINE))for(let l=this._currentPageNumber;l>0;l--){const d=a.get(l);if(!d)continue;const E=this.container.querySelector(`a[href="${d}"]`);if(E){this._scrollToCurrentTreeItem(E.parentNode);break}}}async _getPageNumberToDestHash(a){if(this._pageNumberToDestHashCapability)return this._pageNumberToDestHashCapability.promise;this._pageNumberToDestHashCapability=new o.PromiseCapability;const l=new Map,d=new Map,E=[{nesting:0,items:this._outline}];for(;E.length>0;){const P=E.shift(),b=P.nesting;for(const{dest:A,items:v}of P.items){let w,x;if(typeof A=="string"){if(w=await a.getDestination(A),a!==this._pdfDocument)return null}else w=A;if(Array.isArray(w)){const[R]=w;if(typeof R=="object"&&R!==null){if(x=this.linkService._cachedPageNumber(R),!x)try{if(x=await a.getPageIndex(R)+1,a!==this._pdfDocument)return null;this.linkService.cachePageRef(x,R)}catch{}}else Number.isInteger(R)&&(x=R+1);if(Number.isInteger(x)&&(!l.has(x)||b>d.get(x))){const k=this.linkService.getDestinationHash(A);l.set(x,k),d.set(x,b)}}v.length>0&&E.push({nesting:b+1,items:v})}}return this._pageNumberToDestHashCapability.resolve(l.size>0?l:null),this._pageNumberToDestHashCapability.promise}}u.PDFOutlineViewer=y},(C,u,c)=>{var b,A,v,Rs,x,kt,k,Ms,z,Ls,ve,xs,_e,Is,ee,on,ue,ks,xe,Ot,le,Os,F,Fs,g,Ns,U,Ds,H,Bs,M,ln;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFPresentationMode=void 0;var s=c(4),o=c(5);const S=3e3,y="pdfPresentationMode",_="pdfPresentationModeControls",a=50,l=.1,d=50,E=Math.PI/6;class P{constructor({container:Z,pdfViewer:q,eventBus:we}){D(this,v);D(this,x);D(this,k);D(this,z);D(this,ve);D(this,_e);D(this,ee);D(this,ue);D(this,xe);D(this,le);D(this,F);D(this,g);D(this,U);D(this,H);D(this,M);D(this,b,s.PresentationModeState.UNKNOWN);D(this,A,null);this.container=Z,this.pdfViewer=q,this.eventBus=we,this.contextMenuOpen=!1,this.mouseScrollTimeStamp=0,this.mouseScrollDelta=0,this.touchSwipeState=null}async request(){const{container:Z,pdfViewer:q}=this;if(this.active||!q.pagesCount||!Z.requestFullscreen)return!1;j(this,H,Bs).call(this),j(this,x,kt).call(this,s.PresentationModeState.CHANGING);const we=Z.requestFullscreen();ne(this,A,{pageNumber:q.currentPageNumber,scaleValue:q.currentScaleValue,scrollMode:q.scrollMode,spreadMode:null,annotationEditorMode:null}),q.spreadMode!==s.SpreadMode.NONE&&!(q.pageViewsReady&&q.hasEqualPageSizes)&&(console.warn("Ignoring Spread modes when entering PresentationMode, since the document may contain varying page sizes."),n(this,A).spreadMode=q.spreadMode),q.annotationEditorMode!==o.AnnotationEditorType.DISABLE&&(n(this,A).annotationEditorMode=q.annotationEditorMode);try{return await we,q.focus(),!0}catch{j(this,M,ln).call(this),j(this,x,kt).call(this,s.PresentationModeState.NORMAL)}return!1}get active(){return n(this,b)===s.PresentationModeState.CHANGING||n(this,b)===s.PresentationModeState.FULLSCREEN}}b=new WeakMap,A=new WeakMap,v=new WeakSet,Rs=function(Z){if(!this.active)return;Z.preventDefault();const q=(0,s.normalizeWheelEventDelta)(Z),we=Date.now(),Ae=this.mouseScrollTimeStamp;if(!(we>Ae&&we-Ae<a)&&((this.mouseScrollDelta>0&&q<0||this.mouseScrollDelta<0&&q>0)&&j(this,xe,Ot).call(this),this.mouseScrollDelta+=q,Math.abs(this.mouseScrollDelta)>=l)){const Ee=this.mouseScrollDelta;j(this,xe,Ot).call(this),(Ee>0?this.pdfViewer.previousPage():this.pdfViewer.nextPage())&&(this.mouseScrollTimeStamp=we)}},x=new WeakSet,kt=function(Z){ne(this,b,Z),this.eventBus.dispatch("presentationmodechanged",{source:this,state:Z})},k=new WeakSet,Ms=function(){j(this,x,kt).call(this,s.PresentationModeState.FULLSCREEN),this.container.classList.add(y),setTimeout(()=>{this.pdfViewer.scrollMode=s.ScrollMode.PAGE,n(this,A).spreadMode!==null&&(this.pdfViewer.spreadMode=s.SpreadMode.NONE),this.pdfViewer.currentPageNumber=n(this,A).pageNumber,this.pdfViewer.currentScaleValue="page-fit",n(this,A).annotationEditorMode!==null&&(this.pdfViewer.annotationEditorMode={mode:o.AnnotationEditorType.NONE})},0),j(this,F,Fs).call(this),j(this,ee,on).call(this),this.contextMenuOpen=!1,window.getSelection().removeAllRanges()},z=new WeakSet,Ls=function(){const Z=this.pdfViewer.currentPageNumber;this.container.classList.remove(y),setTimeout(()=>{j(this,M,ln).call(this),j(this,x,kt).call(this,s.PresentationModeState.NORMAL),this.pdfViewer.scrollMode=n(this,A).scrollMode,n(this,A).spreadMode!==null&&(this.pdfViewer.spreadMode=n(this,A).spreadMode),this.pdfViewer.currentScaleValue=n(this,A).scaleValue,this.pdfViewer.currentPageNumber=Z,n(this,A).annotationEditorMode!==null&&(this.pdfViewer.annotationEditorMode={mode:n(this,A).annotationEditorMode}),ne(this,A,null)},0),j(this,g,Ns).call(this),j(this,ue,ks).call(this),j(this,xe,Ot).call(this),this.contextMenuOpen=!1},ve=new WeakSet,xs=function(Z){var q;if(this.contextMenuOpen){this.contextMenuOpen=!1,Z.preventDefault();return}Z.button===0&&(Z.target.href&&((q=Z.target.parentNode)!=null&&q.hasAttribute("data-internal-link"))||(Z.preventDefault(),Z.shiftKey?this.pdfViewer.previousPage():this.pdfViewer.nextPage()))},_e=new WeakSet,Is=function(){this.contextMenuOpen=!0},ee=new WeakSet,on=function(){this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add(_),this.controlsTimeout=setTimeout(()=>{this.container.classList.remove(_),delete this.controlsTimeout},S)},ue=new WeakSet,ks=function(){this.controlsTimeout&&(clearTimeout(this.controlsTimeout),this.container.classList.remove(_),delete this.controlsTimeout)},xe=new WeakSet,Ot=function(){this.mouseScrollTimeStamp=0,this.mouseScrollDelta=0},le=new WeakSet,Os=function(Z){if(this.active){if(Z.touches.length>1){this.touchSwipeState=null;return}switch(Z.type){case"touchstart":this.touchSwipeState={startX:Z.touches[0].pageX,startY:Z.touches[0].pageY,endX:Z.touches[0].pageX,endY:Z.touches[0].pageY};break;case"touchmove":if(this.touchSwipeState===null)return;this.touchSwipeState.endX=Z.touches[0].pageX,this.touchSwipeState.endY=Z.touches[0].pageY,Z.preventDefault();break;case"touchend":if(this.touchSwipeState===null)return;let q=0;const we=this.touchSwipeState.endX-this.touchSwipeState.startX,Ae=this.touchSwipeState.endY-this.touchSwipeState.startY,Ee=Math.abs(Math.atan2(Ae,we));Math.abs(we)>d&&(Ee<=E||Ee>=Math.PI-E)?q=we:Math.abs(Ae)>d&&Math.abs(Ee-Math.PI/2)<=E&&(q=Ae),q>0?this.pdfViewer.previousPage():q<0&&this.pdfViewer.nextPage();break}}},F=new WeakSet,Fs=function(){this.showControlsBind=j(this,ee,on).bind(this),this.mouseDownBind=j(this,ve,xs).bind(this),this.mouseWheelBind=j(this,v,Rs).bind(this),this.resetMouseScrollStateBind=j(this,xe,Ot).bind(this),this.contextMenuBind=j(this,_e,Is).bind(this),this.touchSwipeBind=j(this,le,Os).bind(this),window.addEventListener("mousemove",this.showControlsBind),window.addEventListener("mousedown",this.mouseDownBind),window.addEventListener("wheel",this.mouseWheelBind,{passive:!1}),window.addEventListener("keydown",this.resetMouseScrollStateBind),window.addEventListener("contextmenu",this.contextMenuBind),window.addEventListener("touchstart",this.touchSwipeBind),window.addEventListener("touchmove",this.touchSwipeBind),window.addEventListener("touchend",this.touchSwipeBind)},g=new WeakSet,Ns=function(){window.removeEventListener("mousemove",this.showControlsBind),window.removeEventListener("mousedown",this.mouseDownBind),window.removeEventListener("wheel",this.mouseWheelBind,{passive:!1}),window.removeEventListener("keydown",this.resetMouseScrollStateBind),window.removeEventListener("contextmenu",this.contextMenuBind),window.removeEventListener("touchstart",this.touchSwipeBind),window.removeEventListener("touchmove",this.touchSwipeBind),window.removeEventListener("touchend",this.touchSwipeBind),delete this.showControlsBind,delete this.mouseDownBind,delete this.mouseWheelBind,delete this.resetMouseScrollStateBind,delete this.contextMenuBind,delete this.touchSwipeBind},U=new WeakSet,Ds=function(){document.fullscreenElement?j(this,k,Ms).call(this):j(this,z,Ls).call(this)},H=new WeakSet,Bs=function(){this.fullscreenChangeBind=j(this,U,Ds).bind(this),window.addEventListener("fullscreenchange",this.fullscreenChangeBind)},M=new WeakSet,ln=function(){window.removeEventListener("fullscreenchange",this.fullscreenChangeBind),delete this.fullscreenChangeBind},u.PDFPresentationMode=P},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFRenderingQueue=void 0;var s=c(5),o=c(4);const S=3e4;class y{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(a){this.pdfViewer=a}setThumbnailViewer(a){this.pdfThumbnailViewer=a}isHighestPriority(a){return this.highestPriorityPage===a.renderingId}renderHighestPriority(a){var l;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(a)&&(this.isThumbnailViewEnabled&&((l=this.pdfThumbnailViewer)!=null&&l.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),S)))}getHighestPriority(a,l,d,E=!1){const P=a.views,b=P.length;if(b===0)return null;for(let R=0;R<b;R++){const k=P[R].view;if(!this.isViewFinished(k))return k}const A=a.first.id,v=a.last.id;if(v-A+1>b){const R=a.ids;for(let k=1,V=v-A;k<V;k++){const z=d?A+k:v-k;if(R.has(z))continue;const K=l[z-1];if(!this.isViewFinished(K))return K}}let w=d?v:A-2,x=l[w];return x&&!this.isViewFinished(x)||E&&(w+=d?1:-1,x=l[w],x&&!this.isViewFinished(x))?x:null}isViewFinished(a){return a.renderingState===o.RenderingStates.FINISHED}renderView(a){switch(a.renderingState){case o.RenderingStates.FINISHED:return!1;case o.RenderingStates.PAUSED:this.highestPriorityPage=a.renderingId,a.resume();break;case o.RenderingStates.RUNNING:this.highestPriorityPage=a.renderingId;break;case o.RenderingStates.INITIAL:this.highestPriorityPage=a.renderingId,a.draw().finally(()=>{this.renderHighestPriority()}).catch(l=>{l instanceof s.RenderingCancelledException||console.error(`renderView: "${l}"`)});break}return!0}}u.PDFRenderingQueue=y},(C,u,c)=>{var y,_,a,l,d,E,P,b,A,v,w,x,Vs,k,ei,z,cn,ve,Hs,_e,Ft;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFScriptingManager=void 0;var s=c(4),o=c(5);class S{constructor({eventBus:G,sandboxBundleSrc:ue=null,externalServices:te=null,docProperties:xe=null}){D(this,x);D(this,k);D(this,z);D(this,ve);D(this,_e);D(this,y,null);D(this,_,null);D(this,a,null);D(this,l,null);D(this,d,null);D(this,E,null);D(this,P,null);D(this,b,!1);D(this,A,null);D(this,v,null);D(this,w,null);ne(this,l,G),ne(this,A,ue),ne(this,d,te),ne(this,a,xe)}setViewer(G){ne(this,P,G)}async setDocument(G){var Ie;if(n(this,E)&&await j(this,_e,Ft).call(this),ne(this,E,G),!G)return;const[ue,te,xe]=await Promise.all([G.getFieldObjects(),G.getCalculationOrderIds(),G.getJSActions()]);if(!ue&&!xe){await j(this,_e,Ft).call(this);return}if(G===n(this,E)){try{ne(this,v,j(this,ve,Hs).call(this))}catch(le){console.error(`setDocument: "${le.message}".`),await j(this,_e,Ft).call(this);return}this._internalEvents.set("updatefromsandbox",le=>{(le==null?void 0:le.source)===window&&j(this,x,Vs).call(this,le.detail)}),this._internalEvents.set("dispatcheventinsandbox",le=>{var I;(I=n(this,v))==null||I.dispatchEventInSandbox(le.detail)}),this._internalEvents.set("pagechanging",({pageNumber:le,previous:I})=>{le!==I&&(j(this,z,cn).call(this,I),j(this,k,ei).call(this,le))}),this._internalEvents.set("pagerendered",({pageNumber:le})=>{this._pageOpenPending.has(le)&&le===n(this,P).currentPageNumber&&j(this,k,ei).call(this,le)}),this._internalEvents.set("pagesdestroy",async()=>{var le,I;await j(this,z,cn).call(this,n(this,P).currentPageNumber),await((le=n(this,v))==null?void 0:le.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(I=n(this,y))==null||I.resolve()});for(const[le,I]of this._internalEvents)n(this,l)._on(le,I);try{const le=await n(this,a).call(this,G);if(G!==n(this,E))return;await n(this,v).createSandbox({objects:ue,calculationOrder:te,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...le,actions:xe}}),n(this,l).dispatch("sandboxcreated",{source:this})}catch(le){console.error(`setDocument: "${le.message}".`),await j(this,_e,Ft).call(this);return}await((Ie=n(this,v))==null?void 0:Ie.dispatchEventInSandbox({id:"doc",name:"Open"})),await j(this,k,ei).call(this,n(this,P).currentPageNumber,!0),Promise.resolve().then(()=>{G===n(this,E)&&ne(this,b,!0)})}}async dispatchWillSave(){var G;return(G=n(this,v))==null?void 0:G.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var G;return(G=n(this,v))==null?void 0:G.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var G;if(n(this,v)){await((G=n(this,w))==null?void 0:G.promise),ne(this,w,new o.PromiseCapability);try{await n(this,v).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(ue){throw n(this,w).resolve(),ne(this,w,null),ue}await n(this,w).promise}}async dispatchDidPrint(){var G;return(G=n(this,v))==null?void 0:G.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var G;return((G=n(this,_))==null?void 0:G.promise)||null}get ready(){return n(this,b)}get _internalEvents(){return(0,o.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,o.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,o.shadow)(this,"_visitedPages",new Map)}}y=new WeakMap,_=new WeakMap,a=new WeakMap,l=new WeakMap,d=new WeakMap,E=new WeakMap,P=new WeakMap,b=new WeakMap,A=new WeakMap,v=new WeakMap,w=new WeakMap,x=new WeakSet,Vs=async function(G){var m,g;const ue=n(this,P),te=ue.isInPresentationMode||ue.isChangingPresentationMode,{id:xe,siblings:Ie,command:le,value:I}=G;if(!xe){switch(le){case"clear":console.clear();break;case"error":console.error(I);break;case"layout":if(!te){const N=(0,s.apiPageLayoutToViewerModes)(I);ue.spreadMode=N.spreadMode}break;case"page-num":ue.currentPageNumber=I+1;break;case"print":await ue.pagesPromise,n(this,l).dispatch("print",{source:this});break;case"println":console.log(I);break;case"zoom":te||(ue.currentScaleValue=I);break;case"SaveAs":n(this,l).dispatch("download",{source:this});break;case"FirstPage":ue.currentPageNumber=1;break;case"LastPage":ue.currentPageNumber=ue.pagesCount;break;case"NextPage":ue.nextPage();break;case"PrevPage":ue.previousPage();break;case"ZoomViewIn":te||ue.increaseScale();break;case"ZoomViewOut":te||ue.decreaseScale();break;case"WillPrintFinished":(m=n(this,w))==null||m.resolve(),ne(this,w,null);break}return}if(te&&G.focus)return;delete G.id,delete G.siblings;const F=Ie?[xe,...Ie]:[xe];for(const N of F){const U=document.querySelector(`[data-element-id="${N}"]`);U?U.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:G})):(g=n(this,E))==null||g.annotationStorage.setValue(N,G)}},k=new WeakSet,ei=async function(G,ue=!1){const te=n(this,E),xe=this._visitedPages;if(ue&&ne(this,y,new o.PromiseCapability),!n(this,y))return;const Ie=n(this,P).getPageView(G-1);if((Ie==null?void 0:Ie.renderingState)!==s.RenderingStates.FINISHED){this._pageOpenPending.add(G);return}this._pageOpenPending.delete(G);const le=(async()=>{var F,m;const I=await(xe.has(G)?null:(F=Ie.pdfPage)==null?void 0:F.getJSActions());te===n(this,E)&&await((m=n(this,v))==null?void 0:m.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:G,actions:I}))})();xe.set(G,le)},z=new WeakSet,cn=async function(G){var Ie;const ue=n(this,E),te=this._visitedPages;if(!n(this,y)||this._pageOpenPending.has(G))return;const xe=te.get(G);xe&&(te.set(G,null),await xe,ue===n(this,E)&&await((Ie=n(this,v))==null?void 0:Ie.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:G})))},ve=new WeakSet,Hs=function(){if(ne(this,_,new o.PromiseCapability),n(this,v))throw new Error("#initScripting: Scripting already exists.");return n(this,d).createScripting({sandboxBundleSrc:n(this,A)})},_e=new WeakSet,Ft=async function(){var G,ue,te;if(!n(this,v)){ne(this,E,null),(G=n(this,_))==null||G.resolve();return}n(this,y)&&(await Promise.race([n(this,y).promise,new Promise(xe=>{setTimeout(xe,1e3)})]).catch(()=>{}),ne(this,y,null)),ne(this,E,null);try{await n(this,v).destroySandbox()}catch{}(ue=n(this,w))==null||ue.reject(new Error("Scripting destroyed.")),ne(this,w,null);for(const[xe,Ie]of this._internalEvents)n(this,l)._off(xe,Ie);this._internalEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),ne(this,v,null),ne(this,b,!1),(te=n(this,_))==null||te.resolve()},u.PDFScriptingManager=S},(C,u,c)=>{var l,d,E,P,b,A,wt,w,Us,R,dn,V,zs,K,ti,pe,Ws,$,js;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFSidebar=void 0;var s=c(4);const o="--sidebar-width",S=200,y="sidebarResizing",_="pdfSidebarNotification";class a{constructor({elements:ue,eventBus:te,l10n:xe}){D(this,A);D(this,w);D(this,R);D(this,V);D(this,K);D(this,pe);D(this,$);D(this,l,!1);D(this,d,j(this,pe,Ws).bind(this));D(this,E,j(this,$,js).bind(this));D(this,P,null);D(this,b,null);this.isOpen=!1,this.active=s.SidebarView.THUMBS,this.isInitialViewSet=!1,this.isInitialEventDispatched=!1,this.onToggled=null,this.onUpdateThumbnails=null,this.outerContainer=ue.outerContainer,this.sidebarContainer=ue.sidebarContainer,this.toggleButton=ue.toggleButton,this.resizer=ue.resizer,this.thumbnailButton=ue.thumbnailButton,this.outlineButton=ue.outlineButton,this.attachmentsButton=ue.attachmentsButton,this.layersButton=ue.layersButton,this.thumbnailView=ue.thumbnailView,this.outlineView=ue.outlineView,this.attachmentsView=ue.attachmentsView,this.layersView=ue.layersView,this._outlineOptionsContainer=ue.outlineOptionsContainer,this._currentOutlineItemButton=ue.currentOutlineItemButton,this.eventBus=te,this.l10n=xe,xe.getDirection().then(Ie=>{ne(this,l,Ie==="rtl")}),j(this,V,zs).call(this)}reset(){this.isInitialViewSet=!1,this.isInitialEventDispatched=!1,j(this,R,dn).call(this,!0),this.switchView(s.SidebarView.THUMBS),this.outlineButton.disabled=!1,this.attachmentsButton.disabled=!1,this.layersButton.disabled=!1,this._currentOutlineItemButton.disabled=!0}get visibleView(){return this.isOpen?this.active:s.SidebarView.NONE}setInitialView(ue=s.SidebarView.NONE){if(!this.isInitialViewSet){if(this.isInitialViewSet=!0,ue===s.SidebarView.NONE||ue===s.SidebarView.UNKNOWN){j(this,A,wt).call(this);return}this.switchView(ue,!0),this.isInitialEventDispatched||j(this,A,wt).call(this)}}switchView(ue,te=!1){const xe=ue!==this.active;let Ie=!1;switch(ue){case s.SidebarView.NONE:this.isOpen&&this.close();return;case s.SidebarView.THUMBS:this.isOpen&&xe&&(Ie=!0);break;case s.SidebarView.OUTLINE:if(this.outlineButton.disabled)return;break;case s.SidebarView.ATTACHMENTS:if(this.attachmentsButton.disabled)return;break;case s.SidebarView.LAYERS:if(this.layersButton.disabled)return;break;default:console.error(`PDFSidebar.switchView: "${ue}" is not a valid view.`);return}if(this.active=ue,(0,s.toggleCheckedBtn)(this.thumbnailButton,ue===s.SidebarView.THUMBS,this.thumbnailView),(0,s.toggleCheckedBtn)(this.outlineButton,ue===s.SidebarView.OUTLINE,this.outlineView),(0,s.toggleCheckedBtn)(this.attachmentsButton,ue===s.SidebarView.ATTACHMENTS,this.attachmentsView),(0,s.toggleCheckedBtn)(this.layersButton,ue===s.SidebarView.LAYERS,this.layersView),this._outlineOptionsContainer.classList.toggle("hidden",ue!==s.SidebarView.OUTLINE),te&&!this.isOpen){this.open();return}Ie&&(this.onUpdateThumbnails(),this.onToggled()),xe&&j(this,A,wt).call(this)}open(){this.isOpen||(this.isOpen=!0,(0,s.toggleExpandedBtn)(this.toggleButton,!0),this.outerContainer.classList.add("sidebarMoving","sidebarOpen"),this.active===s.SidebarView.THUMBS&&this.onUpdateThumbnails(),this.onToggled(),j(this,A,wt).call(this),j(this,R,dn).call(this))}close(){this.isOpen&&(this.isOpen=!1,(0,s.toggleExpandedBtn)(this.toggleButton,!1),this.outerContainer.classList.add("sidebarMoving"),this.outerContainer.classList.remove("sidebarOpen"),this.onToggled(),j(this,A,wt).call(this))}toggle(){this.isOpen?this.close():this.open()}get outerContainerWidth(){return n(this,P)||ne(this,P,this.outerContainer.clientWidth)}}l=new WeakMap,d=new WeakMap,E=new WeakMap,P=new WeakMap,b=new WeakMap,A=new WeakSet,wt=function(){this.isInitialViewSet&&(this.isInitialEventDispatched||(this.isInitialEventDispatched=!0)),this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})},w=new WeakSet,Us=function(){this.toggleButton.setAttribute("data-l10n-id","toggle_sidebar_notification2"),this.l10n.translate(this.toggleButton),this.isOpen||this.toggleButton.classList.add(_)},R=new WeakSet,dn=function(ue=!1){(this.isOpen||ue)&&this.toggleButton.classList.remove(_),ue&&(this.toggleButton.setAttribute("data-l10n-id","toggle_sidebar"),this.l10n.translate(this.toggleButton))},V=new WeakSet,zs=function(){this.sidebarContainer.addEventListener("transitionend",te=>{te.target===this.sidebarContainer&&this.outerContainer.classList.remove("sidebarMoving")}),this.toggleButton.addEventListener("click",()=>{this.toggle()}),this.thumbnailButton.addEventListener("click",()=>{this.switchView(s.SidebarView.THUMBS)}),this.outlineButton.addEventListener("click",()=>{this.switchView(s.SidebarView.OUTLINE)}),this.outlineButton.addEventListener("dblclick",()=>{this.eventBus.dispatch("toggleoutlinetree",{source:this})}),this.attachmentsButton.addEventListener("click",()=>{this.switchView(s.SidebarView.ATTACHMENTS)}),this.layersButton.addEventListener("click",()=>{this.switchView(s.SidebarView.LAYERS)}),this.layersButton.addEventListener("dblclick",()=>{this.eventBus.dispatch("resetlayers",{source:this})}),this._currentOutlineItemButton.addEventListener("click",()=>{this.eventBus.dispatch("currentoutlineitem",{source:this})});const ue=(te,xe,Ie)=>{xe.disabled=!te,te?j(this,w,Us).call(this):this.active===Ie&&this.switchView(s.SidebarView.THUMBS)};this.eventBus._on("outlineloaded",te=>{ue(te.outlineCount,this.outlineButton,s.SidebarView.OUTLINE),te.currentOutlineItemPromise.then(xe=>{this.isInitialViewSet&&(this._currentOutlineItemButton.disabled=!xe)})}),this.eventBus._on("attachmentsloaded",te=>{ue(te.attachmentsCount,this.attachmentsButton,s.SidebarView.ATTACHMENTS)}),this.eventBus._on("layersloaded",te=>{ue(te.layersCount,this.layersButton,s.SidebarView.LAYERS)}),this.eventBus._on("presentationmodechanged",te=>{te.state===s.PresentationModeState.NORMAL&&this.visibleView===s.SidebarView.THUMBS&&this.onUpdateThumbnails()}),this.resizer.addEventListener("mousedown",te=>{te.button===0&&(this.outerContainer.classList.add(y),window.addEventListener("mousemove",n(this,d)),window.addEventListener("mouseup",n(this,E)))}),this.eventBus._on("resize",te=>{if(te.source!==window||(ne(this,P,null),!n(this,b)))return;if(!this.isOpen){j(this,K,ti).call(this,n(this,b));return}this.outerContainer.classList.add(y);const xe=j(this,K,ti).call(this,n(this,b));Promise.resolve().then(()=>{this.outerContainer.classList.remove(y),xe&&this.eventBus.dispatch("resize",{source:this})})})},K=new WeakSet,ti=function(ue=0){const te=Math.floor(this.outerContainerWidth/2);return ue>te&&(ue=te),ue<S&&(ue=S),ue===n(this,b)?!1:(ne(this,b,ue),s.docStyle.setProperty(o,`${ue}px`),!0)},pe=new WeakSet,Ws=function(ue){let te=ue.clientX;n(this,l)&&(te=this.outerContainerWidth-te),j(this,K,ti).call(this,te)},$=new WeakSet,js=function(ue){this.outerContainer.classList.remove(y),this.eventBus.dispatch("resize",{source:this}),window.removeEventListener("mousemove",n(this,d)),window.removeEventListener("mouseup",n(this,E))},u.PDFSidebar=a},(C,u,c)=>{var a,$s,d,qs;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFThumbnailViewer=void 0;var s=c(4),o=c(30);const S=-19,y="selected";class _{constructor({container:b,eventBus:A,linkService:v,renderingQueue:w,l10n:x,pageColors:R}){D(this,a);D(this,d);this.container=b,this.eventBus=A,this.linkService=v,this.renderingQueue=w,this.l10n=x,this.pageColors=R||null,this.scroll=(0,s.watchScroll)(this.container,this._scrollUpdated.bind(this)),this._resetView()}_scrollUpdated(){this.renderingQueue.renderHighestPriority()}getThumbnail(b){return this._thumbnails[b]}_getVisibleThumbs(){return(0,s.getVisibleElements)({scrollEl:this.container,views:this._thumbnails})}scrollThumbnailIntoView(b){if(!this.pdfDocument)return;const A=this._thumbnails[b-1];if(!A){console.error('scrollThumbnailIntoView: Invalid "pageNumber" parameter.');return}b!==this._currentPageNumber&&(this._thumbnails[this._currentPageNumber-1].div.classList.remove(y),A.div.classList.add(y));const{first:v,last:w,views:x}=this._getVisibleThumbs();if(x.length>0){let R=!1;if(b<=v.id||b>=w.id)R=!0;else for(const{id:k,percent:V}of x)if(k===b){R=V<100;break}R&&(0,s.scrollIntoView)(A.div,{top:S})}this._currentPageNumber=b}get pagesRotation(){return this._pagesRotation}set pagesRotation(b){if(!(0,s.isValidRotation)(b))throw new Error("Invalid thumbnails rotation angle.");if(!this.pdfDocument||this._pagesRotation===b)return;this._pagesRotation=b;const A={rotation:b};for(const v of this._thumbnails)v.update(A)}cleanup(){for(const b of this._thumbnails)b.renderingState!==s.RenderingStates.FINISHED&&b.reset();o.TempImageFactory.destroyCanvas()}_resetView(){this._thumbnails=[],this._currentPageNumber=1,this._pageLabels=null,this._pagesRotation=0,this.container.textContent=""}setDocument(b){if(this.pdfDocument&&(this._cancelRendering(),this._resetView()),this.pdfDocument=b,!b)return;const A=b.getPage(1),v=b.getOptionalContentConfig();A.then(w=>{var V;const x=b.numPages,R=w.getViewport({scale:1});for(let z=1;z<=x;++z){const K=new o.PDFThumbnailView({container:this.container,eventBus:this.eventBus,id:z,defaultViewport:R.clone(),optionalContentConfigPromise:v,linkService:this.linkService,renderingQueue:this.renderingQueue,l10n:this.l10n,pageColors:this.pageColors});this._thumbnails.push(K)}(V=this._thumbnails[0])==null||V.setPdfPage(w),this._thumbnails[this._currentPageNumber-1].div.classList.add(y)}).catch(w=>{console.error("Unable to initialize thumbnail viewer",w)})}_cancelRendering(){for(const b of this._thumbnails)b.cancelRendering()}setPageLabels(b){var A;if(this.pdfDocument){b?Array.isArray(b)&&this.pdfDocument.numPages===b.length?this._pageLabels=b:(this._pageLabels=null,console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let v=0,w=this._thumbnails.length;v<w;v++)this._thumbnails[v].setPageLabel(((A=this._pageLabels)==null?void 0:A[v])??null)}}forceRendering(){const b=this._getVisibleThumbs(),A=j(this,d,qs).call(this,b),v=this.renderingQueue.getHighestPriority(b,this._thumbnails,A);return v?(j(this,a,$s).call(this,v).then(()=>{this.renderingQueue.renderView(v)}),!0):!1}}a=new WeakSet,$s=async function(b){if(b.pdfPage)return b.pdfPage;try{const A=await this.pdfDocument.getPage(b.id);return b.pdfPage||b.setPdfPage(A),A}catch(A){return console.error("Unable to get page for thumb view",A),null}},d=new WeakSet,qs=function(b){var A,v;return((A=b.first)==null?void 0:A.id)===1?!0:((v=b.last)==null?void 0:v.id)===this._thumbnails.length?!1:this.scroll.down},u.PDFThumbnailViewer=_},(C,u,c)=>{var d,E,hn,b,un;Object.defineProperty(u,"__esModule",{value:!0}),u.TempImageFactory=u.PDFThumbnailView=void 0;var s=c(4),o=c(5);const S=2,y=3,_=98;class a{static getCanvas(w,x){const R=n(this,d)||ne(this,d,document.createElement("canvas"));R.width=w,R.height=x;const k=R.getContext("2d",{alpha:!1});return k.save(),k.fillStyle="rgb(255, 255, 255)",k.fillRect(0,0,w,x),k.restore(),[R,R.getContext("2d")]}static destroyCanvas(){const w=n(this,d);w&&(w.width=0,w.height=0),ne(this,d,null)}}d=new WeakMap,D(a,d,null),u.TempImageFactory=a;class l{constructor({container:w,eventBus:x,id:R,defaultViewport:k,optionalContentConfigPromise:V,linkService:z,renderingQueue:K,l10n:ve,pageColors:pe}){D(this,E);D(this,b);this.id=R,this.renderingId="thumbnail"+R,this.pageLabel=null,this.pdfPage=null,this.rotation=0,this.viewport=k,this.pdfPageRotate=k.rotation,this._optionalContentConfigPromise=V||null,this.pageColors=pe||null,this.eventBus=x,this.linkService=z,this.renderingQueue=K,this.renderTask=null,this.renderingState=s.RenderingStates.INITIAL,this.resume=null,this.l10n=ve;const _e=document.createElement("a");_e.href=z.getAnchorUrl("#page="+R),this._thumbPageTitle.then(G=>{_e.title=G}),_e.onclick=function(){return z.goToPage(R),!1},this.anchor=_e;const $=document.createElement("div");$.className="thumbnail",$.setAttribute("data-page-number",this.id),this.div=$,j(this,E,hn).call(this);const ee=document.createElement("div");ee.className="thumbnailImage",this._placeholderImg=ee,$.append(ee),_e.append($),w.append(_e)}setPdfPage(w){this.pdfPage=w,this.pdfPageRotate=w.rotate;const x=(this.rotation+this.pdfPageRotate)%360;this.viewport=w.getViewport({scale:1,rotation:x}),this.reset()}reset(){var w;this.cancelRendering(),this.renderingState=s.RenderingStates.INITIAL,this.div.removeAttribute("data-loaded"),(w=this.image)==null||w.replaceWith(this._placeholderImg),j(this,E,hn).call(this),this.image&&(this.image.removeAttribute("src"),delete this.image)}update({rotation:w=null}){typeof w=="number"&&(this.rotation=w);const x=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:x}),this.reset()}cancelRendering(){this.renderTask&&(this.renderTask.cancel(),this.renderTask=null),this.resume=null}_getPageDrawContext(w=1){const x=document.createElement("canvas"),R=x.getContext("2d",{alpha:!1}),k=new s.OutputScale;x.width=w*this.canvasWidth*k.sx|0,x.height=w*this.canvasHeight*k.sy|0;const V=k.scaled?[k.sx,0,0,k.sy,0,0]:null;return{ctx:R,canvas:x,transform:V}}_convertCanvasToImage(w){if(this.renderingState!==s.RenderingStates.FINISHED)throw new Error("_convertCanvasToImage: Rendering has not finished.");const x=this._reduceImage(w),R=document.createElement("img");R.className="thumbnailImage",this._thumbPageCanvas.then(k=>{R.setAttribute("aria-label",k)}),R.src=x.toDataURL(),this.image=R,this.div.setAttribute("data-loaded",!0),this._placeholderImg.replaceWith(R),x.width=0,x.height=0}async draw(){if(this.renderingState!==s.RenderingStates.INITIAL){console.error("Must be in new state before drawing");return}const{pdfPage:w}=this;if(!w)throw this.renderingState=s.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=s.RenderingStates.RUNNING;const{ctx:x,canvas:R,transform:k}=this._getPageDrawContext(S),V=this.viewport.clone({scale:S*this.scale}),z=_e=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=s.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=s.RenderingStates.RUNNING,_e()};return}_e()},K={canvasContext:x,transform:k,viewport:V,optionalContentConfigPromise:this._optionalContentConfigPromise,pageColors:this.pageColors},ve=this.renderTask=w.render(K);ve.onContinue=z;const pe=ve.promise.then(()=>j(this,b,un).call(this,ve,R),_e=>j(this,b,un).call(this,ve,R,_e));return pe.finally(()=>{R.width=0,R.height=0,this.eventBus.dispatch("thumbnailrendered",{source:this,pageNumber:this.id,pdfPage:this.pdfPage})}),pe}setImage(w){if(this.renderingState!==s.RenderingStates.INITIAL)return;const{thumbnailCanvas:x,pdfPage:R,scale:k}=w;x&&(this.pdfPage||this.setPdfPage(R),!(k<this.scale)&&(this.renderingState=s.RenderingStates.FINISHED,this._convertCanvasToImage(x)))}_reduceImage(w){const{ctx:x,canvas:R}=this._getPageDrawContext();if(w.width<=2*R.width)return x.drawImage(w,0,0,w.width,w.height,0,0,R.width,R.height),R;let k=R.width<<y,V=R.height<<y;const[z,K]=a.getCanvas(k,V);for(;k>w.width||V>w.height;)k>>=1,V>>=1;for(K.drawImage(w,0,0,w.width,w.height,0,0,k,V);k>2*R.width;)K.drawImage(z,0,0,k,V,0,0,k>>1,V>>1),k>>=1,V>>=1;return x.drawImage(z,0,0,k,V,0,0,R.width,R.height),R}get _thumbPageTitle(){return this.l10n.get("thumb_page_title",{page:this.pageLabel??this.id})}get _thumbPageCanvas(){return this.l10n.get("thumb_page_canvas",{page:this.pageLabel??this.id})}setPageLabel(w){this.pageLabel=typeof w=="string"?w:null,this._thumbPageTitle.then(x=>{this.anchor.title=x}),this.renderingState===s.RenderingStates.FINISHED&&this._thumbPageCanvas.then(x=>{var R;(R=this.image)==null||R.setAttribute("aria-label",x)})}}E=new WeakSet,hn=function(){const{width:w,height:x}=this.viewport,R=w/x;this.canvasWidth=_,this.canvasHeight=this.canvasWidth/R|0,this.scale=this.canvasWidth/w;const{style:k}=this.div;k.setProperty("--thumbnail-width",`${this.canvasWidth}px`),k.setProperty("--thumbnail-height",`${this.canvasHeight}px`)},b=new WeakSet,un=async function(w,x,R=null){if(w===this.renderTask&&(this.renderTask=null),!(R instanceof o.RenderingCancelledException)&&(this.renderingState=s.RenderingStates.FINISHED,this._convertCanvasToImage(x),R))throw R},u.PDFThumbnailView=l},(C,u,c)=>{var A,v,w,fn,R,k,V,z,K,ve,pe,_e,$,ee,G,ue,te,xe,Ie,le,I,F,Gs,g,Ks,U,Xs,H,Nt,M,ii,W,Ys,q,pn,Ae,Zs,oe,dt,Q,gn,be,Qs,ke,Js,ze,mn,qe,er;Object.defineProperty(u,"__esModule",{value:!0}),u.PagesCountLimit=u.PDFViewer=u.PDFPageViewBuffer=void 0;var s=c(5),o=c(4),S=c(32),y=c(33),_=c(26),a=c(11);const l=10,d={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};u.PagesCountLimit=d;function E(Je){return Object.values(s.AnnotationEditorType).includes(Je)&&Je!==s.AnnotationEditorType.DISABLE}class P{constructor(ie){D(this,w);D(this,A,new Set);D(this,v,0);ne(this,v,ie)}push(ie){const ce=n(this,A);ce.has(ie)&&ce.delete(ie),ce.add(ie),ce.size>n(this,v)&&j(this,w,fn).call(this)}resize(ie,ce=null){ne(this,v,ie);const re=n(this,A);if(ce){const ge=re.size;let ae=1;for(const Se of re)if(ce.has(Se.id)&&(re.delete(Se),re.add(Se)),++ae>ge)break}for(;re.size>n(this,v);)j(this,w,fn).call(this)}has(ie){return n(this,A).has(ie)}[Symbol.iterator](){return n(this,A).keys()}}A=new WeakMap,v=new WeakMap,w=new WeakSet,fn=function(){const ie=n(this,A).keys().next().value;ie==null||ie.destroy(),n(this,A).delete(ie)},u.PDFPageViewBuffer=P;class b{constructor(ie){D(this,F);D(this,g);D(this,U);D(this,H);D(this,M);D(this,W);D(this,q);D(this,Ae);D(this,oe);D(this,Q);D(this,be);D(this,ke);D(this,ze);D(this,qe);D(this,R,null);D(this,k,null);D(this,V,s.AnnotationEditorType.NONE);D(this,z,null);D(this,K,s.AnnotationMode.ENABLE_FORMS);D(this,ve,null);D(this,pe,null);D(this,_e,!1);D(this,$,!1);D(this,ee,null);D(this,G,!1);D(this,ue,0);D(this,te,new ResizeObserver(j(this,qe,er).bind(this)));D(this,xe,null);D(this,Ie,null);D(this,le,null);D(this,I,o.TextLayerMode.ENABLE);var re,ge;const ce="4.0.8";if(s.version!==ce)throw new Error(`The API version "${s.version}" does not match the Viewer version "${ce}".`);if(this.container=ie.container,this.viewer=ie.viewer||ie.container.firstElementChild,((re=this.container)==null?void 0:re.tagName)!=="DIV"||((ge=this.viewer)==null?void 0:ge.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");n(this,te).observe(this.container),this.eventBus=ie.eventBus,this.linkService=ie.linkService||new a.SimpleLinkService,this.downloadManager=ie.downloadManager||null,this.findController=ie.findController||null,ne(this,k,ie.altTextManager||null),this.findController&&(this.findController.onIsPageVisible=ae=>this._getVisiblePages().ids.has(ae)),this._scriptingManager=ie.scriptingManager||null,ne(this,I,ie.textLayerMode??o.TextLayerMode.ENABLE),ne(this,K,ie.annotationMode??s.AnnotationMode.ENABLE_FORMS),ne(this,V,ie.annotationEditorMode??s.AnnotationEditorType.NONE),this.imageResourcesPath=ie.imageResourcesPath||"",this.enablePrintAutoRotate=ie.enablePrintAutoRotate||!1,this.removePageBorders=ie.removePageBorders||!1,this.isOffscreenCanvasSupported=ie.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=ie.maxCanvasPixels,this.l10n=ie.l10n||S.NullL10n,ne(this,_e,ie.enablePermissions||!1),this.pageColors=ie.pageColors||null,this.defaultRenderingQueue=!ie.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new _.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=ie.renderingQueue,this.scroll=(0,o.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=o.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),j(this,ze,mn).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:ae,pdfPage:Se})=>{const me=this._pages[ae-1];n(this,R).has(me)||Se==null||Se.cleanup()})}get pagesCount(){return this._pages.length}getPageView(ie){return this._pages[ie]}getCachedPageViews(){return new Set(n(this,R))}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every(ie=>ie==null?void 0:ie.pdfPage)}get renderForms(){return n(this,K)===s.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(ie){if(!Number.isInteger(ie))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(ie,!0)||console.error(`currentPageNumber: "${ie}" is not a valid page.`))}_setCurrentPageNumber(ie,ce=!1){var ge;if(this._currentPageNumber===ie)return ce&&j(this,Q,gn).call(this),!0;if(!(0<ie&&ie<=this.pagesCount))return!1;const re=this._currentPageNumber;return this._currentPageNumber=ie,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:ie,pageLabel:((ge=this._pageLabels)==null?void 0:ge[ie-1])??null,previous:re}),ce&&j(this,Q,gn).call(this),!0}get currentPageLabel(){var ie;return((ie=this._pageLabels)==null?void 0:ie[this._currentPageNumber-1])??null}set currentPageLabel(ie){if(!this.pdfDocument)return;let ce=ie|0;if(this._pageLabels){const re=this._pageLabels.indexOf(ie);re>=0&&(ce=re+1)}this._setCurrentPageNumber(ce,!0)||console.error(`currentPageLabel: "${ie}" is not a valid page.`)}get currentScale(){return this._currentScale!==o.UNKNOWN_SCALE?this._currentScale:o.DEFAULT_SCALE}set currentScale(ie){if(isNaN(ie))throw new Error("Invalid numeric scale.");this.pdfDocument&&j(this,oe,dt).call(this,ie,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(ie){this.pdfDocument&&j(this,oe,dt).call(this,ie,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(ie){if(!(0,o.isValidRotation)(ie))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(ie%=360,ie<0&&(ie+=360),this._pagesRotation===ie))return;this._pagesRotation=ie;const ce=this._currentPageNumber;this.refresh(!0,{rotation:ie}),this._currentScaleValue&&j(this,oe,dt).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:ie,pageNumber:ce}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const ie=this;return(0,s.shadow)(this,"_layerProperties",{get annotationEditorUIManager(){return n(ie,z)},get annotationStorage(){var ce;return(ce=ie.pdfDocument)==null?void 0:ce.annotationStorage},get downloadManager(){return ie.downloadManager},get enableScripting(){return!!ie._scriptingManager},get fieldObjectsPromise(){var ce;return(ce=ie.pdfDocument)==null?void 0:ce.getFieldObjects()},get findController(){return ie.findController},get hasJSActionsPromise(){var ce;return(ce=ie.pdfDocument)==null?void 0:ce.hasJSActions()},get linkService(){return ie.linkService}})}async getAllText(){const ie=[],ce=[];for(let re=1,ge=this.pdfDocument.numPages;re<=ge;++re){if(n(this,G))return null;ce.length=0;const ae=await this.pdfDocument.getPage(re),{items:Se}=await ae.getTextContent();for(const me of Se)me.str&&ce.push(me.str),me.hasEOL&&ce.push(`
`);ie.push((0,o.removeNullCharacters)(ce.join("")))}return ie.join(`
`)}setDocument(ie){var Se,me;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(Se=this.findController)==null||Se.setDocument(null),(me=this._scriptingManager)==null||me.setDocument(null),n(this,z)&&(n(this,z).destroy(),ne(this,z,null))),this.pdfDocument=ie,!ie)return;const ce=ie.numPages,re=ie.getPage(1),ge=ie.getOptionalContentConfig(),ae=n(this,_e)?ie.getPermissions():Promise.resolve();if(ce>d.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Pe=this._scrollMode=o.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Pe})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ce})},()=>{}),this._onBeforeDraw=Pe=>{const Me=this._pages[Pe.pageNumber-1];Me&&n(this,R).push(Me)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Pe=>{Pe.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Pe.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,n(this,Ie)&&(document.removeEventListener("visibilitychange",n(this,Ie)),ne(this,Ie,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([re,ae]).then(([Pe,Me])=>{var Be,Ke;if(ie!==this.pdfDocument)return;this._firstPageCapability.resolve(Pe),this._optionalContentConfigPromise=ge;const{annotationEditorMode:fe,annotationMode:Re,textLayerMode:Oe}=j(this,F,Gs).call(this,Me);if(Oe!==o.TextLayerMode.DISABLE){const he=ne(this,ee,document.createElement("div"));he.id="hiddenCopyElement",this.viewer.before(he)}if(fe!==s.AnnotationEditorType.DISABLE){const he=fe;ie.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):E(he)?(ne(this,z,new s.AnnotationEditorUIManager(this.container,this.viewer,n(this,k),this.eventBus,ie,this.pageColors)),he!==s.AnnotationEditorType.NONE&&n(this,z).updateMode(he)):console.error(`Invalid AnnotationEditor mode: ${he}`)}const Fe=this._scrollMode===o.ScrollMode.PAGE?null:this.viewer,Ve=this.currentScale,Ue=Pe.getViewport({scale:Ve*s.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",Ue.scale),(((Be=this.pageColors)==null?void 0:Be.foreground)==="CanvasText"||((Ke=this.pageColors)==null?void 0:Ke.background)==="Canvas")&&this.viewer.style.setProperty("--hcm-highligh-filter",ie.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(let he=1;he<=ce;++he){const J=new y.PDFPageView({container:Fe,eventBus:this.eventBus,id:he,scale:Ve,defaultViewport:Ue.clone(),optionalContentConfigPromise:ge,renderingQueue:this.renderingQueue,textLayerMode:Oe,annotationMode:Re,imageResourcesPath:this.imageResourcesPath,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:this._layerProperties});this._pages.push(J)}const $e=this._pages[0];$e&&($e.setPdfPage(Pe),this.linkService.cachePageRef(1,Pe.ref)),this._scrollMode===o.ScrollMode.PAGE?j(this,H,Nt).call(this):this._spreadMode!==o.SpreadMode.NONE&&this._updateSpreadMode(),j(this,g,Ks).call(this).then(async()=>{var J,B;if((J=this.findController)==null||J.setDocument(ie),(B=this._scriptingManager)==null||B.setDocument(ie),n(this,ee)&&(ne(this,pe,j(this,U,Xs).bind(this,Oe)),document.addEventListener("copy",n(this,pe))),n(this,z)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:n(this,V)}),ie.loadingParams.disableAutoFetch||ce>d.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let he=ce-1;if(he<=0){this._pagesCapability.resolve();return}for(let se=2;se<=ce;++se){const ye=ie.getPage(se).then(Ce=>{const Le=this._pages[se-1];Le.pdfPage||Le.setPdfPage(Ce),this.linkService.cachePageRef(se,Ce.ref),--he===0&&this._pagesCapability.resolve()},Ce=>{console.error(`Unable to get page ${se} to initialize viewer`,Ce),--he===0&&this._pagesCapability.resolve()});se%d.PAUSE_EAGER_PAGE_INIT===0&&await ye}}),this.eventBus.dispatch("pagesinit",{source:this}),ie.getMetadata().then(({info:he})=>{ie===this.pdfDocument&&he.Language&&(this.viewer.lang=he.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Pe=>{console.error("Unable to initialize viewer",Pe),this._pagesCapability.reject(Pe)})}setPageLabels(ie){var ce;if(this.pdfDocument){ie?Array.isArray(ie)&&this.pdfDocument.numPages===ie.length?this._pageLabels=ie:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let re=0,ge=this._pages.length;re<ge;re++)this._pages[re].setPageLabel(((ce=this._pageLabels)==null?void 0:ce[re])??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=o.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,ne(this,R,new P(l)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new s.PromiseCapability,this._onePageRenderedCapability=new s.PromiseCapability,this._pagesCapability=new s.PromiseCapability,this._scrollMode=o.ScrollMode.VERTICAL,this._previousScrollMode=o.ScrollMode.UNKNOWN,this._spreadMode=o.SpreadMode.NONE,ne(this,xe,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),n(this,Ie)&&(document.removeEventListener("visibilitychange",n(this,Ie)),ne(this,Ie,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),n(this,ee)&&(document.removeEventListener("copy",n(this,pe)),ne(this,pe,null),n(this,ee).remove(),ne(this,ee,null))}_scrollUpdate(){this.pagesCount!==0&&this.update()}pageLabelToPageNumber(ie){if(!this._pageLabels)return null;const ce=this._pageLabels.indexOf(ie);return ce<0?null:ce+1}scrollPageIntoView({pageNumber:ie,destArray:ce=null,allowNegativeOffset:re=!1,ignoreDestinationZoom:ge=!1}){if(!this.pdfDocument)return;const ae=Number.isInteger(ie)&&this._pages[ie-1];if(!ae){console.error(`scrollPageIntoView: "${ie}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!ce){this._setCurrentPageNumber(ie,!0);return}let Se=0,me=0,Pe=0,Me=0,fe,Re;const Oe=ae.rotation%180!==0,Fe=(Oe?ae.height:ae.width)/ae.scale/s.PixelsPerInch.PDF_TO_CSS_UNITS,Ve=(Oe?ae.width:ae.height)/ae.scale/s.PixelsPerInch.PDF_TO_CSS_UNITS;let Ue=0;switch(ce[1].name){case"XYZ":Se=ce[2],me=ce[3],Ue=ce[4],Se=Se!==null?Se:0,me=me!==null?me:Ve;break;case"Fit":case"FitB":Ue="page-fit";break;case"FitH":case"FitBH":me=ce[2],Ue="page-width",me===null&&this._location?(Se=this._location.left,me=this._location.top):(typeof me!="number"||me<0)&&(me=Ve);break;case"FitV":case"FitBV":Se=ce[2],Pe=Fe,Me=Ve,Ue="page-height";break;case"FitR":Se=ce[2],me=ce[3],Pe=ce[4]-Se,Me=ce[5]-me;let he=o.SCROLLBAR_PADDING,J=o.VERTICAL_PADDING;this.removePageBorders&&(he=J=0),fe=(this.container.clientWidth-he)/Pe/s.PixelsPerInch.PDF_TO_CSS_UNITS,Re=(this.container.clientHeight-J)/Me/s.PixelsPerInch.PDF_TO_CSS_UNITS,Ue=Math.min(Math.abs(fe),Math.abs(Re));break;default:console.error(`scrollPageIntoView: "${ce[1].name}" is not a valid destination type.`);return}if(ge||(Ue&&Ue!==this._currentScale?this.currentScaleValue=Ue:this._currentScale===o.UNKNOWN_SCALE&&(this.currentScaleValue=o.DEFAULT_SCALE_VALUE)),Ue==="page-fit"&&!ce[4]){j(this,M,ii).call(this,ae);return}const $e=[ae.viewport.convertToViewportPoint(Se,me),ae.viewport.convertToViewportPoint(Se+Pe,me+Me)];let Be=Math.min($e[0][0],$e[1][0]),Ke=Math.min($e[0][1],$e[1][1]);re||(Be=Math.max(Be,0),Ke=Math.max(Ke,0)),j(this,M,ii).call(this,ae,{left:Be,top:Ke})}_updateLocation(ie){const ce=this._currentScale,re=this._currentScaleValue,ge=parseFloat(re)===ce?Math.round(ce*1e4)/100:re,ae=ie.id,Se=this._pages[ae-1],me=this.container,Pe=Se.getPagePoint(me.scrollLeft-ie.x,me.scrollTop-ie.y),Me=Math.round(Pe[0]),fe=Math.round(Pe[1]);let Re=`#page=${ae}`;this.isInPresentationMode||(Re+=`&zoom=${ge},${Me},${fe}`),this._location={pageNumber:ae,scale:ge,top:fe,left:Me,rotation:this._pagesRotation,pdfOpenParams:Re}}update(){const ie=this._getVisiblePages(),ce=ie.views,re=ce.length;if(re===0)return;const ge=Math.max(l,2*re+1);n(this,R).resize(ge,ie.ids),this.renderingQueue.renderHighestPriority(ie);const ae=this._spreadMode===o.SpreadMode.NONE&&(this._scrollMode===o.ScrollMode.PAGE||this._scrollMode===o.ScrollMode.VERTICAL),Se=this._currentPageNumber;let me=!1;for(const Pe of ce){if(Pe.percent<100)break;if(Pe.id===Se&&ae){me=!0;break}}this._setCurrentPageNumber(me?Se:ce[0].id),this._updateLocation(ie.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(ie){return this.container.contains(ie)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===o.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===o.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const ie=this._scrollMode===o.ScrollMode.PAGE?n(this,xe).pages:this._pages,ce=this._scrollMode===o.ScrollMode.HORIZONTAL,re=ce&&this._isContainerRtl;return(0,o.getVisibleElements)({scrollEl:this.container,views:ie,sortByVisibility:!0,horizontal:ce,rtl:re})}cleanup(){for(const ie of this._pages)ie.renderingState!==o.RenderingStates.FINISHED&&ie.reset()}_cancelRendering(){for(const ie of this._pages)ie.cancelRendering()}forceRendering(ie){const ce=ie||this._getVisiblePages(),re=j(this,ke,Js).call(this,ce),ge=this._spreadMode!==o.SpreadMode.NONE&&this._scrollMode!==o.ScrollMode.HORIZONTAL,ae=this.renderingQueue.getHighestPriority(ce,this._pages,re,ge);return ae?(j(this,be,Qs).call(this,ae).then(()=>{this.renderingQueue.renderView(ae)}),!0):!1}get hasEqualPageSizes(){const ie=this._pages[0];for(let ce=1,re=this._pages.length;ce<re;++ce){const ge=this._pages[ce];if(ge.width!==ie.width||ge.height!==ie.height)return!1}return!0}getPagesOverview(){let ie;return this._pages.map(ce=>{const re=ce.pdfPage.getViewport({scale:1}),ge=(0,o.isPortraitOrientation)(re);if(ie===void 0)ie=ge;else if(this.enablePrintAutoRotate&&ge!==ie)return{width:re.height,height:re.width,rotation:(re.rotation-90)%360};return{width:re.width,height:re.height,rotation:re.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(ie){if(!(ie instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${ie}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=ie,this.refresh(!1,{optionalContentConfigPromise:ie}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:ie}))}get scrollMode(){return this._scrollMode}set scrollMode(ie){if(this._scrollMode!==ie){if(!(0,o.isValidScrollMode)(ie))throw new Error(`Invalid scroll mode: ${ie}`);this.pagesCount>d.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=ie,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ie}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(ie=null){const ce=this._scrollMode,re=this.viewer;re.classList.toggle("scrollHorizontal",ce===o.ScrollMode.HORIZONTAL),re.classList.toggle("scrollWrapped",ce===o.ScrollMode.WRAPPED),!(!this.pdfDocument||!ie)&&(ce===o.ScrollMode.PAGE?j(this,H,Nt).call(this):this._previousScrollMode===o.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&j(this,oe,dt).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(ie,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(ie){if(this._spreadMode!==ie){if(!(0,o.isValidSpreadMode)(ie))throw new Error(`Invalid spread mode: ${ie}`);this._spreadMode=ie,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:ie}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(ie=null){if(!this.pdfDocument)return;const ce=this.viewer,re=this._pages;if(this._scrollMode===o.ScrollMode.PAGE)j(this,H,Nt).call(this);else if(ce.textContent="",this._spreadMode===o.SpreadMode.NONE)for(const ge of this._pages)ce.append(ge.div);else{const ge=this._spreadMode-1;let ae=null;for(let Se=0,me=re.length;Se<me;++Se)ae===null?(ae=document.createElement("div"),ae.className="spread",ce.append(ae)):Se%2===ge&&(ae=ae.cloneNode(!1),ce.append(ae)),ae.append(re[Se].div)}ie&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&j(this,oe,dt).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(ie,!0),this.update())}_getPageAdvance(ie,ce=!1){switch(this._scrollMode){case o.ScrollMode.WRAPPED:{const{views:re}=this._getVisiblePages(),ge=new Map;for(const{id:ae,y:Se,percent:me,widthPercent:Pe}of re){if(me===0||Pe<100)continue;let Me=ge.get(Se);Me||ge.set(Se,Me||(Me=[])),Me.push(ae)}for(const ae of ge.values()){const Se=ae.indexOf(ie);if(Se===-1)continue;const me=ae.length;if(me===1)break;if(ce)for(let Pe=Se-1,Me=0;Pe>=Me;Pe--){const fe=ae[Pe],Re=ae[Pe+1]-1;if(fe<Re)return ie-Re}else for(let Pe=Se+1,Me=me;Pe<Me;Pe++){const fe=ae[Pe],Re=ae[Pe-1]+1;if(fe>Re)return Re-ie}if(ce){const Pe=ae[0];if(Pe<ie)return ie-Pe+1}else{const Pe=ae[me-1];if(Pe>ie)return Pe-ie+1}break}break}case o.ScrollMode.HORIZONTAL:break;case o.ScrollMode.PAGE:case o.ScrollMode.VERTICAL:{if(this._spreadMode===o.SpreadMode.NONE)break;const re=this._spreadMode-1;if(ce&&ie%2!==re)break;if(!ce&&ie%2===re)break;const{views:ge}=this._getVisiblePages(),ae=ce?ie-1:ie+1;for(const{id:Se,percent:me,widthPercent:Pe}of ge)if(Se===ae){if(me>0&&Pe===100)return 2;break}break}}return 1}nextPage(){const ie=this._currentPageNumber,ce=this.pagesCount;if(ie>=ce)return!1;const re=this._getPageAdvance(ie,!1)||1;return this.currentPageNumber=Math.min(ie+re,ce),!0}previousPage(){const ie=this._currentPageNumber;if(ie<=1)return!1;const ce=this._getPageAdvance(ie,!0)||1;return this.currentPageNumber=Math.max(ie-ce,1),!0}increaseScale({drawingDelay:ie,scaleFactor:ce,steps:re}={}){if(!this.pdfDocument)return;let ge=this._currentScale;if(ce>1)ge=Math.round(ge*ce*100)/100;else{re??(re=1);do ge=Math.ceil((ge*o.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--re>0&&ge<o.MAX_SCALE)}j(this,oe,dt).call(this,Math.min(o.MAX_SCALE,ge),{noScroll:!1,drawingDelay:ie})}decreaseScale({drawingDelay:ie,scaleFactor:ce,steps:re}={}){if(!this.pdfDocument)return;let ge=this._currentScale;if(ce>0&&ce<1)ge=Math.round(ge*ce*100)/100;else{re??(re=1);do ge=Math.floor((ge/o.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--re>0&&ge>o.MIN_SCALE)}j(this,oe,dt).call(this,Math.max(o.MIN_SCALE,ge),{noScroll:!1,drawingDelay:ie})}get containerTopLeft(){return n(this,ve)||ne(this,ve,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return n(this,z)?n(this,V):s.AnnotationEditorType.DISABLE}set annotationEditorMode({mode:ie,editId:ce=null}){if(!n(this,z))throw new Error("The AnnotationEditor is not enabled.");if(n(this,V)!==ie){if(!E(ie))throw new Error(`Invalid AnnotationEditor mode: ${ie}`);this.pdfDocument&&(ne(this,V,ie),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:ie}),n(this,z).updateMode(ie,ce))}}set annotationEditorParams({type:ie,value:ce}){if(!n(this,z))throw new Error("The AnnotationEditor is not enabled.");n(this,z).updateParams(ie,ce)}refresh(ie=!1,ce=Object.create(null)){if(this.pdfDocument){for(const re of this._pages)re.update(ce);n(this,le)!==null&&(clearTimeout(n(this,le)),ne(this,le,null)),ie||this.update()}}}R=new WeakMap,k=new WeakMap,V=new WeakMap,z=new WeakMap,K=new WeakMap,ve=new WeakMap,pe=new WeakMap,_e=new WeakMap,$=new WeakMap,ee=new WeakMap,G=new WeakMap,ue=new WeakMap,te=new WeakMap,xe=new WeakMap,Ie=new WeakMap,le=new WeakMap,I=new WeakMap,F=new WeakSet,Gs=function(ie){const ce={annotationEditorMode:n(this,V),annotationMode:n(this,K),textLayerMode:n(this,I)};return ie&&(!ie.includes(s.PermissionFlag.COPY)&&n(this,I)===o.TextLayerMode.ENABLE&&(ce.textLayerMode=o.TextLayerMode.ENABLE_PERMISSIONS),ie.includes(s.PermissionFlag.MODIFY_CONTENTS)||(ce.annotationEditorMode=s.AnnotationEditorType.DISABLE),!ie.includes(s.PermissionFlag.MODIFY_ANNOTATIONS)&&!ie.includes(s.PermissionFlag.FILL_INTERACTIVE_FORMS)&&n(this,K)===s.AnnotationMode.ENABLE_FORMS&&(ce.annotationMode=s.AnnotationMode.ENABLE)),ce},g=new WeakSet,Ks=function(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const ie=new Promise(ce=>{ne(this,Ie,()=>{document.visibilityState==="hidden"&&(ce(),document.removeEventListener("visibilitychange",n(this,Ie)),ne(this,Ie,null))}),document.addEventListener("visibilitychange",n(this,Ie))});return Promise.race([this._onePageRenderedCapability.promise,ie])},U=new WeakSet,Xs=function(ie,ce){const re=document.getSelection(),{focusNode:ge,anchorNode:ae}=re;if(ae&&ge&&re.containsNode(n(this,ee))){if(n(this,$)||ie===o.TextLayerMode.ENABLE_PERMISSIONS){ce.preventDefault(),ce.stopPropagation();return}ne(this,$,!0);const Se=this.container.style.cursor;this.container.style.cursor="wait";const me=Pe=>ne(this,G,Pe.key==="Escape");window.addEventListener("keydown",me),this.getAllText().then(async Pe=>{Pe!==null&&await navigator.clipboard.writeText(Pe)}).catch(Pe=>{console.warn(`Something goes wrong when extracting the text: ${Pe.message}`)}).finally(()=>{ne(this,$,!1),ne(this,G,!1),window.removeEventListener("keydown",me),this.container.style.cursor=Se}),ce.preventDefault(),ce.stopPropagation()}},H=new WeakSet,Nt=function(){if(this._scrollMode!==o.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ie=this._currentPageNumber,ce=n(this,xe),re=this.viewer;if(re.textContent="",ce.pages.length=0,this._spreadMode===o.SpreadMode.NONE&&!this.isInPresentationMode){const ge=this._pages[ie-1];re.append(ge.div),ce.pages.push(ge)}else{const ge=new Set,ae=this._spreadMode-1;ae===-1?ge.add(ie-1):ie%2!==ae?(ge.add(ie-1),ge.add(ie)):(ge.add(ie-2),ge.add(ie-1));const Se=document.createElement("div");if(Se.className="spread",this.isInPresentationMode){const me=document.createElement("div");me.className="dummyPage",Se.append(me)}for(const me of ge){const Pe=this._pages[me];Pe&&(Se.append(Pe.div),ce.pages.push(Pe))}re.append(Se)}ce.scrollDown=ie>=ce.previousPageNumber,ce.previousPageNumber=ie},M=new WeakSet,ii=function(ie,ce=null){const{div:re,id:ge}=ie;if(this._currentPageNumber!==ge&&this._setCurrentPageNumber(ge),this._scrollMode===o.ScrollMode.PAGE&&(j(this,H,Nt).call(this),this.update()),!ce&&!this.isInPresentationMode){const ae=re.offsetLeft+re.clientLeft,Se=ae+re.clientWidth,{scrollLeft:me,clientWidth:Pe}=this.container;(this._scrollMode===o.ScrollMode.HORIZONTAL||ae<me||Se>me+Pe)&&(ce={left:0,top:0})}(0,o.scrollIntoView)(re,ce),!this._currentScaleValue&&this._location&&(this._location=null)},W=new WeakSet,Ys=function(ie){return ie===this._currentScale||Math.abs(ie-this._currentScale)<1e-15},q=new WeakSet,pn=function(ie,ce,{noScroll:re=!1,preset:ge=!1,drawingDelay:ae=-1}){if(this._currentScaleValue=ce.toString(),j(this,W,Ys).call(this,ie)){ge&&this.eventBus.dispatch("scalechanging",{source:this,scale:ie,presetValue:ce});return}this.viewer.style.setProperty("--scale-factor",ie*s.PixelsPerInch.PDF_TO_CSS_UNITS);const Se=ae>=0&&ae<1e3;if(this.refresh(!0,{scale:ie,drawingDelay:Se?ae:-1}),Se&&ne(this,le,setTimeout(()=>{ne(this,le,null),this.refresh()},ae)),this._currentScale=ie,!re){let me=this._currentPageNumber,Pe;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(me=this._location.pageNumber,Pe=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:me,destArray:Pe,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:ie,presetValue:ge?ce:void 0}),this.defaultRenderingQueue&&this.update()},Ae=new WeakSet,Zs=function(){return this._spreadMode!==o.SpreadMode.NONE&&this._scrollMode!==o.ScrollMode.HORIZONTAL?2:1},oe=new WeakSet,dt=function(ie,ce){let re=parseFloat(ie);if(re>0)ce.preset=!1,j(this,q,pn).call(this,re,ie,ce);else{const ge=this._pages[this._currentPageNumber-1];if(!ge)return;let ae=o.SCROLLBAR_PADDING,Se=o.VERTICAL_PADDING;this.isInPresentationMode?(ae=Se=4,this._spreadMode!==o.SpreadMode.NONE&&(ae*=2)):this.removePageBorders?ae=Se=0:this._scrollMode===o.ScrollMode.HORIZONTAL&&([ae,Se]=[Se,ae]);const me=(this.container.clientWidth-ae)/ge.width*ge.scale/n(this,Ae,Zs),Pe=(this.container.clientHeight-Se)/ge.height*ge.scale;switch(ie){case"page-actual":re=1;break;case"page-width":re=me;break;case"page-height":re=Pe;break;case"page-fit":re=Math.min(me,Pe);break;case"auto":const Me=(0,o.isPortraitOrientation)(ge)?me:Math.min(Pe,me);re=Math.min(o.MAX_AUTO_SCALE,Me);break;default:console.error(`#setScale: "${ie}" is an unknown zoom value.`);return}ce.preset=!0,j(this,q,pn).call(this,re,ie,ce)}},Q=new WeakSet,gn=function(){const ie=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&j(this,oe,dt).call(this,this._currentScaleValue,{noScroll:!0}),j(this,M,ii).call(this,ie)},be=new WeakSet,Qs=async function(ie){var ce,re;if(ie.pdfPage)return ie.pdfPage;try{const ge=await this.pdfDocument.getPage(ie.id);return ie.pdfPage||ie.setPdfPage(ge),(re=(ce=this.linkService)._cachedPageNumber)!=null&&re.call(ce,ge.ref)||this.linkService.cachePageRef(ie.id,ge.ref),ge}catch(ge){return console.error("Unable to get page for page view",ge),null}},ke=new WeakSet,Js=function(ie){var ce,re;if(((ce=ie.first)==null?void 0:ce.id)===1)return!0;if(((re=ie.last)==null?void 0:re.id)===this.pagesCount)return!1;switch(this._scrollMode){case o.ScrollMode.PAGE:return n(this,xe).scrollDown;case o.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},ze=new WeakSet,mn=function(ie=this.container.clientHeight){ie!==n(this,ue)&&(ne(this,ue,ie),o.docStyle.setProperty("--viewer-container-height",`${ie}px`))},qe=new WeakSet,er=function(ie){for(const ce of ie)if(ce.target===this.container){j(this,ze,mn).call(this,Math.floor(ce.borderBoxSize[0].blockSize)),ne(this,ve,null);break}},u.PDFViewer=b},(C,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.NullL10n=void 0,u.getL10nFallback=s;const c={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};c.print_progress_percent="{{progress}}%";function s(y,_){switch(y){case"find_match_count":y=`find_match_count[${_.total===1?"one":"other"}]`;break;case"find_match_count_limit":y=`find_match_count_limit[${_.limit===1?"one":"other"}]`;break}return c[y]||""}function o(y,_){return _?y.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(a,l)=>l in _?_[l]:"{{"+l+"}}"):y}const S={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(y,_=null,a=s(y,_)){return o(a,_)},async translate(y){}};u.NullL10n=S},(C,u,c)=>{var x,R,k,V,z,K,ve,pe,_e,$,ee,ni,ue,_n,xe,bn,le,vn,F,wn,g,tr,U,ir,H,yn;Object.defineProperty(u,"__esModule",{value:!0}),u.PDFPageView=void 0;var s=c(5),o=c(4),S=c(34),y=c(35),_=c(9),a=c(32);c(11);var l=c(36),d=c(37),E=c(38),P=c(39),b=c(40);const A=_.compatibilityParams.maxCanvasPixels||16777216,v=null;class w{constructor(T){D(this,ee);D(this,ue);D(this,xe);D(this,le);D(this,F);D(this,g);D(this,U);D(this,H);D(this,x,s.AnnotationMode.ENABLE_FORMS);D(this,R,!1);D(this,k,null);D(this,V,null);D(this,z,null);D(this,K,null);D(this,ve,o.RenderingStates.INITIAL);D(this,pe,o.TextLayerMode.ENABLE);D(this,_e,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});D(this,$,new WeakMap);var we;const W=T.container,Z=T.defaultViewport;this.id=T.id,this.renderingId="page"+this.id,ne(this,k,T.layerProperties||v),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=T.scale||o.DEFAULT_SCALE,this.viewport=Z,this.pdfPageRotate=Z.rotation,this._optionalContentConfigPromise=T.optionalContentConfigPromise||null,ne(this,pe,T.textLayerMode??o.TextLayerMode.ENABLE),ne(this,x,T.annotationMode??s.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=T.imageResourcesPath||"",this.isOffscreenCanvasSupported=T.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=T.maxCanvasPixels??A,this.pageColors=T.pageColors||null,this.eventBus=T.eventBus,this.renderingQueue=T.renderingQueue,this.l10n=T.l10n||a.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!((we=this.renderingQueue)!=null&&we.hasViewer()),this._container=W,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const q=document.createElement("div");if(q.className="page",q.setAttribute("data-page-number",this.id),q.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(Ae=>{q.setAttribute("aria-label",Ae)}),this.div=q,j(this,ee,ni).call(this),W==null||W.append(q),this._isStandalone){W==null||W.style.setProperty("--scale-factor",this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:Ae}=T;Ae&&Ae.then(Ee=>{Ae===this._optionalContentConfigPromise&&(n(this,_e).initialOptionalContent=Ee.hasInitialVisibility)})}}get renderingState(){return n(this,ve)}set renderingState(T){if(T!==n(this,ve))switch(ne(this,ve,T),n(this,V)&&(clearTimeout(n(this,V)),ne(this,V,null)),T){case o.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case o.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),ne(this,V,setTimeout(()=>{this.div.classList.add("loading"),ne(this,V,null)},0));break;case o.RenderingStates.INITIAL:case o.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}setPdfPage(T){var Z,q,we;this._isStandalone&&(((Z=this.pageColors)==null?void 0:Z.foreground)==="CanvasText"||((q=this.pageColors)==null?void 0:q.background)==="Canvas")&&((we=this._container)==null||we.style.setProperty("--hcm-highligh-filter",T.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=T,this.pdfPageRotate=T.rotate;const W=(this.rotation+this.pdfPageRotate)%360;this.viewport=T.getViewport({scale:this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:W}),j(this,ee,ni).call(this),this.reset()}destroy(){var T;this.reset(),(T=this.pdfPage)==null||T.cleanup()}get _textHighlighter(){return(0,s.shadow)(this,"_textHighlighter",new E.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:n(this,k).findController}))}_resetZoomLayer(T=!1){if(!this.zoomLayer)return;const W=this.zoomLayer.firstChild;n(this,$).delete(W),W.width=0,W.height=0,T&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:T=!1,keepAnnotationLayer:W=!1,keepAnnotationEditorLayer:Z=!1,keepXfaLayer:q=!1,keepTextLayer:we=!1}={}){var Te,ke,Ne,ze,We;this.cancelRendering({keepAnnotationLayer:W,keepAnnotationEditorLayer:Z,keepXfaLayer:q,keepTextLayer:we}),this.renderingState=o.RenderingStates.INITIAL;const Ae=this.div,Ee=Ae.childNodes,oe=T&&this.zoomLayer||null,Y=W&&((Te=this.annotationLayer)==null?void 0:Te.div)||null,Q=Z&&((ke=this.annotationEditorLayer)==null?void 0:ke.div)||null,de=q&&((Ne=this.xfaLayer)==null?void 0:Ne.div)||null,be=we&&((ze=this.textLayer)==null?void 0:ze.div)||null;for(let qe=Ee.length-1;qe>=0;qe--){const Ge=Ee[qe];switch(Ge){case oe:case Y:case Q:case de:case be:continue}Ge.remove()}Ae.removeAttribute("data-loaded"),Y&&this.annotationLayer.hide(),Q&&this.annotationEditorLayer.hide(),de&&this.xfaLayer.hide(),be&&this.textLayer.hide(),(We=this.structTreeLayer)==null||We.hide(),oe||(this.canvas&&(n(this,$).delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:T=0,rotation:W=null,optionalContentConfigPromise:Z=null,drawingDelay:q=-1}){var Ae;this.scale=T||this.scale,typeof W=="number"&&(this.rotation=W),Z instanceof Promise&&(this._optionalContentConfigPromise=Z,Z.then(Ee=>{Z===this._optionalContentConfigPromise&&(n(this,_e).initialOptionalContent=Ee.hasInitialVisibility)})),n(this,_e).directDrawing=!0;const we=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:we}),j(this,ee,ni).call(this),this._isStandalone&&((Ae=this._container)==null||Ae.style.setProperty("--scale-factor",this.viewport.scale)),this.canvas){let Ee=!1;if(n(this,R)){if(this.maxCanvasPixels===0)Ee=!0;else if(this.maxCanvasPixels>0){const{width:Y,height:Q}=this.viewport,{sx:de,sy:be}=this.outputScale;Ee=(Math.floor(Y)*de|0)*(Math.floor(Q)*be|0)>this.maxCanvasPixels}}const oe=!Ee&&q>=0&&q<1e3;if(oe||Ee){if(oe&&this.renderingState!==o.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:q}),this.renderingState=o.RenderingStates.FINISHED,n(this,_e).directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!oe,hideTextLayer:oe}),oe)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:n(this,K)});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:T=!1,keepAnnotationEditorLayer:W=!1,keepXfaLayer:Z=!1,keepTextLayer:q=!1,cancelExtraDelay:we=0}={}){var Ae;this.renderTask&&(this.renderTask.cancel(we),this.renderTask=null),this.resume=null,this.textLayer&&(!q||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!T||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!W||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!Z||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(Ae=this._textHighlighter)==null||Ae.disable())}cssTransform({target:T,redrawAnnotationLayer:W=!1,redrawAnnotationEditorLayer:Z=!1,redrawXfaLayer:q=!1,redrawTextLayer:we=!1,hideTextLayer:Ae=!1}){var oe;if(!T.hasAttribute("zooming")){T.setAttribute("zooming",!0);const{style:Y}=T;Y.width=Y.height=""}const Ee=n(this,$).get(T);if(this.viewport!==Ee){const Y=this.viewport.rotation-Ee.rotation,Q=Math.abs(Y);let de=1,be=1;if(Q===90||Q===270){const{width:Te,height:ke}=this.viewport;de=ke/Te,be=Te/ke}T.style.transform=`rotate(${Y}deg) scale(${de}, ${be})`}W&&this.annotationLayer&&j(this,ue,_n).call(this),Z&&this.annotationEditorLayer&&j(this,xe,bn).call(this),q&&this.xfaLayer&&j(this,le,vn).call(this),this.textLayer&&(Ae?(this.textLayer.hide(),(oe=this.structTreeLayer)==null||oe.hide()):we&&j(this,F,wn).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(T,W){return this.viewport.convertToPdfPoint(T,W)}async draw(){this.renderingState!==o.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:T,l10n:W,pageColors:Z,pdfPage:q,viewport:we}=this;if(!q)throw this.renderingState=o.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=o.RenderingStates.RUNNING;const Ae=document.createElement("div");if(Ae.classList.add("canvasWrapper"),T.append(Ae),!this.textLayer&&n(this,pe)!==o.TextLayerMode.DISABLE&&!q.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new d.TextAccessibilityManager),this.textLayer=new P.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:n(this,pe)===o.TextLayerMode.ENABLE_PERMISSIONS}),T.append(this.textLayer.div)),!this.annotationLayer&&n(this,x)!==s.AnnotationMode.DISABLE){const{annotationStorage:ce,downloadManager:re,enableScripting:ge,fieldObjectsPromise:ae,hasJSActionsPromise:Se,linkService:me}=n(this,k);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new y.AnnotationLayerBuilder({pageDiv:T,pdfPage:q,annotationStorage:ce,imageResourcesPath:this.imageResourcesPath,renderForms:n(this,x)===s.AnnotationMode.ENABLE_FORMS,linkService:me,downloadManager:re,l10n:W,enableScripting:ge,hasJSActionsPromise:Se,fieldObjectsPromise:ae,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}const Ee=ce=>{if(be==null||be(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=o.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=o.RenderingStates.RUNNING,ce()};return}ce()},{width:oe,height:Y}=we,Q=document.createElement("canvas");Q.setAttribute("role","presentation"),Q.hidden=!0;const de=!!(Z!=null&&Z.background&&(Z!=null&&Z.foreground));let be=ce=>{(!de||ce)&&(Q.hidden=!1,be=null)};Ae.append(Q),this.canvas=Q;const Te=Q.getContext("2d",{alpha:!1}),ke=this.outputScale=new o.OutputScale;if(this.maxCanvasPixels===0){const ce=1/this.scale;ke.sx*=ce,ke.sy*=ce,ne(this,R,!0)}else if(this.maxCanvasPixels>0){const ce=oe*Y,re=Math.sqrt(this.maxCanvasPixels/ce);ke.sx>re||ke.sy>re?(ke.sx=re,ke.sy=re,ne(this,R,!0)):ne(this,R,!1)}const Ne=(0,o.approximateFraction)(ke.sx),ze=(0,o.approximateFraction)(ke.sy);Q.width=(0,o.roundToDivide)(oe*ke.sx,Ne[0]),Q.height=(0,o.roundToDivide)(Y*ke.sy,ze[0]);const{style:We}=Q;We.width=(0,o.roundToDivide)(oe,Ne[1])+"px",We.height=(0,o.roundToDivide)(Y,ze[1])+"px",n(this,$).set(Q,we);const qe=ke.scaled?[ke.sx,0,0,ke.sy,0,0]:null,Ge={canvasContext:Te,transform:qe,viewport:we,annotationMode:n(this,x),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:Z},Je=this.renderTask=this.pdfPage.render(Ge);Je.onContinue=Ee;const ie=Je.promise.then(async()=>{var ce;if(be==null||be(!0),await j(this,H,yn).call(this,Je),j(this,F,wn).call(this),this.annotationLayer&&await j(this,ue,_n).call(this),!this.annotationEditorLayer){const{annotationEditorUIManager:re}=n(this,k);if(!re)return;this.annotationEditorLayer=new S.AnnotationEditorLayerBuilder({uiManager:re,pageDiv:T,pdfPage:q,l10n:W,accessibilityManager:this._accessibilityManager,annotationLayer:(ce=this.annotationLayer)==null?void 0:ce.annotationLayer})}j(this,xe,bn).call(this)},ce=>(ce instanceof s.RenderingCancelledException||be==null||be(!0),j(this,H,yn).call(this,Je,ce)));if(q.isPureXfa){if(this.xfaLayer)this.xfaLayer.div&&T.append(this.xfaLayer.div);else{const{annotationStorage:ce,linkService:re}=n(this,k);this.xfaLayer=new b.XfaLayerBuilder({pageDiv:T,pdfPage:q,annotationStorage:ce,linkService:re})}j(this,le,vn).call(this)}return T.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),ie}setPageLabel(T){this.pageLabel=typeof T=="string"?T:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:T,initialOptionalContent:W,regularAnnotations:Z}=n(this,_e);return T&&W&&Z?this.canvas:null}}x=new WeakMap,R=new WeakMap,k=new WeakMap,V=new WeakMap,z=new WeakMap,K=new WeakMap,ve=new WeakMap,pe=new WeakMap,_e=new WeakMap,$=new WeakMap,ee=new WeakSet,ni=function(){const{viewport:T}=this;if(this.pdfPage){if(n(this,z)===T.rotation)return;ne(this,z,T.rotation)}(0,s.setLayerDimensions)(this.div,T,!0,!1)},ue=new WeakSet,_n=async function(){let T=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(W){console.error(`#renderAnnotationLayer: "${W}".`),T=W}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:T})}},xe=new WeakSet,bn=async function(){let T=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(W){console.error(`#renderAnnotationEditorLayer: "${W}".`),T=W}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:T})}},le=new WeakSet,vn=async function(){let T=null;try{const W=await this.xfaLayer.render(this.viewport,"display");W!=null&&W.textDivs&&this._textHighlighter&&j(this,U,ir).call(this,W.textDivs)}catch(W){console.error(`#renderXfaLayer: "${W}".`),T=W}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:T})}},F=new WeakSet,wn=async function(){const{pdfPage:T,textLayer:W,viewport:Z}=this;if(!W)return;let q=null;try{if(!W.renderingDone){const we=T.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});W.setTextContentSource(we)}await W.render(Z)}catch(we){if(we instanceof s.AbortException)return;console.error(`#renderTextLayer: "${we}".`),q=we}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:W.numTextDivs,error:q}),j(this,g,tr).call(this)},g=new WeakSet,tr=async function(){var Z,q,we;if(!this.textLayer)return;this.structTreeLayer||(this.structTreeLayer=new l.StructTreeLayerBuilder);const T=await(this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree()),W=(Z=this.structTreeLayer)==null?void 0:Z.render(T);W&&((q=this.canvas)==null||q.append(W)),(we=this.structTreeLayer)==null||we.show()},U=new WeakSet,ir=async function(T){const W=await this.pdfPage.getTextContent(),Z=[];for(const q of W.items)Z.push(q.str);this._textHighlighter.setTextMapping(T,Z),this._textHighlighter.enable()},H=new WeakSet,yn=async function(T,W=null){if(T===this.renderTask&&(this.renderTask=null),W instanceof s.RenderingCancelledException){ne(this,K,null);return}if(ne(this,K,W),this.renderingState=o.RenderingStates.FINISHED,this._resetZoomLayer(!0),n(this,_e).regularAnnotations=!T.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:n(this,K)}),W)throw W},u.PDFPageView=w},(C,u,c)=>{var y,_;Object.defineProperty(u,"__esModule",{value:!0}),u.AnnotationEditorLayerBuilder=void 0;var s=c(5),o=c(32);class S{constructor(l){D(this,y,null);D(this,_,void 0);this.pageDiv=l.pageDiv,this.pdfPage=l.pdfPage,this.accessibilityManager=l.accessibilityManager,this.l10n=l.l10n||o.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,ne(this,_,l.uiManager),ne(this,y,l.annotationLayer||null)}async render(l,d="display"){if(d!=="display"||this._cancelled)return;const E=l.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:E}),this.show();return}const P=this.div=document.createElement("div");P.className="annotationEditorLayer",P.tabIndex=0,P.hidden=!0,P.dir=n(this,_).direction,this.pageDiv.append(P),this.annotationEditorLayer=new s.AnnotationEditorLayer({uiManager:n(this,_),div:P,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:E,annotationLayer:n(this,y)});const b={viewport:E,div:P,annotations:null,intent:d};this.annotationEditorLayer.render(b),this.show()}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isEmpty||(this.div.hidden=!1)}}y=new WeakMap,_=new WeakMap,u.AnnotationEditorLayerBuilder=S},(C,u,c)=>{var _,a,En;Object.defineProperty(u,"__esModule",{value:!0}),u.AnnotationLayerBuilder=void 0;var s=c(5),o=c(32),S=c(4);class y{constructor({pageDiv:E,pdfPage:P,linkService:b,downloadManager:A,annotationStorage:v=null,imageResourcesPath:w="",renderForms:x=!0,l10n:R=o.NullL10n,enableScripting:k=!1,hasJSActionsPromise:V=null,fieldObjectsPromise:z=null,annotationCanvasMap:K=null,accessibilityManager:ve=null}){D(this,a);D(this,_,null);this.pageDiv=E,this.pdfPage=P,this.linkService=b,this.downloadManager=A,this.imageResourcesPath=w,this.renderForms=x,this.l10n=R,this.annotationStorage=v,this.enableScripting=k,this._hasJSActionsPromise=V||Promise.resolve(!1),this._fieldObjectsPromise=z||Promise.resolve(null),this._annotationCanvasMap=K,this._accessibilityManager=ve,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=b.eventBus}async render(E,P="display"){var x;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:E.clone({dontFlip:!0})});return}const[b,A,v]=await Promise.all([this.pdfPage.getAnnotations({intent:P}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const w=this.div=document.createElement("div");if(w.className="annotationLayer",this.pageDiv.append(w),b.length===0){this.hide();return}this.annotationLayer=new s.AnnotationLayer({div:w,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,l10n:this.l10n,page:this.pdfPage,viewport:E.clone({dontFlip:!0})}),await this.annotationLayer.render({annotations:b,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:A,fieldObjects:v}),this.linkService.isInPresentationMode&&j(this,a,En).call(this,S.PresentationModeState.FULLSCREEN),n(this,_)||(ne(this,_,R=>{j(this,a,En).call(this,R.state)}),(x=this._eventBus)==null||x._on("presentationmodechanged",n(this,_)))}cancel(){var E;this._cancelled=!0,n(this,_)&&((E=this._eventBus)==null||E._off("presentationmodechanged",n(this,_)),ne(this,_,null))}hide(){this.div&&(this.div.hidden=!0)}}_=new WeakMap,a=new WeakSet,En=function(E){if(!this.div)return;let P=!1;switch(E){case S.PresentationModeState.FULLSCREEN:P=!0;break;case S.PresentationModeState.NORMAL:break;default:return}for(const b of this.div.childNodes)b.hasAttribute("data-internal-link")||(b.inert=P)},u.AnnotationLayerBuilder=y},(C,u,c)=>{var _,a,Sn,d,An;Object.defineProperty(u,"__esModule",{value:!0}),u.StructTreeLayerBuilder=void 0;var s=c(4);const o={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},S=/^H(\d+)$/;class y{constructor(){D(this,a);D(this,d);D(this,_,void 0)}get renderingDone(){return n(this,_)!==void 0}render(b){if(n(this,_)!==void 0)return n(this,_);const A=j(this,d,An).call(this,b);return A==null||A.classList.add("structTree"),ne(this,_,A)}hide(){n(this,_)&&!n(this,_).hidden&&(n(this,_).hidden=!0)}show(){var b;(b=n(this,_))!=null&&b.hidden&&(n(this,_).hidden=!1)}}_=new WeakMap,a=new WeakSet,Sn=function(b,A){const{alt:v,id:w,lang:x}=b;v!==void 0&&A.setAttribute("aria-label",(0,s.removeNullCharacters)(v)),w!==void 0&&A.setAttribute("aria-owns",w),x!==void 0&&A.setAttribute("lang",(0,s.removeNullCharacters)(x,!0))},d=new WeakSet,An=function(b){if(!b)return null;const A=document.createElement("span");if("role"in b){const{role:v}=b,w=v.match(S);w?(A.setAttribute("role","heading"),A.setAttribute("aria-level",w[1])):o[v]&&A.setAttribute("role",o[v])}if(j(this,a,Sn).call(this,b,A),b.children)if(b.children.length===1&&"id"in b.children[0])j(this,a,Sn).call(this,b.children[0],A);else for(const v of b.children)A.append(j(this,d,An).call(this,v));return A},u.StructTreeLayerBuilder=y},(C,u,c)=>{var S,y,_,a,l,si,E,Pn;Object.defineProperty(u,"__esModule",{value:!0}),u.TextAccessibilityManager=void 0;var s=c(4);const b=class b{constructor(){D(this,E);D(this,S,!1);D(this,y,null);D(this,_,new Map);D(this,a,new Map)}setTextMapping(v){ne(this,y,v)}enable(){if(n(this,S))throw new Error("TextAccessibilityManager is already enabled.");if(!n(this,y))throw new Error("Text divs and strings have not been set.");if(ne(this,S,!0),ne(this,y,n(this,y).slice()),n(this,y).sort(j(b,l,si)),n(this,_).size>0){const v=n(this,y);for(const[w,x]of n(this,_)){if(!document.getElementById(w)){n(this,_).delete(w);continue}j(this,E,Pn).call(this,w,v[x])}}for(const[v,w]of n(this,a))this.addPointerInTextLayer(v,w);n(this,a).clear()}disable(){n(this,S)&&(n(this,a).clear(),ne(this,y,null),ne(this,S,!1))}removePointerInTextLayer(v){if(!n(this,S)){n(this,a).delete(v);return}const w=n(this,y);if(!w||w.length===0)return;const{id:x}=v,R=n(this,_).get(x);if(R===void 0)return;const k=w[R];n(this,_).delete(x);let V=k.getAttribute("aria-owns");V!=null&&V.includes(x)&&(V=V.split(" ").filter(z=>z!==x).join(" "),V?k.setAttribute("aria-owns",V):(k.removeAttribute("aria-owns"),k.setAttribute("role","presentation")))}addPointerInTextLayer(v,w){const{id:x}=v;if(!x)return null;if(!n(this,S))return n(this,a).set(v,w),null;w&&this.removePointerInTextLayer(v);const R=n(this,y);if(!R||R.length===0)return null;const k=(0,s.binarySearchFirstItem)(R,ve=>{var pe;return j(pe=b,l,si).call(pe,v,ve)<0}),V=Math.max(0,k-1),z=R[V];j(this,E,Pn).call(this,x,z),n(this,_).set(x,V);const K=z.parentNode;return K!=null&&K.classList.contains("markedContent")?K.id:null}moveElementInDOM(v,w,x,R){const k=this.addPointerInTextLayer(x,R);if(!v.hasChildNodes())return v.append(w),k;const V=Array.from(v.childNodes).filter(ve=>ve!==w);if(V.length===0)return k;const z=x||w,K=(0,s.binarySearchFirstItem)(V,ve=>{var pe;return j(pe=b,l,si).call(pe,z,ve)<0});return K===0?V[0].before(w):V[K-1].after(w),k}};S=new WeakMap,y=new WeakMap,_=new WeakMap,a=new WeakMap,l=new WeakSet,si=function(v,w){const x=v.getBoundingClientRect(),R=w.getBoundingClientRect();if(x.width===0&&x.height===0)return 1;if(R.width===0&&R.height===0)return-1;const k=x.y,V=x.y+x.height,z=x.y+x.height/2,K=R.y,ve=R.y+R.height,pe=R.y+R.height/2;if(z<=K&&pe>=V)return-1;if(pe<=k&&z>=ve)return 1;const _e=x.x+x.width/2,$=R.x+R.width/2;return _e-$},E=new WeakSet,Pn=function(v,w){const x=w.getAttribute("aria-owns");x!=null&&x.includes(v)||w.setAttribute("aria-owns",x?`${x} ${v}`:v),w.removeAttribute("role")},D(b,l);let o=b;u.TextAccessibilityManager=o},(C,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TextHighlighter=void 0;class c{constructor({findController:o,eventBus:S,pageIndex:y}){this.findController=o,this.matches=[],this.eventBus=S,this.pageIdx=y,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(o,S){this.textDivs=o,this.textContentItemsStr=S}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=o=>{(o.pageIndex===this.pageIdx||o.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(o,S){if(!o)return[];const{textContentItemsStr:y}=this;let _=0,a=0;const l=y.length-1,d=[];for(let E=0,P=o.length;E<P;E++){let b=o[E];for(;_!==l&&b>=a+y[_].length;)a+=y[_].length,_++;_===y.length&&console.error("Could not find a matching mapping");const A={begin:{divIdx:_,offset:b-a}};for(b+=S[E];_!==l&&b>a+y[_].length;)a+=y[_].length,_++;A.end={divIdx:_,offset:b-a},d.push(A)}return d}_renderMatches(o){if(o.length===0)return;const{findController:S,pageIdx:y}=this,{textContentItemsStr:_,textDivs:a}=this,l=y===S.selected.pageIdx,d=S.selected.matchIdx,E=S.state.highlightAll;let P=null;const b={divIdx:-1,offset:void 0};function A(V,z){const K=V.divIdx;return a[K].textContent="",v(K,0,V.offset,z)}function v(V,z,K,ve){let pe=a[V];if(pe.nodeType===Node.TEXT_NODE){const ee=document.createElement("span");pe.before(ee),ee.append(pe),a[V]=ee,pe=ee}const _e=_[V].substring(z,K),$=document.createTextNode(_e);if(ve){const ee=document.createElement("span");return ee.className=`${ve} appended`,ee.append($),pe.append(ee),ve.includes("selected")?ee.offsetLeft:0}return pe.append($),0}let w=d,x=w+1;if(E)w=0,x=o.length;else if(!l)return;let R=-1,k=-1;for(let V=w;V<x;V++){const z=o[V],K=z.begin;if(K.divIdx===R&&K.offset===k)continue;R=K.divIdx,k=K.offset;const ve=z.end,pe=l&&V===d,_e=pe?" selected":"";let $=0;if(!P||K.divIdx!==P.divIdx?(P!==null&&v(P.divIdx,P.offset,b.offset),A(K)):v(P.divIdx,P.offset,K.offset),K.divIdx===ve.divIdx)$=v(K.divIdx,K.offset,ve.offset,"highlight"+_e);else{$=v(K.divIdx,K.offset,b.offset,"highlight begin"+_e);for(let ee=K.divIdx+1,G=ve.divIdx;ee<G;ee++)a[ee].className="highlight middle"+_e;A(ve,"highlight end"+_e)}P=ve,pe&&S.scrollMatchIntoView({element:a[K.divIdx],selectedLeft:$,pageIndex:y,matchIndex:d})}P&&v(P.divIdx,P.offset,b.offset)}_updateMatches(o=!1){if(!this.enabled&&!o)return;const{findController:S,matches:y,pageIdx:_}=this,{textContentItemsStr:a,textDivs:l}=this;let d=-1;for(const b of y){const A=Math.max(d,b.begin.divIdx);for(let v=A,w=b.end.divIdx;v<=w;v++){const x=l[v];x.textContent=a[v],x.className=""}d=b.end.divIdx+1}if(!(S!=null&&S.highlightMatches)||o)return;const E=S.pageMatches[_]||null,P=S.pageMatchesLength[_]||null;this.matches=this._convertMatches(E,P),this._renderMatches(this.matches)}}u.TextHighlighter=c},(C,u,c)=>{var y,_,a,l,d,nr,P,sr;Object.defineProperty(u,"__esModule",{value:!0}),u.TextLayerBuilder=void 0;var s=c(5),o=c(4);class S{constructor({highlighter:v=null,accessibilityManager:w=null,isOffscreenCanvasSupported:x=!0,enablePermissions:R=!1}){D(this,d);D(this,P);D(this,y,!1);D(this,_,0);D(this,a,0);D(this,l,null);this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=v,this.accessibilityManager=w,this.isOffscreenCanvasSupported=x,ne(this,y,R===!0),this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}get numTextDivs(){return this.textDivs.length}async render(v){var R,k,V;if(!n(this,l))throw new Error('No "textContentSource" parameter specified.');const w=v.scale*(globalThis.devicePixelRatio||1),{rotation:x}=v;if(this.renderingDone){const z=x!==n(this,_),K=w!==n(this,a);(z||K)&&(this.hide(),(0,s.updateTextLayer)({container:this.div,viewport:v,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:K,mustRotate:z}),ne(this,a,w),ne(this,_,x)),this.show();return}this.cancel(),(R=this.highlighter)==null||R.setTextMapping(this.textDivs,this.textContentItemsStr),(k=this.accessibilityManager)==null||k.setTextMapping(this.textDivs),this.textLayerRenderTask=(0,s.renderTextLayer)({textContentSource:n(this,l),container:this.div,viewport:v,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItemsStr:this.textContentItemsStr,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported}),await this.textLayerRenderTask.promise,j(this,d,nr).call(this),ne(this,a,w),ne(this,_,x),this.show(),(V=this.accessibilityManager)==null||V.enable()}hide(){var v;this.div.hidden||((v=this.highlighter)==null||v.disable(),this.div.hidden=!0)}show(){var v;this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,(v=this.highlighter)==null||v.enable())}cancel(){var v,w;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(v=this.highlighter)==null||v.disable(),(w=this.accessibilityManager)==null||w.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(v){this.cancel(),ne(this,l,v)}}y=new WeakMap,_=new WeakMap,a=new WeakMap,l=new WeakMap,d=new WeakSet,nr=function(){this.renderingDone=!0;const v=document.createElement("div");v.className="endOfContent",this.div.append(v),j(this,P,sr).call(this)},P=new WeakSet,sr=function(){const{div:v}=this;v.addEventListener("mousedown",w=>{const x=v.querySelector(".endOfContent");if(!x)return;let R=w.target!==v;if(R&&(R=getComputedStyle(x).getPropertyValue("-moz-user-select")!=="none"),R){const k=v.getBoundingClientRect(),V=Math.max(0,(w.pageY-k.top)/k.height);x.style.top=(V*100).toFixed(2)+"%"}x.classList.add("active")}),v.addEventListener("mouseup",()=>{const w=v.querySelector(".endOfContent");w&&(w.style.top="",w.classList.remove("active"))}),v.addEventListener("copy",w=>{if(!n(this,y)){const x=document.getSelection();w.clipboardData.setData("text/plain",(0,o.removeNullCharacters)((0,s.normalizeUnicode)(x.toString())))}w.preventDefault(),w.stopPropagation()})},u.TextLayerBuilder=S},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.XfaLayerBuilder=void 0;var s=c(5);class o{constructor({pageDiv:y,pdfPage:_,annotationStorage:a=null,linkService:l,xfaHtml:d=null}){this.pageDiv=y,this.pdfPage=_,this.annotationStorage=a,this.linkService=l,this.xfaHtml=d,this.div=null,this._cancelled=!1}async render(y,_="display"){if(_==="print"){const d={viewport:y.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:_},E=document.createElement("div");return this.pageDiv.append(E),d.div=E,s.XfaLayer.render(d)}const a=await this.pdfPage.getXfa();if(this._cancelled||!a)return{textDivs:[]};const l={viewport:y.clone({dontFlip:!0}),div:this.div,xfaHtml:a,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:_};return this.div?s.XfaLayer.update(l):(this.div=document.createElement("div"),this.pageDiv.append(this.div),l.div=this.div,s.XfaLayer.render(l))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}u.XfaLayerBuilder=o},(C,u,c)=>{var y,ri,a,rr,d,ar,P,or,A,lr;Object.defineProperty(u,"__esModule",{value:!0}),u.SecondaryToolbar=void 0;var s=c(4),o=c(31);class S{constructor(x,R){D(this,y);D(this,a);D(this,d);D(this,P);D(this,A);this.toolbar=x.toolbar,this.toggleButton=x.toggleButton,this.buttons=[{element:x.presentationModeButton,eventName:"presentationmode",close:!0},{element:x.printButton,eventName:"print",close:!0},{element:x.downloadButton,eventName:"download",close:!0},{element:x.viewBookmarkButton,eventName:null,close:!0},{element:x.firstPageButton,eventName:"firstpage",close:!0},{element:x.lastPageButton,eventName:"lastpage",close:!0},{element:x.pageRotateCwButton,eventName:"rotatecw",close:!1},{element:x.pageRotateCcwButton,eventName:"rotateccw",close:!1},{element:x.cursorSelectToolButton,eventName:"switchcursortool",eventDetails:{tool:s.CursorTool.SELECT},close:!0},{element:x.cursorHandToolButton,eventName:"switchcursortool",eventDetails:{tool:s.CursorTool.HAND},close:!0},{element:x.scrollPageButton,eventName:"switchscrollmode",eventDetails:{mode:s.ScrollMode.PAGE},close:!0},{element:x.scrollVerticalButton,eventName:"switchscrollmode",eventDetails:{mode:s.ScrollMode.VERTICAL},close:!0},{element:x.scrollHorizontalButton,eventName:"switchscrollmode",eventDetails:{mode:s.ScrollMode.HORIZONTAL},close:!0},{element:x.scrollWrappedButton,eventName:"switchscrollmode",eventDetails:{mode:s.ScrollMode.WRAPPED},close:!0},{element:x.spreadNoneButton,eventName:"switchspreadmode",eventDetails:{mode:s.SpreadMode.NONE},close:!0},{element:x.spreadOddButton,eventName:"switchspreadmode",eventDetails:{mode:s.SpreadMode.ODD},close:!0},{element:x.spreadEvenButton,eventName:"switchspreadmode",eventDetails:{mode:s.SpreadMode.EVEN},close:!0},{element:x.documentPropertiesButton,eventName:"documentproperties",close:!0}],this.buttons.push({element:x.openFileButton,eventName:"openfile",close:!0}),this.items={firstPage:x.firstPageButton,lastPage:x.lastPageButton,pageRotateCw:x.pageRotateCwButton,pageRotateCcw:x.pageRotateCcwButton},this.eventBus=R,this.opened=!1,j(this,a,rr).call(this),j(this,d,ar).call(this,x),j(this,P,or).call(this,x),j(this,A,lr).call(this,x),this.reset()}get isOpen(){return this.opened}setPageNumber(x){this.pageNumber=x,j(this,y,ri).call(this)}setPagesCount(x){this.pagesCount=x,j(this,y,ri).call(this)}reset(){this.pageNumber=0,this.pagesCount=0,j(this,y,ri).call(this),this.eventBus.dispatch("secondarytoolbarreset",{source:this})}open(){this.opened||(this.opened=!0,(0,s.toggleExpandedBtn)(this.toggleButton,!0,this.toolbar))}close(){this.opened&&(this.opened=!1,(0,s.toggleExpandedBtn)(this.toggleButton,!1,this.toolbar))}toggle(){this.opened?this.close():this.open()}}y=new WeakSet,ri=function(){this.items.firstPage.disabled=this.pageNumber<=1,this.items.lastPage.disabled=this.pageNumber>=this.pagesCount,this.items.pageRotateCw.disabled=this.pagesCount===0,this.items.pageRotateCcw.disabled=this.pagesCount===0},a=new WeakSet,rr=function(){this.toggleButton.addEventListener("click",this.toggle.bind(this));for(const{element:x,eventName:R,close:k,eventDetails:V}of this.buttons)x.addEventListener("click",z=>{R!==null&&this.eventBus.dispatch(R,{source:this,...V}),k&&this.close(),this.eventBus.dispatch("reporttelemetry",{source:this,details:{type:"buttons",data:{id:x.id}}})})},d=new WeakSet,ar=function({cursorSelectToolButton:x,cursorHandToolButton:R}){this.eventBus._on("cursortoolchanged",({tool:k})=>{(0,s.toggleCheckedBtn)(x,k===s.CursorTool.SELECT),(0,s.toggleCheckedBtn)(R,k===s.CursorTool.HAND)})},P=new WeakSet,or=function({scrollPageButton:x,scrollVerticalButton:R,scrollHorizontalButton:k,scrollWrappedButton:V,spreadNoneButton:z,spreadOddButton:K,spreadEvenButton:ve}){const pe=({mode:_e})=>{(0,s.toggleCheckedBtn)(x,_e===s.ScrollMode.PAGE),(0,s.toggleCheckedBtn)(R,_e===s.ScrollMode.VERTICAL),(0,s.toggleCheckedBtn)(k,_e===s.ScrollMode.HORIZONTAL),(0,s.toggleCheckedBtn)(V,_e===s.ScrollMode.WRAPPED);const $=this.pagesCount>o.PagesCountLimit.FORCE_SCROLL_MODE_PAGE;x.disabled=$,R.disabled=$,k.disabled=$,V.disabled=$;const ee=_e===s.ScrollMode.HORIZONTAL;z.disabled=ee,K.disabled=ee,ve.disabled=ee};this.eventBus._on("scrollmodechanged",pe),this.eventBus._on("secondarytoolbarreset",_e=>{_e.source===this&&pe({mode:s.ScrollMode.VERTICAL})})},A=new WeakSet,lr=function({spreadNoneButton:x,spreadOddButton:R,spreadEvenButton:k}){const V=({mode:z})=>{(0,s.toggleCheckedBtn)(x,z===s.SpreadMode.NONE),(0,s.toggleCheckedBtn)(R,z===s.SpreadMode.ODD),(0,s.toggleCheckedBtn)(k,z===s.SpreadMode.EVEN)};this.eventBus._on("spreadmodechanged",V),this.eventBus._on("secondarytoolbarreset",z=>{z.source===this&&V({mode:s.SpreadMode.NONE})})},u.SecondaryToolbar=S},(C,u,c)=>{var _,a,cr,d,dr,P,yt,A,hr;Object.defineProperty(u,"__esModule",{value:!0}),u.Toolbar=void 0;var s=c(4),o=c(5);const S="visiblePageIsLoading";class y{constructor(x,R,k){D(this,a);D(this,d);D(this,P);D(this,A);D(this,_,!1);this.toolbar=x.container,this.eventBus=R,this.l10n=k,this.buttons=[{element:x.previous,eventName:"previouspage"},{element:x.next,eventName:"nextpage"},{element:x.zoomIn,eventName:"zoomin"},{element:x.zoomOut,eventName:"zoomout"},{element:x.print,eventName:"print"},{element:x.download,eventName:"download"},{element:x.editorFreeTextButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){const{classList:V}=x.editorFreeTextButton;return V.contains("toggled")?o.AnnotationEditorType.NONE:o.AnnotationEditorType.FREETEXT}}},{element:x.editorInkButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){const{classList:V}=x.editorInkButton;return V.contains("toggled")?o.AnnotationEditorType.NONE:o.AnnotationEditorType.INK}}},{element:x.editorStampButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){const{classList:V}=x.editorStampButton;return V.contains("toggled")?o.AnnotationEditorType.NONE:o.AnnotationEditorType.STAMP}}}],this.buttons.push({element:x.openFile,eventName:"openfile"}),this.items={numPages:x.numPages,pageNumber:x.pageNumber,scaleSelect:x.scaleSelect,customScaleOption:x.customScaleOption,previous:x.previous,next:x.next,zoomIn:x.zoomIn,zoomOut:x.zoomOut},j(this,a,cr).call(this,x),this.reset()}setPageNumber(x,R){this.pageNumber=x,this.pageLabel=R,j(this,P,yt).call(this,!1)}setPagesCount(x,R){this.pagesCount=x,this.hasPageLabels=R,j(this,P,yt).call(this,!0)}setPageScale(x,R){this.pageScaleValue=(x||R).toString(),this.pageScale=R,j(this,P,yt).call(this,!1)}reset(){this.pageNumber=0,this.pageLabel=null,this.hasPageLabels=!1,this.pagesCount=0,this.pageScaleValue=s.DEFAULT_SCALE_VALUE,this.pageScale=s.DEFAULT_SCALE,j(this,P,yt).call(this,!0),this.updateLoadingIndicatorState(),this.eventBus.dispatch("toolbarreset",{source:this})}updateLoadingIndicatorState(x=!1){const{pageNumber:R}=this.items;R.classList.toggle(S,x)}}_=new WeakMap,a=new WeakSet,cr=function(x){const{pageNumber:R,scaleSelect:k}=this.items,V=this;for(const{element:z,eventName:K,eventDetails:ve}of this.buttons)z.addEventListener("click",pe=>{K!==null&&this.eventBus.dispatch(K,{source:this,...ve})});R.addEventListener("click",function(){this.select()}),R.addEventListener("change",function(){V.eventBus.dispatch("pagenumberchanged",{source:V,value:this.value})}),k.addEventListener("change",function(){this.value!=="custom"&&V.eventBus.dispatch("scalechanged",{source:V,value:this.value})}),k.addEventListener("click",function(z){const K=z.target;this.value===V.pageScaleValue&&K.tagName.toUpperCase()==="OPTION"&&this.blur()}),k.oncontextmenu=o.noContextMenu,this.eventBus._on("localized",()=>{ne(this,_,!0),j(this,A,hr).call(this),j(this,P,yt).call(this,!0)}),j(this,d,dr).call(this,x)},d=new WeakSet,dr=function({editorFreeTextButton:x,editorFreeTextParamsToolbar:R,editorInkButton:k,editorInkParamsToolbar:V,editorStampButton:z,editorStampParamsToolbar:K}){const ve=({mode:pe})=>{(0,s.toggleCheckedBtn)(x,pe===o.AnnotationEditorType.FREETEXT,R),(0,s.toggleCheckedBtn)(k,pe===o.AnnotationEditorType.INK,V),(0,s.toggleCheckedBtn)(z,pe===o.AnnotationEditorType.STAMP,K);const _e=pe===o.AnnotationEditorType.DISABLE;x.disabled=_e,k.disabled=_e,z.disabled=_e};this.eventBus._on("annotationeditormodechanged",ve),this.eventBus._on("toolbarreset",pe=>{pe.source===this&&ve({mode:o.AnnotationEditorType.DISABLE})})},P=new WeakSet,yt=function(x=!1){if(!n(this,_))return;const{pageNumber:R,pagesCount:k,pageScaleValue:V,pageScale:z,items:K}=this;x&&(this.hasPageLabels?K.pageNumber.type="text":(K.pageNumber.type="number",this.l10n.get("of_pages",{pagesCount:k}).then(ve=>{K.numPages.textContent=ve})),K.pageNumber.max=k),this.hasPageLabels?(K.pageNumber.value=this.pageLabel,this.l10n.get("page_of_pages",{pageNumber:R,pagesCount:k}).then(ve=>{K.numPages.textContent=ve})):K.pageNumber.value=R,K.previous.disabled=R<=1,K.next.disabled=R>=k,K.zoomOut.disabled=z<=s.MIN_SCALE,K.zoomIn.disabled=z>=s.MAX_SCALE,this.l10n.get("page_scale_percent",{scale:Math.round(z*1e4)/100}).then(ve=>{let pe=!1;for(const _e of K.scaleSelect.options){if(_e.value!==V){_e.selected=!1;continue}_e.selected=!0,pe=!0}pe||(K.customScaleOption.textContent=ve,K.customScaleOption.selected=!0)})},A=new WeakSet,hr=async function(){const{items:x,l10n:R}=this,k=Promise.all([R.get("page_scale_auto"),R.get("page_scale_actual"),R.get("page_scale_fit"),R.get("page_scale_width")]);await s.animationStarted;const V=getComputedStyle(x.scaleSelect),z=parseFloat(V.getPropertyValue("--scale-select-width")),K=document.createElement("canvas"),ve=K.getContext("2d",{alpha:!1});ve.font=`${V.fontSize} ${V.fontFamily}`;let pe=0;for(const _e of await k){const{width:$}=ve.measureText(_e);$>pe&&(pe=$)}pe+=.3*z,pe>z&&x.scaleSelect.parentNode.style.setProperty("--scale-select-width",`${pe}px`),K.width=0,K.height=0},u.Toolbar=y},(C,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ViewHistory=void 0;const c=20;class s{constructor(S,y=c){this.fingerprint=S,this.cacheSize=y,this._initializedPromise=this._readFromStorage().then(_=>{const a=JSON.parse(_||"{}");let l=-1;if(!Array.isArray(a.files))a.files=[];else{for(;a.files.length>=this.cacheSize;)a.files.shift();for(let d=0,E=a.files.length;d<E;d++)if(a.files[d].fingerprint===this.fingerprint){l=d;break}}l===-1&&(l=a.files.push({fingerprint:this.fingerprint})-1),this.file=a.files[l],this.database=a})}async _writeToStorage(){const S=JSON.stringify(this.database);localStorage.setItem("pdfjs.history",S)}async _readFromStorage(){return localStorage.getItem("pdfjs.history")}async set(S,y){return await this._initializedPromise,this.file[S]=y,this._writeToStorage()}async setMultiple(S){await this._initializedPromise;for(const y in S)this.file[y]=S[y];return this._writeToStorage()}async get(S,y){await this._initializedPromise;const _=this.file[S];return _!==void 0?_:y}async getMultiple(S){await this._initializedPromise;const y=Object.create(null);for(const _ in S){const a=this.file[_];y[_]=a!==void 0?a:S[_]}return y}}u.ViewHistory=s},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DefaultExternalServices=void 0;var s=c(5);class o{constructor(){throw new Error("Cannot initialize DefaultExternalServices.")}static updateFindControlState(y){}static updateFindMatchesCount(y){}static initPassiveLoading(y){}static reportTelemetry(y){}static createDownloadManager(){throw new Error("Not implemented: createDownloadManager")}static createPreferences(){throw new Error("Not implemented: createPreferences")}static createL10n(y){throw new Error("Not implemented: createL10n")}static createScripting(y){throw new Error("Not implemented: createScripting")}static get supportsPinchToZoom(){return(0,s.shadow)(this,"supportsPinchToZoom",!0)}static get supportsIntegratedFind(){return(0,s.shadow)(this,"supportsIntegratedFind",!1)}static get supportsDocumentFonts(){return(0,s.shadow)(this,"supportsDocumentFonts",!0)}static get supportedMouseWheelZoomModifierKeys(){return(0,s.shadow)(this,"supportedMouseWheelZoomModifierKeys",{ctrlKey:!0,metaKey:!0})}static get isInAutomation(){return(0,s.shadow)(this,"isInAutomation",!1)}static updateEditorStates(y){throw new Error("Not implemented: updateEditorStates")}static get canvasMaxAreaInBytes(){return(0,s.shadow)(this,"canvasMaxAreaInBytes",-1)}static getNimbusExperimentData(){return(0,s.shadow)(this,"getNimbusExperimentData",Promise.resolve(null))}}u.DefaultExternalServices=o},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.bindPrintServiceFactory=u.bindExternalService=void 0;let s;u.bindPrintServiceFactory=s;let o;u.bindExternalService=o,u.bindExternalService=o=c(46).bindExternalService,u.bindPrintServiceFactory=s=c(52).bindPrintServiceFactory,document.blockUnblockOnload&&document.blockUnblockOnload(!0)},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.bindExternalService=d;var s=c(44),o=c(47),S=c(48),y=c(49),_=c(51);class a extends o.BasePreferences{async _writeToStorage(P){localStorage.setItem("pdfjs.preferences",JSON.stringify(P))}async _readFromStorage(P){return JSON.parse(localStorage.getItem("pdfjs.preferences"))}}class l extends s.DefaultExternalServices{static createDownloadManager(){return new S.DownloadManager}static createPreferences(){return new a}static createL10n({locale:P="en-US"}){return new y.GenericL10n(P)}static createScripting({sandboxBundleSrc:P}){return new _.GenericScripting(P)}}function d(E){E.externalServices=l}},(C,u,c)=>{var o,S,y;Object.defineProperty(u,"__esModule",{value:!0}),u.BasePreferences=void 0,c(9);const _=class _{constructor(){D(this,o,Object.freeze({annotationEditorMode:0,annotationMode:2,cursorToolOnLoad:0,defaultZoomDelay:400,defaultZoomValue:"",disablePageLabels:!1,enablePermissions:!1,enablePrintAutoRotate:!0,enableScripting:!0,enableStampEditor:!0,externalLinkTarget:0,historyUpdateUrl:!1,ignoreDestinationZoom:!1,forcePageColors:!1,pageColorsBackground:"Canvas",pageColorsForeground:"CanvasText",pdfBugEnabled:!1,sidebarViewOnLoad:-1,scrollModeOnLoad:-1,spreadModeOnLoad:-1,textLayerMode:1,viewerCssTheme:0,viewOnLoad:0,disableAutoFetch:!1,disableFontFace:!1,disableRange:!1,disableStream:!1,enableXfa:!0}));D(this,S,Object.create(null));D(this,y,null);if(this.constructor===_)throw new Error("Cannot initialize BasePreferences.");ne(this,y,this._readFromStorage(n(this,o)).then(l=>{for(const d in n(this,o)){const E=l==null?void 0:l[d];typeof E==typeof n(this,o)[d]&&(n(this,S)[d]=E)}}))}async _writeToStorage(l){throw new Error("Not implemented: _writeToStorage")}async _readFromStorage(l){throw new Error("Not implemented: _readFromStorage")}async reset(){await n(this,y);const l=n(this,S);return ne(this,S,Object.create(null)),this._writeToStorage(n(this,o)).catch(d=>{throw ne(this,S,l),d})}async set(l,d){await n(this,y);const E=n(this,o)[l],P=n(this,S);if(E===void 0)throw new Error(`Set preference: "${l}" is undefined.`);if(d===void 0)throw new Error("Set preference: no value is specified.");const b=typeof d,A=typeof E;if(b!==A)if(b==="number"&&A==="string")d=d.toString();else throw new Error(`Set preference: "${d}" is a ${b}, expected a ${A}.`);else if(b==="number"&&!Number.isInteger(d))throw new Error(`Set preference: "${d}" must be an integer.`);return n(this,S)[l]=d,this._writeToStorage(n(this,S)).catch(v=>{throw ne(this,S,P),v})}async get(l){await n(this,y);const d=n(this,o)[l];if(d===void 0)throw new Error(`Get preference: "${l}" is undefined.`);return n(this,S)[l]??d}async getAll(){await n(this,y);const l=Object.create(null);for(const d in n(this,o))l[d]=n(this,S)[d]??n(this,o)[d];return l}};o=new WeakMap,S=new WeakMap,y=new WeakMap;let s=_;u.BasePreferences=s},(C,u,c)=>{var y;Object.defineProperty(u,"__esModule",{value:!0}),u.DownloadManager=void 0;var s=c(5);function o(_,a){const l=document.createElement("a");if(!l.click)throw new Error('DownloadManager: "a.click()" is not supported.');l.href=_,l.target="_parent","download"in l&&(l.download=a),(document.body||document.documentElement).append(l),l.click(),l.remove()}class S{constructor(){D(this,y,new WeakMap)}downloadUrl(a,l,d){if(!(0,s.createValidAbsoluteUrl)(a,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${a}`);return}o(a+"#pdfjs.action=download",l)}downloadData(a,l,d){const E=URL.createObjectURL(new Blob([a],{type:d}));o(E,l)}openOrDownloadData(a,l,d){const E=(0,s.isPdfFile)(d),P=E?"application/pdf":"";if(E){let b=n(this,y).get(a);b||(b=URL.createObjectURL(new Blob([l],{type:P})),n(this,y).set(a,b));let A;A="?file="+encodeURIComponent(b+"#"+d);try{return window.open(A),!0}catch(v){console.error(`openOrDownloadData: ${v}`),URL.revokeObjectURL(b),n(this,y).delete(a)}}return this.downloadData(l,d,P),!1}download(a,l,d,E){const P=URL.createObjectURL(a);o(P,d)}}y=new WeakMap,u.DownloadManager=S},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GenericL10n=void 0,c(50);var s=c(32);const o={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function S(_){return o[_==null?void 0:_.toLowerCase()]||_}class y{constructor(a){const{webL10n:l}=document;this._lang=a,this._ready=new Promise((d,E)=>{l.setLanguage(S(a),()=>{d(l)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(a,l=null,d=(0,s.getL10nFallback)(a,l)){return(await this._ready).get(a,l,d)}async translate(a){return(await this._ready).translate(a)}}u.GenericL10n=y},()=>{document.webL10n=function(C,u){var c={},s="",o="textContent",S="",y={},_="loading",a=!0;function l(){return u.querySelectorAll('link[type="application/l10n"]')}function d(){var pe=u.querySelector('script[type="application/l10n"]');return pe?JSON.parse(pe.innerHTML):null}function E(pe){return pe?pe.querySelectorAll("*[data-l10n-id]"):[]}function P(pe){if(!pe)return{};var _e=pe.getAttribute("data-l10n-id"),$=pe.getAttribute("data-l10n-args"),ee={};if($)try{ee=JSON.parse($)}catch{console.warn("could not parse arguments for #"+_e)}return{id:_e,args:ee}}function b(pe,_e,$){_e=_e||function(ue){},$=$||function(){};var ee=new XMLHttpRequest;ee.open("GET",pe,a),ee.overrideMimeType&&ee.overrideMimeType("text/plain; charset=utf-8"),ee.onreadystatechange=function(){ee.readyState==4&&(ee.status==200||ee.status===0?_e(ee.responseText):$())},ee.onerror=$,ee.ontimeout=$;try{ee.send(null)}catch{$()}}function A(pe,_e,$,ee){var G=pe.replace(/[^\/]*$/,"")||"./";function ue(xe){return xe.lastIndexOf("\\")<0?xe:xe.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function te(xe,Ie){var le={},I=/^\s*|\s*$/,F=/^\s*#|^\s*$/,m=/^\s*\[(.*)\]\s*$/,g=/^\s*@import\s+url\((.*)\)\s*$/i,N=/^([^=\s]*)\s*=\s*(.+)$/;function U(H,X,M){var T=H.replace(I,"").split(/[\r\n]+/),W="*",Z=_e.split("-",1)[0],q=!1,we="";function Ae(){for(;;){if(!T.length){M();return}var Ee=T.shift();if(!F.test(Ee)){if(X){if(we=m.exec(Ee),we){W=we[1].toLowerCase(),q=W!=="*"&&W!==_e&&W!==Z;continue}else if(q)continue;if(we=g.exec(Ee),we){O(G+we[1],Ae);return}}var oe=Ee.match(N);oe&&oe.length==3&&(le[oe[1]]=ue(oe[2]))}}}Ae()}function O(H,X){b(H,function(M){U(M,!1,X)},function(){console.warn(H+" not found."),X()})}U(xe,!0,function(){Ie(le)})}b(pe,function(xe){s+=xe,te(xe,function(Ie){for(var le in Ie){var I,F,m=le.lastIndexOf(".");m>0?(I=le.substring(0,m),F=le.substring(m+1)):(I=le,F=o),c[I]||(c[I]={}),c[I][F]=Ie[le]}$&&$()})},ee)}function v(pe,_e){pe&&(pe=pe.toLowerCase()),_e=_e||function(){},w(),S=pe;var $=l(),ee=$.length;if(ee===0){var G=d();if(G&&G.locales&&G.default_locale){if(console.log("using the embedded JSON directory, early way out"),c=G.locales[pe],!c){var ue=G.default_locale.toLowerCase();for(var te in G.locales)if(te=te.toLowerCase(),te===pe){c=G.locales[pe];break}else te===ue&&(c=G.locales[ue])}_e()}else console.log("no resource to load, early way out");_="complete";return}var xe=null,Ie=0;xe=function(){Ie++,Ie>=ee&&(_e(),_="complete")};function le(m){var g=m.href;this.load=function(N,U){A(g,N,U,function(){console.warn(g+" not found."),console.warn('"'+N+'" resource not found'),S="",U()})}}for(var I=0;I<ee;I++){var F=new le($[I]);F.load(pe,xe)}}function w(){c={},s="",S=""}function x(pe){var _e={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function $(te,xe){return xe.indexOf(te)!==-1}function ee(te,xe,Ie){return xe<=te&&te<=Ie}var G={0:function(te){return"other"},1:function(te){return ee(te%100,3,10)?"few":te===0?"zero":ee(te%100,11,99)?"many":te==2?"two":te==1?"one":"other"},2:function(te){return te!==0&&te%10===0?"many":te==2?"two":te==1?"one":"other"},3:function(te){return te==1?"one":"other"},4:function(te){return ee(te,0,1)?"one":"other"},5:function(te){return ee(te,0,2)&&te!=2?"one":"other"},6:function(te){return te===0?"zero":te%10==1&&te%100!=11?"one":"other"},7:function(te){return te==2?"two":te==1?"one":"other"},8:function(te){return ee(te,3,6)?"few":ee(te,7,10)?"many":te==2?"two":te==1?"one":"other"},9:function(te){return te===0||te!=1&&ee(te%100,1,19)?"few":te==1?"one":"other"},10:function(te){return ee(te%10,2,9)&&!ee(te%100,11,19)?"few":te%10==1&&!ee(te%100,11,19)?"one":"other"},11:function(te){return ee(te%10,2,4)&&!ee(te%100,12,14)?"few":te%10===0||ee(te%10,5,9)||ee(te%100,11,14)?"many":te%10==1&&te%100!=11?"one":"other"},12:function(te){return ee(te,2,4)?"few":te==1?"one":"other"},13:function(te){return ee(te%10,2,4)&&!ee(te%100,12,14)?"few":te!=1&&ee(te%10,0,1)||ee(te%10,5,9)||ee(te%100,12,14)?"many":te==1?"one":"other"},14:function(te){return ee(te%100,3,4)?"few":te%100==2?"two":te%100==1?"one":"other"},15:function(te){return te===0||ee(te%100,2,10)?"few":ee(te%100,11,19)?"many":te==1?"one":"other"},16:function(te){return te%10==1&&te!=11?"one":"other"},17:function(te){return te==3?"few":te===0?"zero":te==6?"many":te==2?"two":te==1?"one":"other"},18:function(te){return te===0?"zero":ee(te,0,2)&&te!==0&&te!=2?"one":"other"},19:function(te){return ee(te,2,10)?"few":ee(te,0,1)?"one":"other"},20:function(te){return(ee(te%10,3,4)||te%10==9)&&!(ee(te%100,10,19)||ee(te%100,70,79)||ee(te%100,90,99))?"few":te%1e6===0&&te!==0?"many":te%10==2&&!$(te%100,[12,72,92])?"two":te%10==1&&!$(te%100,[11,71,91])?"one":"other"},21:function(te){return te===0?"zero":te==1?"one":"other"},22:function(te){return ee(te,0,1)||ee(te,11,99)?"one":"other"},23:function(te){return ee(te%10,1,2)||te%20===0?"one":"other"},24:function(te){return ee(te,3,10)||ee(te,13,19)?"few":$(te,[2,12])?"two":$(te,[1,11])?"one":"other"}},ue=_e[pe.replace(/-.*$/,"")];return ue in G?G[ue]:(console.warn("plural form unknown for ["+pe+"]"),function(){return"other"})}y.plural=function(pe,_e,$,ee){var G=parseFloat(_e);if(isNaN(G)||ee!=o)return pe;y._pluralRules||(y._pluralRules=x(S));var ue="["+y._pluralRules(G)+"]";return G===0&&$+"[zero]"in c?pe=c[$+"[zero]"][ee]:G==1&&$+"[one]"in c?pe=c[$+"[one]"][ee]:G==2&&$+"[two]"in c?pe=c[$+"[two]"][ee]:$+ue in c?pe=c[$+ue][ee]:$+"[other]"in c&&(pe=c[$+"[other]"][ee]),pe};function R(pe,_e,$){var ee=c[pe];if(!ee){if(console.warn("#"+pe+" is undefined."),!$)return null;ee=$}var G={};for(var ue in ee){var te=ee[ue];te=k(te,_e,pe,ue),te=V(te,_e,pe),G[ue]=te}return G}function k(pe,_e,$,ee){var G=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,ue=G.exec(pe);if(!ue||!ue.length)return pe;var te=ue[1],xe=ue[2],Ie;if(_e&&xe in _e?Ie=_e[xe]:xe in c&&(Ie=c[xe]),te in y){var le=y[te];pe=le(pe,Ie,$,ee)}return pe}function V(pe,_e,$){var ee=/\{\{\s*(.+?)\s*\}\}/g;return pe.replace(ee,function(G,ue){return _e&&ue in _e?_e[ue]:ue in c?c[ue]:(console.log("argument {{"+ue+"}} for #"+$+" is undefined."),G)})}function z(pe){var _e=P(pe);if(_e.id){var $=R(_e.id,_e.args);if(!$){console.warn("#"+_e.id+" is undefined.");return}if($[o]){if(K(pe)===0)pe[o]=$[o];else{for(var ee=pe.childNodes,G=!1,ue=0,te=ee.length;ue<te;ue++)ee[ue].nodeType===3&&/\S/.test(ee[ue].nodeValue)&&(G?ee[ue].nodeValue="":(ee[ue].nodeValue=$[o],G=!0));if(!G){var xe=u.createTextNode($[o]);pe.prepend(xe)}}delete $[o]}for(var Ie in $)pe[Ie]=$[Ie]}}function K(pe){if(pe.children)return pe.children.length;if(typeof pe.childElementCount<"u")return pe.childElementCount;for(var _e=0,$=0;$<pe.childNodes.length;$++)_e+=pe.nodeType===1?1:0;return _e}function ve(pe){pe=pe||u.documentElement;for(var _e=E(pe),$=_e.length,ee=0;ee<$;ee++)z(_e[ee]);z(pe)}return{get:function(pe,_e,$){var ee=pe.lastIndexOf("."),G=o;ee>0&&(G=pe.substring(ee+1),pe=pe.substring(0,ee));var ue;$&&(ue={},ue[G]=$);var te=R(pe,_e,ue);return te&&G in te?te[G]:"{{"+pe+"}}"},getData:function(){return c},getText:function(){return s},getLanguage:function(){return S},setLanguage:function(pe,_e){v(pe,function(){_e&&_e()})},getDirection:function(){var pe=["ar","he","fa","ps","ur"],_e=S.split("-",1)[0];return pe.indexOf(_e)>=0?"rtl":"ltr"},translate:ve,getReadyState:function(){return _},ready:function(pe){if(pe)_=="complete"||_=="interactive"?C.setTimeout(function(){pe()}):u.addEventListener&&u.addEventListener("localized",function _e(){u.removeEventListener("localized",_e),pe()});else return}}}(window,document)},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GenericScripting=void 0,u.docProperties=o;var s=c(5);async function o(y){const _="",a=_.split("#")[0];let{info:l,metadata:d,contentDispositionFilename:E,contentLength:P}=await y.getMetadata();if(!P){const{length:b}=await y.getDownloadInfo();P=b}return{...l,baseURL:a,filesize:P,filename:E||(0,s.getPdfFilenameFromUrl)(_),metadata:d==null?void 0:d.getRaw(),authors:d==null?void 0:d.get("dc:creator"),numPages:y.numPages,URL:_}}class S{constructor(_){this._ready=(0,s.loadScript)(_,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(_){(await this._ready).create(_)}async dispatchEventInSandbox(_){const a=await this._ready;setTimeout(()=>a.dispatchEvent(_),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}u.GenericScripting=S},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.bindPrintServiceFactory=x;var s=c(5),o=c(53),S=c(1);let y=null,_=null,a=null;function l(R,k,V,z,K,ve,pe){const _e=y.scratchCanvas,$=K/s.PixelsPerInch.PDF;_e.width=Math.floor(z.width*$),_e.height=Math.floor(z.height*$);const ee=_e.getContext("2d");return ee.save(),ee.fillStyle="rgb(255, 255, 255)",ee.fillRect(0,0,_e.width,_e.height),ee.restore(),Promise.all([k.getPage(V),pe]).then(function([G,ue]){const te={canvasContext:ee,transform:[$,0,0,$,0,0],viewport:G.getViewport({scale:1,rotation:z.rotation}),intent:"print",annotationMode:s.AnnotationMode.ENABLE_STORAGE,optionalContentConfigPromise:ve,printAnnotationStorage:ue};return G.render(te).promise})}class d{constructor(k,V,z,K,ve=null,pe=null,_e){this.pdfDocument=k,this.pagesOverview=V,this.printContainer=z,this._printResolution=K||150,this._optionalContentConfigPromise=ve||k.getOptionalContentConfig(),this._printAnnotationStoragePromise=pe||Promise.resolve(),this.l10n=_e,this.currentPage=-1,this.scratchCanvas=document.createElement("canvas")}layout(){this.throwIfInactive();const k=document.querySelector("body");k.setAttribute("data-pdfjsprinting",!0);const{width:V,height:z}=this.pagesOverview[0];this.pagesOverview.every(ve=>ve.width===V&&ve.height===z)||console.warn("Not all pages have the same size. The printed result may be incorrect!"),this.pageStyleSheet=document.createElement("style"),this.pageStyleSheet.textContent=`@page { size: ${V}pt ${z}pt;}`,k.append(this.pageStyleSheet)}destroy(){if(y!==this)return;this.printContainer.textContent="",document.querySelector("body").removeAttribute("data-pdfjsprinting"),this.pageStyleSheet&&(this.pageStyleSheet.remove(),this.pageStyleSheet=null),this.scratchCanvas.width=this.scratchCanvas.height=0,this.scratchCanvas=null,y=null,w().then(function(){a.active===_&&a.close(_)})}renderPages(){if(this.pdfDocument.isPureXfa)return(0,o.getXfaHtmlForPrinting)(this.printContainer,this.pdfDocument),Promise.resolve();const k=this.pagesOverview.length,V=(z,K)=>{if(this.throwIfInactive(),++this.currentPage>=k){A(k,k,this.l10n),z();return}const ve=this.currentPage;A(ve,k,this.l10n),l(this,this.pdfDocument,ve+1,this.pagesOverview[ve],this._printResolution,this._optionalContentConfigPromise,this._printAnnotationStoragePromise).then(this.useRenderedPage.bind(this)).then(function(){V(z,K)},K)};return new Promise(V)}useRenderedPage(){this.throwIfInactive();const k=document.createElement("img"),V=this.scratchCanvas;"toBlob"in V?V.toBlob(function(K){k.src=URL.createObjectURL(K)}):k.src=V.toDataURL();const z=document.createElement("div");return z.className="printedPage",z.append(k),this.printContainer.append(z),new Promise(function(K,ve){k.onload=K,k.onerror=ve})}performPrint(){return this.throwIfInactive(),new Promise(k=>{setTimeout(()=>{if(!this.active){k();return}E.call(window),setTimeout(k,20)},0)})}get active(){return this===y}throwIfInactive(){if(!this.active)throw new Error("This print request was cancelled or completed.")}}const E=window.print;window.print=function(){if(y){console.warn("Ignored window.print() because of a pending print job.");return}w().then(function(){y&&a.open(_)});try{P("beforeprint")}finally{if(!y){console.error("Expected print service to be initialized."),w().then(function(){a.active===_&&a.close(_)});return}const R=y;y.renderPages().then(function(){return R.performPrint()}).catch(function(){}).then(function(){R.active&&b()})}};function P(R){const k=new CustomEvent(R,{bubbles:!1,cancelable:!1,detail:"custom"});window.dispatchEvent(k)}function b(){y&&(y.destroy(),P("afterprint"))}function A(R,k,V){const z=(0,S.getActiveApp)();_||(_=z.appConfig.appContainer.querySelector(".printServiceDialog"));const K=Math.round(100*R/k),ve=_.querySelector("progress"),pe=_.querySelector(".relative-progress");ve.value=K,V.get("print_progress_percent",{progress:K}).then(_e=>{pe.textContent=_e})}if(window.addEventListener("keydown",function(R){R.keyCode===80&&(R.ctrlKey||R.metaKey)&&!R.altKey&&(!R.shiftKey||window.chrome||window.opera)&&(window.print(),R.preventDefault(),R.stopImmediatePropagation())},!0),"onbeforeprint"in window){const R=function(k){k.detail!=="custom"&&k.stopImmediatePropagation()};window.addEventListener("beforeprint",R),window.addEventListener("afterprint",R)}let v;function w(){if(!v){const R=(0,S.getActiveApp)();if(a=R.overlayManager,!a)throw new Error("The overlay manager has not yet been initialized.");_||(_=R.appConfig.appContainer.querySelector(".printServiceDialog")),v=a.register(_,!0),R.appConfig.appContainer.querySelector(".printCancel").onclick=b,_.addEventListener("close",b)}return v}function x(R){R.instance={supportsPrinting:!0,createPrintService(k,V,z,K,ve,pe,_e){if(y)throw new Error("The print service is created and active.");return y=new d(k,V,z,K,ve,pe,_e),y}}}},(C,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.getXfaHtmlForPrinting=y;var s=c(5),o=c(11),S=c(40);function y(_,a){const l=a.allXfaHtml,d=new o.SimpleLinkService,E=Math.round(s.PixelsPerInch.PDF_TO_CSS_UNITS*100)/100;for(const P of l.children){const b=document.createElement("div");b.className="xfaPrintedPage",_.append(b);const A=new S.XfaLayerBuilder({pageDiv:b,pdfPage:null,annotationStorage:a.annotationStorage,linkService:d,xfaHtml:P}),v=(0,s.getXfaPageViewport)(P,{scale:E});A.render(v,"print")}}},(C,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.compatibilityParams=u.OptionKind=u.AppOptions=void 0;const c=Object.create(null);u.compatibilityParams=c;{const y=navigator.userAgent||"",_=navigator.platform||"",a=navigator.maxTouchPoints||1,l=/Android/.test(y),d=/\b(iPad|iPhone|iPod)(?=;)/.test(y)||_==="MacIntel"&&a>1;(function(){(d||l)&&(c.maxCanvasPixels=5242880)})()}const s={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};u.OptionKind=s;const o={annotationEditorMode:{value:0,kind:s.VIEWER+s.PREFERENCE},annotationMode:{value:2,kind:s.VIEWER+s.PREFERENCE},cursorToolOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},defaultZoomDelay:{value:400,kind:s.VIEWER+s.PREFERENCE},defaultZoomValue:{value:"",kind:s.VIEWER+s.PREFERENCE},disableHistory:{value:!1,kind:s.VIEWER},disablePageLabels:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePermissions:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:s.VIEWER+s.PREFERENCE},enableScripting:{value:!0,kind:s.VIEWER+s.PREFERENCE},enableStampEditor:{value:!0,kind:s.VIEWER+s.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:s.VIEWER},externalLinkTarget:{value:0,kind:s.VIEWER+s.PREFERENCE},historyUpdateUrl:{value:!1,kind:s.VIEWER+s.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:s.VIEWER+s.PREFERENCE},imageResourcesPath:{value:"./images/",kind:s.VIEWER},maxCanvasPixels:{value:16777216,kind:s.VIEWER},forcePageColors:{value:!1,kind:s.VIEWER+s.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:s.VIEWER+s.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:s.VIEWER+s.PREFERENCE},pdfBugEnabled:{value:!1,kind:s.VIEWER+s.PREFERENCE},printResolution:{value:150,kind:s.VIEWER},sidebarViewOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},scrollModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},spreadModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},textLayerMode:{value:1,kind:s.VIEWER+s.PREFERENCE},viewerCssTheme:{value:0,kind:s.VIEWER+s.PREFERENCE},viewOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},cMapPacked:{value:!0,kind:s.API},cMapUrl:{value:"../web/cmaps/",kind:s.API},disableAutoFetch:{value:!1,kind:s.API+s.PREFERENCE},disableFontFace:{value:!1,kind:s.API+s.PREFERENCE},disableRange:{value:!1,kind:s.API+s.PREFERENCE},disableStream:{value:!1,kind:s.API+s.PREFERENCE},docBaseUrl:{value:"",kind:s.API},enableXfa:{value:!0,kind:s.API+s.PREFERENCE},fontExtraProperties:{value:!1,kind:s.API},isEvalSupported:{value:!0,kind:s.API},isOffscreenCanvasSupported:{value:!0,kind:s.API},maxImageSize:{value:-1,kind:s.API},pdfBug:{value:!1,kind:s.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:s.API},verbosity:{value:1,kind:s.API},workerPort:{value:null,kind:s.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:s.WORKER}};o.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:s.VIEWER},o.disablePreferences={value:!1,kind:s.VIEWER},o.locale={value:navigator.language||"en-US",kind:s.VIEWER},o.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:s.VIEWER};class S{constructor(){this.userOptions=Object.create(null)}get(_){const a=this.userOptions[_];if(a!==void 0)return a;const l=o[_];if(l!==void 0)return c[_]??l.value}getAll(_=null){const a=Object.create(null);for(const l in o){const d=o[l];if(_&&!(_&d.kind))continue;const E=this.userOptions[l];a[l]=E!==void 0?E:c[l]??d.value}return a}set(_,a){this.userOptions[_]=a}setAll(_,a=!1){if(a){if(this.get("disablePreferences"))return;Object.keys(this.userOptions).length&&console.warn('setAll: The Preferences may override manually set AppOptions; please use the "disablePreferences"-option in order to prevent that.')}for(const l in _)this.userOptions[l]=_[l]}remove(_){delete this.userOptions[_]}_hasUserOptions(){return Object.keys(this.userOptions).length>0}}u.AppOptions=S},(C,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.injectLocaleResource=c;function c(s){const o="application/l10n";let S=document.querySelector(`link[type="${o}"]`);S&&S.getAttribute("href")===s||(S=document.createElement("link"),S.rel="resource",S.type=o,S.href=s,document.head.appendChild(S))}},(C,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;const c=`
<div data-dom-id="outerContainer" class="outerContainer">
  <div data-dom-id="sidebarContainer" class="sidebarContainer">
    <div data-dom-id="toolbarSidebar" class="toolbarSidebar">
      <div data-dom-id="toolbarSidebarLeft" class="toolbarSidebarLeft">
        <div
          role="radiogroup"
          data-dom-id="sidebarViewButtons"
          class="splitToolbarButton toggled sidebarViewButtons"
        >
          <button
            title="Show Thumbnails"
            tabindex="2"
            data-l10n-id="thumbs"
            role="radio"
            aria-checked="true"
            aria-controls="thumbnailView"
            data-dom-id="viewThumbnail"
            class="toolbarButton toggled viewThumbnail"
          >
            <span data-l10n-id="thumbs_label">Thumbnails</span></button
          ><button
            title="Show Document Outline (double-click to expand/collapse all items)"
            tabindex="3"
            data-l10n-id="document_outline"
            role="radio"
            aria-checked="false"
            aria-controls="outlineView"
            data-dom-id="viewOutline"
            class="toolbarButton viewOutline"
          >
            <span data-l10n-id="document_outline_label"
              >Document Outline</span
            ></button
          ><button
            title="Show Attachments"
            tabindex="4"
            data-l10n-id="attachments"
            role="radio"
            aria-checked="false"
            aria-controls="attachmentsView"
            data-dom-id="viewAttachments"
            class="toolbarButton viewAttachments"
          >
            <span data-l10n-id="attachments_label">Attachments</span></button
          ><button
            title="Show Layers (double-click to reset all layers to the default state)"
            tabindex="5"
            data-l10n-id="layers"
            role="radio"
            aria-checked="false"
            aria-controls="layersView"
            data-dom-id="viewLayers"
            class="toolbarButton viewLayers"
          >
            <span data-l10n-id="layers_label">Layers</span>
          </button>
        </div>
      </div>
      <div data-dom-id="toolbarSidebarRight" class="toolbarSidebarRight">
        <div
          data-dom-id="outlineOptionsContainer"
          class="hidden outlineOptionsContainer"
        >
          <div class="verticalToolbarSeparator"></div>
          <button
            disabled="disabled"
            title="Find Current Outline Item"
            tabindex="6"
            data-l10n-id="current_outline_item"
            data-dom-id="currentOutlineItem"
            class="toolbarButton currentOutlineItem"
          >
            <span data-l10n-id="current_outline_item_label"
              >Current Outline Item</span
            >
          </button>
        </div>
      </div>
    </div>
    <div data-dom-id="sidebarContent" class="sidebarContent">
      <div data-dom-id="thumbnailView" class="thumbnailView"></div>
      <div data-dom-id="outlineView" class="hidden outlineView"></div>
      <div data-dom-id="attachmentsView" class="hidden attachmentsView"></div>
      <div data-dom-id="layersView" class="hidden layersView"></div>
    </div>
    <div data-dom-id="sidebarResizer" class="sidebarResizer"></div>
  </div>
  <!-- sidebarContainer -->
  <div data-dom-id="mainContainer" class="mainContainer">
    <div class="findbar hidden doorHanger" data-dom-id="findbar">
      <div data-dom-id="findbarInputContainer" class="findbarInputContainer">
        <input
          title="Find"
          placeholder="Find in document"
          tabindex="91"
          data-l10n-id="find_input"
          aria-invalid="false"
          data-dom-id="findInput"
          class="toolbarField findInput"
        />
        <div class="splitToolbarButton">
          <button
            title="Find the previous occurrence of the phrase"
            tabindex="92"
            data-l10n-id="find_previous"
            data-dom-id="findPrevious"
            class="toolbarButton findPrevious"
          >
            <span data-l10n-id="find_previous_label">Previous</span>
          </button>
          <div class="splitToolbarButtonSeparator"></div>
          <button
            title="Find the next occurrence of the phrase"
            tabindex="93"
            data-l10n-id="find_next"
            data-dom-id="findNext"
            class="toolbarButton findNext"
          >
            <span data-l10n-id="find_next_label">Next</span>
          </button>
        </div>
      </div>
      <div
        data-dom-id="findbarOptionsOneContainer"
        class="findbarOptionsOneContainer"
      >
        <label
          ><input
            type="checkbox"
            tabindex="94"
            data-dom-id="findHighlightAll"
            class="toolbarField findHighlightAll"
          /><span class="toolbarLabel" data-l10n-id="find_highlight"
            >Highlight All</span
          ></label
        ><!--Removed!--><label
          ><input
            type="checkbox"
            tabindex="95"
            data-dom-id="findMatchCase"
            class="toolbarField findMatchCase"
          /><span class="toolbarLabel" data-l10n-id="find_match_case_label"
            >Match Case</span
          ></label
        ><!--Removed!-->
      </div>
      <div
        data-dom-id="findbarOptionsTwoContainer"
        class="findbarOptionsTwoContainer"
      >
        <label
          ><input
            type="checkbox"
            tabindex="96"
            data-dom-id="findMatchDiacritics"
            class="toolbarField findMatchDiacritics"
          /><span
            class="toolbarLabel"
            data-l10n-id="find_match_diacritics_label"
            >Match Diacritics</span
          ></label
        ><!--Removed!--><label
          ><input
            type="checkbox"
            tabindex="97"
            data-dom-id="findEntireWord"
            class="toolbarField findEntireWord"
          /><span class="toolbarLabel" data-l10n-id="find_entire_word_label"
            >Whole Words</span
          ></label
        ><!--Removed!-->
      </div>
      <div
        aria-live="polite"
        data-dom-id="findbarMessageContainer"
        class="findbarMessageContainer"
      >
        <span
          data-dom-id="findResultsCount"
          class="toolbarLabel findResultsCount"
        ></span
        ><span data-dom-id="findMsg" class="toolbarLabel findMsg"></span>
      </div>
    </div>
    <!-- findbar -->
    <div
      data-dom-id="editorFreeTextParamsToolbar"
      class="editorParamsToolbar hidden doorHangerRight editorFreeTextParamsToolbar"
    >
      <div class="editorParamsToolbarContainer">
        <div class="editorParamsSetter">
          <!--Removed!--><label
            ><input
              type="color"
              tabindex="100"
              data-dom-id="editorFreeTextColor"
              class="editorParamsColor editorFreeTextColor"
            /><span class="toolbarLabel" data-l10n-id="editor_free_text_color"
              >Color</span
            ></label
          >
        </div>
        <div class="editorParamsSetter">
          <!--Removed!--><label
            ><input
              type="range"
              value="10"
              min="5"
              max="100"
              step="1"
              tabindex="101"
              data-dom-id="editorFreeTextFontSize"
              class="editorParamsSlider editorFreeTextFontSize"
            /><span class="toolbarLabel" data-l10n-id="editor_free_text_size"
              >Size</span
            ></label
          >
        </div>
      </div>
    </div>
    <div
      data-dom-id="editorInkParamsToolbar"
      class="editorParamsToolbar hidden doorHangerRight editorInkParamsToolbar"
    >
      <div class="editorParamsToolbarContainer">
        <div class="editorParamsSetter">
          <!--Removed!--><label
            ><input
              type="color"
              tabindex="102"
              data-dom-id="editorInkColor"
              class="editorParamsColor editorInkColor"
            /><span class="toolbarLabel" data-l10n-id="editor_ink_color"
              >Color</span
            ></label
          >
        </div>
        <div class="editorParamsSetter">
          <!--Removed!--><label
            ><input
              type="range"
              value="1"
              min="1"
              max="20"
              step="1"
              tabindex="103"
              data-dom-id="editorInkThickness"
              class="editorParamsSlider editorInkThickness"
            /><span class="toolbarLabel" data-l10n-id="editor_ink_thickness"
              >Thickness</span
            ></label
          >
        </div>
        <div class="editorParamsSetter">
          <!--Removed!--><label
            ><input
              type="range"
              value="100"
              min="1"
              max="100"
              step="1"
              tabindex="104"
              data-dom-id="editorInkOpacity"
              class="editorParamsSlider editorInkOpacity"
            /><span class="toolbarLabel" data-l10n-id="editor_ink_opacity"
              >Opacity</span
            ></label
          >
        </div>
      </div>
    </div>
    <div
      data-dom-id="editorStampParamsToolbar"
      class="editorParamsToolbar hidden doorHangerRight editorStampParamsToolbar"
    >
      <div class="editorParamsToolbarContainer">
        <button
          title="Add image"
          tabindex="105"
          data-l10n-id="editor_stamp_add_image"
          data-dom-id="editorStampAddImage"
          class="secondaryToolbarButton editorStampAddImage"
        >
          <span data-l10n-id="editor_stamp_add_image_label">Add image</span>
        </button>
      </div>
    </div>
    <div
      class="secondaryToolbar hidden doorHangerRight"
      data-dom-id="secondaryToolbar"
    >
      <div
        data-dom-id="secondaryToolbarButtonContainer"
        class="secondaryToolbarButtonContainer"
      >
        <!--#if GENERIC--><button
          title="Open File"
          tabindex="51"
          data-l10n-id="open_file"
          data-dom-id="secondaryOpenFile"
          class="secondaryToolbarButton visibleLargeView secondaryOpenFile"
        >
          <span data-l10n-id="open_file_label">Open</span></button
        ><!--#endif--><button
          title="Print"
          tabindex="52"
          data-l10n-id="print"
          data-dom-id="secondaryPrint"
          class="secondaryToolbarButton visibleMediumView secondaryPrint"
        >
          <span data-l10n-id="print_label">Print</span></button
        ><button
          title="Save"
          tabindex="53"
          data-l10n-id="save"
          data-dom-id="secondaryDownload"
          class="secondaryToolbarButton visibleMediumView secondaryDownload"
        >
          <span data-l10n-id="save_label">Save</span></button
        ><!--#if GENERIC-->
        <div class="horizontalToolbarSeparator visibleLargeView"></div>
        <!--#else--><!--        <div class="horizontalToolbarSeparator visibleMediumView"></div>--><!--#endif--><button
          title="Switch to Presentation Mode"
          tabindex="54"
          data-l10n-id="presentation_mode"
          data-dom-id="presentationMode"
          class="secondaryToolbarButton presentationMode"
        >
          <span data-l10n-id="presentation_mode_label"
            >Presentation Mode</span
          ></button
        ><a
          href="#"
          title="Current Page (View URL from Current Page)"
          tabindex="55"
          data-l10n-id="bookmark1"
          data-dom-id="viewBookmark"
          class="secondaryToolbarButton viewBookmark"
          ><span data-l10n-id="bookmark1_label">Current Page</span></a
        >
        <div
          data-dom-id="viewBookmarkSeparator"
          class="horizontalToolbarSeparator viewBookmarkSeparator"
        ></div>
        <button
          title="Go to First Page"
          tabindex="56"
          data-l10n-id="first_page"
          data-dom-id="firstPage"
          class="secondaryToolbarButton firstPage"
        >
          <span data-l10n-id="first_page_label">Go to First Page</span></button
        ><button
          title="Go to Last Page"
          tabindex="57"
          data-l10n-id="last_page"
          data-dom-id="lastPage"
          class="secondaryToolbarButton lastPage"
        >
          <span data-l10n-id="last_page_label">Go to Last Page</span>
        </button>
        <div class="horizontalToolbarSeparator"></div>
        <button
          title="Rotate Clockwise"
          tabindex="58"
          data-l10n-id="page_rotate_cw"
          data-dom-id="pageRotateCw"
          class="secondaryToolbarButton pageRotateCw"
        >
          <span data-l10n-id="page_rotate_cw_label"
            >Rotate Clockwise</span
          ></button
        ><button
          title="Rotate Counterclockwise"
          tabindex="59"
          data-l10n-id="page_rotate_ccw"
          data-dom-id="pageRotateCcw"
          class="secondaryToolbarButton pageRotateCcw"
        >
          <span data-l10n-id="page_rotate_ccw_label"
            >Rotate Counterclockwise</span
          >
        </button>
        <div class="horizontalToolbarSeparator"></div>
        <div
          role="radiogroup"
          data-dom-id="cursorToolButtons"
          class="cursorToolButtons"
        >
          <button
            title="Enable Text Selection Tool"
            tabindex="60"
            data-l10n-id="cursor_text_select_tool"
            role="radio"
            aria-checked="true"
            data-dom-id="cursorSelectTool"
            class="secondaryToolbarButton toggled cursorSelectTool"
          >
            <span data-l10n-id="cursor_text_select_tool_label"
              >Text Selection Tool</span
            ></button
          ><button
            title="Enable Hand Tool"
            tabindex="61"
            data-l10n-id="cursor_hand_tool"
            role="radio"
            aria-checked="false"
            data-dom-id="cursorHandTool"
            class="secondaryToolbarButton cursorHandTool"
          >
            <span data-l10n-id="cursor_hand_tool_label">Hand Tool</span>
          </button>
        </div>
        <div class="horizontalToolbarSeparator"></div>
        <div
          role="radiogroup"
          data-dom-id="scrollModeButtons"
          class="scrollModeButtons"
        >
          <button
            title="Use Page Scrolling"
            tabindex="62"
            data-l10n-id="scroll_page"
            role="radio"
            aria-checked="false"
            data-dom-id="scrollPage"
            class="secondaryToolbarButton scrollPage"
          >
            <span data-l10n-id="scroll_page_label">Page Scrolling</span></button
          ><button
            title="Use Vertical Scrolling"
            tabindex="63"
            data-l10n-id="scroll_vertical"
            role="radio"
            aria-checked="true"
            data-dom-id="scrollVertical"
            class="secondaryToolbarButton toggled scrollVertical"
          >
            <span data-l10n-id="scroll_vertical_label"
              >Vertical Scrolling</span
            ></button
          ><button
            title="Use Horizontal Scrolling"
            tabindex="64"
            data-l10n-id="scroll_horizontal"
            role="radio"
            aria-checked="false"
            data-dom-id="scrollHorizontal"
            class="secondaryToolbarButton scrollHorizontal"
          >
            <span data-l10n-id="scroll_horizontal_label"
              >Horizontal Scrolling</span
            ></button
          ><button
            title="Use Wrapped Scrolling"
            tabindex="65"
            data-l10n-id="scroll_wrapped"
            role="radio"
            aria-checked="false"
            data-dom-id="scrollWrapped"
            class="secondaryToolbarButton scrollWrapped"
          >
            <span data-l10n-id="scroll_wrapped_label">Wrapped Scrolling</span>
          </button>
        </div>
        <div class="horizontalToolbarSeparator"></div>
        <div
          role="radiogroup"
          data-dom-id="spreadModeButtons"
          class="spreadModeButtons"
        >
          <button
            title="Do not join page spreads"
            tabindex="66"
            data-l10n-id="spread_none"
            role="radio"
            aria-checked="true"
            data-dom-id="spreadNone"
            class="secondaryToolbarButton toggled spreadNone"
          >
            <span data-l10n-id="spread_none_label">No Spreads</span></button
          ><button
            title="Join page spreads starting with odd-numbered pages"
            tabindex="67"
            data-l10n-id="spread_odd"
            role="radio"
            aria-checked="false"
            data-dom-id="spreadOdd"
            class="secondaryToolbarButton spreadOdd"
          >
            <span data-l10n-id="spread_odd_label">Odd Spreads</span></button
          ><button
            title="Join page spreads starting with even-numbered pages"
            tabindex="68"
            data-l10n-id="spread_even"
            role="radio"
            aria-checked="false"
            data-dom-id="spreadEven"
            class="secondaryToolbarButton spreadEven"
          >
            <span data-l10n-id="spread_even_label">Even Spreads</span>
          </button>
        </div>
        <div class="horizontalToolbarSeparator"></div>
        <button
          title="Document Properties"
          tabindex="69"
          data-l10n-id="document_properties"
          aria-controls="documentPropertiesDialog"
          data-dom-id="documentProperties"
          class="secondaryToolbarButton documentProperties"
        >
          <span data-l10n-id="document_properties_label"
            >Document Properties</span
          >
        </button>
      </div>
    </div>
    <!-- secondaryToolbar -->
    <div class="toolbar">
      <div data-dom-id="toolbarContainer" class="toolbarContainer">
        <div data-dom-id="toolbarViewer" class="toolbarViewer">
          <div data-dom-id="toolbarViewerLeft" class="toolbarViewerLeft">
            <button
              title="Toggle Sidebar"
              tabindex="11"
              data-l10n-id="toggle_sidebar"
              aria-expanded="false"
              aria-controls="sidebarContainer"
              data-dom-id="sidebarToggle"
              class="toolbarButton sidebarToggle"
            >
              <span data-l10n-id="toggle_sidebar_label">Toggle Sidebar</span>
            </button>
            <div class="toolbarButtonSpacer"></div>
            <button
              title="Find in Document"
              tabindex="12"
              data-l10n-id="findbar"
              aria-expanded="false"
              aria-controls="findbar"
              data-dom-id="viewFind"
              class="toolbarButton viewFind"
            >
              <span data-l10n-id="findbar_label">Find</span>
            </button>
            <div class="splitToolbarButton hiddenSmallView">
              <button
                title="Previous Page"
                tabindex="13"
                data-l10n-id="previous"
                data-dom-id="previous"
                class="toolbarButton previous"
              >
                <span data-l10n-id="previous_label">Previous</span>
              </button>
              <div class="splitToolbarButtonSeparator"></div>
              <button
                title="Next Page"
                tabindex="14"
                data-l10n-id="next"
                data-dom-id="next"
                class="toolbarButton next"
              >
                <span data-l10n-id="next_label">Next</span>
              </button>
            </div>
            <input
              type="number"
              title="Page"
              value="1"
              min="1"
              tabindex="15"
              data-l10n-id="page"
              autocomplete="off"
              data-dom-id="pageNumber"
              class="toolbarField pageNumber"
            /><span data-dom-id="numPages" class="toolbarLabel numPages"></span>
          </div>
          <div data-dom-id="toolbarViewerRight" class="toolbarViewerRight">
            <!--#if GENERIC--><button
              title="Open File"
              tabindex="31"
              data-l10n-id="open_file"
              data-dom-id="openFile"
              class="toolbarButton hiddenLargeView openFile"
            >
              <span data-l10n-id="open_file_label">Open</span></button
            ><!--#endif--><button
              title="Print"
              tabindex="32"
              data-l10n-id="print"
              data-dom-id="print"
              class="toolbarButton hiddenMediumView print"
            >
              <span data-l10n-id="print_label">Print</span></button
            ><button
              title="Save"
              tabindex="33"
              data-l10n-id="save"
              data-dom-id="download"
              class="toolbarButton hiddenMediumView download"
            >
              <span data-l10n-id="save_label">Save</span>
            </button>
            <div class="verticalToolbarSeparator hiddenMediumView"></div>
            <div
              role="radiogroup"
              data-dom-id="editorModeButtons"
              class="splitToolbarButton toggled editorModeButtons"
            >
              <button
                disabled="disabled"
                title="Text"
                role="radio"
                aria-checked="false"
                aria-controls="editorFreeTextParamsToolbar"
                tabindex="34"
                data-l10n-id="editor_free_text2"
                data-dom-id="editorFreeText"
                class="toolbarButton editorFreeText"
              >
                <span data-l10n-id="editor_free_text2_label">Text</span></button
              ><button
                disabled="disabled"
                title="Draw"
                role="radio"
                aria-checked="false"
                aria-controls="editorInkParamsToolbar"
                tabindex="35"
                data-l10n-id="editor_ink2"
                data-dom-id="editorInk"
                class="toolbarButton editorInk"
              >
                <span data-l10n-id="editor_ink2_label">Draw</span></button
              ><button
                disabled="disabled"
                title="Add or edit images"
                role="radio"
                aria-checked="false"
                aria-controls="editorStampParamsToolbar"
                tabindex="36"
                data-l10n-id="editor_stamp1"
                data-dom-id="editorStamp"
                class="toolbarButton hidden editorStamp"
              >
                <span data-l10n-id="editor_stamp1_label"
                  >Add or edit images</span
                >
              </button>
            </div>
            <div
              data-dom-id="editorModeSeparator"
              class="verticalToolbarSeparator editorModeSeparator"
            ></div>
            <button
              title="Tools"
              tabindex="48"
              data-l10n-id="tools"
              aria-expanded="false"
              aria-controls="secondaryToolbar"
              data-dom-id="secondaryToolbarToggle"
              class="toolbarButton secondaryToolbarToggle"
            >
              <span data-l10n-id="tools_label">Tools</span>
            </button>
          </div>
          <div data-dom-id="toolbarViewerMiddle" class="toolbarViewerMiddle">
            <div class="splitToolbarButton">
              <button
                title="Zoom Out"
                tabindex="21"
                data-l10n-id="zoom_out"
                data-dom-id="zoomOut"
                class="toolbarButton zoomOut"
              >
                <span data-l10n-id="zoom_out_label">Zoom Out</span>
              </button>
              <div class="splitToolbarButtonSeparator"></div>
              <button
                title="Zoom In"
                tabindex="22"
                data-l10n-id="zoom_in"
                data-dom-id="zoomIn"
                class="toolbarButton zoomIn"
              >
                <span data-l10n-id="zoom_in_label">Zoom In</span>
              </button>
            </div>
            <span
              data-dom-id="scaleSelectContainer"
              class="dropdownToolbarButton scaleSelectContainer"
              ><select
                title="Zoom"
                tabindex="23"
                data-l10n-id="zoom"
                data-dom-id="scaleSelect"
                class="scaleSelect"
              >
                <option
                  id="pageAutoOption"
                  title=""
                  value="auto"
                  selected="selected"
                  data-l10n-id="page_scale_auto"
                >
                  Automatic Zoom
                </option>
                <option
                  id="pageActualOption"
                  title=""
                  value="page-actual"
                  data-l10n-id="page_scale_actual"
                >
                  Actual Size
                </option>
                <option
                  id="pageFitOption"
                  title=""
                  value="page-fit"
                  data-l10n-id="page_scale_fit"
                >
                  Page Fit
                </option>
                <option
                  id="pageWidthOption"
                  title=""
                  value="page-width"
                  data-l10n-id="page_scale_width"
                >
                  Page Width
                </option>
                <option
                  id="customScaleOption"
                  title=""
                  value="custom"
                  disabled="disabled"
                  hidden="true"
                ></option>
                <option
                  title=""
                  value="0.5"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 50 }'
                >
                  50%
                </option>
                <option
                  title=""
                  value="0.75"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 75 }'
                >
                  75%
                </option>
                <option
                  title=""
                  value="1"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 100 }'
                >
                  100%
                </option>
                <option
                  title=""
                  value="1.25"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 125 }'
                >
                  125%
                </option>
                <option
                  title=""
                  value="1.5"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 150 }'
                >
                  150%
                </option>
                <option
                  title=""
                  value="2"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 200 }'
                >
                  200%
                </option>
                <option
                  title=""
                  value="3"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 300 }'
                >
                  300%
                </option>
                <option
                  title=""
                  value="4"
                  data-l10n-id="page_scale_percent"
                  data-l10n-args='{ "scale": 400 }'
                >
                  400%
                </option>
              </select></span
            >
          </div>
        </div>
        <div data-dom-id="loadingBar" class="loadingBar">
          <div class="progress"><div class="glimmer"></div></div>
        </div>
      </div>
    </div>
    <div tabindex="0" data-dom-id="viewerContainer" class="viewerContainer">
      <div data-dom-id="viewer" class="pdfViewer viewer"></div>
    </div>
  </div>
  <!-- mainContainer -->
  <div data-dom-id="dialogContainer" class="dialogContainer">
    <dialog data-dom-id="passwordDialog" class="passwordDialog">
      <div class="row"><!--Removed!--></div>
      <div class="row">
        <input
          type="password"
          data-dom-id="password"
          class="toolbarField password"
        />
      </div>
      <div class="buttonRow">
        <button
          data-dom-id="passwordCancel"
          class="dialogButton passwordCancel"
        >
          <span data-l10n-id="password_cancel">Cancel</span></button
        ><button
          data-dom-id="passwordSubmit"
          class="dialogButton passwordSubmit"
        >
          <span data-l10n-id="password_ok">OK</span>
        </button>
      </div>
    </dialog>
    <dialog
      data-dom-id="documentPropertiesDialog"
      class="documentPropertiesDialog"
    >
      <div class="row">
        <span
          data-l10n-id="document_properties_file_name"
          data-dom-id="fileNameLabel"
          class="fileNameLabel"
          >File name:</span
        >
        <p
          aria-labelledby="fileNameLabel"
          data-dom-id="fileNameField"
          class="fileNameField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_file_size"
          data-dom-id="fileSizeLabel"
          class="fileSizeLabel"
          >File size:</span
        >
        <p
          aria-labelledby="fileSizeLabel"
          data-dom-id="fileSizeField"
          class="fileSizeField"
        >
          -
        </p>
      </div>
      <div class="separator"></div>
      <div class="row">
        <span
          data-l10n-id="document_properties_title"
          data-dom-id="titleLabel"
          class="titleLabel"
          >Title:</span
        >
        <p
          aria-labelledby="titleLabel"
          data-dom-id="titleField"
          class="titleField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_author"
          data-dom-id="authorLabel"
          class="authorLabel"
          >Author:</span
        >
        <p
          aria-labelledby="authorLabel"
          data-dom-id="authorField"
          class="authorField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_subject"
          data-dom-id="subjectLabel"
          class="subjectLabel"
          >Subject:</span
        >
        <p
          aria-labelledby="subjectLabel"
          data-dom-id="subjectField"
          class="subjectField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_keywords"
          data-dom-id="keywordsLabel"
          class="keywordsLabel"
          >Keywords:</span
        >
        <p
          aria-labelledby="keywordsLabel"
          data-dom-id="keywordsField"
          class="keywordsField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_creation_date"
          data-dom-id="creationDateLabel"
          class="creationDateLabel"
          >Creation Date:</span
        >
        <p
          aria-labelledby="creationDateLabel"
          data-dom-id="creationDateField"
          class="creationDateField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_modification_date"
          data-dom-id="modificationDateLabel"
          class="modificationDateLabel"
          >Modification Date:</span
        >
        <p
          aria-labelledby="modificationDateLabel"
          data-dom-id="modificationDateField"
          class="modificationDateField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_creator"
          data-dom-id="creatorLabel"
          class="creatorLabel"
          >Creator:</span
        >
        <p
          aria-labelledby="creatorLabel"
          data-dom-id="creatorField"
          class="creatorField"
        >
          -
        </p>
      </div>
      <div class="separator"></div>
      <div class="row">
        <span
          data-l10n-id="document_properties_producer"
          data-dom-id="producerLabel"
          class="producerLabel"
          >PDF Producer:</span
        >
        <p
          aria-labelledby="producerLabel"
          data-dom-id="producerField"
          class="producerField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_version"
          data-dom-id="versionLabel"
          class="versionLabel"
          >PDF Version:</span
        >
        <p
          aria-labelledby="versionLabel"
          data-dom-id="versionField"
          class="versionField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_page_count"
          data-dom-id="pageCountLabel"
          class="pageCountLabel"
          >Page Count:</span
        >
        <p
          aria-labelledby="pageCountLabel"
          data-dom-id="pageCountField"
          class="pageCountField"
        >
          -
        </p>
      </div>
      <div class="row">
        <span
          data-l10n-id="document_properties_page_size"
          data-dom-id="pageSizeLabel"
          class="pageSizeLabel"
          >Page Size:</span
        >
        <p
          aria-labelledby="pageSizeLabel"
          data-dom-id="pageSizeField"
          class="pageSizeField"
        >
          -
        </p>
      </div>
      <div class="separator"></div>
      <div class="row">
        <span
          data-l10n-id="document_properties_linearized"
          data-dom-id="linearizedLabel"
          class="linearizedLabel"
          >Fast Web View:</span
        >
        <p
          aria-labelledby="linearizedLabel"
          data-dom-id="linearizedField"
          class="linearizedField"
        >
          -
        </p>
      </div>
      <div class="buttonRow">
        <button
          data-dom-id="documentPropertiesClose"
          class="dialogButton documentPropertiesClose"
        >
          <span data-l10n-id="document_properties_close">Close</span>
        </button>
      </div>
    </dialog>
    <dialog
      aria-labelledby="dialogLabel"
      aria-describedby="dialogDescription"
      data-dom-id="altTextDialog"
      class="altTextDialog"
    >
      <div data-dom-id="altTextContainer" class="altTextContainer">
        <div data-dom-id="overallDescription" class="overallDescription">
          <span
            data-l10n-id="editor_alt_text_dialog_label"
            data-dom-id="dialogLabel"
            class="title dialogLabel"
            >Choose an option</span
          ><span
            data-l10n-id="editor_alt_text_dialog_description"
            data-dom-id="dialogDescription"
            class="dialogDescription"
          >
            Alt text (alternative text) helps when people cant see the image or
            when it doesnt load.
          </span>
        </div>
        <div data-dom-id="addDescription" class="addDescription">
          <div class="radio">
            <div class="radioButton">
              <label
                ><input
                  type="radio"
                  name="altTextOption"
                  tabindex="0"
                  aria-describedby="descriptionAreaLabel"
                  checked=""
                  data-dom-id="descriptionButton"
                  class="descriptionButton"
                /><span
                  class="toolbarLabel"
                  data-l10n-id="editor_alt_text_add_description_label"
                  >Add a description</span
                ></label
              ><!--Removed!-->
            </div>
            <div class="radioLabel">
              <span
                data-l10n-id="editor_alt_text_add_description_description"
                data-dom-id="descriptionAreaLabel"
                class="descriptionAreaLabel"
              >
                Aim for 1-2 sentences that describe the subject, setting, or
                actions.
              </span>
            </div>
          </div>
          <div class="descriptionArea">
            <textarea
              placeholder="For example, A young man sits down at a table to eat a meal"
              aria-labelledby="descriptionAreaLabel"
              data-l10n-id="editor_alt_text_textarea"
              tabindex="0"
              data-dom-id="descriptionTextarea"
              class="descriptionTextarea"
            ></textarea>
          </div>
        </div>
        <div data-dom-id="markAsDecorative" class="markAsDecorative">
          <div class="radio">
            <div class="radioButton">
              <label
                ><input
                  type="radio"
                  name="altTextOption"
                  aria-describedby="decorativeLabel"
                  data-dom-id="decorativeButton"
                  class="decorativeButton"
                /><span
                  class="toolbarLabel"
                  data-l10n-id="editor_alt_text_mark_decorative_label"
                  >Mark as decorative</span
                ></label
              ><!--Removed!-->
            </div>
            <div class="radioLabel">
              <span
                data-l10n-id="editor_alt_text_mark_decorative_description"
                data-dom-id="decorativeLabel"
                class="decorativeLabel"
              >
                This is used for ornamental images, like borders or watermarks.
              </span>
            </div>
          </div>
        </div>
        <div data-dom-id="buttons" class="buttons">
          <button
            tabindex="0"
            data-dom-id="altTextCancel"
            class="altTextCancel"
          >
            <span data-l10n-id="editor_alt_text_cancel_button"
              >Cancel</span
            ></button
          ><button tabindex="0" data-dom-id="altTextSave" class="altTextSave">
            <span data-l10n-id="editor_alt_text_save_button">Save</span>
          </button>
        </div>
      </div>
    </dialog>
    <!--#if !MOZCENTRAL-->
    <dialog
      style="min-width: 200px"
      data-dom-id="printServiceDialog"
      class="printServiceDialog"
    >
      <div class="row">
        <span data-l10n-id="print_progress_message"
          >Preparing document for printing</span
        >
      </div>
      <div class="row">
        <progress value="0" max="100"></progress
        ><span
          data-l10n-id="print_progress_percent"
          data-l10n-args='{ "progress": 0 }'
          class="relative-progress"
          >0%</span
        >
      </div>
      <div class="buttonRow">
        <button data-dom-id="printCancel" class="dialogButton printCancel">
          <span data-l10n-id="print_progress_close">Cancel</span>
        </button>
      </div>
    </dialog>
    <!--#endif--><!--#if CHROME--><!--#include viewer-snippet-chrome-overlays.html--><!--#endif-->
  </div>
  <!-- dialogContainer -->
</div>
<!-- outerContainer -->
<div data-dom-id="printContainer" class="printContainer"></div>
<!--#if GENERIC--><input
  type="file"
  data-dom-id="fileInput"
  class="hidden fileInput"
/><!--#endif-->
`;let s;function o(){if(!s){const y=document.createElement("template");y.innerHTML=c,s=y.content}return document.importNode(s,!0)}var S=o;u.default=S}],i={};function f(C){var u=i[C];if(u!==void 0)return u.exports;var c=i[C]={exports:{}};return r[C](c,c.exports,f),c.exports}var L={};return(()=>{var c;var C=L;Object.defineProperty(C,"__esModule",{value:!0}),Object.defineProperty(C,"createViewerApp",{enumerable:!0,get:function(){return u.createViewerApp}}),Object.defineProperty(C,"getViewerConfiguration",{enumerable:!0,get:function(){return u.getViewerConfiguration}});var u=f(1);(c=document.blockUnblockOnload)==null||c.call(document,!0)})(),L})())})(app$1);var appExports=app$1.exports;const viewer="";let src="./document-viewer/web/compressed.tracemonkey-pldi-09.pdf";const appOptions={src,resourcePath:"document-viewer",disableCORSCheck:!0,disableAutoSetTitle:!0};function injectApp(e){return console.log("injectApp",e),appExports.createViewerApp({parent:e,...appOptions})}const CustomToolbar_vue_vue_type_style_index_0_scoped_e7dda392_lang="",_withScopeId=e=>(pushScopeId("data-v-e7dda392"),e=e(),popScopeId(),e),_hoisted_1$1={class:"pdf-viewer"},_hoisted_2$1={class:"viewer-header"},_hoisted_3$1=_withScopeId(()=>createBaseVNode("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"M4 6H20V8H4V6ZM4 11H20V13H4V11ZM4 16H20V18H4V16Z",fill:"black"})],-1)),_hoisted_4$1=[_hoisted_3$1],_hoisted_5={class:"header-item"},_hoisted_6=_withScopeId(()=>createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",width:"22",height:"22"},[createBaseVNode("path",{d:"M7.5,2l-4,4,4,4,1-1-3-3,3-3Z"})],-1)),_hoisted_7=[_hoisted_6],_hoisted_8=["value"],_hoisted_9=_withScopeId(()=>createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",width:"22",height:"22"},[createBaseVNode("path",{d:"M4.5,10l4-4-4-4-1,1,3,3-3,3Z"})],-1)),_hoisted_10=[_hoisted_9],_sfc_main$1={__name:"CustomToolbar",setup(e){const t=ref(null),r=shallowRef(null),i=ref(1);onMounted(function(){r.value=injectApp(t.value),r.value.initializedPromise.then(function(){r.value.eventBus.on("pagechanging",function(c){i.value=c.pageNumber})})});function f(){r.value.pdfSidebar.toggle()}function L(){r.value.eventBus.dispatch("previouspage")}function C(){r.value.eventBus.dispatch("nextpage")}function u(c){const s=parseInt(c.target.value,10);r.value.pdfViewer.currentPageNumber=s}return(c,s)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",{class:"header-item"},[createBaseVNode("button",{onClick:f,class:"menu-outline header-icon"},_hoisted_4$1)]),createBaseVNode("div",_hoisted_5,[createBaseVNode("button",{onClick:L,class:"prev-page header-icon"},_hoisted_7),createBaseVNode("input",{class:"page-input",type:"text",value:i.value,onChange:u},null,40,_hoisted_8),createBaseVNode("button",{onClick:C,class:"next-page header-icon"},_hoisted_10)])]),createBaseVNode("div",{ref_key:"el$",ref:t,class:"viewer-content"},null,512)]))}},CustomToolbar=_export_sfc(_sfc_main$1,[["__scopeId","data-v-e7dda392"]]);let src1="./lc_pdf_overview_format.pdf",src2="./recognizing_malformed_pdf_f.pdf";const options1={src:src1,resourcePath:"document-viewer",disableCORSCheck:!0,disableAutoSetTitle:!0},options2={src:src2,resourcePath:"document-viewer",disableCORSCheck:!0,disableAutoSetTitle:!0};function injectApps(){appExports.createViewerApp({parent:document.getElementById("app1"),...options1}),appExports.createViewerApp({parent:document.getElementById("app2"),...options2})}const MultipleFiles_vue_vue_type_style_index_0_lang="",_hoisted_1={class:"main"},_hoisted_2=createBaseVNode("div",{id:"app1"},null,-1),_hoisted_3=createBaseVNode("div",{id:"app2"},null,-1),_hoisted_4=[_hoisted_2,_hoisted_3],_sfc_main={__name:"MultipleFiles",setup(e){return onMounted(function(){injectApps()}),(t,r)=>(openBlock(),createElementBlock("div",_hoisted_1,_hoisted_4))}},router=createRouter({history:createWebHashHistory("/document-viewer/demos/"),routes:[{path:"/",name:"home",redirect:"/custom-toolbar"},{path:"/custom-toolbar",name:"customToolbar",component:CustomToolbar},{path:"/multiple-pdf-files",name:"multiplePDFFiles",component:_sfc_main}]}),app=createApp(App);app.use(router);app.mount("#app");
